/*! For license information please see main.002cffc3.js.LICENSE.txt */
(()=>{var __webpack_modules__={4:(e,t,n)=>{"use strict";var r=n(853),s=n(43),i=n(950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(a(188))}function u(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=u(e)))return t;e=e.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),w=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope");var A=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var T=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var E=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=E&&e[E]||e["@@iterator"])?e:null}var F=Symbol.for("react.client.reference");function R(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===F?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case b:return"Profiler";case x:return"StrictMode";case k:return"Suspense";case N:return"SuspenseList";case A:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case f:return"Portal";case w:return(e.displayName||"Context")+".Provider";case v:return(e._context.displayName||"Context")+".Consumer";case j:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case S:return null!==(t=e.displayName||null)?t:R(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return R(e(t))}catch(n){}}return null}var D=Array.isArray,M=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_={pending:!1,data:null,method:null,action:null},L=[],O=-1;function z(e){return{current:e}}function B(e){0>O||(e.current=L[O],L[O]=null,O--)}function U(e,t){O++,L[O]=e.current,e.current=t}var q=z(null),V=z(null),W=z(null),H=z(null);function G(e,t){switch(U(W,t),U(V,e),U(q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?su(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=iu(t=su(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(q),U(q,e)}function K(){B(q),B(V),B(W)}function X(e){null!==e.memoizedState&&U(H,e);var t=q.current,n=iu(t,e.type);t!==n&&(U(V,e),U(q,n))}function Y(e){V.current===e&&(B(q),B(V)),H.current===e&&(B(H),Xu._currentValue=_)}var Q=Object.prototype.hasOwnProperty,J=r.unstable_scheduleCallback,Z=r.unstable_cancelCallback,$=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,se=r.unstable_UserBlockingPriority,ie=r.unstable_NormalPriority,ae=r.unstable_LowPriority,oe=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,de=null,ue=null;function he(e){if("function"===typeof le&&ce(e),ue&&"function"===typeof ue.setStrictMode)try{ue.setStrictMode(de,e)}catch(t){}}var pe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(me(e)/fe|0)|0},me=Math.log,fe=Math.LN2;var ge=256,xe=4194304;function be(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ye(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var s=0,i=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~i)?s=be(r):0!==(a&=o)?s=be(a):n||0!==(n=o&~e)&&(s=be(n)):0!==(o=r&~i)?s=be(o):0!==a?s=be(a):n||0!==(n=r&~e)&&(s=be(n)),0===s?0:0!==t&&t!==s&&0===(t&i)&&((i=s&-s)>=(n=t&-t)||32===i&&0!==(4194048&n))?t:s}function ve(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function je(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function ke(){var e=xe;return 0===(62914560&(xe<<=1))&&(xe=4194304),e}function Ne(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Se(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ce(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-pe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Ae(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pe(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}function Te(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ee(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Pe(){var e=I.p;return 0!==e?e:void 0===(e=window.event)?32:ch(e.type)}var Fe=Math.random().toString(36).slice(2),Re="__reactFiber$"+Fe,De="__reactProps$"+Fe,Me="__reactContainer$"+Fe,Ie="__reactEvents$"+Fe,_e="__reactListeners$"+Fe,Le="__reactHandles$"+Fe,Oe="__reactResources$"+Fe,ze="__reactMarker$"+Fe;function Be(e){delete e[Re],delete e[De],delete e[Ie],delete e[_e],delete e[Le]}function Ue(e){var t=e[Re];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Me]||n[Re]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=yu(e);null!==e;){if(n=e[Re])return n;e=yu(e)}return t}n=(e=n).parentNode}return null}function qe(e){if(e=e[Re]||e[Me]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Ve(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function We(e){var t=e[Oe];return t||(t=e[Oe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function He(e){e[ze]=!0}var Ge=new Set,Ke={};function Xe(e,t){Ye(e,t),Ye(e+"Capture",t)}function Ye(e,t){for(Ke[e]=t,e=0;e<t.length;e++)Ge.add(t[e])}var Qe,Je,Ze=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$e={},et={};function tt(e,t,n){if(s=t,Q.call(et,s)||!Q.call($e,s)&&(Ze.test(s)?et[s]=!0:($e[s]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var s}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function st(e){if(void 0===Qe)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Qe=t&&t[1]||"",Je=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Qe+e+Je}var it=!1;function at(e,t){if(!e||it)return"";it=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(s){var r=s}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(o){if(o&&r&&"string"===typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),a=i[0],o=i[1];if(a&&o){var l=a.split("\n"),c=o.split("\n");for(s=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;if(r===l.length||s===c.length)for(r=l.length-1,s=c.length-1;1<=r&&0<=s&&l[r]!==c[s];)s--;for(;1<=r&&0<=s;r--,s--)if(l[r]!==c[s]){if(1!==r||1!==s)do{if(r--,0>--s||l[r]!==c[s]){var d="\n"+l[r].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=r&&0<=s);break}}}finally{it=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?st(n):""}function ot(e){switch(e.tag){case 26:case 27:case 5:return st(e.type);case 16:return st("Lazy");case 13:return st("Suspense");case 19:return st("SuspenseList");case 0:case 15:return at(e.type,!1);case 11:return at(e.type.render,!1);case 1:return at(e.type,!0);case 31:return st("Activity");default:return""}}function lt(e){try{var t="";do{t+=ot(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function dt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ut(e){e._valueTracker||(e._valueTracker=function(e){var t=dt(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=dt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function pt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var mt=/[\n"\\]/g;function ft(e){return e.replace(mt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function gt(e,t,n,r,s,i,a,o){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?bt(e,a,ct(t)):null!=n?bt(e,a,ct(n)):null!=r&&e.removeAttribute("value"),null==s&&null!=i&&(e.defaultChecked=!!i),null!=s&&(e.checked=s&&"function"!==typeof s&&"symbol"!==typeof s),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ct(o):e.removeAttribute("name")}function xt(e,t,n,r,s,i,a,o){if(null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.type=i),null!=t||null!=n){if(!("submit"!==i&&"reset"!==i||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:s)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a)}function bt(e,t,n){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function yt(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function vt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(D(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function jt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||kt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function St(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var s in t)r=t[s],t.hasOwnProperty(s)&&n[s]!==r&&Nt(e,s,r)}else for(var i in t)t.hasOwnProperty(i)&&Nt(e,i,t[i])}function Ct(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var At=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Et(e){return Tt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Pt=null;function Ft(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Rt=null,Dt=null;function Mt(e){var t=qe(e);if(t&&(e=t.stateNode)){var n=e[De]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ft(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=r[De]||null;if(!s)throw Error(a(90));gt(r,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":vt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&yt(e,!!n.multiple,t,!1)}}}var It=!1;function _t(e,t,n){if(It)return e(t,n);It=!0;try{return e(t)}finally{if(It=!1,(null!==Rt||null!==Dt)&&(Uc(),Rt&&(t=Rt,e=Dt,Dt=Rt=null,Mt(t),e)))for(t=0;t<e.length;t++)Mt(e[t])}}function Lt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[De]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ot=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),zt=!1;if(Ot)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){zt=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch(Dh){zt=!1}var Ut=null,qt=null,Vt=null;function Wt(){if(Vt)return Vt;var e,t,n=qt,r=n.length,s="value"in Ut?Ut.value:Ut.textContent,i=s.length;for(e=0;e<r&&n[e]===s[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===s[i-t];t++);return Vt=s.slice(e,1<t?1-t:void 0)}function Ht(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Gt(){return!0}function Kt(){return!1}function Xt(e){function t(t,n,r,s,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?Gt:Kt,this.isPropagationStopped=Kt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Gt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Gt)},persist:function(){},isPersistent:Gt}),t}var Yt,Qt,Jt,Zt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$t=Xt(Zt),en=h({},Zt,{view:0,detail:0}),tn=Xt(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jt&&(Jt&&"mousemove"===e.type?(Yt=e.screenX-Jt.screenX,Qt=e.screenY-Jt.screenY):Qt=Yt=0,Jt=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:Qt}}),rn=Xt(nn),sn=Xt(h({},nn,{dataTransfer:0})),an=Xt(h({},en,{relatedTarget:0})),on=Xt(h({},Zt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Xt(h({},Zt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Xt(h({},Zt,{data:0})),dn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function mn(){return pn}var fn=Xt(h({},en,{key:function(e){if(e.key){var t=dn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ht(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?un[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mn,charCode:function(e){return"keypress"===e.type?Ht(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ht(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Xt(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),xn=Xt(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mn})),bn=Xt(h({},Zt,{propertyName:0,elapsedTime:0,pseudoElement:0})),yn=Xt(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),vn=Xt(h({},Zt,{newState:0,oldState:0})),wn=[9,13,27,32],jn=Ot&&"CompositionEvent"in window,kn=null;Ot&&"documentMode"in document&&(kn=document.documentMode);var Nn=Ot&&"TextEvent"in window&&!kn,Sn=Ot&&(!jn||kn&&8<kn&&11>=kn),Cn=String.fromCharCode(32),An=!1;function Tn(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function En(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Pn=!1;var Fn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Fn[e.type]:"textarea"===t}function Dn(e,t,n,r){Rt?Dt?Dt.push(r):Dt=[r]:Rt=r,0<(t=Wd(t,"onChange")).length&&(n=new $t("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Mn=null,In=null;function _n(e){_d(e,0)}function Ln(e){if(ht(Ve(e)))return e}function On(e,t){if("change"===e)return t}var zn=!1;if(Ot){var Bn;if(Ot){var Un="oninput"in document;if(!Un){var qn=document.createElement("div");qn.setAttribute("oninput","return;"),Un="function"===typeof qn.oninput}Bn=Un}else Bn=!1;zn=Bn&&(!document.documentMode||9<document.documentMode)}function Vn(){Mn&&(Mn.detachEvent("onpropertychange",Wn),In=Mn=null)}function Wn(e){if("value"===e.propertyName&&Ln(In)){var t=[];Dn(t,In,e,Ft(e)),_t(_n,t)}}function Hn(e,t,n){"focusin"===e?(Vn(),In=n,(Mn=t).attachEvent("onpropertychange",Wn)):"focusout"===e&&Vn()}function Gn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ln(In)}function Kn(e,t){if("click"===e)return Ln(t)}function Xn(e,t){if("input"===e||"change"===e)return Ln(t)}var Yn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Qn(e,t){if(Yn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Q.call(t,s)||!Yn(e[s],t[s]))return!1}return!0}function Jn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zn(e,t){var n,r=Jn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jn(r)}}function $n(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?$n(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=pt((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Ot&&"documentMode"in document&&11>=document.documentMode,rr=null,sr=null,ir=null,ar=!1;function or(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ar||null==rr||rr!==pt(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ir&&Qn(ir,r)||(ir=r,0<(r=Wd(sr,"onSelect")).length&&(t=new $t("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},dr={},ur={};function hr(e){if(dr[e])return dr[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in ur)return dr[e]=n[t];return e}Ot&&(ur=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var pr=hr("animationend"),mr=hr("animationiteration"),fr=hr("animationstart"),gr=hr("transitionrun"),xr=hr("transitionstart"),br=hr("transitioncancel"),yr=hr("transitionend"),vr=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(e,t){vr.set(e,t),Xe(t,[e])}wr.push("scrollEnd");var kr=new WeakMap;function Nr(e,t){if("object"===typeof e&&null!==e){var n=kr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},kr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Sr=[],Cr=0,Ar=0;function Tr(){for(var e=Cr,t=Ar=Cr=0;t<e;){var n=Sr[t];Sr[t++]=null;var r=Sr[t];Sr[t++]=null;var s=Sr[t];Sr[t++]=null;var i=Sr[t];if(Sr[t++]=null,null!==r&&null!==s){var a=r.pending;null===a?s.next=s:(s.next=a.next,a.next=s),r.pending=s}0!==i&&Rr(n,s,i)}}function Er(e,t,n,r){Sr[Cr++]=e,Sr[Cr++]=t,Sr[Cr++]=n,Sr[Cr++]=r,Ar|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Pr(e,t,n,r){return Er(e,t,n,r),Dr(e)}function Fr(e,t){return Er(e,null,null,t),Dr(e)}function Rr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var s=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(r=i.alternate)&&(r.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(s=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,s&&null!==t&&(s=31-pe(n),null===(r=(e=i.hiddenUpdates)[s])?e[s]=[t]:r.push(t),t.lane=536870912|n),i):null}function Dr(e){if(50<Rc)throw Rc=0,Dc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Mr={};function Ir(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _r(e,t,n,r){return new Ir(e,t,n,r)}function Lr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Or(e,t){var n=e.alternate;return null===n?((n=_r(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function zr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Br(e,t,n,r,s,i){var o=0;if(r=e,"function"===typeof e)Lr(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,q.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case A:return(e=_r(31,n,t,s)).elementType=A,e.lanes=i,e;case g:return Ur(n.children,s,i,t);case x:o=8,s|=24;break;case b:return(e=_r(12,n,t,2|s)).elementType=b,e.lanes=i,e;case k:return(e=_r(13,n,t,s)).elementType=k,e.lanes=i,e;case N:return(e=_r(19,n,t,s)).elementType=N,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case y:case w:o=10;break e;case v:o=9;break e;case j:o=11;break e;case S:o=14;break e;case C:o=16,r=null;break e}o=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=_r(o,n,t,s)).elementType=e,t.type=r,t.lanes=i,t}function Ur(e,t,n,r){return(e=_r(7,e,r,t)).lanes=n,e}function qr(e,t,n){return(e=_r(6,e,null,t)).lanes=n,e}function Vr(e,t,n){return(t=_r(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wr=[],Hr=0,Gr=null,Kr=0,Xr=[],Yr=0,Qr=null,Jr=1,Zr="";function $r(e,t){Wr[Hr++]=Kr,Wr[Hr++]=Gr,Gr=e,Kr=t}function es(e,t,n){Xr[Yr++]=Jr,Xr[Yr++]=Zr,Xr[Yr++]=Qr,Qr=e;var r=Jr;e=Zr;var s=32-pe(r)-1;r&=~(1<<s),n+=1;var i=32-pe(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Jr=1<<32-pe(t)+s|n<<s|r,Zr=i+e}else Jr=1<<i|n<<s|r,Zr=e}function ts(e){null!==e.return&&($r(e,1),es(e,1,0))}function ns(e){for(;e===Gr;)Gr=Wr[--Hr],Wr[Hr]=null,Kr=Wr[--Hr],Wr[Hr]=null;for(;e===Qr;)Qr=Xr[--Yr],Xr[Yr]=null,Zr=Xr[--Yr],Xr[Yr]=null,Jr=Xr[--Yr],Xr[Yr]=null}var rs=null,ss=null,is=!1,as=null,os=!1,ls=Error(a(519));function cs(e){throw fs(Nr(Error(a(418,"")),e)),ls}function ds(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Re]=e,t[De]=r,n){case"dialog":Ld("cancel",t),Ld("close",t);break;case"iframe":case"object":case"embed":Ld("load",t);break;case"video":case"audio":for(n=0;n<Md.length;n++)Ld(Md[n],t);break;case"source":Ld("error",t);break;case"img":case"image":case"link":Ld("error",t),Ld("load",t);break;case"details":Ld("toggle",t);break;case"input":Ld("invalid",t),xt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ut(t);break;case"select":Ld("invalid",t);break;case"textarea":Ld("invalid",t),wt(t,r.value,r.defaultValue,r.children),ut(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Qd(t.textContent,n)?(null!=r.popover&&(Ld("beforetoggle",t),Ld("toggle",t)),null!=r.onScroll&&Ld("scroll",t),null!=r.onScrollEnd&&Ld("scrollend",t),null!=r.onClick&&(t.onclick=Jd),t=!0):t=!1,t||cs(e)}function us(e){for(rs=e.return;rs;)switch(rs.tag){case 5:case 13:return void(os=!1);case 27:case 3:return void(os=!0);default:rs=rs.return}}function hs(e){if(e!==rs)return!1;if(!is)return us(e),is=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||au(e.type,e.memoizedProps)),t=!t),t&&ss&&cs(e),us(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ss=xu(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ss=null}}else 27===n?(n=ss,pu(e.type)?(e=bu,bu=null,ss=e):ss=n):ss=rs?xu(e.stateNode.nextSibling):null;return!0}function ps(){ss=rs=null,is=!1}function ms(){var e=as;return null!==e&&(null===yc?yc=e:yc.push.apply(yc,e),as=null),e}function fs(e){null===as?as=[e]:as.push(e)}var gs=z(null),xs=null,bs=null;function ys(e,t,n){U(gs,t._currentValue),t._currentValue=n}function vs(e){e._currentValue=gs.current,B(gs)}function ws(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function js(e,t,n,r){var s=e.child;for(null!==s&&(s.return=e);null!==s;){var i=s.dependencies;if(null!==i){var o=s.child;i=i.firstContext;e:for(;null!==i;){var l=i;i=s;for(var c=0;c<t.length;c++)if(l.context===t[c]){i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),ws(i.return,n,e),r||(o=null);break e}i=l.next}}else if(18===s.tag){if(null===(o=s.return))throw Error(a(341));o.lanes|=n,null!==(i=o.alternate)&&(i.lanes|=n),ws(o,n,e),o=null}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===e){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}}function ks(e,t,n,r){e=null;for(var s=t,i=!1;null!==s;){if(!i)if(0!==(524288&s.flags))i=!0;else if(0!==(262144&s.flags))break;if(10===s.tag){var o=s.alternate;if(null===o)throw Error(a(387));if(null!==(o=o.memoizedProps)){var l=s.type;Yn(s.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(s===H.current){if(null===(o=s.alternate))throw Error(a(387));o.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(null!==e?e.push(Xu):e=[Xu])}s=s.return}null!==e&&js(t,e,n,r),t.flags|=262144}function Ns(e){for(e=e.firstContext;null!==e;){if(!Yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ss(e){xs=e,bs=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Cs(e){return Ts(xs,e)}function As(e,t){return null===xs&&Ss(e),Ts(e,t)}function Ts(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===bs){if(null===e)throw Error(a(308));bs=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else bs=bs.next=t;return n}var Es="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Ps=r.unstable_scheduleCallback,Fs=r.unstable_NormalPriority,Rs={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ds(){return{controller:new Es,data:new Map,refCount:0}}function Ms(e){e.refCount--,0===e.refCount&&Ps(Fs,(function(){e.controller.abort()}))}var Is=null,_s=0,Ls=0,Os=null;function zs(){if(0===--_s&&null!==Is){null!==Os&&(Os.status="fulfilled");var e=Is;Is=null,Ls=0,Os=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Bs=M.S;M.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Is){var n=Is=[];_s=0,Ls=Ed(),Os={status:"pending",value:void 0,then:function(e){n.push(e)}}}_s++,t.then(zs,zs)}(0,t),null!==Bs&&Bs(e,t)};var Us=z(null);function qs(){var e=Us.current;return null!==e?e:rc.pooledCache}function Vs(e,t){U(Us,null===t?Us.current:t.pool)}function Ws(){var e=qs();return null===e?null:{parent:Rs._currentValue,pool:e}}var Hs=Error(a(460)),Gs=Error(a(474)),Ks=Error(a(542)),Xs={then:function(){}};function Ys(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Qs(){}function Js(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Qs,Qs),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ei(e=t.reason),e;default:if("string"===typeof t.status)t.then(Qs,Qs);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ei(e=t.reason),e}throw Zs=t,Hs}}var Zs=null;function $s(){if(null===Zs)throw Error(a(459));var e=Zs;return Zs=null,e}function ei(e){if(e===Hs||e===Ks)throw Error(a(483))}var ti=!1;function ni(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ri(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function si(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ii(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nc)){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,t=Dr(e),Rr(e,null,n),t}return Er(e,r,t,n),Dr(e)}function ai(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ae(e,n)}}function oi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?s=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?s=i=t:i=i.next=t}else s=i=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var li=!1;function ci(){if(li){if(null!==Os)throw Os}}function di(e,t,n,r){li=!1;var s=e.updateQueue;ti=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?i=c:a.next=c,a=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==a&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==i){var u=s.baseState;for(a=0,d=c=l=null,o=i;;){var p=-536870913&o.lane,m=p!==o.lane;if(m?(ic&p)===p:(r&p)===p){0!==p&&p===Ls&&(li=!0),null!==d&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var f=e,g=o;p=t;var x=n;switch(g.tag){case 1:if("function"===typeof(f=g.payload)){u=f.call(x,u,p);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(p="function"===typeof(f=g.payload)?f.call(x,u,p):f)||void 0===p)break e;u=h({},u,p);break e;case 2:ti=!0}}null!==(p=o.callback)&&(e.flags|=64,m&&(e.flags|=8192),null===(m=s.callbacks)?s.callbacks=[p]:m.push(p))}else m={lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=m,l=u):d=d.next=m,a|=p;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(m=o).next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}null===d&&(l=u),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,null===i&&(s.shared.lanes=0),pc|=a,e.lanes=a,e.memoizedState=u}}function ui(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function hi(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)ui(n[e],t)}var pi=z(null),mi=z(0);function fi(e,t){U(mi,e=uc),U(pi,t),uc=e|t.baseLanes}function gi(){U(mi,uc),U(pi,pi.current)}function xi(){uc=mi.current,B(pi),B(mi)}var bi=0,yi=null,vi=null,wi=null,ji=!1,ki=!1,Ni=!1,Si=0,Ci=0,Ai=null,Ti=0;function Ei(){throw Error(a(321))}function Pi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yn(e[n],t[n]))return!1;return!0}function Fi(e,t,n,r,s,i){return bi=i,yi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=null===e||null===e.memoizedState?Ha:Ga,Ni=!1,i=n(r,s),Ni=!1,ki&&(i=Di(t,n,r,s)),Ri(e),i}function Ri(e){M.H=Wa;var t=null!==vi&&null!==vi.next;if(bi=0,wi=vi=yi=null,ji=!1,Ci=0,Ai=null,t)throw Error(a(300));null===e||Ao||null!==(e=e.dependencies)&&Ns(e)&&(Ao=!0)}function Di(e,t,n,r){yi=e;var s=0;do{if(ki&&(Ai=null),Ci=0,ki=!1,25<=s)throw Error(a(301));if(s+=1,wi=vi=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}M.H=Ka,i=t(n,r)}while(ki);return i}function Mi(){var e=M.H,t=e.useState()[0];return t="function"===typeof t.then?Bi(t):t,e=e.useState()[0],(null!==vi?vi.memoizedState:null)!==e&&(yi.flags|=1024),t}function Ii(){var e=0!==Si;return Si=0,e}function _i(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Li(e){if(ji){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ji=!1}bi=0,wi=vi=yi=null,ki=!1,Ci=Si=0,Ai=null}function Oi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===wi?yi.memoizedState=wi=e:wi=wi.next=e,wi}function zi(){if(null===vi){var e=yi.alternate;e=null!==e?e.memoizedState:null}else e=vi.next;var t=null===wi?yi.memoizedState:wi.next;if(null!==t)wi=t,vi=e;else{if(null===e){if(null===yi.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(vi=e).memoizedState,baseState:vi.baseState,baseQueue:vi.baseQueue,queue:vi.queue,next:null},null===wi?yi.memoizedState=wi=e:wi=wi.next=e}return wi}function Bi(e){var t=Ci;return Ci+=1,null===Ai&&(Ai=[]),e=Js(Ai,e,t),t=yi,null===(null===wi?t.memoizedState:wi.next)&&(t=t.alternate,M.H=null===t||null===t.memoizedState?Ha:Ga),e}function Ui(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Bi(e);if(e.$$typeof===w)return Cs(e)}throw Error(a(438,String(e)))}function qi(e){var t=null,n=yi.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=yi.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},yi.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=T;return t.index++,n}function Vi(e,t){return"function"===typeof t?t(e):t}function Wi(e){return Hi(zi(),vi,e)}function Hi(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var s=e.baseQueue,i=r.pending;if(null!==i){if(null!==s){var o=s.next;s.next=i.next,i.next=o}t.baseQueue=s=i,r.pending=null}if(i=e.baseState,null===s)e.memoizedState=i;else{var l=o=null,c=null,d=t=s.next,u=!1;do{var h=-536870913&d.lane;if(h!==d.lane?(ic&h)===h:(bi&h)===h){var p=d.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),h===Ls&&(u=!0);else{if((bi&p)===p){d=d.next,p===Ls&&(u=!0);continue}h={lane:0,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=h,o=i):c=c.next=h,yi.lanes|=p,pc|=p}h=d.action,Ni&&n(i,h),i=d.hasEagerState?d.eagerState:n(i,h)}else p={lane:h,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=p,o=i):c=c.next=p,yi.lanes|=h,pc|=h;d=d.next}while(null!==d&&d!==t);if(null===c?o=i:c.next=l,!Yn(i,e.memoizedState)&&(Ao=!0,u&&null!==(n=Os)))throw n;e.memoizedState=i,e.baseState=o,e.baseQueue=c,r.lastRenderedState=i}return null===s&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Gi(e){var t=zi(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(null!==s){n.pending=null;var o=s=s.next;do{i=e(i,o.action),o=o.next}while(o!==s);Yn(i,t.memoizedState)||(Ao=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Ki(e,t,n){var r=yi,s=zi(),i=is;if(i){if(void 0===n)throw Error(a(407));n=n()}else n=t();var o=!Yn((vi||s).memoizedState,n);if(o&&(s.memoizedState=n,Ao=!0),s=s.queue,ga(2048,8,Qi.bind(null,r,s,e),[e]),s.getSnapshot!==t||o||null!==wi&&1&wi.memoizedState.tag){if(r.flags|=2048,pa(9,{destroy:void 0,resource:void 0},Yi.bind(null,r,s,n,t),null),null===rc)throw Error(a(349));i||0!==(124&bi)||Xi(r,t,n)}return n}function Xi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=yi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},yi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Yi(e,t,n,r){t.value=n,t.getSnapshot=r,Ji(t)&&Zi(e)}function Qi(e,t,n){return n((function(){Ji(t)&&Zi(e)}))}function Ji(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yn(e,n)}catch(r){return!0}}function Zi(e){var t=Fr(e,2);null!==t&&_c(t,e,2)}function $i(e){var t=Oi();if("function"===typeof e){var n=e;if(e=n(),Ni){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:e},t}function ea(e,t,n,r){return e.baseState=n,Hi(e,vi,"function"===typeof r?r:Vi)}function ta(e,t,n,r,s){if(Ua(e))throw Error(a(485));if(null!==(e=t.action)){var i={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==M.T?n(!0):i.isTransition=!1,r(i),null===(n=t.pending)?(i.next=t.pending=i,na(t,i)):(i.next=n.next,t.pending=n.next=i)}}function na(e,t){var n=t.action,r=t.payload,s=e.state;if(t.isTransition){var i=M.T,a={};M.T=a;try{var o=n(s,r),l=M.S;null!==l&&l(a,o),ra(e,t,o)}catch(c){ia(e,t,c)}finally{M.T=i}}else try{ra(e,t,i=n(s,r))}catch(d){ia(e,t,d)}}function ra(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){sa(e,t,n)}),(function(n){return ia(e,t,n)})):sa(e,t,n)}function sa(e,t,n){t.status="fulfilled",t.value=n,aa(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,na(e,n)))}function ia(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,aa(t),t=t.next}while(t!==r)}e.action=null}function aa(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function oa(e,t){return t}function la(e,t){if(is){var n=rc.formState;if(null!==n){e:{var r=yi;if(is){if(ss){t:{for(var s=ss,i=os;8!==s.nodeType;){if(!i){s=null;break t}if(null===(s=xu(s.nextSibling))){s=null;break t}}s="F!"===(i=s.data)||"F"===i?s:null}if(s){ss=xu(s.nextSibling),r="F!"===s.data;break e}}cs(r)}r=!1}r&&(t=n[0])}}return(n=Oi()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:t},n.queue=r,n=Oa.bind(null,yi,r),r.dispatch=n,r=$i(!1),i=Ba.bind(null,yi,!1,r.queue),s={state:t,dispatch:null,action:e,pending:null},(r=Oi()).queue=s,n=ta.bind(null,yi,s,i,n),s.dispatch=n,r.memoizedState=e,[t,n,!1]}function ca(e){return da(zi(),vi,e)}function da(e,t,n){if(t=Hi(e,t,oa)[0],e=Wi(Vi)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Bi(t)}catch(a){if(a===Hs)throw Ks;throw a}else r=t;var s=(t=zi()).queue,i=s.dispatch;return n!==t.memoizedState&&(yi.flags|=2048,pa(9,{destroy:void 0,resource:void 0},ua.bind(null,s,n),null)),[r,i,e]}function ua(e,t){e.action=t}function ha(e){var t=zi(),n=vi;if(null!==n)return da(t,n,e);zi(),t=t.memoizedState;var r=(n=zi()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function pa(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=yi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},yi.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ma(){return zi().memoizedState}function fa(e,t,n,r){var s=Oi();r=void 0===r?null:r,yi.flags|=e,s.memoizedState=pa(1|t,{destroy:void 0,resource:void 0},n,r)}function ga(e,t,n,r){var s=zi();r=void 0===r?null:r;var i=s.memoizedState.inst;null!==vi&&null!==r&&Pi(r,vi.memoizedState.deps)?s.memoizedState=pa(t,i,n,r):(yi.flags|=e,s.memoizedState=pa(1|t,i,n,r))}function xa(e,t){fa(8390656,8,e,t)}function ba(e,t){ga(2048,8,e,t)}function ya(e,t){return ga(4,2,e,t)}function va(e,t){return ga(4,4,e,t)}function wa(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ja(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ga(4,4,wa.bind(null,t,e),n)}function ka(){}function Na(e,t){var n=zi();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Pi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Sa(e,t){var n=zi();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Pi(t,r[1]))return r[0];if(r=e(),Ni){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r}function Ca(e,t,n){return void 0===n||0!==(1073741824&bi)?e.memoizedState=t:(e.memoizedState=n,e=Ic(),yi.lanes|=e,pc|=e,n)}function Aa(e,t,n,r){return Yn(n,t)?n:null!==pi.current?(e=Ca(e,n,r),Yn(e,t)||(Ao=!0),e):0===(42&bi)?(Ao=!0,e.memoizedState=n):(e=Ic(),yi.lanes|=e,pc|=e,t)}function Ta(e,t,n,r,s){var i=I.p;I.p=0!==i&&8>i?i:8;var a=M.T,o={};M.T=o,Ba(e,!1,t,n);try{var l=s(),c=M.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)za(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),r}(l,r),Mc());else za(e,t,r,Mc())}catch(d){za(e,t,{then:function(){},status:"rejected",reason:d},Mc())}finally{I.p=i,M.T=a}}function Ea(){}function Pa(e,t,n,r){if(5!==e.tag)throw Error(a(476));var s=Fa(e).queue;Ta(e,s,t,_,null===n?Ea:function(){return Ra(e),n(r)})}function Fa(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:_,baseState:_,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:_},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ra(e){za(e,Fa(e).next.queue,{},Mc())}function Da(){return Cs(Xu)}function Ma(){return zi().memoizedState}function Ia(){return zi().memoizedState}function _a(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Mc(),r=ii(t,e=si(n),n);return null!==r&&(_c(r,t,n),ai(r,t,n)),t={cache:Ds()},void(e.payload=t)}t=t.return}}function La(e,t,n){var r=Mc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ua(e)?qa(t,n):null!==(n=Pr(e,t,n,r))&&(_c(n,e,r),Va(n,t,r))}function Oa(e,t,n){za(e,t,n,Mc())}function za(e,t,n,r){var s={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ua(e))qa(t,s);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,Yn(o,a))return Er(e,t,s,0),null===rc&&Tr(),!1}catch(l){}if(null!==(n=Pr(e,t,s,r)))return _c(n,e,r),Va(n,t,r),!0}return!1}function Ba(e,t,n,r){if(r={lane:2,revertLane:Ed(),action:r,hasEagerState:!1,eagerState:null,next:null},Ua(e)){if(t)throw Error(a(479))}else null!==(t=Pr(e,n,r,2))&&_c(t,e,2)}function Ua(e){var t=e.alternate;return e===yi||null!==t&&t===yi}function qa(e,t){ki=ji=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Va(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ae(e,n)}}var Wa={readContext:Cs,use:Ui,useCallback:Ei,useContext:Ei,useEffect:Ei,useImperativeHandle:Ei,useLayoutEffect:Ei,useInsertionEffect:Ei,useMemo:Ei,useReducer:Ei,useRef:Ei,useState:Ei,useDebugValue:Ei,useDeferredValue:Ei,useTransition:Ei,useSyncExternalStore:Ei,useId:Ei,useHostTransitionStatus:Ei,useFormState:Ei,useActionState:Ei,useOptimistic:Ei,useMemoCache:Ei,useCacheRefresh:Ei},Ha={readContext:Cs,use:Ui,useCallback:function(e,t){return Oi().memoizedState=[e,void 0===t?null:t],e},useContext:Cs,useEffect:xa,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,fa(4194308,4,wa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return fa(4194308,4,e,t)},useInsertionEffect:function(e,t){fa(4,2,e,t)},useMemo:function(e,t){var n=Oi();t=void 0===t?null:t;var r=e();if(Ni){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Oi();if(void 0!==n){var s=n(t);if(Ni){he(!0);try{n(t)}finally{he(!1)}}}else s=t;return r.memoizedState=r.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},r.queue=e,e=e.dispatch=La.bind(null,yi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Oi().memoizedState=e},useState:function(e){var t=(e=$i(e)).queue,n=Oa.bind(null,yi,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ka,useDeferredValue:function(e,t){return Ca(Oi(),e,t)},useTransition:function(){var e=$i(!1);return e=Ta.bind(null,yi,e.queue,!0,!1),Oi().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=yi,s=Oi();if(is){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===rc)throw Error(a(349));0!==(124&ic)||Xi(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,xa(Qi.bind(null,r,i,e),[e]),r.flags|=2048,pa(9,{destroy:void 0,resource:void 0},Yi.bind(null,r,i,n,t),null),n},useId:function(){var e=Oi(),t=rc.identifierPrefix;if(is){var n=Zr;t="\xab"+t+"R"+(n=(Jr&~(1<<32-pe(Jr)-1)).toString(32)+n),0<(n=Si++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Ti++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Da,useFormState:la,useActionState:la,useOptimistic:function(e){var t=Oi();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ba.bind(null,yi,!0,n),n.dispatch=t,[e,t]},useMemoCache:qi,useCacheRefresh:function(){return Oi().memoizedState=_a.bind(null,yi)}},Ga={readContext:Cs,use:Ui,useCallback:Na,useContext:Cs,useEffect:ba,useImperativeHandle:ja,useInsertionEffect:ya,useLayoutEffect:va,useMemo:Sa,useReducer:Wi,useRef:ma,useState:function(){return Wi(Vi)},useDebugValue:ka,useDeferredValue:function(e,t){return Aa(zi(),vi.memoizedState,e,t)},useTransition:function(){var e=Wi(Vi)[0],t=zi().memoizedState;return["boolean"===typeof e?e:Bi(e),t]},useSyncExternalStore:Ki,useId:Ma,useHostTransitionStatus:Da,useFormState:ca,useActionState:ca,useOptimistic:function(e,t){return ea(zi(),0,e,t)},useMemoCache:qi,useCacheRefresh:Ia},Ka={readContext:Cs,use:Ui,useCallback:Na,useContext:Cs,useEffect:ba,useImperativeHandle:ja,useInsertionEffect:ya,useLayoutEffect:va,useMemo:Sa,useReducer:Gi,useRef:ma,useState:function(){return Gi(Vi)},useDebugValue:ka,useDeferredValue:function(e,t){var n=zi();return null===vi?Ca(n,e,t):Aa(n,vi.memoizedState,e,t)},useTransition:function(){var e=Gi(Vi)[0],t=zi().memoizedState;return["boolean"===typeof e?e:Bi(e),t]},useSyncExternalStore:Ki,useId:Ma,useHostTransitionStatus:Da,useFormState:ha,useActionState:ha,useOptimistic:function(e,t){var n=zi();return null!==vi?ea(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:qi,useCacheRefresh:Ia},Xa=null,Ya=0;function Qa(e){var t=Ya;return Ya+=1,null===Xa&&(Xa=[]),Js(Xa,e,t)}function Ja(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Za(e,t){if(t.$$typeof===p)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $a(e){return(0,e._init)(e._payload)}function eo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function s(e,t){return(e=Or(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=qr(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===g?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===C&&$a(i)===t.type)?(Ja(t=s(t,n.props),n),t.return=e,t):(Ja(t=Br(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vr(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function u(e,t,n,r,i){return null===t||7!==t.tag?((t=Ur(n,e.mode,r,i)).return=e,t):((t=s(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=qr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return Ja(n=Br(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case f:return(t=Vr(t,e.mode,n)).return=e,t;case C:return h(e,t=(0,t._init)(t._payload),n)}if(D(t)||P(t))return(t=Ur(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,Qa(t),n);if(t.$$typeof===w)return h(e,As(e,t),n);Za(e,t)}return null}function p(e,t,n,r){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==s?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===s?c(e,t,n,r):null;case f:return n.key===s?d(e,t,n,r):null;case C:return p(e,t,n=(s=n._init)(n._payload),r)}if(D(n)||P(n))return null!==s?null:u(e,t,n,r,null);if("function"===typeof n.then)return p(e,t,Qa(n),r);if(n.$$typeof===w)return p(e,t,As(e,n),r);Za(e,n)}return null}function x(e,t,n,r,s){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case m:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case f:return d(t,e=e.get(null===r.key?n:r.key)||null,r,s);case C:return x(e,t,n,r=(0,r._init)(r._payload),s)}if(D(r)||P(r))return u(t,e=e.get(n)||null,r,s,null);if("function"===typeof r.then)return x(e,t,n,Qa(r),s);if(r.$$typeof===w)return x(e,t,n,As(t,r),s);Za(t,r)}return null}function b(l,c,d,u){if("object"===typeof d&&null!==d&&d.type===g&&null===d.key&&(d=d.props.children),"object"===typeof d&&null!==d){switch(d.$$typeof){case m:e:{for(var y=d.key;null!==c;){if(c.key===y){if((y=d.type)===g){if(7===c.tag){n(l,c.sibling),(u=s(c,d.props.children)).return=l,l=u;break e}}else if(c.elementType===y||"object"===typeof y&&null!==y&&y.$$typeof===C&&$a(y)===c.type){n(l,c.sibling),Ja(u=s(c,d.props),d),u.return=l,l=u;break e}n(l,c);break}t(l,c),c=c.sibling}d.type===g?((u=Ur(d.props.children,l.mode,u,d.key)).return=l,l=u):(Ja(u=Br(d.type,d.key,d.props,null,l.mode,u),d),u.return=l,l=u)}return o(l);case f:e:{for(y=d.key;null!==c;){if(c.key===y){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){n(l,c.sibling),(u=s(c,d.children||[])).return=l,l=u;break e}n(l,c);break}t(l,c),c=c.sibling}(u=Vr(d,l.mode,u)).return=l,l=u}return o(l);case C:return b(l,c,d=(y=d._init)(d._payload),u)}if(D(d))return function(s,a,o,l){for(var c=null,d=null,u=a,m=a=0,f=null;null!==u&&m<o.length;m++){u.index>m?(f=u,u=null):f=u.sibling;var g=p(s,u,o[m],l);if(null===g){null===u&&(u=f);break}e&&u&&null===g.alternate&&t(s,u),a=i(g,a,m),null===d?c=g:d.sibling=g,d=g,u=f}if(m===o.length)return n(s,u),is&&$r(s,m),c;if(null===u){for(;m<o.length;m++)null!==(u=h(s,o[m],l))&&(a=i(u,a,m),null===d?c=u:d.sibling=u,d=u);return is&&$r(s,m),c}for(u=r(u);m<o.length;m++)null!==(f=x(u,s,m,o[m],l))&&(e&&null!==f.alternate&&u.delete(null===f.key?m:f.key),a=i(f,a,m),null===d?c=f:d.sibling=f,d=f);return e&&u.forEach((function(e){return t(s,e)})),is&&$r(s,m),c}(l,c,d,u);if(P(d)){if("function"!==typeof(y=P(d)))throw Error(a(150));return function(s,o,l,c){if(null==l)throw Error(a(151));for(var d=null,u=null,m=o,f=o=0,g=null,b=l.next();null!==m&&!b.done;f++,b=l.next()){m.index>f?(g=m,m=null):g=m.sibling;var y=p(s,m,b.value,c);if(null===y){null===m&&(m=g);break}e&&m&&null===y.alternate&&t(s,m),o=i(y,o,f),null===u?d=y:u.sibling=y,u=y,m=g}if(b.done)return n(s,m),is&&$r(s,f),d;if(null===m){for(;!b.done;f++,b=l.next())null!==(b=h(s,b.value,c))&&(o=i(b,o,f),null===u?d=b:u.sibling=b,u=b);return is&&$r(s,f),d}for(m=r(m);!b.done;f++,b=l.next())null!==(b=x(m,s,f,b.value,c))&&(e&&null!==b.alternate&&m.delete(null===b.key?f:b.key),o=i(b,o,f),null===u?d=b:u.sibling=b,u=b);return e&&m.forEach((function(e){return t(s,e)})),is&&$r(s,f),d}(l,c,d=y.call(d),u)}if("function"===typeof d.then)return b(l,c,Qa(d),u);if(d.$$typeof===w)return b(l,c,As(l,d),u);Za(l,d)}return"string"===typeof d&&""!==d||"number"===typeof d||"bigint"===typeof d?(d=""+d,null!==c&&6===c.tag?(n(l,c.sibling),(u=s(c,d)).return=l,l=u):(n(l,c),(u=qr(d,l.mode,u)).return=l,l=u),o(l)):n(l,c)}return function(e,t,n,r){try{Ya=0;var s=b(e,t,n,r);return Xa=null,s}catch(a){if(a===Hs||a===Ks)throw a;var i=_r(29,a,null,e.mode);return i.lanes=r,i.return=e,i}}}var to=eo(!0),no=eo(!1),ro=z(null),so=null;function io(e){var t=e.alternate;U(co,1&co.current),U(ro,e),null===so&&(null===t||null!==pi.current||null!==t.memoizedState)&&(so=e)}function ao(e){if(22===e.tag){if(U(co,co.current),U(ro,e),null===so){var t=e.alternate;null!==t&&null!==t.memoizedState&&(so=e)}}else oo()}function oo(){U(co,co.current),U(ro,ro.current)}function lo(e){B(ro),so===e&&(so=null),B(co)}var co=z(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gu(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ho(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var po={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Mc(),s=si(r);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=ii(e,s,r))&&(_c(t,e,r),ai(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Mc(),s=si(r);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=ii(e,s,r))&&(_c(t,e,r),ai(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Mc(),r=si(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=ii(e,r,n))&&(_c(t,e,n),ai(t,e,n))}};function mo(e,t,n,r,s,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!Qn(n,r)||!Qn(s,i))}function fo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function go(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var s in n===t&&(n=h({},n)),e)void 0===n[s]&&(n[s]=e[s]);return n}var xo="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function bo(e){xo(e)}function yo(e){console.error(e)}function vo(e){xo(e)}function wo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function jo(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function ko(e,t,n){return(n=si(n)).tag=3,n.payload={element:null},n.callback=function(){wo(e,t)},n}function No(e){return(e=si(e)).tag=3,e}function So(e,t,n,r){var s=n.type.getDerivedStateFromError;if("function"===typeof s){var i=r.value;e.payload=function(){return s(i)},e.callback=function(){jo(t,n,r)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){jo(t,n,r),"function"!==typeof s&&(null===Nc?Nc=new Set([this]):Nc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Co=Error(a(461)),Ao=!1;function To(e,t,n,r){t.child=null===e?no(t,null,n,r):to(t,e.child,n,r)}function Eo(e,t,n,r,s){n=n.render;var i=t.ref;if("ref"in r){var a={};for(var o in r)"ref"!==o&&(a[o]=r[o])}else a=r;return Ss(t),r=Fi(e,t,n,a,i,s),o=Ii(),null===e||Ao?(is&&o&&ts(t),t.flags|=1,To(e,t,r,s),t.child):(_i(e,t,s),Yo(e,t,s))}function Po(e,t,n,r,s){if(null===e){var i=n.type;return"function"!==typeof i||Lr(i)||void 0!==i.defaultProps||null!==n.compare?((e=Br(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Fo(e,t,i,r,s))}if(i=e.child,!Qo(e,s)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:Qn)(a,r)&&e.ref===t.ref)return Yo(e,t,s)}return t.flags|=1,(e=Or(i,r)).ref=t.ref,e.return=t,t.child=e}function Fo(e,t,n,r,s){if(null!==e){var i=e.memoizedProps;if(Qn(i,r)&&e.ref===t.ref){if(Ao=!1,t.pendingProps=r=i,!Qo(e,s))return t.lanes=e.lanes,Yo(e,t,s);0!==(131072&e.flags)&&(Ao=!0)}}return Io(e,t,n,r,s)}function Ro(e,t,n){var r=t.pendingProps,s=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==i?i.baseLanes|n:n,null!==e){for(s=t.child=e.child,i=0;null!==s;)i=i|s.lanes|s.childLanes,s=s.sibling;t.childLanes=i&~r}else t.childLanes=0,t.child=null;return Do(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Do(e,t,null!==i?i.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Vs(0,null!==i?i.cachePool:null),null!==i?fi(t,i):gi(),ao(t)}else null!==i?(Vs(0,i.cachePool),fi(t,i),oo(),t.memoizedState=null):(null!==e&&Vs(0,null),gi(),oo());return To(e,t,s,n),t.child}function Do(e,t,n,r){var s=qs();return s=null===s?null:{parent:Rs._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},null!==e&&Vs(0,null),gi(),ao(t),null!==e&&ks(e,t,r,!0),null}function Mo(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Io(e,t,n,r,s){return Ss(t),n=Fi(e,t,n,r,void 0,s),r=Ii(),null===e||Ao?(is&&r&&ts(t),t.flags|=1,To(e,t,n,s),t.child):(_i(e,t,s),Yo(e,t,s))}function _o(e,t,n,r,s,i){return Ss(t),t.updateQueue=null,n=Di(t,r,n,s),Ri(e),r=Ii(),null===e||Ao?(is&&r&&ts(t),t.flags|=1,To(e,t,n,i),t.child):(_i(e,t,i),Yo(e,t,i))}function Lo(e,t,n,r,s){if(Ss(t),null===t.stateNode){var i=Mr,a=n.contextType;"object"===typeof a&&null!==a&&(i=Cs(a)),i=new n(r,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=po,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=r,i.state=t.memoizedState,i.refs={},ni(t),a=n.contextType,i.context="object"===typeof a&&null!==a?Cs(a):Mr,i.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(ho(t,n,a,r),i.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(a=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),a!==i.state&&po.enqueueReplaceState(i,i.state,null),di(t,r,i,s),ci(),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){i=t.stateNode;var o=t.memoizedProps,l=go(n,o);i.props=l;var c=i.context,d=n.contextType;a=Mr,"object"===typeof d&&null!==d&&(a=Cs(d));var u=n.getDerivedStateFromProps;d="function"===typeof u||"function"===typeof i.getSnapshotBeforeUpdate,o=t.pendingProps!==o,d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o||c!==a)&&fo(t,i,r,a),ti=!1;var h=t.memoizedState;i.state=h,di(t,r,i,s),ci(),c=t.memoizedState,o||h!==c||ti?("function"===typeof u&&(ho(t,n,u,r),c=t.memoizedState),(l=ti||mo(t,n,l,r,h,c,a))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=a,r=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,ri(e,t),d=go(n,a=t.memoizedProps),i.props=d,u=t.pendingProps,h=i.context,c=n.contextType,l=Mr,"object"===typeof c&&null!==c&&(l=Cs(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(a!==u||h!==l)&&fo(t,i,r,l),ti=!1,h=t.memoizedState,i.state=h,di(t,r,i,s),ci();var p=t.memoizedState;a!==u||h!==p||ti||null!==e&&null!==e.dependencies&&Ns(e.dependencies)?("function"===typeof o&&(ho(t,n,o,r),p=t.memoizedState),(d=ti||mo(t,n,d,r,h,p,l)||null!==e&&null!==e.dependencies&&Ns(e.dependencies))?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,p,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=l,r=d):("function"!==typeof i.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,Mo(e,t),r=0!==(128&t.flags),i||r?(i=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&r?(t.child=to(t,e.child,null,s),t.child=to(t,null,n,s)):To(e,t,n,s),t.memoizedState=i.state,e=t.child):e=Yo(e,t,s),e}function Oo(e,t,n,r){return ps(),t.flags|=256,To(e,t,n,r),t.child}var zo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bo(e){return{baseLanes:e,cachePool:Ws()}}function Uo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function qo(e,t,n){var r,s=t.pendingProps,i=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&co.current)),r&&(i=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(is){if(i?io(t):oo(),is){var l,c=ss;if(l=c){e:{for(l=c,c=os;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=xu(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Qr?{id:Jr,overflow:Zr}:null,retryLane:536870912,hydrationErrors:null},(l=_r(18,null,null,0)).stateNode=c,l.return=t,t.child=l,rs=t,ss=null,l=!0):l=!1}l||cs(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gu(c)?t.lanes=32:t.lanes=536870912,null;lo(t)}return c=s.children,s=s.fallback,i?(oo(),c=Wo({mode:"hidden",children:c},i=t.mode),s=Ur(s,i,n,null),c.return=t,s.return=t,c.sibling=s,t.child=c,(i=t.child).memoizedState=Bo(n),i.childLanes=Uo(e,r,n),t.memoizedState=zo,s):(io(t),Vo(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(io(t),t.flags&=-257,t=Ho(e,t,n)):null!==t.memoizedState?(oo(),t.child=e.child,t.flags|=128,t=null):(oo(),i=s.fallback,c=t.mode,s=Wo({mode:"visible",children:s.children},c),(i=Ur(i,c,n,null)).flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,to(t,e.child,null,n),(s=t.child).memoizedState=Bo(n),s.childLanes=Uo(e,r,n),t.memoizedState=zo,t=i);else if(io(t),gu(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var d=r.dgst;r=d,(s=Error(a(419))).stack="",s.digest=r,fs({value:s,source:null,stack:null}),t=Ho(e,t,n)}else if(Ao||ks(e,t,n,!1),r=0!==(n&e.childLanes),Ao||r){if(null!==(r=rc)&&(0!==(s=0!==((s=0!==(42&(s=n&-n))?1:Te(s))&(r.suspendedLanes|n))?0:s)&&s!==l.retryLane))throw l.retryLane=s,Fr(e,s),_c(r,e,s),Co;"$?"===c.data||Kc(),t=Ho(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ss=xu(c.nextSibling),rs=t,is=!0,as=null,os=!1,null!==e&&(Xr[Yr++]=Jr,Xr[Yr++]=Zr,Xr[Yr++]=Qr,Jr=e.id,Zr=e.overflow,Qr=t),(t=Vo(t,s.children)).flags|=4096);return t}return i?(oo(),i=s.fallback,c=t.mode,d=(l=e.child).sibling,(s=Or(l,{mode:"hidden",children:s.children})).subtreeFlags=65011712&l.subtreeFlags,null!==d?i=Or(d,i):(i=Ur(i,c,n,null)).flags|=2,i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,null===(c=e.child.memoizedState)?c=Bo(n):(null!==(l=c.cachePool)?(d=Rs._currentValue,l=l.parent!==d?{parent:d,pool:d}:l):l=Ws(),c={baseLanes:c.baseLanes|n,cachePool:l}),i.memoizedState=c,i.childLanes=Uo(e,r,n),t.memoizedState=zo,s):(io(t),e=(n=e.child).sibling,(n=Or(n,{mode:"visible",children:s.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Vo(e,t){return(t=Wo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Wo(e,t){return(e=_r(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ho(e,t,n){return to(t,e.child,null,n),(e=Vo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Go(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ws(e.return,t,n)}function Ko(e,t,n,r,s){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Xo(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(To(e,t,r.children,n),0!==(2&(r=co.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Go(e,n,t);else if(19===e.tag)Go(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(U(co,r),s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Ko(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===uo(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Ko(t,!0,n,null,i);break;case"together":Ko(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),pc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(ks(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Or(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Or(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Qo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ns(e))}function Jo(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ao=!0;else{if(!Qo(e,n)&&0===(128&t.flags))return Ao=!1,function(e,t,n){switch(t.tag){case 3:G(t,t.stateNode.containerInfo),ys(0,Rs,e.memoizedState.cache),ps();break;case 27:case 5:X(t);break;case 4:G(t,t.stateNode.containerInfo);break;case 10:ys(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(io(t),t.flags|=128,null):0!==(n&t.child.childLanes)?qo(e,t,n):(io(t),null!==(e=Yo(e,t,n))?e.sibling:null);io(t);break;case 19:var s=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(ks(e,t,n,!1),r=0!==(n&t.childLanes)),s){if(r)return Xo(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),U(co,co.current),r)break;return null;case 22:case 23:return t.lanes=0,Ro(e,t,n);case 24:ys(0,Rs,e.memoizedState.cache)}return Yo(e,t,n)}(e,t,n);Ao=0!==(131072&e.flags)}else Ao=!1,is&&0!==(1048576&t.flags)&&es(t,Kr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,s=r._init;if(r=s(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((s=r.$$typeof)===j){t.tag=11,t=Eo(null,t,r,e,n);break e}if(s===S){t.tag=14,t=Po(null,t,r,e,n);break e}}throw t=R(r)||r,Error(a(306,t,""))}Lr(r)?(e=go(r,e),t.tag=1,t=Lo(null,t,r,e,n)):(t.tag=0,t=Io(null,t,r,e,n))}return t;case 0:return Io(e,t,t.type,t.pendingProps,n);case 1:return Lo(e,t,r=t.type,s=go(r,t.pendingProps),n);case 3:e:{if(G(t,t.stateNode.containerInfo),null===e)throw Error(a(387));r=t.pendingProps;var i=t.memoizedState;s=i.element,ri(e,t),di(t,r,null,n);var o=t.memoizedState;if(r=o.cache,ys(0,Rs,r),r!==i.cache&&js(t,[Rs],n,!0),ci(),r=o.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Oo(e,t,r,n);break e}if(r!==s){fs(s=Nr(Error(a(424)),t)),t=Oo(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ss=xu(e.firstChild),rs=t,is=!0,as=null,os=!0,n=no(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ps(),r===s){t=Yo(e,t,n);break e}To(e,t,r,n)}t=t.child}return t;case 26:return Mo(e,t),null===e?(n=Tu(t.type,null,t.pendingProps,null))?t.memoizedState=n:is||(n=t.type,e=t.pendingProps,(r=ru(W.current).createElement(n))[Re]=t,r[De]=e,eu(r,n,e),He(r),t.stateNode=r):t.memoizedState=Tu(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return X(t),null===e&&is&&(r=t.stateNode=vu(t.type,t.pendingProps,W.current),rs=t,os=!0,s=ss,pu(t.type)?(bu=s,ss=xu(r.firstChild)):ss=s),To(e,t,t.pendingProps.children,n),Mo(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&is&&((s=r=ss)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[ze])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==s.rel||e.getAttribute("href")!==(null==s.href||""===s.href?null:s.href)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin)||e.getAttribute("title")!==(null==s.title?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==s.src?null:s.src)||e.getAttribute("type")!==(null==s.type?null:s.type)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==s.name?null:""+s.name;if("hidden"===s.type&&e.getAttribute("name")===i)return e}if(null===(e=xu(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,os))?(t.stateNode=r,rs=t,ss=xu(r.firstChild),os=!1,s=!0):s=!1),s||cs(t)),X(t),s=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,r=i.children,au(s,i)?r=null:null!==o&&au(s,o)&&(t.flags|=32),null!==t.memoizedState&&(s=Fi(e,t,Mi,null,null,n),Xu._currentValue=s),Mo(e,t),To(e,t,r,n),t.child;case 6:return null===e&&is&&((e=n=ss)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=xu(e.nextSibling)))return null}return e}(n,t.pendingProps,os))?(t.stateNode=n,rs=t,ss=null,e=!0):e=!1),e||cs(t)),null;case 13:return qo(e,t,n);case 4:return G(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=to(t,null,r,n):To(e,t,r,n),t.child;case 11:return Eo(e,t,t.type,t.pendingProps,n);case 7:return To(e,t,t.pendingProps,n),t.child;case 8:case 12:return To(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,ys(0,t.type,r.value),To(e,t,r.children,n),t.child;case 9:return s=t.type._context,r=t.pendingProps.children,Ss(t),r=r(s=Cs(s)),t.flags|=1,To(e,t,r,n),t.child;case 14:return Po(e,t,t.type,t.pendingProps,n);case 15:return Fo(e,t,t.type,t.pendingProps,n);case 19:return Xo(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Wo(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Or(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Ro(e,t,n);case 24:return Ss(t),r=Cs(Rs),null===e?(null===(s=qs())&&(s=rc,i=Ds(),s.pooledCache=i,i.refCount++,null!==i&&(s.pooledCacheLanes|=n),s=i),t.memoizedState={parent:r,cache:s},ni(t),ys(0,Rs,s)):(0!==(e.lanes&n)&&(ri(e,t),di(t,null,null,n),ci()),s=e.memoizedState,i=t.memoizedState,s.parent!==r?(s={parent:r,cache:r},t.memoizedState=s,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=s),ys(0,Rs,r)):(r=i.cache,ys(0,Rs,r),r!==s.cache&&js(t,[Rs],n,!0))),To(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function Zo(e){e.flags|=4}function $o(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Uu(t)){if(null!==(t=ro.current)&&((4194048&ic)===ic?null!==so:(62914560&ic)!==ic&&0===(536870912&ic)||t!==so))throw Zs=Xs,Gs;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?ke():536870912,e.lanes|=t,xc|=t)}function tl(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=65011712&s.subtreeFlags,r|=65011712&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(ns(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),vs(Rs),K(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(hs(t)?Zo(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,ms())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Zo(t),null!==n?(nl(t),$o(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Zo(t),nl(t),$o(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Zo(t),nl(t),t.flags&=-16777217),null;case 27:Y(t),n=W.current;var s=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Zo(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return nl(t),null}e=q.current,hs(t)?ds(t):(e=vu(s,r,n),t.stateNode=e,Zo(t))}return nl(t),null;case 5:if(Y(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Zo(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return nl(t),null}if(e=q.current,hs(t))ds(t);else{switch(s=ru(W.current),e){case 1:e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?s.createElement(n,{is:r.is}):s.createElement(n)}}e[Re]=t,e[De]=r;e:for(s=t.child;null!==s;){if(5===s.tag||6===s.tag)e.appendChild(s.stateNode);else if(4!==s.tag&&27!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;null===s.sibling;){if(null===s.return||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=e;e:switch(eu(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Zo(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Zo(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=W.current,hs(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(s=rs))switch(s.tag){case 27:case 5:r=s.memoizedProps}e[Re]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Qd(e.nodeValue,n)))||cs(t)}else(e=ru(e).createTextNode(r))[Re]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(s=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(a(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(a(317));s[Re]=t}else ps(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),s=!1}else s=ms(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return 256&t.flags?(lo(t),t):(lo(t),null)}if(lo(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){s=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(s=r.alternate.memoizedState.cachePool.pool);var i=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(i=r.memoizedState.cachePool.pool),i!==s&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return K(),null===e&&Bd(t.stateNode.containerInfo),nl(t),null;case 10:return vs(t.type),nl(t),null;case 19:if(B(co),null===(s=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(i=s.rendering))if(r)tl(s,!1);else{if(0!==hc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=uo(e))){for(t.flags|=128,tl(s,!1),e=i.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)zr(n,e),n=n.sibling;return U(co,1&co.current|2),t.child}e=e.sibling}null!==s.tail&&te()>jc&&(t.flags|=128,r=!0,tl(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(i))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(s,!0),null===s.tail&&"hidden"===s.tailMode&&!i.alternate&&!is)return nl(t),null}else 2*te()-s.renderingStartTime>jc&&536870912!==n&&(t.flags|=128,r=!0,tl(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=s.last)?e.sibling=i:t.child=i,s.last=i)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=te(),t.sibling=null,e=co.current,U(co,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return lo(t),xi(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&B(Us),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),vs(Rs),nl(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function sl(e,t){switch(ns(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return vs(Rs),K(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Y(t),null;case 13:if(lo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ps()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return B(co),null;case 4:return K(),null;case 10:return vs(t.type),null;case 22:case 23:return lo(t),xi(),null!==e&&B(Us),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return vs(Rs),null;default:return null}}function il(e,t){switch(ns(t),t.tag){case 3:vs(Rs),K();break;case 26:case 27:case 5:Y(t);break;case 4:K();break;case 13:lo(t);break;case 19:B(co);break;case 10:vs(t.type);break;case 22:case 23:lo(t),xi(),null!==e&&B(Us);break;case 24:vs(Rs)}}function al(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var s=r.next;n=s;do{if((n.tag&e)===e){r=void 0;var i=n.create,a=n.inst;r=i(),a.destroy=r}n=n.next}while(n!==s)}}catch(o){dd(t,t.return,o)}}function ol(e,t,n){try{var r=t.updateQueue,s=null!==r?r.lastEffect:null;if(null!==s){var i=s.next;r=i;do{if((r.tag&e)===e){var a=r.inst,o=a.destroy;if(void 0!==o){a.destroy=void 0,s=t;var l=n,c=o;try{c()}catch(d){dd(s,l,d)}}}r=r.next}while(r!==i)}}catch(d){dd(t,t.return,d)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{hi(t,n)}catch(r){dd(e,e.return,r)}}}function cl(e,t,n){n.props=go(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){dd(e,t,r)}}function dl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(s){dd(e,t,s)}}function ul(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(s){dd(e,t,s)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(i){dd(e,t,i)}else n.current=null}function hl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(s){dd(e,e.return,s)}}function pl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,i=null,o=null,l=null,c=null,d=null,u=null;for(m in n){var h=n[m];if(n.hasOwnProperty(m)&&null!=h)switch(m){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(m)||Zd(e,t,m,null,r,h)}}for(var p in r){var m=r[p];if(h=n[p],r.hasOwnProperty(p)&&(null!=m||null!=h))switch(p){case"type":i=m;break;case"name":s=m;break;case"checked":d=m;break;case"defaultChecked":u=m;break;case"value":o=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(a(137,t));break;default:m!==h&&Zd(e,t,p,m,r,h)}}return void gt(e,o,l,c,d,u,i,s);case"select":for(i in m=o=l=p=null,n)if(c=n[i],n.hasOwnProperty(i)&&null!=c)switch(i){case"value":break;case"multiple":m=c;default:r.hasOwnProperty(i)||Zd(e,t,i,null,r,c)}for(s in r)if(i=r[s],c=n[s],r.hasOwnProperty(s)&&(null!=i||null!=c))switch(s){case"value":p=i;break;case"defaultValue":l=i;break;case"multiple":o=i;default:i!==c&&Zd(e,t,s,i,r,c)}return t=l,n=o,r=m,void(null!=p?yt(e,!!n,p,!1):!!r!==!!n&&(null!=t?yt(e,!!n,t,!0):yt(e,!!n,n?[]:"",!1)));case"textarea":for(l in m=p=null,n)if(s=n[l],n.hasOwnProperty(l)&&null!=s&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Zd(e,t,l,null,r,s)}for(o in r)if(s=r[o],i=n[o],r.hasOwnProperty(o)&&(null!=s||null!=i))switch(o){case"value":p=s;break;case"defaultValue":m=s;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(a(91));break;default:s!==i&&Zd(e,t,o,s,r,i)}return void vt(e,p,m);case"option":for(var f in n)if(p=n[f],n.hasOwnProperty(f)&&null!=p&&!r.hasOwnProperty(f))if("selected"===f)e.selected=!1;else Zd(e,t,f,null,r,p);for(c in r)if(p=r[c],m=n[c],r.hasOwnProperty(c)&&p!==m&&(null!=p||null!=m))if("selected"===c)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else Zd(e,t,c,p,r,m);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!r.hasOwnProperty(g)&&Zd(e,t,g,null,r,p);for(d in r)if(p=r[d],m=n[d],r.hasOwnProperty(d)&&p!==m&&(null!=p||null!=m))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:Zd(e,t,d,p,r,m)}return;default:if(Ct(t)){for(var x in n)p=n[x],n.hasOwnProperty(x)&&void 0!==p&&!r.hasOwnProperty(x)&&$d(e,t,x,void 0,r,p);for(u in r)p=r[u],m=n[u],!r.hasOwnProperty(u)||p===m||void 0===p&&void 0===m||$d(e,t,u,p,r,m);return}}for(var b in n)p=n[b],n.hasOwnProperty(b)&&null!=p&&!r.hasOwnProperty(b)&&Zd(e,t,b,null,r,p);for(h in r)p=r[h],m=n[h],!r.hasOwnProperty(h)||p===m||null==p&&null==m||Zd(e,t,h,p,r,m)}(r,e.type,n,t),r[De]=t}catch(s){dd(e,e.return,s)}}function ml(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&pu(e.type)||4===e.tag}function fl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ml(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&pu(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jd));else if(4!==r&&(27===r&&pu(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function xl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&pu(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(xl(e,t,n),e=e.sibling;null!==e;)xl(e,t,n),e=e.sibling}function bl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);eu(t,r,n),t[Re]=e,t[De]=n}catch(i){dd(e,e.return,i)}}var yl=!1,vl=!1,wl=!1,jl="function"===typeof WeakSet?WeakSet:Set,kl=null;function Nl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ll(e,n),4&r&&al(5,n);break;case 1:if(Ll(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){dd(n,n.return,a)}else{var s=go(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){dd(n,n.return,o)}}64&r&&ll(n),512&r&&dl(n,n.return);break;case 3:if(Ll(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{hi(e,t)}catch(a){dd(n,n.return,a)}}break;case 27:null===t&&4&r&&bl(n);case 26:case 5:Ll(e,n),null===t&&4&r&&hl(n),512&r&&dl(n,n.return);break;case 12:Ll(e,n);break;case 13:Ll(e,n),4&r&&Pl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=md.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||yl)){t=null!==t&&null!==t.memoizedState||vl,s=yl;var i=vl;yl=r,(vl=t)&&!i?zl(e,n,0!==(8772&n.subtreeFlags)):Ll(e,n),yl=s,vl=i}break;case 30:break;default:Ll(e,n)}}function Sl(e){var t=e.alternate;null!==t&&(e.alternate=null,Sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Be(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Cl=null,Al=!1;function Tl(e,t,n){for(n=n.child;null!==n;)El(e,t,n),n=n.sibling}function El(e,t,n){if(ue&&"function"===typeof ue.onCommitFiberUnmount)try{ue.onCommitFiberUnmount(de,n)}catch(i){}switch(n.tag){case 26:vl||ul(n,t),Tl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:vl||ul(n,t);var r=Cl,s=Al;pu(n.type)&&(Cl=n.stateNode,Al=!1),Tl(e,t,n),wu(n.stateNode),Cl=r,Al=s;break;case 5:vl||ul(n,t);case 6:if(r=Cl,s=Al,Cl=null,Tl(e,t,n),Al=s,null!==(Cl=r))if(Al)try{(9===Cl.nodeType?Cl.body:"HTML"===Cl.nodeName?Cl.ownerDocument.body:Cl).removeChild(n.stateNode)}catch(a){dd(n,t,a)}else try{Cl.removeChild(n.stateNode)}catch(a){dd(n,t,a)}break;case 18:null!==Cl&&(Al?(mu(9===(e=Cl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Ah(e)):mu(Cl,n.stateNode));break;case 4:r=Cl,s=Al,Cl=n.stateNode.containerInfo,Al=!0,Tl(e,t,n),Cl=r,Al=s;break;case 0:case 11:case 14:case 15:vl||ol(2,n,t),vl||ol(4,n,t),Tl(e,t,n);break;case 1:vl||(ul(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),Tl(e,t,n);break;case 21:Tl(e,t,n);break;case 22:vl=(r=vl)||null!==n.memoizedState,Tl(e,t,n),vl=r;break;default:Tl(e,t,n)}}function Pl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Ah(e)}catch(n){dd(t,t.return,n)}}function Fl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new jl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new jl),t;default:throw Error(a(435,e.tag))}}(e);t.forEach((function(t){var r=fd.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function Rl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r],i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(pu(l.type)){Cl=l.stateNode,Al=!1;break e}break;case 5:Cl=l.stateNode,Al=!1;break e;case 3:case 4:Cl=l.stateNode.containerInfo,Al=!0;break e}l=l.return}if(null===Cl)throw Error(a(160));El(i,o,s),Cl=null,Al=!1,null!==(i=s.alternate)&&(i.return=null),s.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Ml(t,e),t=t.sibling}var Dl=null;function Ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Rl(t,e),Il(e),4&r&&(ol(3,e,e.return),al(3,e),ol(5,e,e.return));break;case 1:Rl(t,e),Il(e),512&r&&(vl||null===n||ul(n,n.return)),64&r&&yl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var s=Dl;if(Rl(t,e),Il(e),512&r&&(vl||null===n||ul(n,n.return)),4&r){var i=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(r){case"title":(!(i=s.getElementsByTagName("title")[0])||i[ze]||i[Re]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=s.createElement(r),s.head.insertBefore(i,s.querySelector("head > title"))),eu(i,r,n),i[Re]=e,He(i),r=i;break e;case"link":var o=zu("link","href",s).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((i=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}eu(i=s.createElement(r),r,n),s.head.appendChild(i);break;case"meta":if(o=zu("meta","content",s).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((i=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}eu(i=s.createElement(r),r,n),s.head.appendChild(i);break;default:throw Error(a(468,r))}i[Re]=e,He(i),r=i}e.stateNode=r}else Bu(s,e.type,e.stateNode);else e.stateNode=Mu(s,r,e.memoizedProps);else i!==r?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===r?Bu(s,e.type,e.stateNode):Mu(s,r,e.memoizedProps)):null===r&&null!==e.stateNode&&pl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Rl(t,e),Il(e),512&r&&(vl||null===n||ul(n,n.return)),null!==n&&4&r&&pl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Rl(t,e),Il(e),512&r&&(vl||null===n||ul(n,n.return)),32&e.flags){s=e.stateNode;try{jt(s,"")}catch(m){dd(e,e.return,m)}}4&r&&null!=e.stateNode&&pl(e,s=e.memoizedProps,null!==n?n.memoizedProps:s),1024&r&&(wl=!0);break;case 6:if(Rl(t,e),Il(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){dd(e,e.return,m)}}break;case 3:if(Ou=null,s=Dl,Dl=Nu(t.containerInfo),Rl(t,e),Dl=s,Il(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ah(t.containerInfo)}catch(m){dd(e,e.return,m)}wl&&(wl=!1,_l(e));break;case 4:r=Dl,Dl=Nu(e.stateNode.containerInfo),Rl(t,e),Il(e),Dl=r;break;case 12:default:Rl(t,e),Il(e);break;case 13:Rl(t,e),Il(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(wc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Fl(e,r)));break;case 22:s=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,d=yl,u=vl;if(yl=d||s,vl=u||c,Rl(t,e),vl=u,yl=d,Il(e),8192&r)e:for(t=e.stateNode,t._visibility=s?-2&t._visibility:1|t._visibility,s&&(null===n||c||yl||vl||Ol(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(i=c.stateNode,s)"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,p=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(m){dd(c,c.return,m)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=s?"":c.memoizedProps}catch(m){dd(c,c.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Fl(e,n))));break;case 19:Rl(t,e),Il(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Fl(e,r)));case 30:case 21:}}function Il(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(ml(r)){n=r;break}r=r.return}if(null==n)throw Error(a(160));switch(n.tag){case 27:var s=n.stateNode;xl(e,fl(e),s);break;case 5:var i=n.stateNode;32&n.flags&&(jt(i,""),n.flags&=-33),xl(e,fl(e),i);break;case 3:case 4:var o=n.stateNode.containerInfo;gl(e,fl(e),o);break;default:throw Error(a(161))}}catch(l){dd(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function _l(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;_l(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ll(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Nl(e,t.alternate,t),t=t.sibling}function Ol(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ol(4,t,t.return),Ol(t);break;case 1:ul(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),Ol(t);break;case 27:wu(t.stateNode);case 26:case 5:ul(t,t.return),Ol(t);break;case 22:null===t.memoizedState&&Ol(t);break;default:Ol(t)}e=e.sibling}}function zl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,s=e,i=t,a=i.flags;switch(i.tag){case 0:case 11:case 15:zl(s,i,n),al(4,i);break;case 1:if(zl(s,i,n),"function"===typeof(s=(r=i).stateNode).componentDidMount)try{s.componentDidMount()}catch(c){dd(r,r.return,c)}if(null!==(s=(r=i).updateQueue)){var o=r.stateNode;try{var l=s.shared.hiddenCallbacks;if(null!==l)for(s.shared.hiddenCallbacks=null,s=0;s<l.length;s++)ui(l[s],o)}catch(c){dd(r,r.return,c)}}n&&64&a&&ll(i),dl(i,i.return);break;case 27:bl(i);case 26:case 5:zl(s,i,n),n&&null===r&&4&a&&hl(i),dl(i,i.return);break;case 12:zl(s,i,n);break;case 13:zl(s,i,n),n&&4&a&&Pl(s,i);break;case 22:null===i.memoizedState&&zl(s,i,n),dl(i,i.return);break;case 30:break;default:zl(s,i,n)}t=t.sibling}}function Bl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ms(n))}function Ul(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ms(e))}function ql(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Vl(e,t,n,r),t=t.sibling}function Vl(e,t,n,r){var s=t.flags;switch(t.tag){case 0:case 11:case 15:ql(e,t,n,r),2048&s&&al(9,t);break;case 1:case 13:default:ql(e,t,n,r);break;case 3:ql(e,t,n,r),2048&s&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ms(e)));break;case 12:if(2048&s){ql(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,a=i.id,o=i.onPostCommit;"function"===typeof o&&o(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){dd(t,t.return,l)}}else ql(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,a=t.alternate,null!==t.memoizedState?2&i._visibility?ql(e,t,n,r):Hl(e,t):2&i._visibility?ql(e,t,n,r):(i._visibility|=2,Wl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&s&&Bl(a,t);break;case 24:ql(e,t,n,r),2048&s&&Ul(t.alternate,t)}}function Wl(e,t,n,r,s){for(s=s&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var i=e,a=t,o=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:Wl(i,a,o,l,s),al(8,a);break;case 23:break;case 22:var d=a.stateNode;null!==a.memoizedState?2&d._visibility?Wl(i,a,o,l,s):Hl(i,a):(d._visibility|=2,Wl(i,a,o,l,s)),s&&2048&c&&Bl(a.alternate,a);break;case 24:Wl(i,a,o,l,s),s&&2048&c&&Ul(a.alternate,a);break;default:Wl(i,a,o,l,s)}t=t.sibling}}function Hl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,s=r.flags;switch(r.tag){case 22:Hl(n,r),2048&s&&Bl(r.alternate,r);break;case 24:Hl(n,r),2048&s&&Ul(r.alternate,r);break;default:Hl(n,r)}t=t.sibling}}var Gl=8192;function Kl(e){if(e.subtreeFlags&Gl)for(e=e.child;null!==e;)Xl(e),e=e.sibling}function Xl(e){switch(e.tag){case 26:Kl(e),e.flags&Gl&&null!==e.memoizedState&&function(e,t,n){if(null===qu)throw Error(a(475));var r=qu;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var s=Eu(n.href),i=e.querySelector(Pu(s));if(i)return null!==(e=i._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Wu.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=i,void He(i);i=e.ownerDocument||e,n=Fu(n),(s=ju.get(s))&&_u(n,s),He(i=i.createElement("link"));var o=i;o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),eu(i,"link",n),t.instance=i}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Wu.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Dl,e.memoizedState,e.memoizedProps);break;case 5:default:Kl(e);break;case 3:case 4:var t=Dl;Dl=Nu(e.stateNode.containerInfo),Kl(e),Dl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Gl,Gl=16777216,Kl(e),Gl=t):Kl(e))}}function Yl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Ql(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];kl=r,$l(r,e)}Yl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Jl(e),e=e.sibling}function Jl(e){switch(e.tag){case 0:case 11:case 15:Ql(e),2048&e.flags&&ol(9,e,e.return);break;case 3:case 12:default:Ql(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Zl(e)):Ql(e)}}function Zl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];kl=r,$l(r,e)}Yl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ol(8,t,t.return),Zl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Zl(t));break;default:Zl(t)}e=e.sibling}}function $l(e,t){for(;null!==kl;){var n=kl;switch(n.tag){case 0:case 11:case 15:ol(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Ms(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,kl=r;else e:for(n=e;null!==kl;){var s=(r=kl).sibling,i=r.return;if(Sl(r),r===n){kl=null;break e}if(null!==s){s.return=i,kl=s;break e}kl=i}}}var ec={getCacheForType:function(e){var t=Cs(Rs),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,rc=null,sc=null,ic=0,ac=0,oc=null,lc=!1,cc=!1,dc=!1,uc=0,hc=0,pc=0,mc=0,fc=0,gc=0,xc=0,bc=null,yc=null,vc=!1,wc=0,jc=1/0,kc=null,Nc=null,Sc=0,Cc=null,Ac=null,Tc=0,Ec=0,Pc=null,Fc=null,Rc=0,Dc=null;function Mc(){if(0!==(2&nc)&&0!==ic)return ic&-ic;if(null!==M.T){return 0!==Ls?Ls:Ed()}return Pe()}function Ic(){0===gc&&(gc=0===(536870912&ic)||is?je():536870912);var e=ro.current;return null!==e&&(e.flags|=32),gc}function _c(e,t,n){(e!==rc||2!==ac&&9!==ac)&&null===e.cancelPendingCommit||(Vc(e,0),Bc(e,ic,gc,!1)),Se(e,n),0!==(2&nc)&&e===rc||(e===rc&&(0===(2&nc)&&(mc|=n),4===hc&&Bc(e,ic,gc,!1)),jd(e))}function Lc(e,t,n){if(0!==(6&nc))throw Error(a(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||ve(e,t),s=r?function(e,t){var n=nc;nc|=2;var r=Hc(),s=Gc();rc!==e||ic!==t?(kc=null,jc=te()+500,Vc(e,t)):cc=ve(e,t);e:for(;;)try{if(0!==ac&&null!==sc){t=sc;var i=oc;t:switch(ac){case 1:ac=0,oc=null,$c(e,t,i,1);break;case 2:case 9:if(Ys(i)){ac=0,oc=null,Zc(t);break}t=function(){2!==ac&&9!==ac||rc!==e||(ac=7),jd(e)},i.then(t,t);break e;case 3:ac=7;break e;case 4:ac=5;break e;case 7:Ys(i)?(ac=0,oc=null,Zc(t)):(ac=0,oc=null,$c(e,t,i,7));break;case 5:var o=null;switch(sc.tag){case 26:o=sc.memoizedState;case 5:case 27:var l=sc;if(!o||Uu(o)){ac=0,oc=null;var c=l.sibling;if(null!==c)sc=c;else{var d=l.return;null!==d?(sc=d,ed(d)):sc=null}break t}}ac=0,oc=null,$c(e,t,i,5);break;case 6:ac=0,oc=null,$c(e,t,i,6);break;case 8:qc(),hc=6;break e;default:throw Error(a(462))}}Qc();break}catch(u){Wc(e,u)}return bs=xs=null,M.H=r,M.A=s,nc=n,null!==sc?0:(rc=null,ic=0,Tr(),hc)}(e,t):Xc(e,t,!0),i=r;;){if(0===s){cc&&!r&&Bc(e,t,0,!1);break}if(n=e.current.alternate,!i||zc(n)){if(2===s){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;s=bc;var c=l.current.memoizedState.isDehydrated;if(c&&(Vc(l,o).flags|=256),2!==(o=Xc(l,o,!1))){if(dc&&!c){l.errorRecoveryDisabledLanes|=i,mc|=i,s=4;break e}i=yc,yc=s,null!==i&&(null===yc?yc=i:yc.push.apply(yc,i))}s=o}if(i=!1,2!==s)continue}}if(1===s){Vc(e,0),Bc(e,t,0,!0);break}e:{switch(r=e,i=s){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:Bc(r,t,gc,!lc);break e;case 2:yc=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(s=wc+300-te())){if(Bc(r,t,gc,!lc),0!==ye(r,0,!0))break e;r.timeoutHandle=lu(Oc.bind(null,r,n,yc,kc,vc,t,gc,mc,xc,lc,i,2,-0,0),s)}else Oc(r,n,yc,kc,vc,t,gc,mc,xc,lc,i,0,-0,0)}break}s=Xc(e,t,!1),i=!1}jd(e)}function Oc(e,t,n,r,s,i,o,l,c,d,u,h,p,m){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(qu={stylesheets:null,count:0,unsuspend:Vu},Xl(t),null!==(h=function(){if(null===qu)throw Error(a(475));var e=qu;return e.stylesheets&&0===e.count&&Gu(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Gu(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(nd.bind(null,e,t,i,n,r,s,o,l,c,u,1,p,m)),void Bc(e,i,o,!d);nd(e,t,i,n,r,s,o,l,c)}function zc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Yn(i(),s))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bc(e,t,n,r){t&=~fc,t&=~mc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var s=t;0<s;){var i=31-pe(s),a=1<<i;r[i]=-1,s&=~a}0!==n&&Ce(e,n,t)}function Uc(){return 0!==(6&nc)||(kd(0,!1),!1)}function qc(){if(null!==sc){if(0===ac)var e=sc.return;else bs=xs=null,Li(e=sc),Xa=null,Ya=0,e=sc;for(;null!==e;)il(e.alternate,e),e=e.return;sc=null}}function Vc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cu(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),qc(),rc=e,sc=n=Or(e.current,null),ic=t,ac=0,oc=null,lc=!1,cc=ve(e,t),dc=!1,xc=gc=fc=mc=pc=hc=0,yc=bc=null,vc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var s=31-pe(r),i=1<<s;t|=e[s],r&=~i}return uc=t,Tr(),n}function Wc(e,t){yi=null,M.H=Wa,t===Hs||t===Ks?(t=$s(),ac=3):t===Gs?(t=$s(),ac=4):ac=t===Co?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,oc=t,null===sc&&(hc=1,wo(e,Nr(t,e.current)))}function Hc(){var e=M.H;return M.H=Wa,null===e?Wa:e}function Gc(){var e=M.A;return M.A=ec,e}function Kc(){hc=4,lc||(4194048&ic)!==ic&&null!==ro.current||(cc=!0),0===(134217727&pc)&&0===(134217727&mc)||null===rc||Bc(rc,ic,gc,!1)}function Xc(e,t,n){var r=nc;nc|=2;var s=Hc(),i=Gc();rc===e&&ic===t||(kc=null,Vc(e,t)),t=!1;var a=hc;e:for(;;)try{if(0!==ac&&null!==sc){var o=sc,l=oc;switch(ac){case 8:qc(),a=6;break e;case 3:case 2:case 9:case 6:null===ro.current&&(t=!0);var c=ac;if(ac=0,oc=null,$c(e,o,l,c),n&&cc){a=0;break e}break;default:c=ac,ac=0,oc=null,$c(e,o,l,c)}}Yc(),a=hc;break}catch(d){Wc(e,d)}return t&&e.shellSuspendCounter++,bs=xs=null,nc=r,M.H=s,M.A=i,null===sc&&(rc=null,ic=0,Tr()),a}function Yc(){for(;null!==sc;)Jc(sc)}function Qc(){for(;null!==sc&&!$();)Jc(sc)}function Jc(e){var t=Jo(e.alternate,e,uc);e.memoizedProps=e.pendingProps,null===t?ed(e):sc=t}function Zc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=_o(n,t,t.pendingProps,t.type,void 0,ic);break;case 11:t=_o(n,t,t.pendingProps,t.type.render,t.ref,ic);break;case 5:Li(t);default:il(n,t),t=Jo(n,t=sc=zr(t,uc),uc)}e.memoizedProps=e.pendingProps,null===t?ed(e):sc=t}function $c(e,t,n,r){bs=xs=null,Li(t),Xa=null,Ya=0;var s=t.return;try{if(function(e,t,n,r,s){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&ks(t,n,s,!0),null!==(n=ro.current)){switch(n.tag){case 13:return null===so?Kc():null===n.alternate&&0===hc&&(hc=3),n.flags&=-257,n.flags|=65536,n.lanes=s,r===Xs?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),ud(e,r,s)),!1;case 22:return n.flags|=65536,r===Xs?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),ud(e,r,s)),!1}throw Error(a(435,n.tag))}return ud(e,r,s),Kc(),!1}if(is)return null!==(t=ro.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=s,r!==ls&&fs(Nr(e=Error(a(422),{cause:r}),n))):(r!==ls&&fs(Nr(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,s&=-s,e.lanes|=s,r=Nr(r,n),oi(e,s=ko(e.stateNode,r,s)),4!==hc&&(hc=2)),!1;var i=Error(a(520),{cause:r});if(i=Nr(i,n),null===bc?bc=[i]:bc.push(i),4!==hc&&(hc=2),null===t)return!0;r=Nr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,oi(n,e=ko(n.stateNode,r,e)),!1;case 1:if(t=n.type,i=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==i&&"function"===typeof i.componentDidCatch&&(null===Nc||!Nc.has(i))))return n.flags|=65536,s&=-s,n.lanes|=s,So(s=No(s),e,n,r),oi(n,s),!1}n=n.return}while(null!==n);return!1}(e,s,t,n,ic))return hc=1,wo(e,Nr(n,e.current)),void(sc=null)}catch(i){if(null!==s)throw sc=s,i;return hc=1,wo(e,Nr(n,e.current)),void(sc=null)}32768&t.flags?(is||1===r?e=!0:cc||0!==(536870912&ic)?e=!1:(lc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=ro.current)&&13===r.tag&&(r.flags|=16384))),td(t,e)):ed(t)}function ed(e){var t=e;do{if(0!==(32768&t.flags))return void td(t,lc);e=t.return;var n=rl(t.alternate,t,uc);if(null!==n)return void(sc=n);if(null!==(t=t.sibling))return void(sc=t);sc=t=e}while(null!==t);0===hc&&(hc=5)}function td(e,t){do{var n=sl(e.alternate,e);if(null!==n)return n.flags&=32767,void(sc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(sc=e);sc=e=n}while(null!==e);hc=6,sc=null}function nd(e,t,n,r,s,i,o,l,c){e.cancelPendingCommit=null;do{od()}while(0!==Sc);if(0!==(6&nc))throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(i=t.lanes|t.childLanes,function(e,t,n,r,s,i){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var d=31-pe(n),u=1<<d;o[d]=0,l[d]=-1;var h=c[d];if(null!==h)for(c[d]=null,d=0;d<h.length;d++){var p=h[d];null!==p&&(p.lane&=-536870913)}n&=~u}0!==r&&Ce(e,r,0),0!==i&&0===s&&0!==e.tag&&(e.suspendedLanes|=i&~(a&~t))}(e,n,i|=Ar,o,l,c),e===rc&&(sc=rc=null,ic=0),Ac=t,Cc=e,Tc=n,Ec=i,Pc=s,Fc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,J(ie,(function(){return ld(),null}))):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=M.T,M.T=null,s=I.p,I.p=2,o=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,tu=nh,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,p=null;t:for(;;){for(var m;h!==n||0!==s&&3!==h.nodeType||(l=o+s),h!==i||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(m=h.firstChild);)p=h,h=m;for(;;){if(h===e)break t;if(p===n&&++d===s&&(l=o),p===i&&++u===r&&(c=o),null!==(m=h.nextSibling))break;p=(h=p).parentNode}h=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nu={focusedElem:e,selectionRange:n},nh=!1,kl=t;null!==kl;)if(e=(t=kl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,kl=e;else for(;null!==kl;){switch(i=(t=kl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==i){e=void 0,n=t,s=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var f=go(n.type,s,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(f,i),r.__reactInternalSnapshotBeforeUpdate=e}catch(x){dd(n,n.return,x)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))fu(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":fu(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,kl=e;break}kl=t.return}}(e,t)}finally{nc=o,I.p=s,M.T=r}}Sc=1,rd(),sd(),id()}}function rd(){if(1===Sc){Sc=0;var e=Cc,t=Ac,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=M.T,M.T=null;var r=I.p;I.p=2;var s=nc;nc|=4;try{Ml(t,e);var i=nu,a=er(e.containerInfo),o=i.focusedElem,l=i.selectionRange;if(a!==o&&o&&o.ownerDocument&&$n(o.ownerDocument.documentElement,o)){if(null!==l&&tr(o)){var c=l.start,d=l.end;if(void 0===d&&(d=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(d,o.value.length);else{var u=o.ownerDocument||document,h=u&&u.defaultView||window;if(h.getSelection){var p=h.getSelection(),m=o.textContent.length,f=Math.min(l.start,m),g=void 0===l.end?f:Math.min(l.end,m);!p.extend&&f>g&&(a=g,g=f,f=a);var x=Zn(o,f),b=Zn(o,g);if(x&&b&&(1!==p.rangeCount||p.anchorNode!==x.node||p.anchorOffset!==x.offset||p.focusNode!==b.node||p.focusOffset!==b.offset)){var y=u.createRange();y.setStart(x.node,x.offset),p.removeAllRanges(),f>g?(p.addRange(y),p.extend(b.node,b.offset)):(y.setEnd(b.node,b.offset),p.addRange(y))}}}}for(u=[],p=o;p=p.parentNode;)1===p.nodeType&&u.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<u.length;o++){var v=u[o];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}nh=!!tu,nu=tu=null}finally{nc=s,I.p=r,M.T=n}}e.current=t,Sc=2}}function sd(){if(2===Sc){Sc=0;var e=Cc,t=Ac,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=M.T,M.T=null;var r=I.p;I.p=2;var s=nc;nc|=4;try{Nl(e,t.alternate,t)}finally{nc=s,I.p=r,M.T=n}}Sc=3}}function id(){if(4===Sc||3===Sc){Sc=0,ee();var e=Cc,t=Ac,n=Tc,r=Fc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Sc=5:(Sc=0,Ac=Cc=null,ad(e,e.pendingLanes));var s=e.pendingLanes;if(0===s&&(Nc=null),Ee(n),t=t.stateNode,ue&&"function"===typeof ue.onCommitFiberRoot)try{ue.onCommitFiberRoot(de,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=M.T,s=I.p,I.p=2,M.T=null;try{for(var i=e.onRecoverableError,a=0;a<r.length;a++){var o=r[a];i(o.value,{componentStack:o.stack})}}finally{M.T=t,I.p=s}}0!==(3&Tc)&&od(),jd(e),s=e.pendingLanes,0!==(4194090&n)&&0!==(42&s)?e===Dc?Rc++:(Rc=0,Dc=e):Rc=0,kd(0,!1)}}function ad(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ms(t)))}function od(e){return rd(),sd(),id(),ld()}function ld(){if(5!==Sc)return!1;var e=Cc,t=Ec;Ec=0;var n=Ee(Tc),r=M.T,s=I.p;try{I.p=32>n?32:n,M.T=null,n=Pc,Pc=null;var i=Cc,o=Tc;if(Sc=0,Ac=Cc=null,Tc=0,0!==(6&nc))throw Error(a(331));var l=nc;if(nc|=4,Jl(i.current),Vl(i,i.current,o,n),nc=l,kd(0,!1),ue&&"function"===typeof ue.onPostCommitFiberRoot)try{ue.onPostCommitFiberRoot(de,i)}catch(c){}return!0}finally{I.p=s,M.T=r,ad(e,t)}}function cd(e,t,n){t=Nr(n,t),null!==(e=ii(e,t=ko(e.stateNode,t,2),2))&&(Se(e,2),jd(e))}function dd(e,t,n){if(3===e.tag)cd(e,e,n);else for(;null!==t;){if(3===t.tag){cd(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Nc||!Nc.has(r))){e=Nr(n,e),null!==(r=ii(t,n=No(2),2))&&(So(n,r,t,e),Se(r,2),jd(r));break}}t=t.return}}function ud(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(dc=!0,s.add(n),e=hd.bind(null,e,t,n),t.then(e,e))}function hd(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(ic&n)===n&&(4===hc||3===hc&&(62914560&ic)===ic&&300>te()-wc?0===(2&nc)&&Vc(e,0):fc|=n,xc===ic&&(xc=0)),jd(e)}function pd(e,t){0===t&&(t=ke()),null!==(e=Fr(e,t))&&(Se(e,t),jd(e))}function md(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pd(e,n)}function fd(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),pd(e,n)}var gd=null,xd=null,bd=!1,yd=!1,vd=!1,wd=0;function jd(e){e!==xd&&null===e.next&&(null===xd?gd=xd=e:xd=xd.next=e),yd=!0,bd||(bd=!0,uu((function(){0!==(6&nc)?J(re,Nd):Sd()})))}function kd(e,t){if(!vd&&yd){vd=!0;do{for(var n=!1,r=gd;null!==r;){if(!t)if(0!==e){var s=r.pendingLanes;if(0===s)var i=0;else{var a=r.suspendedLanes,o=r.pingedLanes;i=(1<<31-pe(42|e)+1)-1,i=201326741&(i&=s&~(a&~o))?201326741&i|1:i?2|i:0}0!==i&&(n=!0,Td(r,i))}else i=ic,0===(3&(i=ye(r,r===rc?i:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||ve(r,i)||(n=!0,Td(r,i));r=r.next}}while(n);vd=!1}}function Nd(){Sd()}function Sd(){yd=bd=!1;var e=0;0!==wd&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ou&&(ou=e,!0);return ou=null,!1}()&&(e=wd),wd=0);for(var t=te(),n=null,r=gd;null!==r;){var s=r.next,i=Cd(r,t);0===i?(r.next=null,null===n?gd=s:n.next=s,null===s&&(xd=n)):(n=r,(0!==e||0!==(3&i))&&(yd=!0)),r=s}kd(e,!1)}function Cd(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var a=31-pe(i),o=1<<a,l=s[a];-1===l?0!==(o&n)&&0===(o&r)||(s[a]=we(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}if(n=ic,n=ye(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===ac||9===ac)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&Z(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||ve(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&Z(r),Ee(n)){case 2:case 8:n=se;break;case 32:default:n=ie;break;case 268435456:n=oe}return r=Ad.bind(null,e),n=J(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&Z(r),e.callbackPriority=2,e.callbackNode=null,2}function Ad(e,t){if(0!==Sc&&5!==Sc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(od()&&e.callbackNode!==n)return null;var r=ic;return 0===(r=ye(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Lc(e,r,t),Cd(e,te()),null!=e.callbackNode&&e.callbackNode===n?Ad.bind(null,e):null)}function Td(e,t){if(od())return null;Lc(e,t,!0)}function Ed(){return 0===wd&&(wd=je()),wd}function Pd(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Et(""+e)}function Fd(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Rd=0;Rd<wr.length;Rd++){var Dd=wr[Rd];jr(Dd.toLowerCase(),"on"+(Dd[0].toUpperCase()+Dd.slice(1)))}jr(pr,"onAnimationEnd"),jr(mr,"onAnimationIteration"),jr(fr,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(gr,"onTransitionRun"),jr(xr,"onTransitionStart"),jr(br,"onTransitionCancel"),jr(yr,"onTransitionEnd"),Ye("onMouseEnter",["mouseout","mouseover"]),Ye("onMouseLeave",["mouseout","mouseover"]),Ye("onPointerEnter",["pointerout","pointerover"]),Ye("onPointerLeave",["pointerout","pointerover"]),Xe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Md="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Id=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Md));function _d(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;i=o,s.currentTarget=c;try{i(s)}catch(d){xo(d)}s.currentTarget=null,i=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;i=o,s.currentTarget=c;try{i(s)}catch(d){xo(d)}s.currentTarget=null,i=l}}}}function Ld(e,t){var n=t[Ie];void 0===n&&(n=t[Ie]=new Set);var r=e+"__bubble";n.has(r)||(Ud(t,e,2,!1),n.add(r))}function Od(e,t,n){var r=0;t&&(r|=4),Ud(n,e,r,t)}var zd="_reactListening"+Math.random().toString(36).slice(2);function Bd(e){if(!e[zd]){e[zd]=!0,Ge.forEach((function(t){"selectionchange"!==t&&(Id.has(t)||Od(t,!1,e),Od(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zd]||(t[zd]=!0,Od("selectionchange",!1,t))}}function Ud(e,t,n,r){switch(ch(t)){case 2:var s=rh;break;case 8:s=sh;break;default:s=ih}n=s.bind(null,t,n,e),s=void 0,!zt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function qd(e,t,n,r,s){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===s)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&a.stateNode.containerInfo===s)return;a=a.return}for(;null!==o;){if(null===(a=Ue(o)))return;if(5===(c=a.tag)||6===c||26===c||27===c){r=i=a;continue e}o=o.parentNode}}r=r.return}_t((function(){var r=i,s=Ft(n),a=[];e:{var o=vr.get(e);if(void 0!==o){var c=$t,d=e;switch(e){case"keypress":if(0===Ht(n))break e;case"keydown":case"keyup":c=fn;break;case"focusin":d="focus",c=an;break;case"focusout":d="blur",c=an;break;case"beforeblur":case"afterblur":c=an;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=sn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=xn;break;case pr:case mr:case fr:c=on;break;case yr:c=bn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=yn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=vn}var u=0!==(4&t),h=!u&&("scroll"===e||"scrollend"===e),p=u?null!==o?o+"Capture":null:o;u=[];for(var m,f=r;null!==f;){var g=f;if(m=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===m||null===p||null!=(g=Lt(f,p))&&u.push(Vd(f,g,m)),h)break;f=f.return}0<u.length&&(o=new c(o,d,null,n,s),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Pt||!(d=n.relatedTarget||n.fromElement)||!Ue(d)&&!d[Me])&&(c||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(d=(d=n.relatedTarget||n.toElement)?Ue(d):null)&&(h=l(d),u=d.tag,d!==h||5!==u&&27!==u&&6!==u)&&(d=null)):(c=null,d=r),c!==d)){if(u=rn,g="onMouseLeave",p="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=gn,g="onPointerLeave",p="onPointerEnter",f="pointer"),h=null==c?o:Ve(c),m=null==d?o:Ve(d),(o=new u(g,f+"leave",c,n,s)).target=h,o.relatedTarget=m,g=null,Ue(s)===r&&((u=new u(p,f+"enter",d,n,s)).target=m,u.relatedTarget=h,g=u),h=g,c&&d)e:{for(p=d,f=0,m=u=c;m;m=Hd(m))f++;for(m=0,g=p;g;g=Hd(g))m++;for(;0<f-m;)u=Hd(u),f--;for(;0<m-f;)p=Hd(p),m--;for(;f--;){if(u===p||null!==p&&u===p.alternate)break e;u=Hd(u),p=Hd(p)}u=null}else u=null;null!==c&&Gd(a,o,c,u,!1),null!==d&&null!==h&&Gd(a,h,d,u,!0)}if("select"===(c=(o=r?Ve(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var x=On;else if(Rn(o))if(zn)x=Xn;else{x=Gn;var b=Hn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&Ct(r.elementType)&&(x=On):x=Kn;switch(x&&(x=x(e,r))?Dn(a,x,n,s):(b&&b(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&bt(o,"number",o.value)),b=r?Ve(r):window,e){case"focusin":(Rn(b)||"true"===b.contentEditable)&&(rr=b,sr=r,ir=null);break;case"focusout":ir=sr=rr=null;break;case"mousedown":ar=!0;break;case"contextmenu":case"mouseup":case"dragend":ar=!1,or(a,n,s);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":or(a,n,s)}var y;if(jn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Pn?Tn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Sn&&"ko"!==n.locale&&(Pn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Pn&&(y=Wt()):(qt="value"in(Ut=s)?Ut.value:Ut.textContent,Pn=!0)),0<(b=Wd(r,v)).length&&(v=new cn(v,e,null,n,s),a.push({event:v,listeners:b}),y?v.data=y:null!==(y=En(n))&&(v.data=y))),(y=Nn?function(e,t){switch(e){case"compositionend":return En(t);case"keypress":return 32!==t.which?null:(An=!0,Cn);case"textInput":return(e=t.data)===Cn&&An?null:e;default:return null}}(e,n):function(e,t){if(Pn)return"compositionend"===e||!jn&&Tn(e,t)?(e=Wt(),Vt=qt=Ut=null,Pn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(v=Wd(r,"onBeforeInput")).length&&(b=new cn("onBeforeInput","beforeinput",null,n,s),a.push({event:b,listeners:v}),b.data=y)),function(e,t,n,r,s){if("submit"===t&&n&&n.stateNode===s){var i=Pd((s[De]||null).action),a=r.submitter;a&&null!==(t=(t=a[De]||null)?Pd(t.formAction):a.getAttribute("formAction"))&&(i=t,a=null);var o=new $t("action","action",null,r,s);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==wd){var e=a?Fd(s,a):new FormData(s);Pa(n,{pending:!0,data:e,method:s.method,action:i},null,e)}}else"function"===typeof i&&(o.preventDefault(),e=a?Fd(s,a):new FormData(s),Pa(n,{pending:!0,data:e,method:s.method,action:i},i,e))},currentTarget:s}]})}}(a,e,r,n,s)}_d(a,t)}))}function Vd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wd(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,i=s.stateNode;if(5!==(s=s.tag)&&26!==s&&27!==s||null===i||(null!=(s=Lt(e,n))&&r.unshift(Vd(e,s,i)),null!=(s=Lt(e,t))&&r.push(Vd(e,s,i))),3===e.tag)return r;e=e.return}return[]}function Hd(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Gd(e,t,n,r,s){for(var i=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,s?null!=(c=Lt(n,i))&&a.unshift(Vd(n,c,l)):s||null!=(c=Lt(n,i))&&a.push(Vd(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Kd=/\r\n?/g,Xd=/\u0000|\uFFFD/g;function Yd(e){return("string"===typeof e?e:""+e).replace(Kd,"\n").replace(Xd,"")}function Qd(e,t){return t=Yd(t),Yd(e)===t}function Jd(){}function Zd(e,t,n,r,s,i){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||jt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&jt(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":St(e,r,i);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Et(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof i&&("formAction"===n?("input"!==t&&Zd(e,t,"name",s.name,s,null),Zd(e,t,"formEncType",s.formEncType,s,null),Zd(e,t,"formMethod",s.formMethod,s,null),Zd(e,t,"formTarget",s.formTarget,s,null)):(Zd(e,t,"encType",s.encType,s,null),Zd(e,t,"method",s.method,s,null),Zd(e,t,"target",s.target,s,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Et(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Jd);break;case"onScroll":null!=r&&Ld("scroll",e);break;case"onScrollEnd":null!=r&&Ld("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=s.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Et(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Ld("beforetoggle",e),Ld("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=At.get(n)||n,r)}}function $d(e,t,n,r,s,i){switch(n){case"style":St(e,r,i);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=s.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof r?jt(e,r):("number"===typeof r||"bigint"===typeof r)&&jt(e,""+r);break;case"onScroll":null!=r&&Ld("scroll",e);break;case"onScrollEnd":null!=r&&Ld("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Jd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ke.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),"function"===typeof(i=null!=(i=e[De]||null)?i[n]:null)&&e.removeEventListener(t,i,s),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,s)))}}function eu(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ld("error",e),Ld("load",e);var r,s=!1,i=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":s=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Zd(e,t,r,o,n,null)}}return i&&Zd(e,t,"srcSet",n.srcSet,n,null),void(s&&Zd(e,t,"src",n.src,n,null));case"input":Ld("invalid",e);var l=r=o=i=null,c=null,d=null;for(s in n)if(n.hasOwnProperty(s)){var u=n[s];if(null!=u)switch(s){case"name":i=u;break;case"type":o=u;break;case"checked":c=u;break;case"defaultChecked":d=u;break;case"value":r=u;break;case"defaultValue":l=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(a(137,t));break;default:Zd(e,t,s,u,n,null)}}return xt(e,r,l,c,d,o,i,!1),void ut(e);case"select":for(i in Ld("invalid",e),s=o=r=null,n)if(n.hasOwnProperty(i)&&null!=(l=n[i]))switch(i){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":s=l;default:Zd(e,t,i,l,n,null)}return t=r,n=o,e.multiple=!!s,void(null!=t?yt(e,!!s,t,!1):null!=n&&yt(e,!!s,n,!0));case"textarea":for(o in Ld("invalid",e),r=i=s=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":s=l;break;case"defaultValue":i=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:Zd(e,t,o,l,n,null)}return wt(e,s,i,r),void ut(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(s=n[c]))if("selected"===c)e.selected=s&&"function"!==typeof s&&"symbol"!==typeof s;else Zd(e,t,c,s,n,null);return;case"dialog":Ld("beforetoggle",e),Ld("toggle",e),Ld("cancel",e),Ld("close",e);break;case"iframe":case"object":Ld("load",e);break;case"video":case"audio":for(s=0;s<Md.length;s++)Ld(Md[s],e);break;case"image":Ld("error",e),Ld("load",e);break;case"details":Ld("toggle",e);break;case"embed":case"source":case"link":Ld("error",e),Ld("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in n)if(n.hasOwnProperty(d)&&null!=(s=n[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Zd(e,t,d,s,n,null)}return;default:if(Ct(t)){for(u in n)n.hasOwnProperty(u)&&(void 0!==(s=n[u])&&$d(e,t,u,s,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(s=n[l])&&Zd(e,t,l,s,n,null))}var tu=null,nu=null;function ru(e){return 9===e.nodeType?e:e.ownerDocument}function su(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iu(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function au(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ou=null;var lu="function"===typeof setTimeout?setTimeout:void 0,cu="function"===typeof clearTimeout?clearTimeout:void 0,du="function"===typeof Promise?Promise:void 0,uu="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof du?function(e){return du.resolve(null).then(e).catch(hu)}:lu;function hu(e){setTimeout((function(){throw e}))}function pu(e){return"head"===e}function mu(e,t){var n=t,r=0,s=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0<r&&8>r){n=r;var a=e.ownerDocument;if(1&n&&wu(a.documentElement),2&n&&wu(a.body),4&n)for(wu(n=a.head),a=n.firstChild;a;){var o=a.nextSibling,l=a.nodeName;a[ze]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=o}}if(0===s)return e.removeChild(i),void Ah(t);s--}else"$"===n||"$?"===n||"$!"===n?s++:r=n.charCodeAt(0)-48;else r=0;n=i}while(n);Ah(t)}function fu(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":fu(n),Be(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gu(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function xu(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var bu=null;function yu(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function vu(e,t,n){switch(t=ru(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function wu(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Be(e)}var ju=new Map,ku=new Set;function Nu(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Su=I.d;I.d={f:function(){var e=Su.f(),t=Uc();return e||t},r:function(e){var t=qe(e);null!==t&&5===t.tag&&"form"===t.type?Ra(t):Su.r(e)},D:function(e){Su.D(e),Au("dns-prefetch",e,null)},C:function(e,t){Su.C(e,t),Au("preconnect",e,t)},L:function(e,t,n){Su.L(e,t,n);var r=Cu;if(r&&e&&t){var s='link[rel="preload"][as="'+ft(t)+'"]';"image"===t&&n&&n.imageSrcSet?(s+='[imagesrcset="'+ft(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(s+='[imagesizes="'+ft(n.imageSizes)+'"]')):s+='[href="'+ft(e)+'"]';var i=s;switch(t){case"style":i=Eu(e);break;case"script":i=Ru(e)}ju.has(i)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),ju.set(i,e),null!==r.querySelector(s)||"style"===t&&r.querySelector(Pu(i))||"script"===t&&r.querySelector(Du(i))||(eu(t=r.createElement("link"),"link",e),He(t),r.head.appendChild(t)))}},m:function(e,t){Su.m(e,t);var n=Cu;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",s='link[rel="modulepreload"][as="'+ft(r)+'"][href="'+ft(e)+'"]',i=s;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Ru(e)}if(!ju.has(i)&&(e=h({rel:"modulepreload",href:e},t),ju.set(i,e),null===n.querySelector(s))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Du(i)))return}eu(r=n.createElement("link"),"link",e),He(r),n.head.appendChild(r)}}},X:function(e,t){Su.X(e,t);var n=Cu;if(n&&e){var r=We(n).hoistableScripts,s=Ru(e),i=r.get(s);i||((i=n.querySelector(Du(s)))||(e=h({src:e,async:!0},t),(t=ju.get(s))&&Lu(e,t),He(i=n.createElement("script")),eu(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(s,i))}},S:function(e,t,n){Su.S(e,t,n);var r=Cu;if(r&&e){var s=We(r).hoistableStyles,i=Eu(e);t=t||"default";var a=s.get(i);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(Pu(i)))o.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=ju.get(i))&&_u(e,n);var l=a=r.createElement("link");He(l),eu(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){o.loading|=1})),l.addEventListener("error",(function(){o.loading|=2})),o.loading|=4,Iu(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:o},s.set(i,a)}}},M:function(e,t){Su.M(e,t);var n=Cu;if(n&&e){var r=We(n).hoistableScripts,s=Ru(e),i=r.get(s);i||((i=n.querySelector(Du(s)))||(e=h({src:e,async:!0,type:"module"},t),(t=ju.get(s))&&Lu(e,t),He(i=n.createElement("script")),eu(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(s,i))}}};var Cu="undefined"===typeof document?null:document;function Au(e,t,n){var r=Cu;if(r&&"string"===typeof t&&t){var s=ft(t);s='link[rel="'+e+'"][href="'+s+'"]',"string"===typeof n&&(s+='[crossorigin="'+n+'"]'),ku.has(s)||(ku.add(s),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(s)&&(eu(t=r.createElement("link"),"link",e),He(t),r.head.appendChild(t)))}}function Tu(e,t,n,r){var s,i,o,l,c=(c=W.current)?Nu(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Eu(n.href),(r=(n=We(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Eu(n.href);var d=We(c).hoistableStyles,u=d.get(e);if(u||(c=c.ownerDocument||c,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=c.querySelector(Pu(e)))&&!d._p&&(u.instance=d,u.state.loading=5),ju.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ju.set(e,n),d||(s=c,i=e,o=n,l=u.state,s.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=s.createElement("link"),l.preload=i,i.addEventListener("load",(function(){return l.loading|=1})),i.addEventListener("error",(function(){return l.loading|=2})),eu(i,"link",o),He(i),s.head.appendChild(i))))),t&&null===r)throw Error(a(528,""));return u}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Ru(n),(r=(n=We(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Eu(e){return'href="'+ft(e)+'"'}function Pu(e){return'link[rel="stylesheet"]['+e+"]"}function Fu(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Ru(e){return'[src="'+ft(e)+'"]'}function Du(e){return"script[async]"+e}function Mu(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+ft(n.href)+'"]');if(r)return t.instance=r,He(r),r;var s=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return He(r=(e.ownerDocument||e).createElement("style")),eu(r,"style",s),Iu(r,n.precedence,e),t.instance=r;case"stylesheet":s=Eu(n.href);var i=e.querySelector(Pu(s));if(i)return t.state.loading|=4,t.instance=i,He(i),i;r=Fu(n),(s=ju.get(s))&&_u(r,s),He(i=(e.ownerDocument||e).createElement("link"));var o=i;return o._p=new Promise((function(e,t){o.onload=e,o.onerror=t})),eu(i,"link",r),t.state.loading|=4,Iu(i,n.precedence,e),t.instance=i;case"script":return i=Ru(n.src),(s=e.querySelector(Du(i)))?(t.instance=s,He(s),s):(r=n,(s=ju.get(i))&&Lu(r=h({},n),s),He(s=(e=e.ownerDocument||e).createElement("script")),eu(s,"link",r),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Iu(r,n.precedence,e));return t.instance}function Iu(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=r.length?r[r.length-1]:null,i=s,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===t)i=o;else if(i!==s)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function _u(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Lu(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Ou=null;function zu(e,t,n){if(null===Ou){var r=new Map,s=Ou=new Map;s.set(n,r)}else(r=(s=Ou).get(n))||(r=new Map,s.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var i=n[s];if(!(i[ze]||i[Re]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var a=i.getAttribute(t)||"";a=e+a;var o=r.get(a);o?o.push(i):r.set(a,[i])}}return r}function Bu(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Uu(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var qu=null;function Vu(){}function Wu(){if(this.count--,0===this.count)if(this.stylesheets)Gu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Hu=null;function Gu(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Hu=new Map,t.forEach(Ku,e),Hu=null,Wu.call(e))}function Ku(e,t){if(!(4&t.state.loading)){var n=Hu.get(e);if(n)var r=n.get(null);else{n=new Map,Hu.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<s.length;i++){var a=s[i];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(s=t.instance).getAttribute("data-precedence"),(i=n.get(a)||r)===r&&n.set(null,s),n.set(a,s),this.count++,r=Wu.bind(this),s.addEventListener("load",r),s.addEventListener("error",r),i?i.parentNode.insertBefore(s,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(s,e.firstChild),t.state.loading|=4}}var Xu={$$typeof:w,Provider:null,Consumer:null,_currentValue:_,_currentValue2:_,_threadCount:0};function Yu(e,t,n,r,s,i,a,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ne(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ne(0),this.hiddenUpdates=Ne(null),this.identifierPrefix=r,this.onUncaughtError=s,this.onCaughtError=i,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Qu(e,t,n,r,s,i,a,o,l,c,d,u){return e=new Yu(e,t,n,a,o,l,c,u),t=1,!0===i&&(t|=24),i=_r(3,null,null,t),e.current=i,i.stateNode=e,(t=Ds()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},ni(i),e}function Ju(e){return e?e=Mr:Mr}function Zu(e,t,n,r,s,i){s=Ju(s),null===r.context?r.context=s:r.pendingContext=s,(r=si(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(r.callback=i),null!==(n=ii(e,r,t))&&(_c(n,0,t),ai(n,e,t))}function $u(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eh(e,t){$u(e,t),(e=e.alternate)&&$u(e,t)}function th(e){if(13===e.tag){var t=Fr(e,67108864);null!==t&&_c(t,0,67108864),eh(e,67108864)}}var nh=!0;function rh(e,t,n,r){var s=M.T;M.T=null;var i=I.p;try{I.p=2,ih(e,t,n,r)}finally{I.p=i,M.T=s}}function sh(e,t,n,r){var s=M.T;M.T=null;var i=I.p;try{I.p=8,ih(e,t,n,r)}finally{I.p=i,M.T=s}}function ih(e,t,n,r){if(nh){var s=ah(r);if(null===s)qd(e,t,r,oh,n),bh(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return uh=yh(uh,e,t,n,r,s),!0;case"dragenter":return hh=yh(hh,e,t,n,r,s),!0;case"mouseover":return ph=yh(ph,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return mh.set(i,yh(mh.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,fh.set(i,yh(fh.get(i)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(bh(e,r),4&t&&-1<xh.indexOf(e)){for(;null!==s;){var i=qe(s);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var a=be(i.pendingLanes);if(0!==a){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-pe(a);o.entanglements[1]|=l,a&=~l}jd(i),0===(6&nc)&&(jc=te()+500,kd(0,!1))}}break;case 13:null!==(o=Fr(i,2))&&_c(o,0,2),Uc(),eh(i,2)}if(null===(i=ah(r))&&qd(e,t,r,oh,n),i===s)break;s=i}null!==s&&r.stopPropagation()}else qd(e,t,r,null,n)}}function ah(e){return lh(e=Ft(e))}var oh=null;function lh(e){if(oh=null,null!==(e=Ue(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return oh=e,null}function ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case se:return 8;case ie:case ae:return 32;case oe:return 268435456;default:return 32}default:return 32}}var dh=!1,uh=null,hh=null,ph=null,mh=new Map,fh=new Map,gh=[],xh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bh(e,t){switch(e){case"focusin":case"focusout":uh=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":ph=null;break;case"pointerover":case"pointerout":mh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fh.delete(t.pointerId)}}function yh(e,t,n,r,s,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},null!==t&&(null!==(t=qe(t))&&th(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function vh(e){var t=Ue(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=I.p;try{return I.p=e,t()}finally{I.p=n}}(e.priority,(function(){if(13===n.tag){var e=Mc();e=Te(e);var t=Fr(n,e);null!==t&&_c(t,0,e),eh(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function wh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=ah(e.nativeEvent);if(null!==n)return null!==(t=qe(n))&&th(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Pt=r,n.target.dispatchEvent(r),Pt=null,t.shift()}return!0}function jh(e,t,n){wh(e)&&n.delete(t)}function kh(){dh=!1,null!==uh&&wh(uh)&&(uh=null),null!==hh&&wh(hh)&&(hh=null),null!==ph&&wh(ph)&&(ph=null),mh.forEach(jh),fh.forEach(jh)}function Nh(e,t){e.blockedOn===t&&(e.blockedOn=null,dh||(dh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,kh)))}var Sh=null;function Ch(e){Sh!==e&&(Sh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){Sh===e&&(Sh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],s=e[t+2];if("function"!==typeof r){if(null===lh(r||n))continue;break}var i=qe(n);null!==i&&(e.splice(t,3),t-=3,Pa(i,{pending:!0,data:s,method:n.method,action:r},r,s))}})))}function Ah(e){function t(t){return Nh(t,e)}null!==uh&&Nh(uh,e),null!==hh&&Nh(hh,e),null!==ph&&Nh(ph,e),mh.forEach(t),fh.forEach(t);for(var n=0;n<gh.length;n++){var r=gh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<gh.length&&null===(n=gh[0]).blockedOn;)vh(n),null===n.blockedOn&&gh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var s=n[r],i=n[r+1],a=s[De]||null;if("function"===typeof i)a||Ch(n);else if(a){var o=null;if(i&&i.hasAttribute("formAction")){if(s=i,a=i[De]||null)o=a.formAction;else if(null!==lh(s))continue}else o=a.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),Ch(n)}}}function Th(e){this._internalRoot=e}function Eh(e){this._internalRoot=e}Eh.prototype.render=Th.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Zu(t.current,Mc(),e,t,null,null)},Eh.prototype.unmount=Th.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zu(e.current,2,null,e,null,null),Uc(),t[Me]=null}},Eh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gh.length&&0!==t&&t<gh[n].priority;n++);gh.splice(n,0,e),0===n&&vh(e)}};var Ph=s.version;if("19.1.0"!==Ph)throw Error(a(527,Ph,"19.1.0"));I.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var i=s.alternate;if(null===i){if(null!==(r=s.return)){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return d(s),e;if(i===r)return d(s),t;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,c=s.child;c;){if(c===n){o=!0,n=s,r=i;break}if(c===r){o=!0,r=s,n=i;break}c=c.sibling}if(!o){for(c=i.child;c;){if(c===n){o=!0,n=i,r=s;break}if(c===r){o=!0,r=i,n=s;break}c=c.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?u(e):null)?null:e.stateNode};var Fh={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rh.isDisabled&&Rh.supportsFiber)try{de=Rh.inject(Fh),ue=Rh}catch(Mh){}}t.createRoot=function(e,t){if(!o(e))throw Error(a(299));var n=!1,r="",s=bo,i=yo,l=vo;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(s=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Qu(e,1,!1,null,0,n,r,s,i,l,0,null),e[Me]=t.current,Bd(e),new Th(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(a(299));var r=!1,s="",i=bo,l=yo,c=vo,d=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onUncaughtError&&(i=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(d=n.formState)),(t=Qu(e,1,!0,t,0,r,s,i,l,c,0,d)).context=Ju(null),n=t.current,(s=si(r=Te(r=Mc()))).callback=null,ii(n,s,r),n=r,t.current.lanes=n,Se(t,n),jd(t),e[Me]=t.current,Bd(e),new Eh(t)},t.version="19.1.0"},43:(e,t,n)=>{"use strict";e.exports=n(288)},135:e=>{"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},140:(e,t,n)=>{"use strict";var r,s=n(886),i=n(422),a=n(374),o=n(592),l=n(135),c=-2,d=258,u=262,h=103,p=113,m=666;function f(e,t){return e.msg=l[t],t}function g(e){return(e<<1)-(e>4?9:0)}function x(e){for(var t=e.length;--t>=0;)e[t]=0}function b(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(s.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function y(e,t){i._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,b(e.strm)}function v(e,t){e.pending_buf[e.pending++]=t}function w(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function j(e,t,n,r){var i=e.avail_in;return i>r&&(i=r),0===i?0:(e.avail_in-=i,s.arraySet(t,e.input,e.next_in,i,n),1===e.state.wrap?e.adler=a(e.adler,t,i,n):2===e.state.wrap&&(e.adler=o(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)}function k(e,t){var n,r,s=e.max_chain_length,i=e.strstart,a=e.prev_length,o=e.nice_match,l=e.strstart>e.w_size-u?e.strstart-(e.w_size-u):0,c=e.window,h=e.w_mask,p=e.prev,m=e.strstart+d,f=c[i+a-1],g=c[i+a];e.prev_length>=e.good_match&&(s>>=2),o>e.lookahead&&(o=e.lookahead);do{if(c[(n=t)+a]===g&&c[n+a-1]===f&&c[n]===c[i]&&c[++n]===c[i+1]){i+=2,n++;do{}while(c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&i<m);if(r=d-(m-i),i=m-d,r>a){if(e.match_start=t,a=r,r>=o)break;f=c[i+a-1],g=c[i+a]}}}while((t=p[t&h])>l&&0!==--s);return a<=e.lookahead?a:e.lookahead}function N(e){var t,n,r,i,a,o=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=o+(o-u)){s.arraySet(e.window,e.window,o,o,0),e.match_start-=o,e.strstart-=o,e.block_start-=o,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=o?r-o:0}while(--n);t=n=o;do{r=e.prev[--t],e.prev[t]=r>=o?r-o:0}while(--n);i+=o}if(0===e.strm.avail_in)break;if(n=j(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=n,e.lookahead+e.insert>=3)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+3-1])&e.hash_mask,e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<u&&0!==e.strm.avail_in)}function S(e,t){for(var n,r;;){if(e.lookahead<u){if(N(e),e.lookahead<u&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-u&&(e.match_length=k(e,n)),e.match_length>=3)if(r=i._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(y(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(y(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(y(e,!1),0===e.strm.avail_out)?1:2}function C(e,t){for(var n,r,s;;){if(e.lookahead<u){if(N(e),e.lookahead<u&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-u&&(e.match_length=k(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){s=e.strstart+e.lookahead-3,r=i._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=s&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(y(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=i._tr_tally(e,0,e.window[e.strstart-1]))&&y(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=i._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(y(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(y(e,!1),0===e.strm.avail_out)?1:2}function A(e,t,n,r,s){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=s}function T(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(1146),this.dyn_dtree=new s.Buf16(122),this.bl_tree=new s.Buf16(78),x(this.dyn_ltree),x(this.dyn_dtree),x(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(16),this.heap=new s.Buf16(573),x(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(573),x(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function E(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:p,e.adler=2===t.wrap?0:1,t.last_flush=0,i._tr_init(t),0):f(e,c)}function P(e){var t,n=E(e);return 0===n&&((t=e.state).window_size=2*t.w_size,x(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n}function F(e,t,n,r,i,a){if(!e)return c;var o=1;if(-1===t&&(t=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),i<1||i>9||8!==n||r<8||r>15||t<0||t>9||a<0||a>4)return f(e,c);8===r&&(r=9);var l=new T;return e.state=l,l.strm=e,l.wrap=o,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=i+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new s.Buf8(2*l.w_size),l.head=new s.Buf16(l.hash_size),l.prev=new s.Buf16(l.w_size),l.lit_bufsize=1<<i+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new s.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=n,P(e)}r=[new A(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(N(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,y(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-u&&(y(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(y(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(y(e,!1),e.strm.avail_out),1)})),new A(4,4,8,4,S),new A(4,5,16,8,S),new A(4,6,32,32,S),new A(4,4,16,16,C),new A(8,16,32,32,C),new A(8,16,128,128,C),new A(8,32,128,256,C),new A(32,128,258,1024,C),new A(32,258,258,4096,C)],t.deflateInit=function(e,t){return F(e,t,8,15,8,0)},t.deflateInit2=F,t.deflateReset=P,t.deflateResetKeep=E,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?c:(e.state.gzhead=t,0):c},t.deflate=function(e,t){var n,s,a,l;if(!e||!e.state||t>5||t<0)return e?f(e,c):c;if(s=e.state,!e.output||!e.input&&0!==e.avail_in||s.status===m&&4!==t)return f(e,0===e.avail_out?-5:c);if(s.strm=e,n=s.last_flush,s.last_flush=t,42===s.status)if(2===s.wrap)e.adler=0,v(s,31),v(s,139),v(s,8),s.gzhead?(v(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),v(s,255&s.gzhead.time),v(s,s.gzhead.time>>8&255),v(s,s.gzhead.time>>16&255),v(s,s.gzhead.time>>24&255),v(s,9===s.level?2:s.strategy>=2||s.level<2?4:0),v(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(v(s,255&s.gzhead.extra.length),v(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(e.adler=o(e.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=69):(v(s,0),v(s,0),v(s,0),v(s,0),v(s,0),v(s,9===s.level?2:s.strategy>=2||s.level<2?4:0),v(s,3),s.status=p);else{var u=8+(s.w_bits-8<<4)<<8;u|=(s.strategy>=2||s.level<2?0:s.level<6?1:6===s.level?2:3)<<6,0!==s.strstart&&(u|=32),u+=31-u%31,s.status=p,w(s,u),0!==s.strstart&&(w(s,e.adler>>>16),w(s,65535&e.adler)),e.adler=1}if(69===s.status)if(s.gzhead.extra){for(a=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>a&&(e.adler=o(e.adler,s.pending_buf,s.pending-a,a)),b(e),a=s.pending,s.pending!==s.pending_buf_size));)v(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>a&&(e.adler=o(e.adler,s.pending_buf,s.pending-a,a)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=73)}else s.status=73;if(73===s.status)if(s.gzhead.name){a=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>a&&(e.adler=o(e.adler,s.pending_buf,s.pending-a,a)),b(e),a=s.pending,s.pending===s.pending_buf_size)){l=1;break}l=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,v(s,l)}while(0!==l);s.gzhead.hcrc&&s.pending>a&&(e.adler=o(e.adler,s.pending_buf,s.pending-a,a)),0===l&&(s.gzindex=0,s.status=91)}else s.status=91;if(91===s.status)if(s.gzhead.comment){a=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>a&&(e.adler=o(e.adler,s.pending_buf,s.pending-a,a)),b(e),a=s.pending,s.pending===s.pending_buf_size)){l=1;break}l=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,v(s,l)}while(0!==l);s.gzhead.hcrc&&s.pending>a&&(e.adler=o(e.adler,s.pending_buf,s.pending-a,a)),0===l&&(s.status=h)}else s.status=h;if(s.status===h&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&b(e),s.pending+2<=s.pending_buf_size&&(v(s,255&e.adler),v(s,e.adler>>8&255),e.adler=0,s.status=p)):s.status=p),0!==s.pending){if(b(e),0===e.avail_out)return s.last_flush=-1,0}else if(0===e.avail_in&&g(t)<=g(n)&&4!==t)return f(e,-5);if(s.status===m&&0!==e.avail_in)return f(e,-5);if(0!==e.avail_in||0!==s.lookahead||0!==t&&s.status!==m){var j=2===s.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(N(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(y(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(y(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(y(e,!1),0===e.strm.avail_out)?1:2}(s,t):3===s.strategy?function(e,t){for(var n,r,s,a,o=e.window;;){if(e.lookahead<=d){if(N(e),e.lookahead<=d&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=o[s=e.strstart-1])===o[++s]&&r===o[++s]&&r===o[++s]){a=e.strstart+d;do{}while(r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&r===o[++s]&&s<a);e.match_length=d-(a-s),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=i._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(y(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(y(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(y(e,!1),0===e.strm.avail_out)?1:2}(s,t):r[s.level].func(s,t);if(3!==j&&4!==j||(s.status=m),1===j||3===j)return 0===e.avail_out&&(s.last_flush=-1),0;if(2===j&&(1===t?i._tr_align(s):5!==t&&(i._tr_stored_block(s,0,0,!1),3===t&&(x(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),b(e),0===e.avail_out))return s.last_flush=-1,0}return 4!==t?0:s.wrap<=0?1:(2===s.wrap?(v(s,255&e.adler),v(s,e.adler>>8&255),v(s,e.adler>>16&255),v(s,e.adler>>24&255),v(s,255&e.total_in),v(s,e.total_in>>8&255),v(s,e.total_in>>16&255),v(s,e.total_in>>24&255)):(w(s,e.adler>>>16),w(s,65535&e.adler)),b(e),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?0:1)},t.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&t!==h&&t!==p&&t!==m?f(e,c):(e.state=null,t===p?f(e,-3):0):c},t.deflateSetDictionary=function(e,t){var n,r,i,o,l,d,u,h,p=t.length;if(!e||!e.state)return c;if(2===(o=(n=e.state).wrap)||1===o&&42!==n.status||n.lookahead)return c;for(1===o&&(e.adler=a(e.adler,t,p,0)),n.wrap=0,p>=n.w_size&&(0===o&&(x(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new s.Buf8(n.w_size),s.arraySet(h,t,p-n.w_size,n.w_size,0),t=h,p=n.w_size),l=e.avail_in,d=e.next_in,u=e.input,e.avail_in=p,e.next_in=0,e.input=t,N(n);n.lookahead>=3;){r=n.strstart,i=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--i);n.strstart=r,n.lookahead=2,N(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=d,e.input=u,e.avail_in=l,n.wrap=o,0},t.deflateInfo="pako deflate (from Nodeca project)"},237:()=>{},251:e=>{"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},266:e=>{"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function b(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=x.prototype;var v=y.prototype=new b;v.constructor=y,f(v,x.prototype),v.isPureReactComponent=!0;var w=Array.isArray,j={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function N(e,t,r,s,i,a){return r=a.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:a}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(){}function E(e,t,s,i,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,d=!1;if(null===e)d=!0;else switch(o){case"bigint":case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case n:case r:d=!0;break;case h:return E((d=e._init)(e._payload),t,s,i,a)}}if(d)return a=a(e),d=""===i?"."+A(e,0):i,w(a)?(s="",null!=d&&(s=d.replace(C,"$&/")+"/"),E(a,t,s,"",(function(e){return e}))):null!=a&&(S(a)&&(l=a,c=s+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+d,a=N(l.type,c,void 0,0,0,l.props)),t.push(a)),1;d=0;var u,m=""===i?".":i+":";if(w(e))for(var f=0;f<e.length;f++)d+=E(i=e[f],t,s,o=m+A(i,f),a);else if("function"===typeof(f=null===(u=e)||"object"!==typeof u?null:"function"===typeof(u=p&&u[p]||u["@@iterator"])?u:null))for(e=f.call(e),f=0;!(i=e.next()).done;)d+=E(i=i.value,t,s,o=m+A(i,f++),a);else if("object"===o){if("function"===typeof e.then)return E(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(T,T):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,s,i,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return d}function P(e,t,n){if(null==e)return e;var r=[],s=0;return E(e,r,"","",(function(e){return t.call(n,e,s++)})),r}function F(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function D(){}t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=x,t.Fragment=s,t.Profiler=a,t.PureComponent=y,t.StrictMode=i,t.Suspense=d,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return j.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=f({},e.props),s=e.key;if(null!=t)for(i in void 0!==t.ref&&void 0,void 0!==t.key&&(s=""+t.key),t)!k.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(r[i]=t[i]);var i=arguments.length-2;if(1===i)r.children=n;else if(1<i){for(var a=Array(i),o=0;o<i;o++)a[o]=arguments[o+2];r.children=a}return N(e.type,s,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,s={},i=null;if(null!=t)for(r in void 0!==t.key&&(i=""+t.key),t)k.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(s[r]=t[r]);var a=arguments.length-2;if(1===a)s.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];s.children=o}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===s[r]&&(s[r]=a[r]);return N(e,i,void 0,0,0,s)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:F}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=j.T,n={};j.T=n;try{var r=e(),s=j.S;null!==s&&s(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(D,R)}catch(i){R(i)}finally{j.T=t}},t.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},t.use=function(e){return j.H.use(e)},t.useActionState=function(e,t,n){return j.H.useActionState(e,t,n)},t.useCallback=function(e,t){return j.H.useCallback(e,t)},t.useContext=function(e){return j.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return j.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=j.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return j.H.useId()},t.useImperativeHandle=function(e,t,n){return j.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return j.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return j.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return j.H.useMemo(e,t)},t.useOptimistic=function(e,t){return j.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return j.H.useReducer(e,t,n)},t.useRef=function(e){return j.H.useRef(e)},t.useState=function(e){return j.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return j.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return j.H.useTransition()},t.version="19.1.0"},301:e=>{"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},358:(e,t)=>{"use strict";const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function d(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},374:e=>{"use strict";e.exports=function(e,t,n,r){for(var s=65535&e,i=e>>>16&65535,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{i=i+(s=s+t[r++]|0)|0}while(--a);s%=65521,i%=65521}return s|i<<16}},391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},415:(e,t,n)=>{"use strict";var r=n(886),s=15,i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,c,d,u,h,p){var m,f,g,x,b,y,v,w,j,k=p.bits,N=0,S=0,C=0,A=0,T=0,E=0,P=0,F=0,R=0,D=0,M=null,I=0,_=new r.Buf16(16),L=new r.Buf16(16),O=null,z=0;for(N=0;N<=s;N++)_[N]=0;for(S=0;S<c;S++)_[t[n+S]]++;for(T=k,A=s;A>=1&&0===_[A];A--);if(T>A&&(T=A),0===A)return d[u++]=20971520,d[u++]=20971520,p.bits=1,0;for(C=1;C<A&&0===_[C];C++);for(T<C&&(T=C),F=1,N=1;N<=s;N++)if(F<<=1,(F-=_[N])<0)return-1;if(F>0&&(0===e||1!==A))return-1;for(L[1]=0,N=1;N<s;N++)L[N+1]=L[N]+_[N];for(S=0;S<c;S++)0!==t[n+S]&&(h[L[t[n+S]]++]=S);if(0===e?(M=O=h,y=19):1===e?(M=i,I-=257,O=a,z-=257,y=256):(M=o,O=l,y=-1),D=0,S=0,N=C,b=u,E=T,P=0,g=-1,x=(R=1<<T)-1,1===e&&R>852||2===e&&R>592)return 1;for(;;){v=N-P,h[S]<y?(w=0,j=h[S]):h[S]>y?(w=O[z+h[S]],j=M[I+h[S]]):(w=96,j=0),m=1<<N-P,C=f=1<<E;do{d[b+(D>>P)+(f-=m)]=v<<24|w<<16|j}while(0!==f);for(m=1<<N-1;D&m;)m>>=1;if(0!==m?(D&=m-1,D+=m):D=0,S++,0===--_[N]){if(N===A)break;N=t[n+h[S]]}if(N>T&&(D&x)!==g){for(0===P&&(P=T),b+=C,F=1<<(E=N-P);E+P<A&&!((F-=_[E+P])<=0);)E++,F<<=1;if(R+=1<<E,1===e&&R>852||2===e&&R>592)return 1;d[g=D&x]=T<<24|E<<16|b-u}}return 0!==D&&(d[b+D]=N-P<<24|64<<16),p.bits=T,0}},422:(e,t,n)=>{"use strict";var r=n(886);function s(e){for(var t=e.length;--t>=0;)e[t]=0}var i=256,a=286,o=30,l=15,c=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],d=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],u=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],h=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],p=new Array(576);s(p);var m=new Array(60);s(m);var f=new Array(512);s(f);var g=new Array(256);s(g);var x=new Array(29);s(x);var b,y,v,w=new Array(o);function j(e,t,n,r,s){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=s,this.has_stree=e&&e.length}function k(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function N(e){return e<256?f[e]:f[256+(e>>>7)]}function S(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function C(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,S(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function A(e,t,n){C(e,n[2*t],n[2*t+1])}function T(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function E(e,t,n){var r,s,i=new Array(16),a=0;for(r=1;r<=l;r++)i[r]=a=a+n[r-1]<<1;for(s=0;s<=t;s++){var o=e[2*s+1];0!==o&&(e[2*s]=T(i[o]++,o))}}function P(e){var t;for(t=0;t<a;t++)e.dyn_ltree[2*t]=0;for(t=0;t<o;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function F(e){e.bi_valid>8?S(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function R(e,t,n,r){var s=2*t,i=2*n;return e[s]<e[i]||e[s]===e[i]&&r[t]<=r[n]}function D(e,t,n){for(var r=e.heap[n],s=n<<1;s<=e.heap_len&&(s<e.heap_len&&R(t,e.heap[s+1],e.heap[s],e.depth)&&s++,!R(t,r,e.heap[s],e.depth));)e.heap[n]=e.heap[s],n=s,s<<=1;e.heap[n]=r}function M(e,t,n){var r,s,a,o,l=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],s=e.pending_buf[e.l_buf+l],l++,0===r?A(e,s,t):(A(e,(a=g[s])+i+1,t),0!==(o=c[a])&&C(e,s-=x[a],o),A(e,a=N(--r),n),0!==(o=d[a])&&C(e,r-=w[a],o))}while(l<e.last_lit);A(e,256,t)}function I(e,t){var n,r,s,i=t.dyn_tree,a=t.stat_desc.static_tree,o=t.stat_desc.has_stree,c=t.stat_desc.elems,d=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<c;n++)0!==i[2*n]?(e.heap[++e.heap_len]=d=n,e.depth[n]=0):i[2*n+1]=0;for(;e.heap_len<2;)i[2*(s=e.heap[++e.heap_len]=d<2?++d:0)]=1,e.depth[s]=0,e.opt_len--,o&&(e.static_len-=a[2*s+1]);for(t.max_code=d,n=e.heap_len>>1;n>=1;n--)D(e,i,n);s=c;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],D(e,i,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,i[2*s]=i[2*n]+i[2*r],e.depth[s]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,i[2*n+1]=i[2*r+1]=s,e.heap[1]=s++,D(e,i,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,s,i,a,o,c=t.dyn_tree,d=t.max_code,u=t.stat_desc.static_tree,h=t.stat_desc.has_stree,p=t.stat_desc.extra_bits,m=t.stat_desc.extra_base,f=t.stat_desc.max_length,g=0;for(i=0;i<=l;i++)e.bl_count[i]=0;for(c[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(i=c[2*c[2*(r=e.heap[n])+1]+1]+1)>f&&(i=f,g++),c[2*r+1]=i,r>d||(e.bl_count[i]++,a=0,r>=m&&(a=p[r-m]),o=c[2*r],e.opt_len+=o*(i+a),h&&(e.static_len+=o*(u[2*r+1]+a)));if(0!==g){do{for(i=f-1;0===e.bl_count[i];)i--;e.bl_count[i]--,e.bl_count[i+1]+=2,e.bl_count[f]--,g-=2}while(g>0);for(i=f;0!==i;i--)for(r=e.bl_count[i];0!==r;)(s=e.heap[--n])>d||(c[2*s+1]!==i&&(e.opt_len+=(i-c[2*s+1])*c[2*s],c[2*s+1]=i),r--)}}(e,t),E(i,d,e.bl_count)}function _(e,t,n){var r,s,i=-1,a=t[1],o=0,l=7,c=4;for(0===a&&(l=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)s=a,a=t[2*(r+1)+1],++o<l&&s===a||(o<c?e.bl_tree[2*s]+=o:0!==s?(s!==i&&e.bl_tree[2*s]++,e.bl_tree[32]++):o<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=0,i=s,0===a?(l=138,c=3):s===a?(l=6,c=3):(l=7,c=4))}function L(e,t,n){var r,s,i=-1,a=t[1],o=0,l=7,c=4;for(0===a&&(l=138,c=3),r=0;r<=n;r++)if(s=a,a=t[2*(r+1)+1],!(++o<l&&s===a)){if(o<c)do{A(e,s,e.bl_tree)}while(0!==--o);else 0!==s?(s!==i&&(A(e,s,e.bl_tree),o--),A(e,16,e.bl_tree),C(e,o-3,2)):o<=10?(A(e,17,e.bl_tree),C(e,o-3,3)):(A(e,18,e.bl_tree),C(e,o-11,7));o=0,i=s,0===a?(l=138,c=3):s===a?(l=6,c=3):(l=7,c=4)}}s(w);var O=!1;function z(e,t,n,s){C(e,0+(s?1:0),3),function(e,t,n,s){F(e),s&&(S(e,n),S(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}t._tr_init=function(e){O||(!function(){var e,t,n,r,s,i=new Array(16);for(n=0,r=0;r<28;r++)for(x[r]=n,e=0;e<1<<c[r];e++)g[n++]=r;for(g[n-1]=r,s=0,r=0;r<16;r++)for(w[r]=s,e=0;e<1<<d[r];e++)f[s++]=r;for(s>>=7;r<o;r++)for(w[r]=s<<7,e=0;e<1<<d[r]-7;e++)f[256+s++]=r;for(t=0;t<=l;t++)i[t]=0;for(e=0;e<=143;)p[2*e+1]=8,e++,i[8]++;for(;e<=255;)p[2*e+1]=9,e++,i[9]++;for(;e<=279;)p[2*e+1]=7,e++,i[7]++;for(;e<=287;)p[2*e+1]=8,e++,i[8]++;for(E(p,287,i),e=0;e<o;e++)m[2*e+1]=5,m[2*e]=T(e,5);b=new j(p,c,257,a,l),y=new j(m,d,0,o,l),v=new j(new Array(0),u,0,19,7)}(),O=!0),e.l_desc=new k(e.dyn_ltree,b),e.d_desc=new k(e.dyn_dtree,y),e.bl_desc=new k(e.bl_tree,v),e.bi_buf=0,e.bi_valid=0,P(e)},t._tr_stored_block=z,t._tr_flush_block=function(e,t,n,r){var s,a,o=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<i;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),I(e,e.l_desc),I(e,e.d_desc),o=function(e){var t;for(_(e,e.dyn_ltree,e.l_desc.max_code),_(e,e.dyn_dtree,e.d_desc.max_code),I(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*h[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),s=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=s&&(s=a)):s=a=n+5,n+4<=s&&-1!==t?z(e,t,n,r):4===e.strategy||a===s?(C(e,2+(r?1:0),3),M(e,p,m)):(C(e,4+(r?1:0),3),function(e,t,n,r){var s;for(C(e,t-257,5),C(e,n-1,5),C(e,r-4,4),s=0;s<r;s++)C(e,e.bl_tree[2*h[s]+1],3);L(e,e.dyn_ltree,t-1),L(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),M(e,e.dyn_ltree,e.dyn_dtree)),P(e),r&&F(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(g[n]+i+1)]++,e.dyn_dtree[2*N(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){C(e,2,3),A(e,256,p),function(e){16===e.bi_valid?(S(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},492:()=>{},579:(e,t,n)=>{"use strict";e.exports=n(799)},592:e=>{"use strict";var t=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,n,r,s){var i=t,a=s+r;e^=-1;for(var o=s;o<a;o++)e=e>>>8^i[255&(e^n[o])];return~e}},640:()=>{},671:()=>{},672:(e,t,n)=>{"use strict";var r=n(43);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(s(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(s(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),s="string"===typeof t.integrity?t.integrity:void 0,i="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:s,fetchPriority:i}):"script"===n&&a.d.X(e,{crossOrigin:r,integrity:s,fetchPriority:i,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},706:(e,t,n)=>{"use strict";var r=n(140),s=n(886),i=n(813),a=n(135),o=n(301),l=Object.prototype.toString;function c(e){if(!(this instanceof c))return new c(e);this.options=s.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw new Error(a[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var d;if(d="string"===typeof t.dictionary?i.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=r.deflateSetDictionary(this.strm,d)))throw new Error(a[n]);this._dict_set=!0}}function d(e,t){var n=new c(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}c.prototype.push=function(e,t){var n,a,o=this.strm,c=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"===typeof e?o.input=i.string2buf(e):"[object ArrayBuffer]"===l.call(e)?o.input=new Uint8Array(e):o.input=e,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new s.Buf8(c),o.next_out=0,o.avail_out=c),1!==(n=r.deflate(o,a))&&0!==n)return this.onEnd(n),this.ended=!0,!1;0!==o.avail_out&&(0!==o.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(i.buf2binstring(s.shrinkBuf(o.output,o.next_out))):this.onData(s.shrinkBuf(o.output,o.next_out)))}while((o.avail_in>0||0===o.avail_out)&&1!==n);return 4===a?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==a||(this.onEnd(0),o.avail_out=0,!0)},c.prototype.onData=function(e){this.chunks.push(e)},c.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=c,t.deflate=d,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,d(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,d(e,t)}},717:(e,t,n)=>{"use strict";var r={};(0,n(886).assign)(r,n(706),n(898),n(266)),e.exports=r},749:(module,__unused_webpack_exports,__webpack_require__)=>{var root,factory;root=globalThis,factory=()=>(()=>{"use strict";var __webpack_modules__=[,(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VerbosityLevel=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.TextRenderingMode=t.RenderingIntentFlag=t.PromiseCapability=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.PageActionEventType=t.OPS=t.MissingPDFException=t.MAX_IMAGE_SIZE_TO_CACHE=t.LINE_FACTOR=t.LINE_DESCENT_FACTOR=t.InvalidPDFException=t.ImageKind=t.IDENTITY_MATRIX=t.FormatError=t.FeatureTest=t.FONT_IDENTITY_MATRIX=t.DocumentActionEventType=t.CMapCompressionType=t.BaseException=t.BASELINE_FACTOR=t.AnnotationType=t.AnnotationReplyType=t.AnnotationPrefix=t.AnnotationMode=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationEditorType=t.AnnotationEditorPrefix=t.AnnotationEditorParamsType=t.AnnotationBorderStyleType=t.AnnotationActionEventType=t.AbortException=void 0,t.assert=function(e,t){e||o(t)},t.bytesToString=d,t.createValidAbsoluteUrl=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return null;try{if(n&&"string"===typeof e){if(n.addDefaultProtocol&&e.startsWith("www.")){const t=e.match(/\./g);t?.length>=2&&(e=`http://${e}`)}if(n.tryConvertEncoding)try{e=m(e)}catch{}}const r=t?new URL(e,t):new URL(e);if(function(e){switch(e?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(r))return r}catch{}return null},t.getModificationDate=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return[e.getUTCFullYear().toString(),(e.getUTCMonth()+1).toString().padStart(2,"0"),e.getUTCDate().toString().padStart(2,"0"),e.getUTCHours().toString().padStart(2,"0"),e.getUTCMinutes().toString().padStart(2,"0"),e.getUTCSeconds().toString().padStart(2,"0")].join("")},t.getUuid=function(){if("undefined"!==typeof crypto&&"function"===typeof crypto?.randomUUID)return crypto.randomUUID();const e=new Uint8Array(32);if("undefined"!==typeof crypto&&"function"===typeof crypto?.getRandomValues)crypto.getRandomValues(e);else for(let t=0;t<32;t++)e[t]=Math.floor(255*Math.random());return d(e)},t.getVerbosityLevel=function(){return i},t.info=function(e){i>=s.INFOS&&console.log(`Info: ${e}`)},t.isArrayBuffer=function(e){return"object"===typeof e&&void 0!==e?.byteLength},t.isArrayEqual=function(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0},t.isNodeJS=void 0,t.normalizeUnicode=function(e){return f||(f=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,g=new Map([["\ufb05","\u017ft"]])),e.replaceAll(f,((e,t,n)=>t?t.normalize("NFKC"):g.get(n)))},t.objectFromMap=function(e){const t=Object.create(null);for(const[n,r]of e)t[n]=r;return t},t.objectSize=function(e){return Object.keys(e).length},t.setVerbosityLevel=function(e){Number.isInteger(e)&&(i=e)},t.shadow=l,t.string32=function(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)},t.stringToBytes=u,t.stringToPDFString=function(e){if(e[0]>="\xef"){let t;if("\xfe"===e[0]&&"\xff"===e[1]?t="utf-16be":"\xff"===e[0]&&"\xfe"===e[1]?t="utf-16le":"\xef"===e[0]&&"\xbb"===e[1]&&"\xbf"===e[2]&&(t="utf-8"),t)try{const n=new TextDecoder(t,{fatal:!0}),r=u(e);return n.decode(r)}catch(n){a(`stringToPDFString: "${n}".`)}}const t=[];for(let r=0,s=e.length;r<s;r++){const n=p[e.charCodeAt(r)];t.push(n?String.fromCharCode(n):e.charAt(r))}return t.join("")},t.stringToUTF8String=m,t.unreachable=o,t.utf8StringToString=function(e){return unescape(encodeURIComponent(e))},t.warn=a;const n="object"===typeof process&&process+""==="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&"browser"!==process.type);t.isNodeJS=n,t.IDENTITY_MATRIX=[1,0,0,1,0,0],t.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],t.MAX_IMAGE_SIZE_TO_CACHE=1e7,t.LINE_FACTOR=1.35,t.LINE_DESCENT_FACTOR=.35;const r=.35/1.35;t.BASELINE_FACTOR=r,t.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},t.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},t.AnnotationEditorPrefix="pdfjs_internal_editor_",t.AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15},t.AnnotationEditorParamsType={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23},t.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},t.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},t.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},t.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},t.AnnotationReplyType={GROUP:"Group",REPLY:"R"},t.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},t.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},t.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},t.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},t.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},t.PageActionEventType={O:"PageOpen",C:"PageClose"};const s={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=s,t.CMapCompressionType={NONE:0,BINARY:1},t.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},t.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let i=s.WARNINGS;function a(e){i>=s.WARNINGS&&console.log(`Warning: ${e}`)}function o(e){throw new Error(e)}function l(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object.defineProperty(e,t,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}const c=function(){function e(t,n){this.constructor===e&&o("Cannot initialize BaseException."),this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();function d(e){"object"===typeof e&&void 0!==e?.length||o("Invalid argument for bytesToString");const t=e.length,n=8192;if(t<n)return String.fromCharCode.apply(null,e);const r=[];for(let s=0;s<t;s+=n){const i=Math.min(s+n,t),a=e.subarray(s,i);r.push(String.fromCharCode.apply(null,a))}return r.join("")}function u(e){"string"!==typeof e&&o("Invalid argument for stringToBytes");const t=e.length,n=new Uint8Array(t);for(let r=0;r<t;++r)n[r]=255&e.charCodeAt(r);return n}t.BaseException=c,t.PasswordException=class extends c{constructor(e,t){super(e,"PasswordException"),this.code=t}},t.UnknownErrorException=class extends c{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}},t.InvalidPDFException=class extends c{constructor(e){super(e,"InvalidPDFException")}},t.MissingPDFException=class extends c{constructor(e){super(e,"MissingPDFException")}},t.UnexpectedResponseException=class extends c{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}},t.FormatError=class extends c{constructor(e){super(e,"FormatError")}},t.AbortException=class extends c{constructor(e){super(e,"AbortException")}},t.FeatureTest=class{static get isLittleEndian(){return l(this,"isLittleEndian",function(){const e=new Uint8Array(4);return e[0]=1,1===new Uint32Array(e.buffer,0,1)[0]}())}static get isEvalSupported(){return l(this,"isEvalSupported",function(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return l(this,"isOffscreenCanvasSupported","undefined"!==typeof OffscreenCanvas)}static get platform(){return"undefined"===typeof navigator?l(this,"platform",{isWin:!1,isMac:!1}):l(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){return l(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}};const h=[...Array(256).keys()].map((e=>e.toString(16).padStart(2,"0")));t.Util=class{static makeHexColor(e,t,n){return`#${h[e]}${h[t]}${h[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[1],t[1]=n),t[0]*=e[0],t[1]*=e[0],e[3]<0&&(n=t[2],t[2]=t[3],t[3]=n),t[2]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[2],t[2]=n,n=t[1],t[1]=t[3],t[3]=n,e[1]<0&&(n=t[2],t[2]=t[3],t[3]=n),t[2]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[1],t[1]=n),t[0]*=e[2],t[1]*=e[2]),t[0]+=e[4],t[1]+=e[4],t[2]+=e[5],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}static applyInverseTransform(e,t){const n=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n]}static getAxialAlignedBoundingBox(e,t){const n=this.applyTransform(e,t),r=this.applyTransform(e.slice(2,4),t),s=this.applyTransform([e[0],e[3]],t),i=this.applyTransform([e[2],e[1]],t);return[Math.min(n[0],r[0],s[0],i[0]),Math.min(n[1],r[1],s[1],i[1]),Math.max(n[0],r[0],s[0],i[0]),Math.max(n[1],r[1],s[1],i[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],s=e[2]*t[0]+e[3]*t[2],i=e[2]*t[1]+e[3]*t[3],a=(n+i)/2,o=Math.sqrt((n+i)**2-4*(n*i-s*r))/2,l=a+o||1,c=a-o||1;return[Math.sqrt(l),Math.sqrt(c)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>r)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),i=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>i?null:[n,s,r,i]}static bezierBoundingBox(e,t,n,r,s,i,a,o){const l=[],c=[[],[]];let d,u,h,p,m,f,g,x;for(let w=0;w<2;++w)if(0===w?(u=6*e-12*n+6*s,d=-3*e+9*n-9*s+3*a,h=3*n-3*e):(u=6*t-12*r+6*i,d=-3*t+9*r-9*i+3*o,h=3*r-3*t),Math.abs(d)<1e-12){if(Math.abs(u)<1e-12)continue;p=-h/u,0<p&&p<1&&l.push(p)}else g=u*u-4*h*d,x=Math.sqrt(g),g<0||(m=(-u+x)/(2*d),0<m&&m<1&&l.push(m),f=(-u-x)/(2*d),0<f&&f<1&&l.push(f));let b,y=l.length;const v=y;for(;y--;)p=l[y],b=1-p,c[0][y]=b*b*b*e+3*b*b*p*n+3*b*p*p*s+p*p*p*a,c[1][y]=b*b*b*t+3*b*b*p*r+3*b*p*p*i+p*p*p*o;return c[0][v]=e,c[1][v]=t,c[0][v+1]=a,c[1][v+1]=o,c[0].length=c[1].length=v+2,[Math.min(...c[0]),Math.min(...c[1]),Math.max(...c[0]),Math.max(...c[1])]}};const p=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function m(e){return decodeURIComponent(escape(e))}t.PromiseCapability=class{#e=!1;constructor(){this.promise=new Promise(((e,t)=>{this.resolve=t=>{this.#e=!0,e(t)},this.reject=e=>{this.#e=!0,t(e)}}))}get settled(){return this.#e}};let f=null,g=null;t.AnnotationPrefix="pdfjs_internal_id_"},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;function getDocument(e){if("string"===typeof e||e instanceof URL?e={url:e}:(0,_util.isArrayBuffer)(e)&&(e={data:e}),"object"!==typeof e)throw new Error("Invalid parameter in getDocument, need parameter object.");if(!e.url&&!e.data&&!e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const t=new PDFDocumentLoadingTask,{docId:n}=t,r=e.url?getUrlProp(e.url):null,s=e.data?getDataProp(e.data):null,i=e.httpHeaders||null,a=!0===e.withCredentials,o=e.password??null,l=e.range instanceof PDFDataRangeTransport?e.range:null,c=Number.isInteger(e.rangeChunkSize)&&e.rangeChunkSize>0?e.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let d=e.worker instanceof PDFWorker?e.worker:null;const u=e.verbosity,h="string"!==typeof e.docBaseUrl||(0,_display_utils.isDataScheme)(e.docBaseUrl)?null:e.docBaseUrl,p="string"===typeof e.cMapUrl?e.cMapUrl:null,m=!1!==e.cMapPacked,f=e.CMapReaderFactory||DefaultCMapReaderFactory,g="string"===typeof e.standardFontDataUrl?e.standardFontDataUrl:null,x=e.StandardFontDataFactory||DefaultStandardFontDataFactory,b=!0!==e.stopAtErrors,y=Number.isInteger(e.maxImageSize)&&e.maxImageSize>-1?e.maxImageSize:-1,v=!1!==e.isEvalSupported,w="boolean"===typeof e.isOffscreenCanvasSupported?e.isOffscreenCanvasSupported:!_util.isNodeJS,j=Number.isInteger(e.canvasMaxAreaInBytes)?e.canvasMaxAreaInBytes:-1,k="boolean"===typeof e.disableFontFace?e.disableFontFace:_util.isNodeJS,N=!0===e.fontExtraProperties,S=!0===e.enableXfa,C=e.ownerDocument||globalThis.document,A=!0===e.disableRange,T=!0===e.disableStream,E=!0===e.disableAutoFetch,P=!0===e.pdfBug,F=l?l.length:e.length??NaN,R="boolean"===typeof e.useSystemFonts?e.useSystemFonts:!_util.isNodeJS&&!k,D="boolean"===typeof e.useWorkerFetch?e.useWorkerFetch:f===_display_utils.DOMCMapReaderFactory&&x===_display_utils.DOMStandardFontDataFactory&&p&&g&&(0,_display_utils.isValidFetchUrl)(p,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(g,document.baseURI),M=e.canvasFactory||new DefaultCanvasFactory({ownerDocument:C}),I=e.filterFactory||new DefaultFilterFactory({docId:n,ownerDocument:C});(0,_util.setVerbosityLevel)(u);const _={canvasFactory:M,filterFactory:I};if(D||(_.cMapReaderFactory=new f({baseUrl:p,isCompressed:m}),_.standardFontDataFactory=new x({baseUrl:g})),!d){const e={verbosity:u,port:_worker_options.GlobalWorkerOptions.workerPort};d=e.port?PDFWorker.fromPort(e):new PDFWorker(e),t._worker=d}const L={docId:n,apiVersion:"3.11.174",data:s,password:o,disableAutoFetch:E,rangeChunkSize:c,length:F,docBaseUrl:h,enableXfa:S,evaluatorOptions:{maxImageSize:y,disableFontFace:k,ignoreErrors:b,isEvalSupported:v,isOffscreenCanvasSupported:w,canvasMaxAreaInBytes:j,fontExtraProperties:N,useSystemFonts:R,cMapUrl:D?p:null,standardFontDataUrl:D?g:null}},O={ignoreErrors:b,isEvalSupported:v,disableFontFace:k,fontExtraProperties:N,enableXfa:S,ownerDocument:C,disableAutoFetch:E,pdfBug:P,styleElement:null};return d.promise.then((function(){if(t.destroyed)throw new Error("Loading aborted");const e=_fetchDocument(d,L),o=new Promise((function(e){let t;var n;l?t=new _transport_stream.PDFDataTransportStream({length:F,initialData:l.initialData,progressiveDone:l.progressiveDone,contentDispositionFilename:l.contentDispositionFilename,disableRange:A,disableStream:T},l):s||(n={url:r,length:F,httpHeaders:i,withCredentials:a,rangeChunkSize:c,disableRange:A,disableStream:T},t=_util.isNodeJS?new _displayNode_stream.PDFNodeStream(n):(0,_display_utils.isValidFetchUrl)(n.url)?new _displayFetch_stream.PDFFetchStream(n):new _displayNetwork.PDFNetworkStream(n)),e(t)}));return Promise.all([e,o]).then((function(e){let[r,s]=e;if(t.destroyed)throw new Error("Loading aborted");const i=new _message_handler.MessageHandler(n,r,d.port),a=new WorkerTransport(i,t,s,O,_);t._transport=a,i.send("Ready",null)}))})).catch(t._capability.reject),t}async function _fetchDocument(e,t){if(e.destroyed)throw new Error("Worker was destroyed");const n=await e.messageHandler.sendWithPromise("GetDocRequest",t,t.data?[t.data.buffer]:null);if(e.destroyed)throw new Error("Worker was destroyed");return n}function getUrlProp(e){if(e instanceof URL)return e.href;try{return new URL(e,window.location).href}catch{if(_util.isNodeJS&&"string"===typeof e)return e}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(e){if(_util.isNodeJS&&"undefined"!==typeof Buffer&&e instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength)return e;if("string"===typeof e)return(0,_util.stringToBytes)(e);if("object"===typeof e&&!isNaN(e?.length)||(0,_util.isArrayBuffer)(e))return new Uint8Array(e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;class PDFDocumentLoadingTask{static#t=0;constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId="d"+PDFDocumentLoadingTask.#t++,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await(this._transport?.destroy())}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const n of this._rangeListeners)n(e,t)}onDataProgress(e,t){this._readyCapability.promise.then((()=>{for(const n of this._progressListeners)n(e,t)}))}onDataProgressiveRead(e){this._readyCapability.promise.then((()=>{for(const t of this._progressiveReadListeners)t(e)}))}onDataProgressiveDone(){this._readyCapability.promise.then((()=>{for(const e of this._progressiveDoneListeners)e()}))}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(e,t){this._pdfInfo=e,this._transport=t,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then((e=>{if(!e)return e;const t=[];for(const n in e)t.push(...e[n]);return t})))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{#n=null;#r=!1;constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=r?new _display_utils.StatTimer:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:s=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new _display_utils.PageViewport({viewBox:this.view,scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:s})}getAnnotations(){let{intent:e="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render(e){let{canvasContext:t,viewport:n,intent:r="display",annotationMode:s=_util.AnnotationMode.ENABLE,transform:i=null,background:a=null,optionalContentConfigPromise:o=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:d=null}=e;this._stats?.time("Overall");const u=this._transport.getRenderingIntent(r,s,d);this.#r=!1,this.#s(),o||(o=this._transport.getOptionalContentConfig());let h=this._intentStates.get(u.cacheKey);h||(h=Object.create(null),this._intentStates.set(u.cacheKey,h)),h.streamReaderCancelTimeout&&(clearTimeout(h.streamReaderCancelTimeout),h.streamReaderCancelTimeout=null);const p=!!(u.renderingIntent&_util.RenderingIntentFlag.PRINT);h.displayReadyCapability||(h.displayReadyCapability=new _util.PromiseCapability,h.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(u));const m=e=>{h.renderTasks.delete(f),(this._maybeCleanupAfterRender||p)&&(this.#r=!0),this.#i(!p),e?(f.capability.reject(e),this._abortOperatorList({intentState:h,reason:e instanceof Error?e:new Error(e)})):f.capability.resolve(),this._stats?.timeEnd("Rendering"),this._stats?.timeEnd("Overall")},f=new InternalRenderTask({callback:m,params:{canvasContext:t,viewport:n,transform:i,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:h.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!p,pdfBug:this._pdfBug,pageColors:c});(h.renderTasks||=new Set).add(f);const g=f.task;return Promise.all([h.displayReadyCapability.promise,o]).then((e=>{let[t,n]=e;this.destroyed?m():(this._stats?.time("Rendering"),f.initializeGraphics({transparency:t,optionalContentConfig:n}),f.operatorListChanged())})).catch(m),g}getOperatorList(){let{intent:e="display",annotationMode:t=_util.AnnotationMode.ENABLE,printAnnotationStorage:n=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this._transport.getRenderingIntent(e,t,n,!0);let s,i=this._intentStates.get(r.cacheKey);return i||(i=Object.create(null),this._intentStates.set(r.cacheKey,i)),i.opListReadCapability||(s=Object.create(null),s.operatorListChanged=function(){i.operatorList.lastChunk&&(i.opListReadCapability.resolve(i.operatorList),i.renderTasks.delete(s))},i.opListReadCapability=new _util.PromiseCapability,(i.renderTasks||=new Set).add(s),i.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(r)),i.opListReadCapability.promise}streamTextContent(){let{includeMarkedContent:e=!1,disableNormalization:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===e,disableNormalization:!0===t},{highWaterMark:100,size:e=>e.items.length})}getTextContent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then((e=>_xfa_text.XfaText.textContent(e)));const t=this.streamTextContent(e);return new Promise((function(e,n){const r=t.getReader(),s={items:[],styles:Object.create(null)};!function t(){r.read().then((function(n){let{value:r,done:i}=n;i?e(s):(Object.assign(s.styles,r.styles),s.items.push(...r.items),t())}),n)}()}))}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),this.#r=!1,this.#s(),Promise.all(e)}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.#r=!0;const t=this.#i(!1);return e&&t&&(this._stats&&=new _display_utils.StatTimer),t}#i(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.#s(),!this.#r||this.destroyed)return!1;if(e)return this.#n=setTimeout((()=>{this.#n=null,this.#i(!1)}),DELAYED_CLEANUP_TIMEOUT),!1;for(const{renderTasks:t,operatorList:n}of this._intentStates.values())if(t.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#r=!1,!0}#s(){this.#n&&(clearTimeout(this.#n),this.#n=null)}_startRenderPage(e,t){const n=this._intentStates.get(t);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(e))}_renderPageChunk(e,t){for(let n=0,r=e.length;n<r;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&this.#i(!0)}_pumpOperatorList(e){let{renderingIntent:t,cacheKey:n,annotationStorageSerializable:r}=e;const{map:s,transfers:i}=r,a=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:n,annotationStorage:s},i).getReader(),o=this._intentStates.get(n);o.streamReader=a;const l=()=>{a.read().then((e=>{let{value:t,done:n}=e;n?o.streamReader=null:this._transport.destroyed||(this._renderPageChunk(t,o),l())}),(e=>{if(o.streamReader=null,!this._transport.destroyed){if(o.operatorList){o.operatorList.lastChunk=!0;for(const e of o.renderTasks)e.operatorListChanged();this.#i(!0)}if(o.displayReadyCapability)o.displayReadyCapability.reject(e);else{if(!o.opListReadCapability)throw e;o.opListReadCapability.reject(e)}}}))};l()}_abortOperatorList(e){let{intentState:t,reason:n,force:r=!1}=e;if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!r){if(t.renderTasks.size>0)return;if(n instanceof _display_utils.RenderingCancelledException){let e=RENDERING_CANCELLED_TIMEOUT;return n.extraDelay>0&&n.extraDelay<1e3&&(e+=n.extraDelay),void(t.streamReaderCancelTimeout=setTimeout((()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:n,force:!0})}),e))}}if(t.streamReader.cancel(new _util.AbortException(n.message)).catch((()=>{})),t.streamReader=null,!this._transport.destroyed){for(const[e,n]of this._intentStates)if(n===t){this._intentStates.delete(e);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{#a=(()=>new Set)();#o=(()=>Promise.resolve())();postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};this.#o.then((()=>{for(const e of this.#a)e.call(this,n)}))}addEventListener(e,t){this.#a.add(t)}removeEventListener(e,t){this.#a.delete(t)}terminate(){this.#a.clear()}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_util.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"===typeof document){const e=document?.currentScript?.src;e&&(PDFWorkerUtil.fallbackWorkerSrc=e.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(e,t){let n;try{if(n=new URL(e),!n.origin||"null"===n.origin)return!1}catch{return!1}const r=new URL(t,n);return n.origin===r.origin},PDFWorkerUtil.createCDNWrapper=function(e){const t=`importScripts("${e}");`;return URL.createObjectURL(new Blob([t]))};class PDFWorker{static#l;constructor(){let{name:e=null,port:t=null,verbosity:n=(0,_util.getVerbosityLevel)()}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,t){if(PDFWorker.#l?.has(t))throw new Error("Cannot use more than one PDFWorker per port.");return(PDFWorker.#l||=new WeakMap).set(t,this),void this._initializeFromPort(t)}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new _message_handler.MessageHandler("main","worker",e),this._messageHandler.on("ready",(function(){})),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:e}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,e)||(e=PDFWorkerUtil.createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e),n=new _message_handler.MessageHandler("main","worker",t),r=()=>{t.removeEventListener("error",s),n.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=()=>{this._webWorker||r()};t.addEventListener("error",s),n.on("test",(e=>{t.removeEventListener("error",s),this.destroyed?r():e?(this._messageHandler=n,this._port=t,this._webWorker=t,this._readyCapability.resolve(),n.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),n.destroy(),t.terminate())})),n.on("ready",(e=>{if(t.removeEventListener("error",s),this.destroyed)r();else try{i()}catch{this._setupFakeWorker()}}));const i=()=>{const e=new Uint8Array;n.send("test",e,[e.buffer])};return void i()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then((e=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const t=new LoopbackPort;this._port=t;const n="fake"+PDFWorkerUtil.fakeWorkerId++,r=new _message_handler.MessageHandler(n+"_worker",n,t);e.setup(r,t);const s=new _message_handler.MessageHandler(n,n+"_worker",t);this._messageHandler=s,this._readyCapability.resolve(),s.send("configure",{verbosity:this.verbosity})})).catch((e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))}))}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker.#l?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){if(!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const t=this.#l?.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new PDFWorker(e)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker;class WorkerTransport{#c=(()=>new Map)();#d=(()=>new Map)();#u=(()=>new Map)();#h=null;constructor(e,t,n,r,s){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}#p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.#c.get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,t);return this.#c.set(e,r),r}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_util.AnnotationMode.ENABLE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=_util.RenderingIntentFlag.DISPLAY,i=_annotation_storage.SerializableEmpty;switch(e){case"any":s=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":s=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${e}`)}switch(t){case _util.AnnotationMode.DISABLE:s+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:s+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:s+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,i=(s&_util.RenderingIntentFlag.PRINT&&n instanceof _annotation_storage.PrintAnnotationStorage?n:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${t}`)}return r&&(s+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:s,cacheKey:`${s}_${i.hash}`,annotationStorageSerializable:i}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,this.#h?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const n of this.#d.values())e.push(n._destroy());this.#d.clear(),this.#u.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then((()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#c.clear(),this.filterFactory.destroy(),this._networkStream?.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",((e,t)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=e=>{this._lastProgress={loaded:e.loaded,total:e.total}},t.onPull=()=>{this._fullReader.read().then((function(e){let{value:n,done:r}=e;r?t.close():((0,_util.assert)(n instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(n),1,[n]))})).catch((e=>{t.error(e)}))},t.onCancel=e=>{this._fullReader.cancel(e),t.ready.catch((e=>{if(!this.destroyed)throw e}))}})),e.on("ReaderHeadersReady",(e=>{const n=new _util.PromiseCapability,r=this._fullReader;return r.headersReady.then((()=>{r.isStreamingSupported&&r.isRangeSupported||(this._lastProgress&&t.onProgress?.(this._lastProgress),r.onProgress=e=>{t.onProgress?.({loaded:e.loaded,total:e.total})}),n.resolve({isStreamingSupported:r.isStreamingSupported,isRangeSupported:r.isRangeSupported,contentLength:r.contentLength})}),n.reject),n.promise})),e.on("GetRangeReader",((e,t)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const n=this._networkStream.getRangeReader(e.begin,e.end);n?(t.onPull=()=>{n.read().then((function(e){let{value:n,done:r}=e;r?t.close():((0,_util.assert)(n instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(n),1,[n]))})).catch((e=>{t.error(e)}))},t.onCancel=e=>{n.cancel(e),t.ready.catch((e=>{if(!this.destroyed)throw e}))}):t.close()})),e.on("GetDoc",(e=>{let{pdfInfo:n}=e;this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new PDFDocumentProxy(n,this))})),e.on("DocException",(function(e){let n;switch(e.name){case"PasswordException":n=new _util.PasswordException(e.message,e.code);break;case"InvalidPDFException":n=new _util.InvalidPDFException(e.message);break;case"MissingPDFException":n=new _util.MissingPDFException(e.message);break;case"UnexpectedResponseException":n=new _util.UnexpectedResponseException(e.message,e.status);break;case"UnknownErrorException":n=new _util.UnknownErrorException(e.message,e.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}t._capability.reject(n)})),e.on("PasswordRequest",(e=>{if(this.#h=new _util.PromiseCapability,t.onPassword){const r=e=>{e instanceof Error?this.#h.reject(e):this.#h.resolve({password:e})};try{t.onPassword(r,e.code)}catch(n){this.#h.reject(n)}}else this.#h.reject(new _util.PasswordException(e.message,e.code));return this.#h.promise})),e.on("DataLoaded",(e=>{t.onProgress?.({loaded:e.length,total:e.length}),this.downloadInfoCapability.resolve(e)})),e.on("StartRenderPage",(e=>{this.destroyed||this.#d.get(e.pageIndex)._startRenderPage(e.transparency,e.cacheKey)})),e.on("commonobj",(t=>{let[n,r,s]=t;if(!this.destroyed&&!this.commonObjs.has(n))switch(r){case"Font":const t=this._params;if("error"in s){const e=s.error;(0,_util.warn)(`Error during font loading: ${e}`),this.commonObjs.resolve(n,e);break}const i=t.pdfBug&&globalThis.FontInspector?.enabled?(e,t)=>globalThis.FontInspector.fontAdded(e,t):null,a=new _font_loader.FontFaceObject(s,{isEvalSupported:t.isEvalSupported,disableFontFace:t.disableFontFace,ignoreErrors:t.ignoreErrors,inspectFont:i});this.fontLoader.bind(a).catch((t=>e.sendWithPromise("FontFallback",{id:n}))).finally((()=>{!t.fontExtraProperties&&a.data&&(a.data=null),this.commonObjs.resolve(n,a)}));break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,s);break;default:throw new Error(`Got unknown common object type ${r}`)}})),e.on("obj",(e=>{let[t,n,r,s]=e;if(this.destroyed)return;const i=this.#d.get(n);if(!i.objs.has(t))switch(r){case"Image":if(i.objs.resolve(t,s),s){let e;if(s.bitmap){const{width:t,height:n}=s;e=t*n*4}else e=s.data?.length||0;e>_util.MAX_IMAGE_SIZE_TO_CACHE&&(i._maybeCleanupAfterRender=!0)}break;case"Pattern":i.objs.resolve(t,s);break;default:throw new Error(`Got unknown object type ${r}`)}})),e.on("DocProgress",(e=>{this.destroyed||t.onProgress?.({loaded:e.loaded,total:e.total})})),e.on("FetchBuiltInCMap",(e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(e):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.")))),e.on("FetchStandardFontData",(e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(e):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter."))))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfers:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},t).finally((()=>{this.annotationStorage.resetModified()}))}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=this.#u.get(t);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then((e=>{if(this.destroyed)throw new Error("Transport destroyed");const n=new PDFPageProxy(t,e,this,this._params.pdfBug);return this.#d.set(t,n),n}));return this.#u.set(t,r),r}getPageIndex(e){return"object"!==typeof e||null===e||!Number.isInteger(e.num)||e.num<0||!Number.isInteger(e.gen)||e.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen})}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return this.#p("GetFieldObjects")}hasJSActions(){return this.#p("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return"string"!==typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#p("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then((e=>new _optional_content_config.OptionalContentConfig(e)))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=this.#c.get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then((e=>({info:e[0],metadata:e[1]?new _metadata.Metadata(e[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})));return this.#c.set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#d.values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#c.clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:e,enableXfa:t}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:e,enableXfa:t})}}class PDFObjects{#m=(()=>Object.create(null))();#f(e){return this.#m[e]||={capability:new _util.PromiseCapability,data:null}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t){const n=this.#f(e);return n.capability.promise.then((()=>t(n.data))),null}const n=this.#m[e];if(!n?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=this.#m[e];return t?.capability.settled||!1}resolve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.#f(e);n.data=t,n.capability.resolve()}clear(){for(const e in this.#m){const{data:t}=this.#m[e];t?.bitmap?.close()}this.#m=Object.create(null)}}class RenderTask{#g=null;constructor(e){this.#g=e,this.onContinue=null}get promise(){return this.#g.capability.promise}cancel(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.#g.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#g.operatorList;if(!e)return!1;const{annotationCanvasMap:t}=this.#g;return e.form||e.canvas&&t?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{static#x=(()=>new WeakSet)();constructor(e){let{callback:t,params:n,objs:r,commonObjs:s,annotationCanvasMap:i,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:d=!1,pdfBug:u=!1,pageColors:h=null}=e;this.callback=t,this.params=n,this.objs=r,this.commonObjs=s,this.annotationCanvasMap=i,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=u,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===d&&"undefined"!==typeof window,this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch((function(){}))}initializeGraphics(e){let{transparency:t=!1,optionalContentConfig:n}=e;if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#x.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#x.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:s,transform:i,background:a}=this.params;this.gfx=new _canvas.CanvasGraphics(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:i,viewport:s,transparency:t,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),InternalRenderTask.#x.delete(this._canvas),this.callback(e||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){this.graphicsReady?(this.stepper?.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||=this._continueBound}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame((()=>{this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),InternalRenderTask.#x.delete(this._canvas),this.callback())))}}const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SerializableEmpty=t.PrintAnnotationStorage=t.AnnotationStorage=void 0;var r=n(1),s=n(4),i=n(8);const a=Object.freeze({map:null,hash:"",transfers:void 0});t.SerializableEmpty=a;class o{#b=!1;#y=(()=>new Map)();constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=this.#y.get(e);return void 0===n?t:Object.assign(t,n)}getRawValue(e){return this.#y.get(e)}remove(e){if(this.#y.delete(e),0===this.#y.size&&this.resetModified(),"function"===typeof this.onAnnotationEditor){for(const e of this.#y.values())if(e instanceof s.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=this.#y.get(e);let r=!1;if(void 0!==n)for(const[s,i]of Object.entries(t))n[s]!==i&&(r=!0,n[s]=i);else r=!0,this.#y.set(e,t);r&&this.#v(),t instanceof s.AnnotationEditor&&"function"===typeof this.onAnnotationEditor&&this.onAnnotationEditor(t.constructor._type)}has(e){return this.#y.has(e)}getAll(){return this.#y.size>0?(0,r.objectFromMap)(this.#y):null}setAll(e){for(const[t,n]of Object.entries(e))this.setValue(t,n)}get size(){return this.#y.size}#v(){this.#b||(this.#b=!0,"function"===typeof this.onSetModified&&this.onSetModified())}resetModified(){this.#b&&(this.#b=!1,"function"===typeof this.onResetModified&&this.onResetModified())}get print(){return new l(this)}get serializable(){if(0===this.#y.size)return a;const e=new Map,t=new i.MurmurHash3_64,n=[],r=Object.create(null);let o=!1;for(const[i,a]of this.#y){const n=a instanceof s.AnnotationEditor?a.serialize(!1,r):a;n&&(e.set(i,n),t.update(`${i}:${JSON.stringify(n)}`),o||=!!n.bitmap)}if(o)for(const s of e.values())s.bitmap&&n.push(s.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfers:n}:a}}t.AnnotationStorage=o;class l extends o{#w;constructor(e){super();const{map:t,hash:n,transfers:r}=e.serializable,s=structuredClone(t,r?{transfer:r}:null);this.#w={map:s,hash:n,transfers:r}}get print(){(0,r.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#w}}t.PrintAnnotationStorage=l},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditor=void 0;var r=n(5),s=n(1),i=n(6);class a{#j="";#k=!1;#N=null;#S=null;#C=null;#A=!1;#T=null;#E=this.focusin.bind(this);#P=this.focusout.bind(this);#F=!1;#R=!1;#D=!1;_initialOptions=(()=>Object.create(null))();_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#M=!1;#I=(()=>a._zIndex++)();static _borderLineWidth=-1;static _colorManager=(()=>new r.ColorManager)();static _zIndex=1;static SMALL_EDITOR_SIZE=0;constructor(e){this.constructor===a&&(0,s.unreachable)("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:r,pageX:i,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,r],this.pageTranslation=[i,o];const[l,c]=this.parentDimensions;this.x=e.x/l,this.y=e.y/c,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,s.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new o({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(a._l10nPromise||=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map((t=>[t,e.get(t)]))),t?.strings)for(const r of t.strings)a._l10nPromise.set(r,e.get(r));if(-1!==a._borderLineWidth)return;const n=getComputedStyle(document.documentElement);a._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){(0,s.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#M}set _isDraggable(e){this.#M=e,this.div?.classList.toggle("draggable",e)}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(2*e),this.y+=this.width*e/(2*t);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(2*e),this.y-=this.width*e/(2*t);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#I}setParent(e){null!==e&&(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#F?this.#F=!1:this.parent.setSelected(this))}focusout(e){if(!this._focusEventsAllowed)return;if(!this.isAttachedToDOM)return;const t=e.relatedTarget;t?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,r){const[s,i]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(e+n)/s,this.y=(t+r)/i,this.fixAndSetPosition()}#_(e,t,n){let[r,s]=e;[t,n]=this.screenToPageTranslation(t,n),this.x+=t/r,this.y+=n/s,this.fixAndSetPosition()}translate(e,t){this.#_(this.parentDimensions,e,t)}translateInPage(e,t){this.#_(this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){const[n,r]=this.parentDimensions;if(this.x+=e/n,this.y+=t/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:e,y:t}=this.div.getBoundingClientRect();this.parent.findNewParent(this,e,t)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:i}=this;const[a,o]=this.#L();s+=a,i+=o,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*i).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}#L(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=a,r=n/e,s=n/t;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}fixAndSetPosition(){const[e,t]=this.pageDimensions;let{x:n,y:r,width:s,height:i}=this;switch(s*=e,i*=t,n*=e,r*=t,this.rotation){case 0:n=Math.max(0,Math.min(e-s,n)),r=Math.max(0,Math.min(t-i,r));break;case 90:n=Math.max(0,Math.min(e-i,n)),r=Math.min(t,Math.max(s,r));break;case 180:n=Math.min(e,Math.max(s,n)),r=Math.min(t,Math.max(i,r));break;case 270:n=Math.min(e,Math.max(i,n)),r=Math.max(0,Math.min(t-s,r))}this.x=n/=e,this.y=r/=t;const[a,o]=this.#L();n+=a,r+=o;const{style:l}=this.div;l.left=`${(100*n).toFixed(2)}%`,l.top=`${(100*r).toFixed(2)}%`,this.moveInDOM()}static#O(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}screenToPageTranslation(e,t){return a.#O(e,t,this.parentRotation)}pageTranslationToScreen(e,t){return a.#O(e,t,360-this.parentRotation)}#z(e){switch(e){case 90:{const[e,t]=this.pageDimensions;return[0,-e/t,t/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,t]=this.pageDimensions;return[0,e/t,-t/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this,r=t*e,i=n*e;return s.FeatureTest.isCSSRoundSupported?[Math.round(r),Math.round(i)]:[r,i]}setDims(e,t){const[n,r]=this.parentDimensions;this.div.style.width=`${(100*e/n).toFixed(2)}%`,this.#A||(this.div.style.height=`${(100*t/r).toFixed(2)}%`),this.#N?.classList.toggle("small",e<a.SMALL_EDITOR_SIZE||t<a.SMALL_EDITOR_SIZE)}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,r=n.endsWith("%"),s=!this.#A&&t.endsWith("%");if(r&&s)return;const[i,a]=this.parentDimensions;r||(e.width=`${(100*parseFloat(n)/i).toFixed(2)}%`),this.#A||s||(e.height=`${(100*parseFloat(t)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#B(){if(this.#T)return;this.#T=document.createElement("div"),this.#T.classList.add("resizers");const e=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||e.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const t of e){const e=document.createElement("div");this.#T.append(e),e.classList.add("resizer",t),e.addEventListener("pointerdown",this.#U.bind(this,t)),e.addEventListener("contextmenu",i.noContextMenu)}this.div.prepend(this.#T)}#U(e,t){t.preventDefault();const{isMac:n}=s.FeatureTest.platform;if(0!==t.button||t.ctrlKey&&n)return;const r=this.#q.bind(this,e),i=this._isDraggable;this._isDraggable=!1;const a={passive:!0,capture:!0};window.addEventListener("pointermove",r,a);const o=this.x,l=this.y,c=this.width,d=this.height,u=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const p=()=>{this._isDraggable=i,window.removeEventListener("pointerup",p),window.removeEventListener("blur",p),window.removeEventListener("pointermove",r,a),this.parent.div.style.cursor=u,this.div.style.cursor=h;const e=this.x,t=this.y,n=this.width,s=this.height;e===o&&t===l&&n===c&&s===d||this.addCommands({cmd:()=>{this.width=n,this.height=s,this.x=e,this.y=t;const[r,i]=this.parentDimensions;this.setDims(r*n,i*s),this.fixAndSetPosition()},undo:()=>{this.width=c,this.height=d,this.x=o,this.y=l;const[e,t]=this.parentDimensions;this.setDims(e*c,t*d),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",p),window.addEventListener("blur",p)}#q(e,t){const[n,r]=this.parentDimensions,s=this.x,i=this.y,o=this.width,l=this.height,c=a.MIN_SIZE/n,d=a.MIN_SIZE/r,u=e=>Math.round(1e4*e)/1e4,h=this.#z(this.rotation),p=(e,t)=>[h[0]*e+h[2]*t,h[1]*e+h[3]*t],m=this.#z(360-this.rotation);let f,g,x=!1,b=!1;switch(e){case"topLeft":x=!0,f=(e,t)=>[0,0],g=(e,t)=>[e,t];break;case"topMiddle":f=(e,t)=>[e/2,0],g=(e,t)=>[e/2,t];break;case"topRight":x=!0,f=(e,t)=>[e,0],g=(e,t)=>[0,t];break;case"middleRight":b=!0,f=(e,t)=>[e,t/2],g=(e,t)=>[0,t/2];break;case"bottomRight":x=!0,f=(e,t)=>[e,t],g=(e,t)=>[0,0];break;case"bottomMiddle":f=(e,t)=>[e/2,t],g=(e,t)=>[e/2,0];break;case"bottomLeft":x=!0,f=(e,t)=>[0,t],g=(e,t)=>[e,0];break;case"middleLeft":b=!0,f=(e,t)=>[0,t/2],g=(e,t)=>[e,t/2]}const y=f(o,l),v=g(o,l);let w=p(...v);const j=u(s+w[0]),k=u(i+w[1]);let N=1,S=1,[C,A]=this.screenToPageTranslation(t.movementX,t.movementY);var T,E;if([C,A]=(T=C/n,E=A/r,[m[0]*T+m[2]*E,m[1]*T+m[3]*E]),x){const e=Math.hypot(o,l);N=S=Math.max(Math.min(Math.hypot(v[0]-y[0]-C,v[1]-y[1]-A)/e,1/o,1/l),c/o,d/l)}else b?N=Math.max(c,Math.min(1,Math.abs(v[0]-y[0]-C)))/o:S=Math.max(d,Math.min(1,Math.abs(v[1]-y[1]-A)))/l;const P=u(o*N),F=u(l*S);w=p(...g(P,F));const R=j-w[0],D=k-w[1];this.width=P,this.height=F,this.x=R,this.y=D,this.setDims(n*P,r*F),this.fixAndSetPosition()}async addAltTextButton(){if(this.#N)return;const e=this.#N=document.createElement("button");e.className="altText";const t=await a._l10nPromise.get("editor_alt_text_button_label");if(e.textContent=t,e.setAttribute("aria-label",t),e.tabIndex="0",e.addEventListener("contextmenu",i.noContextMenu),e.addEventListener("pointerdown",(e=>e.stopPropagation())),e.addEventListener("click",(e=>{e.preventDefault(),this._uiManager.editAltText(this)}),{capture:!0}),e.addEventListener("keydown",(t=>{t.target===e&&"Enter"===t.key&&(t.preventDefault(),this._uiManager.editAltText(this))})),this.#V(),this.div.append(e),!a.SMALL_EDITOR_SIZE){const t=40;a.SMALL_EDITOR_SIZE=Math.min(128,Math.round(e.getBoundingClientRect().width*(1+t/100)))}}async#V(){const e=this.#N;if(!e)return;if(!this.#j&&!this.#k)return e.classList.remove("done"),void this.#S?.remove();a._l10nPromise.get("editor_alt_text_edit_button_label").then((t=>{e.setAttribute("aria-label",t)}));let t=this.#S;if(!t){this.#S=t=document.createElement("span"),t.className="tooltip",t.setAttribute("role","tooltip");const n=t.id=`alt-text-tooltip-${this.id}`;e.setAttribute("aria-describedby",n);const r=100;e.addEventListener("mouseenter",(()=>{this.#C=setTimeout((()=>{this.#C=null,this.#S.classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})}),r)})),e.addEventListener("mouseleave",(()=>{clearTimeout(this.#C),this.#C=null,this.#S?.classList.remove("show")}))}e.classList.add("done"),t.innerText=this.#k?await a._l10nPromise.get("editor_alt_text_decorative_tooltip"):this.#j,t.parentNode||e.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:this.#j,decorative:this.#k}}set altTextData(e){let{altText:t,decorative:n}=e;this.#j===t&&this.#k===n||(this.#j=t,this.#k=n,this.#V())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#E),this.div.addEventListener("focusout",this.#P);const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[n,s]=this.getInitialTranslation();return this.translate(n,s),(0,r.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=s.FeatureTest.platform;0!==e.button||e.ctrlKey&&t?e.preventDefault():(this.#F=!0,this.#W(e))}#W(e){if(!this._isDraggable)return;const t=this._uiManager.isSelected(this);let n,r;this._uiManager.setUpDragSession(),t&&(n={passive:!0,capture:!0},r=e=>{const[t,n]=this.screenToPageTranslation(e.movementX,e.movementY);this._uiManager.dragSelectedEditors(t,n)},window.addEventListener("pointermove",r,n));const i=()=>{if(window.removeEventListener("pointerup",i),window.removeEventListener("blur",i),t&&window.removeEventListener("pointermove",r,n),this.#F=!1,!this._uiManager.endDragSession()){const{isMac:t}=s.FeatureTest.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",i),window.addEventListener("blur",i)}moveInDOM(){this.parent?.moveEditorInDOM(this)}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition()}getRect(e,t){const n=this.parentScale,[r,s]=this.pageDimensions,[i,a]=this.pageTranslation,o=e/n,l=t/n,c=this.x*r,d=this.y*s,u=this.width*r,h=this.height*s;switch(this.rotation){case 0:return[c+o+i,s-d-l-h+a,c+o+u+i,s-d-l+a];case 90:return[c+l+i,s-d+o+a,c+l+h+i,s-d+o+u+a];case 180:return[c-o-u+i,s-d+l+a,c-o+i,s-d+l+h+a];case 270:return[c-l-h+i,s-d-o-u+a,c-l+i,s-d-o+a];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,r,s,i]=e,a=s-n,o=i-r;switch(this.rotation){case 0:return[n,t-i,a,o];case 90:return[n,t-r,o,a];case 180:return[s,t-r,a,o];case 270:return[s,t-i,o,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#D=!0}disableEditMode(){this.#D=!1}isInEditMode(){return this.#D}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#E),this.div?.addEventListener("focusout",this.#P)}serialize(){(0,s.unreachable)("An editor must be serializable")}static deserialize(e,t,n){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n});r.rotation=e.rotation;const[s,i]=r.pageDimensions,[a,o,l,c]=r.getRectInCurrentCoords(e.rect,i);return r.x=a/s,r.y=o/i,r.width=l/s,r.height=c/i,r}remove(){this.div.removeEventListener("focusin",this.#E),this.div.removeEventListener("focusout",this.#P),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#N?.remove(),this.#N=null,this.#S=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#B(),this.#T.classList.remove("hidden"))}select(){this.makeResizable(),this.div?.classList.add("selectedEditor")}unselect(){this.#T?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(e,t){}disableEditing(){this.#N&&(this.#N.hidden=!0)}enableEditing(){this.#N&&(this.#N.hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return this.#R}set isEditing(e){this.#R=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){this.#A=!0;const n=e/t,{style:r}=this.div;r.aspectRatio=n,r.height="auto"}static get MIN_SIZE(){return 16}}t.AnnotationEditor=a;class o extends a{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardManager=t.CommandManager=t.ColorManager=t.AnnotationEditorUIManager=void 0,t.bindEvents=function(e,t,n){for(const r of n)t.addEventListener(r,e[r].bind(e))},t.opacityToHex=function(e){return Math.round(Math.min(255,Math.max(1,255*e))).toString(16).padStart(2,"0")};var r=n(1),s=n(6);class i{#H=0;getId(){return`${r.AnnotationEditorPrefix}${this.#H++}`}}class a{#G=(()=>(0,r.getUuid)())();#H=0;#K=null;static get _isSVGFittingCanvas(){const e=new OffscreenCanvas(1,3).getContext("2d"),t=new Image;t.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>';const n=t.decode().then((()=>(e.drawImage(t,0,0,1,1,0,0,1,3),0===new Uint32Array(e.getImageData(0,0,1,1).data.buffer)[0])));return(0,r.shadow)(this,"_isSVGFittingCanvas",n)}async#X(e,t){this.#K||=new Map;let n=this.#K.get(e);if(null===n)return null;if(n?.bitmap)return n.refCounter+=1,n;try{let e;if(n||={bitmap:null,id:`image_${this.#G}_${this.#H++}`,refCounter:0,isSvg:!1},"string"===typeof t){n.url=t;const r=await fetch(t);if(!r.ok)throw new Error(r.statusText);e=await r.blob()}else e=n.file=t;if("image/svg+xml"===e.type){const t=a._isSVGFittingCanvas,r=new FileReader,s=new Image,i=new Promise(((e,i)=>{s.onload=()=>{n.bitmap=s,n.isSvg=!0,e()},r.onload=async()=>{const e=n.svgUrl=r.result;s.src=await t?`${e}#svgView(preserveAspectRatio(none))`:e},s.onerror=r.onerror=i}));r.readAsDataURL(e),await i}else n.bitmap=await createImageBitmap(e);n.refCounter=1}catch(r){console.error(r),n=null}return this.#K.set(e,n),n&&this.#K.set(n.id,n),n}async getFromFile(e){const{lastModified:t,name:n,size:r,type:s}=e;return this.#X(`${t}_${n}_${r}_${s}`,e)}async getFromUrl(e){return this.#X(e,e)}async getFromId(e){this.#K||=new Map;const t=this.#K.get(e);return t?t.bitmap?(t.refCounter+=1,t):t.file?this.getFromFile(t.file):this.getFromUrl(t.url):null}getSvgUrl(e){const t=this.#K.get(e);return t?.isSvg?t.svgUrl:null}deleteId(e){this.#K||=new Map;const t=this.#K.get(e);t&&(t.refCounter-=1,0===t.refCounter&&(t.bitmap=null))}isValidId(e){return e.startsWith(`image_${this.#G}_`)}}class o{#Y=[];#Q=!1;#J;#Z=-1;constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;this.#J=e}add(e){let{cmd:t,undo:n,mustExec:r,type:s=NaN,overwriteIfSameType:i=!1,keepUndo:a=!1}=e;if(r&&t(),this.#Q)return;const o={cmd:t,undo:n,type:s};if(-1===this.#Z)return this.#Y.length>0&&(this.#Y.length=0),this.#Z=0,void this.#Y.push(o);if(i&&this.#Y[this.#Z].type===s)return a&&(o.undo=this.#Y[this.#Z].undo),void(this.#Y[this.#Z]=o);const l=this.#Z+1;l===this.#J?this.#Y.splice(0,1):(this.#Z=l,l<this.#Y.length&&this.#Y.splice(l)),this.#Y.push(o)}undo(){-1!==this.#Z&&(this.#Q=!0,this.#Y[this.#Z].undo(),this.#Q=!1,this.#Z-=1)}redo(){this.#Z<this.#Y.length-1&&(this.#Z+=1,this.#Q=!0,this.#Y[this.#Z].cmd(),this.#Q=!1)}hasSomethingToUndo(){return-1!==this.#Z}hasSomethingToRedo(){return this.#Z<this.#Y.length-1}destroy(){this.#Y=null}}t.CommandManager=o;class l{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=r.FeatureTest.platform;for(const[n,r,s={}]of e)for(const e of n){const n=e.startsWith("mac+");t&&n?(this.callbacks.set(e.slice(4),{callback:r,options:s}),this.allKeys.add(e.split("+").at(-1))):t||n||(this.callbacks.set(e,{callback:r,options:s}),this.allKeys.add(e.split("+").at(-1)))}}#$(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(this.#$(t));if(!n)return;const{callback:r,options:{bubbles:s=!1,args:i=[],checker:a=null}}=n;a&&!a(e,t)||(r.bind(e,...i)(),s||(t.stopPropagation(),t.preventDefault()))}}t.KeyboardManager=l;class c{static _colorsMapping=(()=>new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]))();get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return(0,s.getColorValues)(e),(0,r.shadow)(this,"_colors",e)}convert(e){const t=(0,s.getRGB)(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,r]of this._colors)if(r.every(((e,n)=>e===t[n])))return c._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?r.Util.makeHexColor(...t):e}}t.ColorManager=c;class d{#ee=null;#te=(()=>new Map)();#ne=(()=>new Map)();#re=null;#se=null;#ie=(()=>new o)();#ae=0;#oe=(()=>new Set)();#le=null;#ce=null;#de=(()=>new Set)();#ue=null;#he=(()=>new i)();#pe=!1;#me=!1;#fe=null;#ge=(()=>r.AnnotationEditorType.NONE)();#xe=(()=>new Set)();#be=null;#ye=this.blur.bind(this);#ve=this.focus.bind(this);#we=this.copy.bind(this);#je=this.cut.bind(this);#ke=this.paste.bind(this);#Ne=this.keydown.bind(this);#Se=this.onEditingAction.bind(this);#Ce=this.onPageChanging.bind(this);#Ae=this.onScaleChanging.bind(this);#Te=this.onRotationChanging.bind(this);#Ee={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#Pe=[0,0];#Fe=null;#Re=null;#De=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=d.prototype,t=e=>{const{activeElement:t}=document;return t&&e.#Re.contains(t)&&e.hasSomethingToControl()},n=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return(0,r.shadow)(this,"_keyboardManager",new l([[["ctrl+a","mac+meta+a"],e.selectAll],[["ctrl+z","mac+meta+z"],e.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-n,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[n,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-n],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,n],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}constructor(e,t,n,r,i,a){this.#Re=e,this.#De=t,this.#re=n,this._eventBus=r,this._eventBus._on("editingaction",this.#Se),this._eventBus._on("pagechanging",this.#Ce),this._eventBus._on("scalechanging",this.#Ae),this._eventBus._on("rotationchanging",this.#Te),this.#se=i.annotationStorage,this.#ue=i.filterFactory,this.#be=a,this.viewParameters={realScale:s.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){this.#Me(),this.#Ie(),this._eventBus._off("editingaction",this.#Se),this._eventBus._off("pagechanging",this.#Ce),this._eventBus._off("scalechanging",this.#Ae),this._eventBus._off("rotationchanging",this.#Te);for(const e of this.#ne.values())e.destroy();this.#ne.clear(),this.#te.clear(),this.#de.clear(),this.#ee=null,this.#xe.clear(),this.#ie.destroy(),this.#re.destroy()}get hcmFilter(){return(0,r.shadow)(this,"hcmFilter",this.#be?this.#ue.addHCMFilter(this.#be.foreground,this.#be.background):"none")}get direction(){return(0,r.shadow)(this,"direction",getComputedStyle(this.#Re).direction)}editAltText(e){this.#re?.editAltText(this,e)}onPageChanging(e){let{pageNumber:t}=e;this.#ae=t-1}focusMainContainer(){this.#Re.focus()}findParent(e,t){for(const n of this.#ne.values()){const{x:r,y:s,width:i,height:a}=n.div.getBoundingClientRect();if(e>=r&&e<=r+i&&t>=s&&t<=s+a)return n}return null}disableUserSelect(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.#De.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#de.add(e)}removeShouldRescale(e){this.#de.delete(e)}onScaleChanging(e){let{scale:t}=e;this.commitOrRemove(),this.viewParameters.realScale=t*s.PixelsPerInch.PDF_TO_CSS_UNITS;for(const n of this.#de)n.onScaleChanging()}onRotationChanging(e){let{pagesRotation:t}=e;this.commitOrRemove(),this.viewParameters.rotation=t}addToAnnotationStorage(e){e.isEmpty()||!this.#se||this.#se.has(e.id)||this.#se.setValue(e.id,e)}#_e(){window.addEventListener("focus",this.#ve),window.addEventListener("blur",this.#ye)}#Ie(){window.removeEventListener("focus",this.#ve),window.removeEventListener("blur",this.#ye)}blur(){if(!this.hasSelection)return;const{activeElement:e}=document;for(const t of this.#xe)if(t.div.contains(e)){this.#fe=[t,e],t._focusEventsAllowed=!1;break}}focus(){if(!this.#fe)return;const[e,t]=this.#fe;this.#fe=null,t.addEventListener("focusin",(()=>{e._focusEventsAllowed=!0}),{once:!0}),t.focus()}#Le(){window.addEventListener("keydown",this.#Ne,{capture:!0})}#Me(){window.removeEventListener("keydown",this.#Ne,{capture:!0})}#Oe(){document.addEventListener("copy",this.#we),document.addEventListener("cut",this.#je),document.addEventListener("paste",this.#ke)}#ze(){document.removeEventListener("copy",this.#we),document.removeEventListener("cut",this.#je),document.removeEventListener("paste",this.#ke)}addEditListeners(){this.#Le(),this.#Oe()}removeEditListeners(){this.#Me(),this.#ze()}copy(e){if(e.preventDefault(),this.#ee?.commitOrRemove(),!this.hasSelection)return;const t=[];for(const n of this.#xe){const e=n.serialize(!0);e&&t.push(e)}0!==t.length&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:t}=e;for(const r of t.items)for(const e of this.#ce)if(e.isHandlingMimeForPasting(r.type))return void e.paste(r,this.currentLayer);let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(i){return void(0,r.warn)(`paste: "${i.message}".`)}if(!Array.isArray(n))return;this.unselectAll();const s=this.currentLayer;try{const e=[];for(const i of n){const t=s.deserialize(i);if(!t)return;e.push(t)}const t=()=>{for(const t of e)this.#Be(t);this.#Ue(e)},r=()=>{for(const t of e)t.remove()};this.addCommands({cmd:t,undo:r,mustExec:!0})}catch(i){(0,r.warn)(`paste: "${i.message}".`)}}keydown(e){this.getActive()?.shouldGetKeyboardEvents()||d._keyboardManager.exec(this,e)}onEditingAction(e){["undo","redo","delete","selectAll"].includes(e.name)&&this[e.name]()}#qe(e){Object.entries(e).some((e=>{let[t,n]=e;return this.#Ee[t]!==n}))&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#Ee,e)})}#Ve(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#_e(),this.#Le(),this.#Oe(),this.#qe({isEditing:this.#ge!==r.AnnotationEditorType.NONE,isEmpty:this.#We(),hasSomethingToUndo:this.#ie.hasSomethingToUndo(),hasSomethingToRedo:this.#ie.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#Ie(),this.#Me(),this.#ze(),this.#qe({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#ce){this.#ce=e;for(const e of this.#ce)this.#Ve(e.defaultPropertiesToUpdate)}}getId(){return this.#he.getId()}get currentLayer(){return this.#ne.get(this.#ae)}getLayer(e){return this.#ne.get(e)}get currentPageIndex(){return this.#ae}addLayer(e){this.#ne.set(e.pageIndex,e),this.#pe?e.enable():e.disable()}removeLayer(e){this.#ne.delete(e.pageIndex)}updateMode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.#ge!==e){if(this.#ge=e,e===r.AnnotationEditorType.NONE)return this.setEditingState(!1),void this.#He();this.setEditingState(!0),this.#Ge(),this.unselectAll();for(const t of this.#ne.values())t.updateMode(e);if(t)for(const e of this.#te.values())if(e.annotationElementId===t){this.setSelected(e),e.enterInEditMode();break}}}updateToolbar(e){e!==this.#ge&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){if(this.#ce)if(e!==r.AnnotationEditorParamsType.CREATE){for(const n of this.#xe)n.updateParams(e,t);for(const n of this.#ce)n.updateDefaultParams(e,t)}else this.currentLayer.addNewEditor(e)}enableWaiting(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.#me!==e){this.#me=e;for(const t of this.#ne.values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}#Ge(){if(!this.#pe){this.#pe=!0;for(const e of this.#ne.values())e.enable()}}#He(){if(this.unselectAll(),this.#pe){this.#pe=!1;for(const e of this.#ne.values())e.disable()}}getEditors(e){const t=[];for(const n of this.#te.values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return this.#te.get(e)}addEditor(e){this.#te.set(e.id,e)}removeEditor(e){this.#te.delete(e.id),this.unselect(e),e.annotationElementId&&this.#oe.has(e.annotationElementId)||this.#se?.remove(e.id)}addDeletedAnnotationElement(e){this.#oe.add(e.annotationElementId),e.deleted=!0}isDeletedAnnotationElement(e){return this.#oe.has(e)}removeDeletedAnnotationElement(e){this.#oe.delete(e.annotationElementId),e.deleted=!1}#Be(e){const t=this.#ne.get(e.pageIndex);t?t.addOrRebuild(e):this.addEditor(e)}setActiveEditor(e){this.#ee!==e&&(this.#ee=e,e&&this.#Ve(e.propertiesToUpdate))}toggleSelected(e){if(this.#xe.has(e))return this.#xe.delete(e),e.unselect(),void this.#qe({hasSelectedEditor:this.hasSelection});this.#xe.add(e),e.select(),this.#Ve(e.propertiesToUpdate),this.#qe({hasSelectedEditor:!0})}setSelected(e){for(const t of this.#xe)t!==e&&t.unselect();this.#xe.clear(),this.#xe.add(e),e.select(),this.#Ve(e.propertiesToUpdate),this.#qe({hasSelectedEditor:!0})}isSelected(e){return this.#xe.has(e)}unselect(e){e.unselect(),this.#xe.delete(e),this.#qe({hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==this.#xe.size}undo(){this.#ie.undo(),this.#qe({hasSomethingToUndo:this.#ie.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#We()})}redo(){this.#ie.redo(),this.#qe({hasSomethingToUndo:!0,hasSomethingToRedo:this.#ie.hasSomethingToRedo(),isEmpty:this.#We()})}addCommands(e){this.#ie.add(e),this.#qe({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#We()})}#We(){if(0===this.#te.size)return!0;if(1===this.#te.size)for(const e of this.#te.values())return e.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...this.#xe];this.addCommands({cmd:()=>{for(const t of e)t.remove()},undo:()=>{for(const t of e)this.#Be(t)},mustExec:!0})}commitOrRemove(){this.#ee?.commitOrRemove()}hasSomethingToControl(){return this.#ee||this.hasSelection}#Ue(e){this.#xe.clear();for(const t of e)t.isEmpty()||(this.#xe.add(t),t.select());this.#qe({hasSelectedEditor:!0})}selectAll(){for(const e of this.#xe)e.commit();this.#Ue(this.#te.values())}unselectAll(){if(this.#ee)this.#ee.commitOrRemove();else if(this.hasSelection){for(const e of this.#xe)e.unselect();this.#xe.clear(),this.#qe({hasSelectedEditor:!1})}}translateSelectedEditors(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||this.commitOrRemove(),!this.hasSelection)return;this.#Pe[0]+=e,this.#Pe[1]+=t;const[n,r]=this.#Pe,s=[...this.#xe];this.#Fe&&clearTimeout(this.#Fe),this.#Fe=setTimeout((()=>{this.#Fe=null,this.#Pe[0]=this.#Pe[1]=0,this.addCommands({cmd:()=>{for(const e of s)this.#te.has(e.id)&&e.translateInPage(n,r)},undo:()=>{for(const e of s)this.#te.has(e.id)&&e.translateInPage(-n,-r)},mustExec:!1})}),1e3);for(const i of s)i.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#le=new Map;for(const e of this.#xe)this.#le.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#le)return!1;this.disableUserSelect(!1);const e=this.#le;this.#le=null;let t=!1;for(const[{x:r,y:s,pageIndex:i},a]of e)a.newX=r,a.newY=s,a.newPageIndex=i,t||=r!==a.savedX||s!==a.savedY||i!==a.savedPageIndex;if(!t)return!1;const n=(e,t,n,r)=>{if(this.#te.has(e.id)){const s=this.#ne.get(r);s?e._setParentAndPosition(s,t,n):(e.pageIndex=r,e.x=t,e.y=n)}};return this.addCommands({cmd:()=>{for(const[t,{newX:r,newY:s,newPageIndex:i}]of e)n(t,r,s,i)},undo:()=>{for(const[t,{savedX:r,savedY:s,savedPageIndex:i}]of e)n(t,r,s,i)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(this.#le)for(const n of this.#le.keys())n.drag(e,t)}rebuild(e){if(null===e.parent){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}isActive(e){return this.#ee===e}getActive(){return this.#ee}getMode(){return this.#ge}get imageManager(){return(0,r.shadow)(this,"imageManager",new a)}}t.AnnotationEditorUIManager=d},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StatTimer=t.RenderingCancelledException=t.PixelsPerInch=t.PageViewport=t.PDFDateString=t.DOMStandardFontDataFactory=t.DOMSVGFactory=t.DOMFilterFactory=t.DOMCanvasFactory=t.DOMCMapReaderFactory=void 0,t.deprecated=function(e){console.log("Deprecated API usage: "+e)},t.getColorValues=function(e){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const n of e.keys()){t.style.color=n;const r=window.getComputedStyle(t).color;e.set(n,b(r))}t.remove()},t.getCurrentTransform=function(e){const{a:t,b:n,c:r,d:s,e:i,f:a}=e.getTransform();return[t,n,r,s,i,a]},t.getCurrentTransformInverse=function(e){const{a:t,b:n,c:r,d:s,e:i,f:a}=e.getTransform().invertSelf();return[t,n,r,s,i,a]},t.getFilenameFromUrl=function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||([e]=e.split(/[#?]/,1)),e.substring(e.lastIndexOf("/")+1)},t.getPdfFilenameFromUrl=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!==typeof e)return t;if(f(e))return(0,s.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(e);let i=n.exec(r[1])||n.exec(r[2])||n.exec(r[3]);if(i&&(i=i[0],i.includes("%")))try{i=n.exec(decodeURIComponent(i))[0]}catch{}return i||t},t.getRGB=b,t.getXfaPageViewport=function(e,t){let{scale:n=1,rotation:r=0}=t;const{width:s,height:i}=e.attributes.style,a=[0,0,parseInt(s),parseInt(i)];return new p({viewBox:a,scale:n,rotation:r})},t.isDataScheme=f,t.isPdfFile=function(e){return"string"===typeof e&&/\.pdf$/i.test(e)},t.isValidFetchUrl=g,t.loadScript=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise(((n,r)=>{const s=document.createElement("script");s.src=e,s.onload=function(e){t&&s.remove(),n(e)},s.onerror=function(){r(new Error(`Cannot load script at: ${s.src}`))},(document.head||document.documentElement).append(s)}))},t.noContextMenu=function(e){e.preventDefault()},t.setLayerDimensions=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t instanceof p){const{pageWidth:r,pageHeight:i}=t.rawDims,{style:a}=e,o=s.FeatureTest.isCSSRoundSupported,l=`var(--scale-factor) * ${r}px`,c=`var(--scale-factor) * ${i}px`,d=o?`round(${l}, 1px)`:`calc(${l})`,u=o?`round(${c}, 1px)`:`calc(${c})`;n&&t.rotation%180!==0?(a.width=u,a.height=d):(a.width=d,a.height=u)}r&&e.setAttribute("data-main-rotation",t.rotation)};var r=n(7),s=n(1);const i="http://www.w3.org/2000/svg";class a{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=(()=>this.CSS/this.PDF)()}t.PixelsPerInch=a;class o extends r.BaseFilterFactory{#Ke;#Xe;#t;#Ye;#Qe;#Je;#Ze;#$e;#et;#tt;#H=0;constructor(){let{docId:e,ownerDocument:t=globalThis.document}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.#t=e,this.#Ye=t}get#K(){return this.#Ke||=new Map}get#nt(){if(!this.#Xe){const e=this.#Ye.createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;const n=this.#Ye.createElementNS(i,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#Xe=this.#Ye.createElementNS(i,"defs"),e.append(n),n.append(this.#Xe),this.#Ye.body.append(e)}return this.#Xe}addFilter(e){if(!e)return"none";let t,n,r,s,i=this.#K.get(e);if(i)return i;if(1===e.length){const i=e[0],a=new Array(256);for(let e=0;e<256;e++)a[e]=i[e]/255;s=t=n=r=a.join(",")}else{const[i,a,o]=e,l=new Array(256),c=new Array(256),d=new Array(256);for(let e=0;e<256;e++)l[e]=i[e]/255,c[e]=a[e]/255,d[e]=o[e]/255;t=l.join(","),n=c.join(","),r=d.join(","),s=`${t}${n}${r}`}if(i=this.#K.get(s),i)return this.#K.set(e,i),i;const a=`g_${this.#t}_transfer_map_${this.#H++}`,o=`url(#${a})`;this.#K.set(e,o),this.#K.set(s,o);const l=this.#rt(a);return this.#st(t,n,r,l),o}addHCMFilter(e,t){const n=`${e}-${t}`;if(this.#Je===n)return this.#Ze;if(this.#Je=n,this.#Ze="none",this.#Qe?.remove(),!e||!t)return this.#Ze;const r=this.#it(e);e=s.Util.makeHexColor(...r);const i=this.#it(t);if(t=s.Util.makeHexColor(...i),this.#nt.style.color="","#000000"===e&&"#ffffff"===t||e===t)return this.#Ze;const a=new Array(256);for(let s=0;s<=255;s++){const e=s/255;a[s]=e<=.03928?e/12.92:((e+.055)/1.055)**2.4}const o=a.join(","),l=`g_${this.#t}_hcm_filter`,c=this.#$e=this.#rt(l);this.#st(o,o,o,c),this.#at(c);const d=(e,t)=>{const n=r[e]/255,s=i[e]/255,a=new Array(t+1);for(let r=0;r<=t;r++)a[r]=n+r/t*(s-n);return a.join(",")};return this.#st(d(0,5),d(1,5),d(2,5),c),this.#Ze=`url(#${l})`,this.#Ze}addHighlightHCMFilter(e,t,n,r){const s=`${e}-${t}-${n}-${r}`;if(this.#et===s)return this.#tt;if(this.#et=s,this.#tt="none",this.#$e?.remove(),!e||!t)return this.#tt;const[i,a]=[e,t].map(this.#it.bind(this));let o=Math.round(.2126*i[0]+.7152*i[1]+.0722*i[2]),l=Math.round(.2126*a[0]+.7152*a[1]+.0722*a[2]),[c,d]=[n,r].map(this.#it.bind(this));l<o&&([o,l,c,d]=[l,o,d,c]),this.#nt.style.color="";const u=(e,t,n)=>{const r=new Array(256),s=(l-o)/n,i=e/255,a=(t-e)/(255*n);let c=0;for(let l=0;l<=n;l++){const e=Math.round(o+l*s),t=i+l*a;for(let n=c;n<=e;n++)r[n]=t;c=e+1}for(let o=c;o<256;o++)r[o]=r[c-1];return r.join(",")},h=`g_${this.#t}_hcm_highlight_filter`,p=this.#$e=this.#rt(h);return this.#at(p),this.#st(u(c[0],d[0],5),u(c[1],d[1],5),u(c[2],d[2],5),p),this.#tt=`url(#${h})`,this.#tt}destroy(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(this.#Ze||this.#tt)||(this.#Xe&&(this.#Xe.parentNode.parentNode.remove(),this.#Xe=null),this.#Ke&&(this.#Ke.clear(),this.#Ke=null),this.#H=0)}#at(e){const t=this.#Ye.createElementNS(i,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}#rt(e){const t=this.#Ye.createElementNS(i,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),this.#nt.append(t),t}#ot(e,t,n){const r=this.#Ye.createElementNS(i,t);r.setAttribute("type","discrete"),r.setAttribute("tableValues",n),e.append(r)}#st(e,t,n,r){const s=this.#Ye.createElementNS(i,"feComponentTransfer");r.append(s),this.#ot(s,"feFuncR",e),this.#ot(s,"feFuncG",t),this.#ot(s,"feFuncB",n)}#it(e){return this.#nt.style.color=e,b(getComputedStyle(this.#nt).getPropertyValue("color"))}}t.DOMFilterFactory=o;class l extends r.BaseCanvasFactory{constructor(){let{ownerDocument:e=globalThis.document}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}async function c(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(g(e,document.baseURI)){const n=await fetch(e);if(!n.ok)throw new Error(n.statusText);return t?new Uint8Array(await n.arrayBuffer()):(0,s.stringToBytes)(await n.text())}return new Promise(((n,r)=>{const i=new XMLHttpRequest;i.open("GET",e,!0),t&&(i.responseType="arraybuffer"),i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(200===i.status||0===i.status){let e;if(t&&i.response?e=new Uint8Array(i.response):!t&&i.responseText&&(e=(0,s.stringToBytes)(i.responseText)),e)return void n(e)}r(new Error(i.statusText))}},i.send(null)}))}t.DOMCanvasFactory=l;class d extends r.BaseCMapReaderFactory{_fetchData(e,t){return c(e,this.isCompressed).then((e=>({cMapData:e,compressionType:t})))}}t.DOMCMapReaderFactory=d;class u extends r.BaseStandardFontDataFactory{_fetchData(e){return c(e,!0)}}t.DOMStandardFontDataFactory=u;class h extends r.BaseSVGFactory{_createSVG(e){return document.createElementNS(i,e)}}t.DOMSVGFactory=h;class p{constructor(e){let{viewBox:t,scale:n,rotation:r,offsetX:s=0,offsetY:i=0,dontFlip:a=!1}=e;this.viewBox=t,this.scale=n,this.rotation=r,this.offsetX=s,this.offsetY=i;const o=(t[2]+t[0])/2,l=(t[3]+t[1])/2;let c,d,u,h,p,m,f,g;switch(r%=360,r<0&&(r+=360),r){case 180:c=-1,d=0,u=0,h=1;break;case 90:c=0,d=1,u=1,h=0;break;case 270:c=0,d=-1,u=-1,h=0;break;case 0:c=1,d=0,u=0,h=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(u=-u,h=-h),0===c?(p=Math.abs(l-t[1])*n+s,m=Math.abs(o-t[0])*n+i,f=(t[3]-t[1])*n,g=(t[2]-t[0])*n):(p=Math.abs(o-t[0])*n+s,m=Math.abs(l-t[1])*n+i,f=(t[2]-t[0])*n,g=(t[3]-t[1])*n),this.transform=[c*n,d*n,u*n,h*n,p-c*n*o-u*n*l,m-d*n*o-h*n*l],this.width=f,this.height=g}get rawDims(){const{viewBox:e}=this;return(0,s.shadow)(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone(){let{scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new p({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:s})}convertToViewportPoint(e,t){return s.Util.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=s.Util.applyTransform([e[0],e[1]],this.transform),n=s.Util.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){return s.Util.applyInverseTransform([e,t],this.transform)}}t.PageViewport=p;class m extends s.BaseException{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super(e,"RenderingCancelledException"),this.extraDelay=t}}function f(e){const t=e.length;let n=0;for(;n<t&&""===e[n].trim();)n++;return"data:"===e.substring(n,n+5).toLowerCase()}function g(e,t){try{const{protocol:n}=t?new URL(e,t):new URL(e);return"http:"===n||"https:"===n}catch{return!1}}let x;function b(e){if(e.startsWith("#")){const t=parseInt(e.slice(1),16);return[(16711680&t)>>16,(65280&t)>>8,255&t]}return e.startsWith("rgb(")?e.slice(4,-1).split(",").map((e=>parseInt(e))):e.startsWith("rgba(")?e.slice(5,-1).split(",").map((e=>parseInt(e))).slice(0,3):((0,s.warn)(`Not a valid color format: "${e}"`),[0,0,0])}t.RenderingCancelledException=m,t.StatTimer=class{started=(()=>Object.create(null))();times=[];time(e){e in this.started&&(0,s.warn)(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||(0,s.warn)(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:r,end:s}of this.times)e.push(`${n.padEnd(t)} ${s-r}ms\n`);return e.join("")}},t.PDFDateString=class{static toDateObject(e){if(!e||"string"!==typeof e)return null;x||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const t=x.exec(e);if(!t)return null;const n=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let i=parseInt(t[4],10);i=i>=0&&i<=23?i:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let o=parseInt(t[6],10);o=o>=0&&o<=59?o:0;const l=t[7]||"Z";let c=parseInt(t[8],10);c=c>=0&&c<=23?c:0;let d=parseInt(t[9],10)||0;return d=d>=0&&d<=59?d:0,"-"===l?(i+=c,a+=d):"+"===l&&(i-=c,a-=d),new Date(Date.UTC(n,r,s,i,a,o))}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseStandardFontDataFactory=t.BaseSVGFactory=t.BaseFilterFactory=t.BaseCanvasFactory=t.BaseCMapReaderFactory=void 0;var r=n(1);class s{constructor(){this.constructor===s&&(0,r.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addHighlightHCMFilter(e,t,n,r){return"none"}destroy(){}}t.BaseFilterFactory=s;class i{constructor(){this.constructor===i&&(0,r.unreachable)("Cannot initialize BaseCanvasFactory.")}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d")}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){(0,r.unreachable)("Abstract method `_createCanvas` called.")}}t.BaseCanvasFactory=i;class a{constructor(e){let{baseUrl:t=null,isCompressed:n=!0}=e;this.constructor===a&&(0,r.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=t,this.isCompressed=n}async fetch(e){let{name:t}=e;if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!t)throw new Error("CMap name must be specified.");const n=this.baseUrl+t+(this.isCompressed?".bcmap":""),s=this.isCompressed?r.CMapCompressionType.BINARY:r.CMapCompressionType.NONE;return this._fetchData(n,s).catch((e=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)}))}_fetchData(e,t){(0,r.unreachable)("Abstract method `_fetchData` called.")}}t.BaseCMapReaderFactory=a;class o{constructor(e){let{baseUrl:t=null}=e;this.constructor===o&&(0,r.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=t}async fetch(e){let{filename:t}=e;if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!t)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${t}`;return this._fetchData(n).catch((e=>{throw new Error(`Unable to load font data at: ${n}`)}))}_fetchData(e){(0,r.unreachable)("Abstract method `_fetchData` called.")}}t.BaseStandardFontDataFactory=o;class l{constructor(){this.constructor===l&&(0,r.unreachable)("Cannot initialize BaseSVGFactory.")}create(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if("string"!==typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){(0,r.unreachable)("Abstract method `_createSVG` called.")}}t.BaseSVGFactory=l},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MurmurHash3_64=void 0;var r=n(1);const s=3285377520,i=4294901760,a=65535;t.MurmurHash3_64=class{constructor(e){this.h1=e?4294967295&e:s,this.h2=e?4294967295&e:s}update(e){let t,n;if("string"===typeof e){t=new Uint8Array(2*e.length),n=0;for(let r=0,s=e.length;r<s;r++){const s=e.charCodeAt(r);s<=255?t[n++]=s:(t[n++]=s>>>8,t[n++]=255&s)}}else{if(!(0,r.isArrayBuffer)(e))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");t=e.slice(),n=t.byteLength}const s=n>>2,o=n-4*s,l=new Uint32Array(t.buffer,0,s);let c=0,d=0,u=this.h1,h=this.h2;const p=3432918353,m=461845907,f=11601,g=13715;for(let r=0;r<s;r++)1&r?(c=l[r],c=c*p&i|c*f&a,c=c<<15|c>>>17,c=c*m&i|c*g&a,u^=c,u=u<<13|u>>>19,u=5*u+3864292196):(d=l[r],d=d*p&i|d*f&a,d=d<<15|d>>>17,d=d*m&i|d*g&a,h^=d,h=h<<13|h>>>19,h=5*h+3864292196);switch(c=0,o){case 3:c^=t[4*s+2]<<16;case 2:c^=t[4*s+1]<<8;case 1:c^=t[4*s],c=c*p&i|c*f&a,c=c<<15|c>>>17,c=c*m&i|c*g&a,1&s?u^=c:h^=c}this.h1=u,this.h2=h}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=3981806797*e&i|36045*e&a,t=4283543511*t&i|(2950163797*(t<<16|e>>>16)&i)>>>16,e^=t>>>1,e=444984403*e&i|60499*e&a,t=3301882366*t&i|(3120437893*(t<<16|e>>>16)&i)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var r=n(1);t.FontLoader=class{#lt=(()=>new Set)();constructor(e){let{ownerDocument:t=globalThis.document,styleElement:n=null}=e;this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#lt.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(e){if(e&&!this.#lt.has(e.loadedName))if((0,r.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:t,src:n,style:s}=e,i=new FontFace(t,n,s);this.addNativeFontFace(i);try{await i.load(),this.#lt.add(t)}catch{(0,r.warn)(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(i)}}else(0,r.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo)return void await this.loadSystemFont(e.systemFontInfo);if(this.isFontLoadingAPISupported){const t=e.createNativeFontFace();if(t){this.addNativeFontFace(t);try{await t.loaded}catch(n){throw(0,r.warn)(`Failed to load font '${t.family}': '${n}'.`),e.disableFontFace=!0,n}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise((t=>{const n=this._queueLoadingCallback(t);this._prepareFontLoadEvent(e,n)}))}}get isFontLoadingAPISupported(){const e=!!this._document?.fonts;return(0,r.shadow)(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(r.isNodeJS||"undefined"!==typeof navigator&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),(0,r.shadow)(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){const{loadingRequests:t}=this,n={done:!1,complete:function(){for((0,r.assert)(!n.done,"completeRequest() cannot be called twice."),n.done=!0;t.length>0&&t[0].done;){const e=t.shift();setTimeout(e.callback,0)}},callback:e};return t.push(n),n}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,r.shadow)(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function s(e,t,n,r){return e.substring(0,t)+r+e.substring(t+n)}let i,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let c=0;const d=`lt${Date.now()}${this.loadTestFontId++}`;let u=this._loadTestFont;u=s(u,976,d.length,d);const h=1482184792;let p=n(u,16);for(i=0,a=d.length-3;i<a;i+=4)p=p-h+n(d,i)|0;i<d.length&&(p=p-h+n(d+"XXX",i)|0),u=s(u,16,4,(0,r.string32)(p));const m=`@font-face {font-family:"${d}";src:url(data:font/opentype;base64,${btoa(u)});}`;this.insertRule(m);const f=this._document.createElement("div");f.style.visibility="hidden",f.style.width=f.style.height="10px",f.style.position="absolute",f.style.top=f.style.left="0px";for(const r of[e.loadedName,d]){const e=this._document.createElement("span");e.textContent="Hi",e.style.fontFamily=r,f.append(e)}this._document.body.append(f),function e(t,n){if(++c>30)return(0,r.warn)("Load test font never loaded."),void n();l.font="30px "+t,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0?n():setTimeout(e.bind(null,t,n))}(d,(()=>{f.remove(),t.complete()}))}},t.FontFaceObject=class{constructor(e,t){let{isEvalSupported:n=!0,disableFontFace:r=!1,ignoreErrors:s=!1,inspectFont:i=null}=t;this.compiledGlyphs=Object.create(null);for(const a in e)this[a]=e[a];this.isEvalSupported=!1!==n,this.disableFontFace=!0===r,this.ignoreErrors=!0===s,this._inspectFont=i}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(this.cssFontInfo){const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}else e=new FontFace(this.loadedName,this.data,{});return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=(0,r.bytesToString)(this.data),t=`url(data:${this.mimetype};base64,${btoa(e)});`;let n;if(this.cssFontInfo){let e=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(e+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${e}src:${t}}`}else n=`@font-face {font-family:"${this.loadedName}";src:${t}}`;return this._inspectFont?.(this,t),n}getPathGenerator(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];let n;try{n=e.get(this.loadedName+"_path_"+t)}catch(s){if(!this.ignoreErrors)throw s;return(0,r.warn)(`getPathGenerator - ignoring character: "${s}".`),this.compiledGlyphs[t]=function(e,t){}}if(this.isEvalSupported&&r.FeatureTest.isEvalSupported){const e=[];for(const t of n){const n=void 0!==t.args?t.args.join(","):"";e.push("c.",t.cmd,"(",n,");\n")}return this.compiledGlyphs[t]=new Function("c","size",e.join(""))}return this.compiledGlyphs[t]=function(e,t){for(const r of n)"scale"===r.cmd&&(r.args=[t,-t]),e[r.cmd].apply(e,r.args)}}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NodeStandardFontDataFactory=t.NodeFilterFactory=t.NodeCanvasFactory=t.NodeCMapReaderFactory=void 0;var r=n(7);n(1);const s=function(e){return new Promise(((t,n)=>{__webpack_require__(237).readFile(e,((e,r)=>{!e&&r?t(new Uint8Array(r)):n(new Error(e))}))}))};class i extends r.BaseFilterFactory{}t.NodeFilterFactory=i;class a extends r.BaseCanvasFactory{_createCanvas(e,t){return __webpack_require__(640).createCanvas(e,t)}}t.NodeCanvasFactory=a;class o extends r.BaseCMapReaderFactory{_fetchData(e,t){return s(e).then((e=>({cMapData:e,compressionType:t})))}}t.NodeCMapReaderFactory=o;class l extends r.BaseStandardFontDataFactory{_fetchData(e){return s(e)}}t.NodeStandardFontDataFactory=l},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var r=n(1),s=n(6),i=n(12),a=n(13);const o=4096,l=16;class c{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let r;return void 0!==this.cache[e]?(r=this.cache[e],this.canvasFactory.reset(r,t,n)):(r=this.canvasFactory.create(t,n),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function d(e,t,n,r,i,a,o,l,c,d){const[u,h,p,m,f,g]=(0,s.getCurrentTransform)(e);if(0===h&&0===p){const s=o*u+f,x=Math.round(s),b=l*m+g,y=Math.round(b),v=(o+c)*u+f,w=Math.abs(Math.round(v)-x)||1,j=(l+d)*m+g,k=Math.abs(Math.round(j)-y)||1;return e.setTransform(Math.sign(u),0,0,Math.sign(m),x,y),e.drawImage(t,n,r,i,a,0,0,w,k),e.setTransform(u,h,p,m,f,g),[w,k]}if(0===u&&0===m){const s=l*p+f,x=Math.round(s),b=o*h+g,y=Math.round(b),v=(l+d)*p+f,w=Math.abs(Math.round(v)-x)||1,j=(o+c)*h+g,k=Math.abs(Math.round(j)-y)||1;return e.setTransform(0,Math.sign(h),Math.sign(p),0,x,y),e.drawImage(t,n,r,i,a,0,0,k,w),e.setTransform(u,h,p,m,f,g),[k,w]}return e.drawImage(t,n,r,i,a,o,l,c,d),[Math.hypot(u,h)*c,Math.hypot(p,m)*d]}class u{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=r.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=r.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,n){[t,n]=r.Util.applyTransform([t,n],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,t){const n=r.Util.applyTransform(t,e),s=r.Util.applyTransform(t.slice(2),e);this.minX=Math.min(this.minX,n[0],s[0]),this.minY=Math.min(this.minY,n[1],s[1]),this.maxX=Math.max(this.maxX,n[0],s[0]),this.maxY=Math.max(this.maxY,n[1],s[1])}updateScalingPathMinMax(e,t){r.Util.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.maxX=Math.max(this.maxX,t[1]),this.minY=Math.min(this.minY,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,n,s,i,a,o,l,c,d){const u=r.Util.bezierBoundingBox(t,n,s,i,a,o,l,c);if(d)return d[0]=Math.min(d[0],u[0],u[2]),d[1]=Math.max(d[1],u[0],u[2]),d[2]=Math.min(d[2],u[1],u[3]),void(d[3]=Math.max(d[3],u[1],u[3]));this.updateRectMinMax(e,u)}getPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.PathType.FILL,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===i.PathType.STROKE){t||(0,r.unreachable)("Stroke bounding box must include transform.");const e=r.Util.singularValueDecompose2dScale(t),s=e[0]*this.lineWidth/2,i=e[1]*this.lineWidth/2;n[0]-=s,n[1]-=i,n[2]+=s,n[3]+=i}return n}updateClipFromPath(){const e=r.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.PathType.FILL,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return r.Util.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function h(e,t){if("undefined"!==typeof ImageData&&t instanceof ImageData)return void e.putImageData(t,0,0);const n=t.height,s=t.width,i=n%l,a=(n-i)/l,o=0===i?a:a+1,c=e.createImageData(s,l);let d,u=0;const h=t.data,p=c.data;let m,f,g,x;if(t.kind===r.ImageKind.GRAYSCALE_1BPP){const t=h.byteLength,n=new Uint32Array(p.buffer,0,p.byteLength>>2),x=n.length,b=s+7>>3,y=4294967295,v=r.FeatureTest.isLittleEndian?4278190080:255;for(m=0;m<o;m++){for(g=m<a?l:i,d=0,f=0;f<g;f++){const e=t-u;let r=0;const i=e>b?s:8*e-7,a=-8&i;let o=0,l=0;for(;r<a;r+=8)l=h[u++],n[d++]=128&l?y:v,n[d++]=64&l?y:v,n[d++]=32&l?y:v,n[d++]=16&l?y:v,n[d++]=8&l?y:v,n[d++]=4&l?y:v,n[d++]=2&l?y:v,n[d++]=1&l?y:v;for(;r<i;r++)0===o&&(l=h[u++],o=128),n[d++]=l&o?y:v,o>>=1}for(;d<x;)n[d++]=0;e.putImageData(c,0,m*l)}}else if(t.kind===r.ImageKind.RGBA_32BPP){for(f=0,x=s*l*4,m=0;m<a;m++)p.set(h.subarray(u,u+x)),u+=x,e.putImageData(c,0,f),f+=l;m<o&&(x=s*i*4,p.set(h.subarray(u,u+x)),e.putImageData(c,0,f))}else{if(t.kind!==r.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${t.kind}`);for(g=l,x=s*g,m=0;m<o;m++){for(m>=a&&(g=i,x=s*g),d=0,f=x;f--;)p[d++]=h[u++],p[d++]=h[u++],p[d++]=h[u++],p[d++]=255;e.putImageData(c,0,m*l)}}}function p(e,t){if(t.bitmap)return void e.drawImage(t.bitmap,0,0);const n=t.height,r=t.width,s=n%l,i=(n-s)/l,o=0===s?i:i+1,c=e.createImageData(r,l);let d=0;const u=t.data,h=c.data;for(let p=0;p<o;p++){const t=p<i?l:s;({srcPos:d}=(0,a.convertBlackAndWhiteToRGBA)({src:u,srcPos:d,dest:h,width:r,height:t,nonBlackColor:0})),e.putImageData(c,0,p*l)}}function m(e,t){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of n)void 0!==e[r]&&(t[r]=e[r]);void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function f(e){if(e.strokeStyle=e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0),!r.isNodeJS){const{filter:t}=e;"none"!==t&&""!==t&&(e.filter="none")}}function g(e,t,n,r){const s=e.length;for(let i=3;i<s;i+=4){const s=e[i];if(0===s)e[i-3]=t,e[i-2]=n,e[i-1]=r;else if(s<255){const a=255-s;e[i-3]=e[i-3]*s+t*a>>8,e[i-2]=e[i-2]*s+n*a>>8,e[i-1]=e[i-1]*s+r*a>>8}}}function x(e,t,n){const r=e.length,s=1/255;for(let i=3;i<r;i+=4){const r=n?n[e[i]]:e[i];t[i]=t[i]*r*s|0}}function b(e,t,n){const r=e.length;for(let s=3;s<r;s+=4){const r=77*e[s-3]+152*e[s-2]+28*e[s-1];t[s]=n?t[s]*n[r>>8]>>8:t[s]*r>>16}}function y(e,t,n,r){const s=r[0],i=r[1],a=r[2]-s,o=r[3]-i;0!==a&&0!==o&&(function(e,t,n,r,s,i,a,o,l,c,d){const u=!!i,h=u?i[0]:0,p=u?i[1]:0,m=u?i[2]:0,f="Luminosity"===s?b:x,y=Math.min(r,Math.ceil(1048576/n));for(let x=0;x<r;x+=y){const s=Math.min(y,r-x),i=e.getImageData(o-c,x+(l-d),n,s),b=t.getImageData(o,x+l,n,s);u&&g(i.data,h,p,m),f(i.data,b.data,a),t.putImageData(b,o,x+l)}}(t.context,n,a,o,t.subtype,t.backdrop,t.transferMap,s,i,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}function v(e,t){const n=r.Util.singularValueDecompose2dScale(e);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const i=Math.fround((globalThis.devicePixelRatio||1)*s.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==t?t:n[0]<=i||n[1]<=i}const w=["butt","round","square"],j=["miter","round","bevel"],k={},N={};class S{constructor(e,t,n,r,s,i,a,o){let{optionalContentConfig:l,markedContentStack:d=null}=i;this.ctx=e,this.current=new u(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=d||[],this.optionalContentConfig=l,this.cachedCanvases=new c(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=a,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=o,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"===typeof e?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing(e){let{transform:t,viewport:n,transparency:r=!1,background:i=null}=e;const a=this.ctx.canvas.width,o=this.ctx.canvas.height,l=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,a,o),this.ctx.fillStyle=l,r){const e=this.cachedCanvases.getCanvas("transparent",a,o);this.compositeCtx=this.ctx,this.transparentCanvas=e.canvas,this.ctx=e.context,this.ctx.save(),this.ctx.transform(...(0,s.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),f(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=(0,s.getCurrentTransform)(this.ctx)}executeOperatorList(e,t,n,s){const i=e.argsArray,a=e.fnArray;let o=t||0;const l=i.length;if(l===o)return o;const c=l-o>10&&"function"===typeof n,d=c?Date.now()+15:0;let u=0;const h=this.commonObjs,p=this.objs;let m;for(;;){if(void 0!==s&&o===s.nextBreakPoint)return s.breakIt(o,n),o;if(m=a[o],m!==r.OPS.dependency)this[m].apply(this,i[o]);else for(const e of i[o]){const t=e.startsWith("g_")?h:p;if(!t.has(e))return t.get(e,n),o}if(o++,o===l)return o;if(c&&++u>10){if(Date.now()>d)return n(),o;u=0}}}#ct(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#ct(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#dt()}#dt(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==e){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}_scaleImage(e,t){const n=e.width,r=e.height;let s,i,a=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),l=n,c=r,d="prescale1";for(;a>2&&l>1||o>2&&c>1;){let t=l,n=c;a>2&&l>1&&(t=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),a/=l/t),o>2&&c>1&&(n=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,o/=c/n),s=this.cachedCanvases.getCanvas(d,t,n),i=s.context,i.clearRect(0,0,t,n),i.drawImage(e,0,0,l,c,0,0,t,n),e=s.canvas,l=t,c=n,d="prescale1"===d?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:c}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:a}=e,o=this.current.fillColor,l=this.current.patternFill,c=(0,s.getCurrentTransform)(t);let u,h,m,f;if((e.bitmap||e.data)&&e.count>1){const t=e.bitmap||e.data.buffer;h=JSON.stringify(l?c:[c.slice(0,4),o]),u=this._cachedBitmapsMap.get(t),u||(u=new Map,this._cachedBitmapsMap.set(t,u));const n=u.get(h);if(n&&!l)return{canvas:n,offsetX:Math.round(Math.min(c[0],c[2])+c[4]),offsetY:Math.round(Math.min(c[1],c[3])+c[5])};m=n}m||(f=this.cachedCanvases.getCanvas("maskCanvas",n,a),p(f.context,e));let g=r.Util.transform(c,[1/n,0,0,-1/a,0,0]);g=r.Util.transform(g,[1,0,0,1,0,-a]);const x=r.Util.applyTransform([0,0],g),b=r.Util.applyTransform([n,a],g),y=r.Util.normalizeRect([x[0],x[1],b[0],b[1]]),w=Math.round(y[2]-y[0])||1,j=Math.round(y[3]-y[1])||1,k=this.cachedCanvases.getCanvas("fillCanvas",w,j),N=k.context,S=Math.min(x[0],b[0]),C=Math.min(x[1],b[1]);N.translate(-S,-C),N.transform(...g),m||(m=this._scaleImage(f.canvas,(0,s.getCurrentTransformInverse)(N)),m=m.img,u&&l&&u.set(h,m)),N.imageSmoothingEnabled=v((0,s.getCurrentTransform)(N),e.interpolate),d(N,m,0,0,m.width,m.height,0,0,n,a),N.globalCompositeOperation="source-in";const A=r.Util.transform((0,s.getCurrentTransformInverse)(N),[1,0,0,1,-S,-C]);return N.fillStyle=l?o.getPattern(t,this,A,i.PathType.FILL):o,N.fillRect(0,0,n,a),u&&!l&&(this.cachedCanvases.delete("fillCanvas"),u.set(h,k.canvas)),{canvas:k.canvas,offsetX:Math.round(S),offsetY:Math.round(C)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=w[e]}setLineJoin(e){this.ctx.lineJoin=j[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx,this.ctx=r.context;const i=this.ctx;i.setTransform(...(0,s.getCurrentTransform)(this.suspendedCtx)),m(this.suspendedCtx,i),function(e,t){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save,e.__originalRestore=e.restore,e.__originalRotate=e.rotate,e.__originalScale=e.scale,e.__originalTranslate=e.translate,e.__originalTransform=e.transform,e.__originalSetTransform=e.setTransform,e.__originalResetTransform=e.resetTransform,e.__originalClip=e.clip,e.__originalMoveTo=e.moveTo,e.__originalLineTo=e.lineTo,e.__originalBezierCurveTo=e.bezierCurveTo,e.__originalRect=e.rect,e.__originalClosePath=e.closePath,e.__originalBeginPath=e.beginPath,e._removeMirroring=()=>{e.save=e.__originalSave,e.restore=e.__originalRestore,e.rotate=e.__originalRotate,e.scale=e.__originalScale,e.translate=e.__originalTranslate,e.transform=e.__originalTransform,e.setTransform=e.__originalSetTransform,e.resetTransform=e.__originalResetTransform,e.clip=e.__originalClip,e.moveTo=e.__originalMoveTo,e.lineTo=e.__originalLineTo,e.bezierCurveTo=e.__originalBezierCurveTo,e.rect=e.__originalRect,e.closePath=e.__originalClosePath,e.beginPath=e.__originalBeginPath,delete e._removeMirroring},e.save=function(){t.save(),this.__originalSave()},e.restore=function(){t.restore(),this.__originalRestore()},e.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},e.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},e.transform=function(e,n,r,s,i,a){t.transform(e,n,r,s,i,a),this.__originalTransform(e,n,r,s,i,a)},e.setTransform=function(e,n,r,s,i,a){t.setTransform(e,n,r,s,i,a),this.__originalSetTransform(e,n,r,s,i,a)},e.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},e.rotate=function(e){t.rotate(e),this.__originalRotate(e)},e.clip=function(e){t.clip(e),this.__originalClip(e)},e.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},e.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},e.bezierCurveTo=function(e,n,r,s,i,a){t.bezierCurveTo(e,n,r,s,i,a),this.__originalBezierCurveTo(e,n,r,s,i,a)},e.rect=function(e,n,r,s){t.rect(e,n,r,s),this.__originalRect(e,n,r,s)},e.closePath=function(){t.closePath(),this.__originalClosePath()},e.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}(i,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),m(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask;y(this.suspendedCtx,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(m(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),m(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,n,r,s,i){this.ctx.transform(e,t,n,r,s,i),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){const i=this.ctx,a=this.current;let o,l,c=a.x,d=a.y;const u=(0,s.getCurrentTransform)(i),h=0===u[0]&&0===u[3]||0===u[1]&&0===u[2],p=h?n.slice(0):null;for(let s=0,m=0,f=e.length;s<f;s++)switch(0|e[s]){case r.OPS.rectangle:c=t[m++],d=t[m++];const e=t[m++],n=t[m++],s=c+e,f=d+n;i.moveTo(c,d),0===e||0===n?i.lineTo(s,f):(i.lineTo(s,d),i.lineTo(s,f),i.lineTo(c,f)),h||a.updateRectMinMax(u,[c,d,s,f]),i.closePath();break;case r.OPS.moveTo:c=t[m++],d=t[m++],i.moveTo(c,d),h||a.updatePathMinMax(u,c,d);break;case r.OPS.lineTo:c=t[m++],d=t[m++],i.lineTo(c,d),h||a.updatePathMinMax(u,c,d);break;case r.OPS.curveTo:o=c,l=d,c=t[m+4],d=t[m+5],i.bezierCurveTo(t[m],t[m+1],t[m+2],t[m+3],c,d),a.updateCurvePathMinMax(u,o,l,t[m],t[m+1],t[m+2],t[m+3],c,d,p),m+=6;break;case r.OPS.curveTo2:o=c,l=d,i.bezierCurveTo(c,d,t[m],t[m+1],t[m+2],t[m+3]),a.updateCurvePathMinMax(u,o,l,c,d,t[m],t[m+1],t[m+2],t[m+3],p),c=t[m+2],d=t[m+3],m+=4;break;case r.OPS.curveTo3:o=c,l=d,c=t[m+2],d=t[m+3],i.bezierCurveTo(t[m],t[m+1],c,d,c,d),a.updateCurvePathMinMax(u,o,l,t[m],t[m+1],c,d,c,d,p),m+=4;break;case r.OPS.closePath:i.closePath()}h&&a.updateScalingPathMinMax(u,p),a.setCurrentPoint(c,d)}closePath(){this.ctx.closePath()}stroke(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.ctx,n=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"===typeof n&&n?.getPattern?(t.save(),t.strokeStyle=n.getPattern(t,this,(0,s.getCurrentTransformInverse)(t),i.PathType.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.ctx,n=this.current.fillColor;let r=!1;this.current.patternFill&&(t.save(),t.fillStyle=n.getPattern(t,this,(0,s.getCurrentTransformInverse)(t),i.PathType.FILL),r=!0);const a=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==a&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),r&&t.restore(),e&&this.consumePath(a)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=k}eoClip(){this.pendingClip=N}beginText(){this.current.textMatrix=r.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(const n of e)t.setTransform(...n.transform),t.translate(n.x,n.y),n.addToPath(t,n.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){const n=this.commonObjs.get(e),s=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(s.fontMatrix=n.fontMatrix||r.FONT_IDENTITY_MATRIX,0!==s.fontMatrix[0]&&0!==s.fontMatrix[3]||(0,r.warn)("Invalid font matrix for font "+e),t<0?(t=-t,s.fontDirection=-1):s.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const i=n.loadedName||"sans-serif",a=n.systemFontInfo?.css||`"${i}", ${n.fallbackName}`;let o="normal";n.black?o="900":n.bold&&(o="bold");const l=n.italic?"italic":"normal";let c=t;t<16?c=16:t>100&&(c=100),this.current.fontSizeScale=t/c,this.ctx.font=`${l} ${o} ${c}px ${a}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,n,r,s,i){this.current.textMatrix=[e,t,n,r,s,i],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,i){const a=this.ctx,o=this.current,l=o.font,c=o.textRenderingMode,d=o.fontSize/o.fontSizeScale,u=c&r.TextRenderingMode.FILL_STROKE_MASK,h=!!(c&r.TextRenderingMode.ADD_TO_PATH_FLAG),p=o.patternFill&&!l.missingFile;let m;(l.disableFontFace||h||p)&&(m=l.getPathGenerator(this.commonObjs,e)),l.disableFontFace||p?(a.save(),a.translate(t,n),a.beginPath(),m(a,d),i&&a.setTransform(...i),u!==r.TextRenderingMode.FILL&&u!==r.TextRenderingMode.FILL_STROKE||a.fill(),u!==r.TextRenderingMode.STROKE&&u!==r.TextRenderingMode.FILL_STROKE||a.stroke(),a.restore()):(u!==r.TextRenderingMode.FILL&&u!==r.TextRenderingMode.FILL_STROKE||a.fillText(e,t,n),u!==r.TextRenderingMode.STROKE&&u!==r.TextRenderingMode.FILL_STROKE||a.strokeText(e,t,n)),h&&(this.pendingTextPaths||=[]).push({transform:(0,s.getCurrentTransform)(a),x:t,y:n,fontSize:d,addToPath:m})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){n=!0;break}return(0,r.shadow)(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const a=t.fontSize;if(0===a)return;const o=this.ctx,l=t.fontSizeScale,c=t.charSpacing,d=t.wordSpacing,u=t.fontDirection,h=t.textHScale*u,p=e.length,m=n.vertical,f=m?1:-1,g=n.defaultVMetrics,x=a*t.fontMatrix[0],b=t.textRenderingMode===r.TextRenderingMode.FILL&&!n.disableFontFace&&!t.patternFill;let y;if(o.save(),o.transform(...t.textMatrix),o.translate(t.x,t.y+t.textRise),u>0?o.scale(h,-1):o.scale(h,1),t.patternFill){o.save();const e=t.fillColor.getPattern(o,this,(0,s.getCurrentTransformInverse)(o),i.PathType.FILL);y=(0,s.getCurrentTransform)(o),o.restore(),o.fillStyle=e}let v=t.lineWidth;const w=t.textMatrixScale;if(0===w||0===v){const e=t.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;e!==r.TextRenderingMode.STROKE&&e!==r.TextRenderingMode.FILL_STROKE||(v=this.getSinglePixelWidth())}else v/=w;if(1!==l&&(o.scale(l,l),v/=l),o.lineWidth=v,n.isInvalidPDFjsFont){const n=[];let r=0;for(const t of e)n.push(t.unicode),r+=t.width;return o.fillText(n.join(""),0,0),t.x+=r*x*h,o.restore(),void this.compose()}let j,k=0;for(j=0;j<p;++j){const t=e[j];if("number"===typeof t){k+=f*t*a/1e3;continue}let r=!1;const s=(t.isSpace?d:0)+c,i=t.fontChar,h=t.accent;let p,v,w=t.width;if(m){const e=t.vmetric||g,n=-(t.vmetric?e[1]:.5*w)*x,r=e[2]*x;w=e?-e[0]:w,p=n/l,v=(k+r)/l}else p=k/l,v=0;if(n.remeasure&&w>0){const e=1e3*o.measureText(i).width/a*l;if(w<e&&this.isFontSubpixelAAEnabled){const t=w/e;r=!0,o.save(),o.scale(t,1),p/=t}else w!==e&&(p+=(w-e)/2e3*a/l)}if(this.contentVisible&&(t.isInFont||n.missingFile))if(b&&!h)o.fillText(i,p,v);else if(this.paintChar(i,p,v,y),h){const e=p+a*h.offset.x/l,t=v-a*h.offset.y/l;this.paintChar(h.fontChar,e,t,y)}k+=m?w*x-s*u:w*x+s*u,r&&o.restore()}m?t.y-=k:t.x+=k*h,o.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,s=n.font,i=n.fontSize,a=n.fontDirection,o=s.vertical?1:-1,l=n.charSpacing,c=n.wordSpacing,d=n.textHScale*a,u=n.fontMatrix||r.FONT_IDENTITY_MATRIX,h=e.length;let p,m,f,g;if(n.textRenderingMode!==r.TextRenderingMode.INVISIBLE&&0!==i){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...n.textMatrix),t.translate(n.x,n.y),t.scale(d,a),p=0;p<h;++p){if(m=e[p],"number"===typeof m){g=o*m*i/1e3,this.ctx.translate(g,0),n.x+=g*d;continue}const a=(m.isSpace?c:0)+l,h=s.charProcOperatorList[m.operatorListId];h?(this.contentVisible&&(this.processingType3=m,this.save(),t.scale(i,i),t.transform(...u),this.executeOperatorList(h),this.restore()),f=r.Util.applyTransform([m.width,0],u)[0]*i+a,t.translate(f,0),n.x+=f*d):(0,r.warn)(`Type3 character "${m.operatorListId}" is not available.`)}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,r,s,i){this.ctx.rect(n,r,s-n,i-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if("TilingPattern"===e[0]){const n=e[1],r=this.baseTransform||(0,s.getCurrentTransform)(this.ctx),a={createCanvasGraphics:e=>new S(e,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new i.TilingPattern(e,n,this.ctx,a,r)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,n){const s=r.Util.makeHexColor(e,t,n);this.ctx.strokeStyle=s,this.current.strokeColor=s}setFillRGBColor(e,t,n){const s=r.Util.makeHexColor(e,t,n);this.ctx.fillStyle=s,this.current.fillColor=s,this.current.patternFill=!1}_getPattern(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.cachedPatterns.has(e)?t=this.cachedPatterns.get(e):(t=(0,i.getShadingPattern)(this.getObject(e)),this.cachedPatterns.set(e,t)),n&&(t.matrix=n),t}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,(0,s.getCurrentTransformInverse)(t),i.PathType.SHADING);const a=(0,s.getCurrentTransformInverse)(t);if(a){const{width:e,height:n}=t.canvas,[s,i,o,l]=r.Util.getAxialAlignedBoundingBox([0,0,e,n],a);this.ctx.fillRect(s,i,o-s,l-i)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,r.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,r.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(e)&&6===e.length&&this.transform(...e),this.baseTransform=(0,s.getCurrentTransform)(this.ctx),t)){const e=t[2]-t[0],n=t[3]-t[1];this.ctx.rect(t[0],t[1],e,n),this.current.updateRectMinMax((0,s.getCurrentTransform)(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||(0,r.info)("TODO: Support non-isolated groups."),e.knockout&&(0,r.warn)("Knockout groups not supported.");const n=(0,s.getCurrentTransform)(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=r.Util.getAxialAlignedBoundingBox(e.bbox,(0,s.getCurrentTransform)(t));const a=[0,0,t.canvas.width,t.canvas.height];i=r.Util.intersect(i,a)||[0,0,0,0];const l=Math.floor(i[0]),c=Math.floor(i[1]);let d=Math.max(Math.ceil(i[2])-l,1),u=Math.max(Math.ceil(i[3])-c,1),h=1,p=1;d>o&&(h=d/o,d=o),u>o&&(p=u/o,u=o),this.current.startNewPathAndClipBox([0,0,d,u]);let f="groupAt"+this.groupLevel;e.smask&&(f+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(f,d,u),x=g.context;x.scale(1/h,1/p),x.translate(-l,-c),x.transform(...n),e.smask?this.smaskStack.push({canvas:g.canvas,context:x,offsetX:l,offsetY:c,scaleX:h,scaleY:p,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(l,c),t.scale(h,p),t.save()),m(t,x),this.ctx=x,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const e=(0,s.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...e);const n=r.Util.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],e);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(n)}}beginAnnotation(e,t,n,i,a){if(this.#ct(),f(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(t)&&4===t.length){const i=t[2]-t[0],o=t[3]-t[1];if(a&&this.annotationCanvasMap){(n=n.slice())[4]-=t[0],n[5]-=t[1],(t=t.slice())[0]=t[1]=0,t[2]=i,t[3]=o;const[a,l]=r.Util.singularValueDecompose2dScale((0,s.getCurrentTransform)(this.ctx)),{viewportScale:c}=this,d=Math.ceil(i*this.outputScaleX*c),u=Math.ceil(o*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(d,u);const{canvas:h,context:p}=this.annotationCanvas;this.annotationCanvasMap.set(e,h),this.annotationCanvas.savedCtx=this.ctx,this.ctx=p,this.ctx.save(),this.ctx.setTransform(a,0,0,-l,0,o*l),f(this.ctx)}else f(this.ctx),this.ctx.rect(t[0],t[1],i,o),this.ctx.clip(),this.endPath()}this.current=new u(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#dt(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;(e=this.getObject(e.data,e)).count=t;const n=this.ctx,r=this.processingType3;if(r&&(void 0===r.compiled&&(r.compiled=function(e){const{width:t,height:n}=e;if(t>1e3||n>1e3)return null;const r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=t+1;let i,a,o,l=new Uint8Array(s*(n+1));const c=t+7&-8;let d=new Uint8Array(c*n),u=0;for(const f of e.data){let e=128;for(;e>0;)d[u++]=f&e?0:255,e>>=1}let h=0;for(u=0,0!==d[u]&&(l[0]=1,++h),a=1;a<t;a++)d[u]!==d[u+1]&&(l[a]=d[u]?2:1,++h),u++;for(0!==d[u]&&(l[a]=2,++h),i=1;i<n;i++){u=i*c,o=i*s,d[u-c]!==d[u]&&(l[o]=d[u]?1:8,++h);let e=(d[u]?4:0)+(d[u-c]?8:0);for(a=1;a<t;a++)e=(e>>2)+(d[u+1]?4:0)+(d[u-c+1]?8:0),r[e]&&(l[o+a]=r[e],++h),u++;if(d[u-c]!==d[u]&&(l[o+a]=d[u]?2:4,++h),h>1e3)return null}for(u=c*(n-1),o=i*s,0!==d[u]&&(l[o]=8,++h),a=1;a<t;a++)d[u]!==d[u+1]&&(l[o+a]=d[u]?4:8,++h),u++;if(0!==d[u]&&(l[o+a]=4,++h),h>1e3)return null;const p=new Int32Array([0,s,-1,0,-s,0,0,0,1]),m=new Path2D;for(i=0;h&&i<=n;i++){let e=i*s;const n=e+t;for(;e<n&&!l[e];)e++;if(e===n)continue;m.moveTo(e%s,i);const r=e;let a=l[e];do{const t=p[a];do{e+=t}while(!l[e]);const n=l[e];5!==n&&10!==n?(a=n,l[e]=0):(a=n&51*a>>4,l[e]&=a>>2|a<<2),m.lineTo(e%s,e/s|0),l[e]||--h}while(r!==e);--i}return d=null,l=null,function(e){e.save(),e.scale(1/t,-1/n),e.translate(0,-n),e.fill(m),e.beginPath(),e.restore()}}(e)),r.compiled))return void r.compiled(n);const s=this._createMaskCanvas(e),i=s.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(i,s.offsetX,s.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;if(!this.contentVisible)return;e=this.getObject(e.data,e);const l=this.ctx;l.save();const c=(0,s.getCurrentTransform)(l);l.transform(t,n,i,a,0,0);const d=this._createMaskCanvas(e);l.setTransform(1,0,0,1,d.offsetX-c[4],d.offsetY-c[5]);for(let s=0,u=o.length;s<u;s+=2){const e=r.Util.transform(c,[t,n,i,a,o[s],o[s+1]]),[u,h]=r.Util.applyTransform([0,0],e);l.drawImage(d.canvas,u,h)}l.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,r=this.current.patternFill;for(const a of e){const{data:e,width:o,height:l,transform:c}=a,u=this.cachedCanvases.getCanvas("maskCanvas",o,l),h=u.context;h.save(),p(h,this.getObject(e,a)),h.globalCompositeOperation="source-in",h.fillStyle=r?n.getPattern(h,this,(0,s.getCurrentTransformInverse)(t),i.PathType.FILL):n,h.fillRect(0,0,o,l),h.restore(),t.save(),t.transform(...c),t.scale(1,-1),d(t,u.canvas,0,0,o,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);t?this.paintInlineImageXObject(t):(0,r.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(e,t,n,s){if(!this.contentVisible)return;const i=this.getObject(e);if(!i)return void(0,r.warn)("Dependent image isn't ready yet");const a=i.width,o=i.height,l=[];for(let r=0,c=s.length;r<c;r+=2)l.push({transform:[t,0,0,n,s[r],s[r+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(i,l)}applyTransferMapsToCanvas(e){return"none"!==this.current.transferMaps&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if("none"===this.current.transferMaps)return e.bitmap;const{bitmap:t,width:n,height:r}=e,s=this.cachedCanvases.getCanvas("inlineImage",n,r),i=s.context;return i.filter=this.current.transferMaps,i.drawImage(t,0,0),i.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,i=this.ctx;if(this.save(),!r.isNodeJS){const{filter:e}=i;"none"!==e&&""!==e&&(i.filter="none")}let a;if(i.scale(1/t,-1/n),e.bitmap)a=this.applyTransferMapsToBitmap(e);else if("function"===typeof HTMLElement&&e instanceof HTMLElement||!e.data)a=e;else{const r=this.cachedCanvases.getCanvas("inlineImage",t,n).context;h(r,e),a=this.applyTransferMapsToCanvas(r)}const o=this._scaleImage(a,(0,s.getCurrentTransformInverse)(i));i.imageSmoothingEnabled=v((0,s.getCurrentTransform)(i),e.interpolate),d(i,o.img,0,0,o.paintWidth,o.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const t=e.width,n=e.height,s=this.cachedCanvases.getCanvas("inlineImage",t,n).context;h(s,e),r=this.applyTransferMapsToCanvas(s)}for(const s of t)n.save(),n.transform(...s.transform),n.scale(1,-1),d(n,r,s.x,s.y,s.w,s.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){"OC"===e?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(t||(this.pendingClip===N?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=(0,s.getCurrentTransform)(this.ctx);if(0===e[1]&&0===e[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:e}=this.current,{a:t,b:n,c:r,d:s}=this.ctx.getTransform();let i,a;if(0===n&&0===r){const n=Math.abs(t),r=Math.abs(s);if(n===r)if(0===e)i=a=1/n;else{const t=n*e;i=a=t<1?1/t:1}else if(0===e)i=1/n,a=1/r;else{const t=n*e,s=r*e;i=t<1?1/t:1,a=s<1?1/s:1}}else{const o=Math.abs(t*s-n*r),l=Math.hypot(t,n),c=Math.hypot(r,s);if(0===e)i=c/o,a=l/o;else{const t=e*o;i=c>t?c/t:1,a=l>t?l/t:1}}this._cachedScaleForStroking[0]=i,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:n}=this.current,[r,s]=this.getScaleForStroking();if(t.lineWidth=n||1,1===r&&1===s)return void t.stroke();const i=t.getLineDash();if(e&&t.save(),t.scale(r,s),i.length>0){const e=Math.max(r,s);t.setLineDash(i.map((t=>t/e))),t.lineDashOffset/=e}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}t.CanvasGraphics=S;for(const C in r.OPS)void 0!==S.prototype[C]&&(S.prototype[r.OPS[C]]=S.prototype[C])},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TilingPattern=t.PathType=void 0,t.getShadingPattern=function(e){switch(e[0]){case"RadialAxial":return new l(e);case"Mesh":return new u(e);case"Dummy":return new h}throw new Error(`Unknown IR type: ${e[0]}`)};var r=n(1),s=n(6);const i={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function a(e,t){if(!t)return;const n=t[2]-t[0],r=t[3]-t[1],s=new Path2D;s.rect(t[0],t[1],n,r),e.clip(s)}t.PathType=i;class o{constructor(){this.constructor===o&&(0,r.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,r.unreachable)("Abstract method `getPattern` called.")}}class l extends o{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;"axial"===this._type?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,o){let l;if(o===i.STROKE||o===i.FILL){const i=t.current.getClippedPathBoundingBox(o,(0,s.getCurrentTransform)(e))||[0,0,0,0],c=Math.ceil(i[2]-i[0])||1,d=Math.ceil(i[3]-i[1])||1,u=t.cachedCanvases.getCanvas("pattern",c,d,!0),h=u.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-i[0],-i[1]),n=r.Util.transform(n,[1,0,0,1,i[0],i[1]]),h.transform(...t.baseTransform),this.matrix&&h.transform(...this.matrix),a(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),l=e.createPattern(u.canvas,"no-repeat");const p=new DOMMatrix(n);l.setTransform(p)}else a(e,this._bbox),l=this._createGradient(e);return l}}function c(e,t,n,r,s,i,a,o){const l=t.coords,c=t.colors,d=e.data,u=4*e.width;let h;l[n+1]>l[r+1]&&(h=n,n=r,r=h,h=i,i=a,a=h),l[r+1]>l[s+1]&&(h=r,r=s,s=h,h=a,a=o,o=h),l[n+1]>l[r+1]&&(h=n,n=r,r=h,h=i,i=a,a=h);const p=(l[n]+t.offsetX)*t.scaleX,m=(l[n+1]+t.offsetY)*t.scaleY,f=(l[r]+t.offsetX)*t.scaleX,g=(l[r+1]+t.offsetY)*t.scaleY,x=(l[s]+t.offsetX)*t.scaleX,b=(l[s+1]+t.offsetY)*t.scaleY;if(m>=b)return;const y=c[i],v=c[i+1],w=c[i+2],j=c[a],k=c[a+1],N=c[a+2],S=c[o],C=c[o+1],A=c[o+2],T=Math.round(m),E=Math.round(b);let P,F,R,D,M,I,_,L;for(let O=T;O<=E;O++){if(O<g){const e=O<m?0:(m-O)/(m-g);P=p-(p-f)*e,F=y-(y-j)*e,R=v-(v-k)*e,D=w-(w-N)*e}else{let e;e=O>b?1:g===b?0:(g-O)/(g-b),P=f-(f-x)*e,F=j-(j-S)*e,R=k-(k-C)*e,D=N-(N-A)*e}let e;e=O<m?0:O>b?1:(m-O)/(m-b),M=p-(p-x)*e,I=y-(y-S)*e,_=v-(v-C)*e,L=w-(w-A)*e;const t=Math.round(Math.min(P,M)),n=Math.round(Math.max(P,M));let r=u*O+4*t;for(let s=t;s<=n;s++)e=(P-s)/(P-M),e<0?e=0:e>1&&(e=1),d[r++]=F-(F-I)*e|0,d[r++]=R-(R-_)*e|0,d[r++]=D-(D-L)*e|0,d[r++]=255}}function d(e,t,n){const r=t.coords,s=t.colors;let i,a;switch(t.type){case"lattice":const o=t.verticesPerRow,l=Math.floor(r.length/o)-1,d=o-1;for(i=0;i<l;i++){let t=i*o;for(let i=0;i<d;i++,t++)c(e,n,r[t],r[t+1],r[t+o],s[t],s[t+1],s[t+o]),c(e,n,r[t+o+1],r[t+1],r[t+o],s[t+o+1],s[t+1],s[t+o])}break;case"triangles":for(i=0,a=r.length;i<a;i+=3)c(e,n,r[i],r[i+1],r[i+2],s[i],s[i+1],s[i+2]);break;default:throw new Error("illegal figure")}}class u extends o{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,n){const r=Math.floor(this._bounds[0]),s=Math.floor(this._bounds[1]),i=Math.ceil(this._bounds[2])-r,a=Math.ceil(this._bounds[3])-s,o=Math.min(Math.ceil(Math.abs(i*e[0]*1.1)),3e3),l=Math.min(Math.ceil(Math.abs(a*e[1]*1.1)),3e3),c=i/o,u=a/l,h={coords:this._coords,colors:this._colors,offsetX:-r,offsetY:-s,scaleX:1/c,scaleY:1/u},p=o+4,m=l+4,f=n.getCanvas("mesh",p,m,!1),g=f.context,x=g.createImageData(o,l);if(t){const e=x.data;for(let n=0,r=e.length;n<r;n+=4)e[n]=t[0],e[n+1]=t[1],e[n+2]=t[2],e[n+3]=255}for(const b of this._figures)d(x,b,h);return g.putImageData(x,2,2),{canvas:f.canvas,offsetX:r-2*c,offsetY:s-2*u,scaleX:c,scaleY:u}}getPattern(e,t,n,o){let l;if(a(e,this._bbox),o===i.SHADING)l=r.Util.singularValueDecompose2dScale((0,s.getCurrentTransform)(e));else if(l=r.Util.singularValueDecompose2dScale(t.baseTransform),this.matrix){const e=r.Util.singularValueDecompose2dScale(this.matrix);l=[l[0]*e[0],l[1]*e[1]]}const c=this._createMeshCanvas(l,o===i.SHADING?null:this._background,t.cachedCanvases);return o!==i.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(c.offsetX,c.offsetY),e.scale(c.scaleX,c.scaleY),e.createPattern(c.canvas,"no-repeat")}}class h extends o{getPattern(){return"hotpink"}}const p=1,m=2;class f{static MAX_PATTERN_SIZE=3e3;constructor(e,t,n,r,s){this.operatorList=e[2],this.matrix=e[3]||[1,0,0,1,0,0],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=s}createPatternCanvas(e){const t=this.operatorList,n=this.bbox,i=this.xstep,a=this.ystep,o=this.paintType,l=this.tilingType,c=this.color,d=this.canvasGraphicsFactory;(0,r.info)("TilingType: "+l);const u=n[0],h=n[1],p=n[2],m=n[3],f=r.Util.singularValueDecompose2dScale(this.matrix),g=r.Util.singularValueDecompose2dScale(this.baseTransform),x=[f[0]*g[0],f[1]*g[1]],b=this.getSizeAndScale(i,this.ctx.canvas.width,x[0]),y=this.getSizeAndScale(a,this.ctx.canvas.height,x[1]),v=e.cachedCanvases.getCanvas("pattern",b.size,y.size,!0),w=v.context,j=d.createCanvasGraphics(w);j.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(j,o,c);let k=u,N=h,S=p,C=m;return u<0&&(k=0,S+=Math.abs(u)),h<0&&(N=0,C+=Math.abs(h)),w.translate(-b.scale*k,-y.scale*N),j.transform(b.scale,0,0,y.scale,0,0),w.save(),this.clipBbox(j,k,N,S,C),j.baseTransform=(0,s.getCurrentTransform)(j.ctx),j.executeOperatorList(t),j.endDrawing(),{canvas:v.canvas,scaleX:b.scale,scaleY:y.scale,offsetX:k,offsetY:N}}getSizeAndScale(e,t,n){e=Math.abs(e);const r=Math.max(f.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*n);return s>=r?s=r:n=s/e,{scale:n,size:s}}clipBbox(e,t,n,r,i){const a=r-t,o=i-n;e.ctx.rect(t,n,a,o),e.current.updateRectMinMax((0,s.getCurrentTransform)(e.ctx),[t,n,r,i]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const s=e.ctx,i=e.current;switch(t){case p:const e=this.ctx;s.fillStyle=e.fillStyle,s.strokeStyle=e.strokeStyle,i.fillColor=e.fillStyle,i.strokeColor=e.strokeStyle;break;case m:const a=r.Util.makeHexColor(n[0],n[1],n[2]);s.fillStyle=a,s.strokeStyle=a,i.fillColor=a,i.strokeColor=a;break;default:throw new r.FormatError(`Unsupported paint type: ${t}`)}}getPattern(e,t,n,s){let a=n;s!==i.SHADING&&(a=r.Util.transform(a,t.baseTransform),this.matrix&&(a=r.Util.transform(a,this.matrix)));const o=this.createPatternCanvas(t);let l=new DOMMatrix(a);l=l.translate(o.offsetX,o.offsetY),l=l.scale(1/o.scaleX,1/o.scaleY);const c=e.createPattern(o.canvas,"repeat");return c.setTransform(l),c}}t.TilingPattern=f},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.convertBlackAndWhiteToRGBA=s,t.convertToRGBA=function(e){switch(e.kind){case r.ImageKind.GRAYSCALE_1BPP:return s(e);case r.ImageKind.RGB_24BPP:return function(e){let{src:t,srcPos:n=0,dest:s,destPos:i=0,width:a,height:o}=e,l=0;const c=t.length>>2,d=new Uint32Array(t.buffer,n,c);if(r.FeatureTest.isLittleEndian){for(;l<c-2;l+=3,i+=4){const e=d[l],t=d[l+1],n=d[l+2];s[i]=4278190080|e,s[i+1]=e>>>24|t<<8|4278190080,s[i+2]=t>>>16|n<<16|4278190080,s[i+3]=n>>>8|4278190080}for(let e=4*l,n=t.length;e<n;e+=3)s[i++]=t[e]|t[e+1]<<8|t[e+2]<<16|4278190080}else{for(;l<c-2;l+=3,i+=4){const e=d[l],t=d[l+1],n=d[l+2];s[i]=255|e,s[i+1]=e<<24|t>>>8|255,s[i+2]=t<<16|n>>>16|255,s[i+3]=n<<8|255}for(let e=4*l,n=t.length;e<n;e+=3)s[i++]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|255}return{srcPos:n,destPos:i}}(e)}return null},t.grayToRGBA=function(e,t){if(r.FeatureTest.isLittleEndian)for(let n=0,r=e.length;n<r;n++)t[n]=65793*e[n]|4278190080;else for(let n=0,r=e.length;n<r;n++)t[n]=16843008*e[n]|255};var r=n(1);function s(e){let{src:t,srcPos:n=0,dest:s,width:i,height:a,nonBlackColor:o=4294967295,inverseDecode:l=!1}=e;const c=r.FeatureTest.isLittleEndian?4278190080:255,[d,u]=l?[o,c]:[c,o],h=i>>3,p=7&i,m=t.length;s=new Uint32Array(s.buffer);let f=0;for(let r=0;r<a;r++){for(const r=n+h;n<r;n++){const e=n<m?t[n]:255;s[f++]=128&e?u:d,s[f++]=64&e?u:d,s[f++]=32&e?u:d,s[f++]=16&e?u:d,s[f++]=8&e?u:d,s[f++]=4&e?u:d,s[f++]=2&e?u:d,s[f++]=1&e?u:d}if(0===p)continue;const e=n<m?t[n++]:255;for(let t=0;t<p;t++)s[f++]=e&1<<7-t?u:d}return{srcPos:n,destPos:f}}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWorkerOptions=void 0;const n=Object.create(null);t.GlobalWorkerOptions=n,n.workerPort=null,n.workerSrc=""},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var r=n(1);const s=1,i=2,a=1,o=2,l=3,c=4,d=5,u=6,h=7,p=8;function m(e){switch(e instanceof Error||"object"===typeof e&&null!==e||(0,r.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new r.AbortException(e.message);case"MissingPDFException":return new r.MissingPDFException(e.message);case"PasswordException":return new r.PasswordException(e.message,e.code);case"UnexpectedResponseException":return new r.UnexpectedResponseException(e.message,e.status);case"UnknownErrorException":return new r.UnknownErrorException(e.message,e.details);default:return new r.UnknownErrorException(e.message,e.toString())}}t.MessageHandler=class{constructor(e,t,n){this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=e=>{const t=e.data;if(t.targetName!==this.sourceName)return;if(t.stream)return void this.#ut(t);if(t.callback){const e=t.callbackId,n=this.callbackCapabilities[e];if(!n)throw new Error(`Cannot resolve callback ${e}`);if(delete this.callbackCapabilities[e],t.callback===s)n.resolve(t.data);else{if(t.callback!==i)throw new Error("Unexpected callback case");n.reject(m(t.reason))}return}const r=this.actionHandler[t.action];if(!r)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const e=this.sourceName,a=t.sourceName;new Promise((function(e){e(r(t.data))})).then((function(r){n.postMessage({sourceName:e,targetName:a,callback:s,callbackId:t.callbackId,data:r})}),(function(r){n.postMessage({sourceName:e,targetName:a,callback:i,callbackId:t.callbackId,reason:m(r)})}))}else t.streamId?this.#ht(t):r(t.data)},n.addEventListener("message",this._onComObjOnMessage)}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const s=this.callbackId++,i=new r.PromiseCapability;this.callbackCapabilities[s]=i;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:s,data:t},n)}catch(a){i.reject(a)}return i.promise}sendWithStream(e,t,n,s){const i=this.streamId++,o=this.sourceName,l=this.targetName,c=this.comObj;return new ReadableStream({start:n=>{const a=new r.PromiseCapability;return this.streamControllers[i]={controller:n,startCall:a,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:o,targetName:l,action:e,streamId:i,data:t,desiredSize:n.desiredSize},s),a.promise},pull:e=>{const t=new r.PromiseCapability;return this.streamControllers[i].pullCall=t,c.postMessage({sourceName:o,targetName:l,stream:u,streamId:i,desiredSize:e.desiredSize}),t.promise},cancel:e=>{(0,r.assert)(e instanceof Error,"cancel must have a valid reason");const t=new r.PromiseCapability;return this.streamControllers[i].cancelCall=t,this.streamControllers[i].isClosed=!0,c.postMessage({sourceName:o,targetName:l,stream:a,streamId:i,reason:m(e)}),t.promise}},n)}#ht(e){const t=e.streamId,n=this.sourceName,s=e.sourceName,i=this.comObj,a=this,o=this.actionHandler[e.action],u={enqueue(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const l=this.desiredSize;this.desiredSize-=a,l>0&&this.desiredSize<=0&&(this.sinkCapability=new r.PromiseCapability,this.ready=this.sinkCapability.promise),i.postMessage({sourceName:n,targetName:s,stream:c,streamId:t,chunk:e},o)},close(){this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:n,targetName:s,stream:l,streamId:t}),delete a.streamSinks[t])},error(e){(0,r.assert)(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:n,targetName:s,stream:d,streamId:t,reason:m(e)}))},sinkCapability:new r.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};u.sinkCapability.resolve(),u.ready=u.sinkCapability.promise,this.streamSinks[t]=u,new Promise((function(t){t(o(e.data,u))})).then((function(){i.postMessage({sourceName:n,targetName:s,stream:p,streamId:t,success:!0})}),(function(e){i.postMessage({sourceName:n,targetName:s,stream:p,streamId:t,reason:m(e)})}))}#ut(e){const t=e.streamId,n=this.sourceName,s=e.sourceName,i=this.comObj,f=this.streamControllers[t],g=this.streamSinks[t];switch(e.stream){case p:e.success?f.startCall.resolve():f.startCall.reject(m(e.reason));break;case h:e.success?f.pullCall.resolve():f.pullCall.reject(m(e.reason));break;case u:if(!g){i.postMessage({sourceName:n,targetName:s,stream:h,streamId:t,success:!0});break}g.desiredSize<=0&&e.desiredSize>0&&g.sinkCapability.resolve(),g.desiredSize=e.desiredSize,new Promise((function(e){e(g.onPull?.())})).then((function(){i.postMessage({sourceName:n,targetName:s,stream:h,streamId:t,success:!0})}),(function(e){i.postMessage({sourceName:n,targetName:s,stream:h,streamId:t,reason:m(e)})}));break;case c:if((0,r.assert)(f,"enqueue should have stream controller"),f.isClosed)break;f.controller.enqueue(e.chunk);break;case l:if((0,r.assert)(f,"close should have stream controller"),f.isClosed)break;f.isClosed=!0,f.controller.close(),this.#pt(f,t);break;case d:(0,r.assert)(f,"error should have stream controller"),f.controller.error(m(e.reason)),this.#pt(f,t);break;case o:e.success?f.cancelCall.resolve():f.cancelCall.reject(m(e.reason)),this.#pt(f,t);break;case a:if(!g)break;new Promise((function(t){t(g.onCancel?.(m(e.reason)))})).then((function(){i.postMessage({sourceName:n,targetName:s,stream:o,streamId:t,success:!0})}),(function(e){i.postMessage({sourceName:n,targetName:s,stream:o,streamId:t,reason:m(e)})})),g.sinkCapability.reject(m(e.reason)),g.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async#pt(e,t){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[t]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var r=n(1);t.Metadata=class{#mt;#ft;constructor(e){let{parsedData:t,rawData:n}=e;this.#mt=t,this.#ft=n}getRaw(){return this.#ft}get(e){return this.#mt.get(e)??null}getAll(){return(0,r.objectFromMap)(this.#mt)}has(e){return this.#mt.has(e)}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OptionalContentConfig=void 0;var r=n(1),s=n(8);const i=Symbol("INTERNAL");class a{#gt=!0;constructor(e,t){this.name=e,this.intent=t}get visible(){return this.#gt}_setVisible(e,t){e!==i&&(0,r.unreachable)("Internal method `_setVisible` called."),this.#gt=t}}t.OptionalContentConfig=class{#xt=null;#bt=(()=>new Map)();#yt=null;#vt=null;constructor(e){if(this.name=null,this.creator=null,null!==e){this.name=e.name,this.creator=e.creator,this.#vt=e.order;for(const t of e.groups)this.#bt.set(t.id,new a(t.name,t.intent));if("OFF"===e.baseState)for(const e of this.#bt.values())e._setVisible(i,!1);for(const t of e.on)this.#bt.get(t)._setVisible(i,!0);for(const t of e.off)this.#bt.get(t)._setVisible(i,!1);this.#yt=this.getHash()}}#wt(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let s=1;s<t;s++){const t=e[s];let i;if(Array.isArray(t))i=this.#wt(t);else{if(!this.#bt.has(t))return(0,r.warn)(`Optional content group not found: ${t}`),!0;i=this.#bt.get(t).visible}switch(n){case"And":if(!i)return!1;break;case"Or":if(i)return!0;break;case"Not":return!i;default:return!0}}return"And"===n}isVisible(e){if(0===this.#bt.size)return!0;if(!e)return(0,r.warn)("Optional content group not defined."),!0;if("OCG"===e.type)return this.#bt.has(e.id)?this.#bt.get(e.id).visible:((0,r.warn)(`Optional content group not found: ${e.id}`),!0);if("OCMD"===e.type){if(e.expression)return this.#wt(e.expression);if(!e.policy||"AnyOn"===e.policy){for(const t of e.ids){if(!this.#bt.has(t))return(0,r.warn)(`Optional content group not found: ${t}`),!0;if(this.#bt.get(t).visible)return!0}return!1}if("AllOn"===e.policy){for(const t of e.ids){if(!this.#bt.has(t))return(0,r.warn)(`Optional content group not found: ${t}`),!0;if(!this.#bt.get(t).visible)return!1}return!0}if("AnyOff"===e.policy){for(const t of e.ids){if(!this.#bt.has(t))return(0,r.warn)(`Optional content group not found: ${t}`),!0;if(!this.#bt.get(t).visible)return!0}return!1}if("AllOff"===e.policy){for(const t of e.ids){if(!this.#bt.has(t))return(0,r.warn)(`Optional content group not found: ${t}`),!0;if(this.#bt.get(t).visible)return!1}return!0}return(0,r.warn)(`Unknown optional content policy ${e.policy}.`),!0}return(0,r.warn)(`Unknown group type ${e.type}.`),!0}setVisibility(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.#bt.has(e)?(this.#bt.get(e)._setVisible(i,!!t),this.#xt=null):(0,r.warn)(`Optional content group not found: ${e}`)}get hasInitialVisibility(){return null===this.#yt||this.getHash()===this.#yt}getOrder(){return this.#bt.size?this.#vt?this.#vt.slice():[...this.#bt.keys()]:null}getGroups(){return this.#bt.size>0?(0,r.objectFromMap)(this.#bt):null}getGroup(e){return this.#bt.get(e)||null}getHash(){if(null!==this.#xt)return this.#xt;const e=new s.MurmurHash3_64;for(const[t,n]of this.#bt)e.update(`${t}:${n.visible}`);return this.#xt=e.hexdigest()}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var r=n(1),s=n(6);t.PDFDataTransportStream=class{constructor(e,t){let{length:n,initialData:s,progressiveDone:i=!1,contentDispositionFilename:a=null,disableRange:o=!1,disableStream:l=!1}=e;if((0,r.assert)(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=i,this._contentDispositionFilename=a,s?.length>0){const e=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(e)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!l,this._isRangeSupported=!o,this._contentLength=n,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(((e,t)=>{this._onReceiveData({begin:e,chunk:t})})),this._pdfDataRangeTransport.addProgressListener(((e,t)=>{this._onProgress({loaded:e,total:t})})),this._pdfDataRangeTransport.addProgressiveReadListener((e=>{this._onReceiveData({chunk:e})})),this._pdfDataRangeTransport.addProgressiveDoneListener((()=>{this._onProgressiveDone()})),this._pdfDataRangeTransport.transportReady()}_onReceiveData(e){let{begin:t,chunk:n}=e;const s=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(void 0===t)this._fullRequestReader?this._fullRequestReader._enqueue(s):this._queuedChunks.push(s);else{const e=this._rangeReaders.some((function(e){return e._begin===t&&(e._enqueue(s),!0)}));(0,r.assert)(e,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){void 0===e.total?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){(0,r.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new i(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new a(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}};class i{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this._stream=e,this._done=n||!1,this._filename=(0,s.isPdfFile)(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=new r.PromiseCapability;return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class a{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=new r.PromiseCapability;return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var r=n(1),s=n(20);function i(e,t,n){return{method:"GET",headers:e,signal:n.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function a(e){const t=new Headers;for(const n in e){const r=e[n];void 0!==r&&t.append(n,r)}return t}function o(e){return e instanceof Uint8Array?e.buffer:e instanceof ArrayBuffer?e:((0,r.warn)(`getArrayBuffer - unexpected data format: ${e}`),new Uint8Array(e).buffer)}t.PDFFetchStream=class{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new l(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new c(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}};class l{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=new r.PromiseCapability,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=a(this._stream.httpHeaders);const n=t.url;fetch(n,i(this._headers,this._withCredentials,this._abortController)).then((e=>{if(!(0,s.validateResponseStatus)(e.status))throw(0,s.createResponseStatusError)(e.status,n);this._reader=e.body.getReader(),this._headersCapability.resolve();const t=t=>e.headers.get(t),{allowRangeRequests:i,suggestedLength:a}=(0,s.validateRangeRequestCapabilities)({getResponseHeader:t,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=i,this._contentLength=a||this._contentLength,this._filename=(0,s.extractFilenameFromHeader)(t),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new r.AbortException("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:o(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class c{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const o=e.source;this._withCredentials=o.withCredentials||!1,this._readCapability=new r.PromiseCapability,this._isStreamingSupported=!o.disableStream,this._abortController=new AbortController,this._headers=a(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${n-1}`);const l=o.url;fetch(l,i(this._headers,this._withCredentials,this._abortController)).then((e=>{if(!(0,s.validateResponseStatus)(e.status))throw(0,s.createResponseStatusError)(e.status,l);this._readCapability.resolve(),this._reader=e.body.getReader()})).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:o(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseStatusError=function(e,t){return 404===e||0===e&&t.startsWith("file:")?new r.MissingPDFException('Missing PDF "'+t+'".'):new r.UnexpectedResponseException(`Unexpected server response (${e}) while retrieving PDF "${t}".`,e)},t.extractFilenameFromHeader=function(e){const t=e("Content-Disposition");if(t){let e=(0,s.getFilenameFromContentDispositionHeader)(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if((0,i.isPdfFile)(e))return e}return null},t.validateRangeRequestCapabilities=function(e){let{getResponseHeader:t,isHttp:n,rangeChunkSize:r,disableRange:s}=e;const i={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(t("Content-Length"),10);return Number.isInteger(a)?(i.suggestedLength=a,a<=2*r||s||!n||"bytes"!==t("Accept-Ranges")||"identity"!==(t("Content-Encoding")||"identity")||(i.allowRangeRequests=!0),i):i},t.validateResponseStatus=function(e){return 200===e||206===e};var r=n(1),s=n(21),i=n(6)},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getFilenameFromContentDispositionHeader=function(e){let t=!0,n=s("filename\\*","i").exec(e);if(n){n=n[1];let e=o(n);return e=unescape(e),e=l(e),e=c(e),a(e)}if(n=function(e){const t=[];let n;const r=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(n=r.exec(e));){let[,e,r,s]=n;if(e=parseInt(e,10),e in t){if(0===e)break}else t[e]=[r,s]}const i=[];for(let s=0;s<t.length&&s in t;++s){let[e,n]=t[s];n=o(n),e&&(n=unescape(n),0===s&&(n=l(n))),i.push(n)}return i.join("")}(e),n)return a(c(n));if(n=s("filename","i").exec(e),n){n=n[1];let e=o(n);return e=c(e),a(e)}function s(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function i(e,n){if(e){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const s=new TextDecoder(e,{fatal:!0}),i=(0,r.stringToBytes)(n);n=s.decode(i),t=!1}catch{}}return n}function a(e){return t&&/[\x80-\xff]/.test(e)&&(e=i("utf-8",e),t&&(e=i("iso-8859-1",e))),e}function o(e){if(e.startsWith('"')){const t=e.slice(1).split('\\"');for(let e=0;e<t.length;++e){const n=t[e].indexOf('"');-1!==n&&(t[e]=t[e].slice(0,n),t.length=e+1),t[e]=t[e].replaceAll(/\\(.)/g,"$1")}e=t.join('"')}return e}function l(e){const t=e.indexOf("'");return-1===t?e:i(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function c(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(e,t,n,r){if("q"===n||"Q"===n)return i(t,r=(r=r.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))})));try{r=atob(r)}catch{}return i(t,r)}))}return""};var r=n(1)},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNetworkStream=void 0;var r=n(1),s=n(20);class i{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,n){const r={begin:e,end:t};for(const s in n)r[s]=n[s];return this.request(r)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const s in this.httpHeaders){const e=this.httpHeaders[s];void 0!==e&&t.setRequestHeader(s,e)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=206):r.expectedStatus=200,t.responseType="arraybuffer",e.onError&&(t.onerror=function(n){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){const n=this.pendingRequests[e];n&&n.onProgress?.(t)}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const s=n.xhr;if(s.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==s.readyState)return;if(!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],0===s.status&&this.isHttp)return void n.onError?.(s.status);const i=s.status||200;if((200!==i||206!==n.expectedStatus)&&i!==n.expectedStatus)return void n.onError?.(s.status);const a=function(e){const t=e.response;return"string"!==typeof t?t:(0,r.stringToBytes)(t).buffer}(s);if(206===i){const e=s.getResponseHeader("Content-Range"),t=/bytes (\d+)-(\d+)\/(\d+)/.exec(e);n.onDone({begin:parseInt(t[1],10),chunk:a})}else a?n.onDone({begin:0,chunk:a}):n.onError?.(s.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}t.PDFNetworkStream=class{constructor(e){this._source=e,this._manager=new i(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new a(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new o(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}};class a{constructor(e,t){this._manager=e;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(n),this._headersReceivedCapability=new r.PromiseCapability,this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=e=>t.getResponseHeader(e),{allowRangeRequests:r,suggestedLength:i}=(0,s.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=i||this._contentLength,this._filename=(0,s.extractFilenameFromHeader)(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=(0,s.createResponseStatusError)(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=new r.PromiseCapability;return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class o{constructor(e,t,n){this._manager=e;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,n,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=(0,s.createResponseStatusError)(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=new r.PromiseCapability;return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNodeStream=void 0;var r=n(1),s=n(20);const i=/^file:\/\/\/[a-zA-Z]:\//;t.PDFNodeStream=class{constructor(e){this.source=e,this.url=function(e){const t=__webpack_require__(671),n=t.parse(e);return"file:"===n.protocol||n.host?n:/^[a-z]:[/\\]/i.test(e)?t.parse(`file:///${e}`):(n.host||(n.protocol="file:"),n)}(e.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new u(this):new c(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=this.isFsUrl?new h(this,e,t):new d(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}};class a{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=new r.PromiseCapability,this._headersCapability=new r.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return null===e?(this._readCapability=new r.PromiseCapability,this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",(()=>{this._readCapability.resolve()})),e.on("end",(()=>{e.destroy(),this._done=!0,this._readCapability.resolve()})),e.on("error",(e=>{this._error(e)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new r.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class o{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new r.PromiseCapability;const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return null===e?(this._readCapability=new r.PromiseCapability,this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",(()=>{this._readCapability.resolve()})),e.on("end",(()=>{e.destroy(),this._done=!0,this._readCapability.resolve()})),e.on("error",(e=>{this._error(e)})),this._storedError&&this._readableStream.destroy(this._storedError)}}function l(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}class c extends a{constructor(e){super(e);const t=t=>{if(404===t.statusCode){const e=new r.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=e,void this._headersCapability.reject(e)}this._headersCapability.resolve(),this._setReadableStream(t);const n=e=>this._readableStream.headers[e.toLowerCase()],{allowRangeRequests:i,suggestedLength:a}=(0,s.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=i,this._contentLength=a||this._contentLength,this._filename=(0,s.extractFilenameFromHeader)(n)};if(this._request=null,"http:"===this._url.protocol){const n=__webpack_require__(492);this._request=n.request(l(this._url,e.httpHeaders),t)}else{const n=__webpack_require__(815);this._request=n.request(l(this._url,e.httpHeaders),t)}this._request.on("error",(e=>{this._storedError=e,this._headersCapability.reject(e)})),this._request.end()}}class d extends o{constructor(e,t,n){super(e),this._httpHeaders={};for(const r in e.httpHeaders){const t=e.httpHeaders[r];void 0!==t&&(this._httpHeaders[r]=t)}this._httpHeaders.Range=`bytes=${t}-${n-1}`;const s=e=>{if(404!==e.statusCode)this._setReadableStream(e);else{const e=new r.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=e}};if(this._request=null,"http:"===this._url.protocol){const e=__webpack_require__(492);this._request=e.request(l(this._url,this._httpHeaders),s)}else{const e=__webpack_require__(815);this._request=e.request(l(this._url,this._httpHeaders),s)}this._request.on("error",(e=>{this._storedError=e})),this._request.end()}}class u extends a{constructor(e){super(e);let t=decodeURIComponent(this._url.path);i.test(this._url.href)&&(t=t.replace(/^\//,""));const n=__webpack_require__(237);n.lstat(t,((e,s)=>{if(e)return"ENOENT"===e.code&&(e=new r.MissingPDFException(`Missing PDF "${t}".`)),this._storedError=e,void this._headersCapability.reject(e);this._contentLength=s.size,this._setReadableStream(n.createReadStream(t)),this._headersCapability.resolve()}))}}class h extends o{constructor(e,t,n){super(e);let r=decodeURIComponent(this._url.path);i.test(this._url.href)&&(r=r.replace(/^\//,""));const s=__webpack_require__(237);this._setReadableStream(s.createReadStream(r,{start:t,end:n-1}))}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var r=n(6),s=n(1);const i="normal",a="normal",o="#000000",l=["butt","round","square"],c=["miter","round","bevel"],d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(URL.createObjectURL&&"undefined"!==typeof Blob&&!n)return URL.createObjectURL(new Blob([e],{type:t}));const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let s=`data:${t};base64,`;for(let i=0,a=e.length;i<a;i+=3){const t=255&e[i],n=255&e[i+1],o=255&e[i+2];s+=r[t>>2]+r[(3&t)<<4|n>>4]+r[i+1<a?(15&n)<<2|o>>6:64]+r[i+2<a?63&o:64]}return s},u=function(){const e=new Uint8Array([137,80,78,71,13,10,26,10]),t=new Int32Array(256);for(let s=0;s<256;s++){let e=s;for(let t=0;t<8;t++)e=1&e?3988292384^e>>1&2147483647:e>>1&2147483647;t[s]=e}function n(e,n,r,s){let i=s;const a=n.length;r[i]=a>>24&255,r[i+1]=a>>16&255,r[i+2]=a>>8&255,r[i+3]=255&a,i+=4,r[i]=255&e.charCodeAt(0),r[i+1]=255&e.charCodeAt(1),r[i+2]=255&e.charCodeAt(2),r[i+3]=255&e.charCodeAt(3),i+=4,r.set(n,i),i+=n.length;const o=function(e,n,r){let s=-1;for(let i=n;i<r;i++){const n=255&(s^e[i]);s=s>>>8^t[n]}return~s}(r,s+4,i);r[i]=o>>24&255,r[i+1]=o>>16&255,r[i+2]=o>>8&255,r[i+3]=255&o}function r(e){let t=e.length;const n=65535,r=Math.ceil(t/n),s=new Uint8Array(2+t+5*r+4);let i=0;s[i++]=120,s[i++]=156;let a=0;for(;t>n;)s[i++]=0,s[i++]=255,s[i++]=255,s[i++]=0,s[i++]=0,s.set(e.subarray(a,a+n),i),i+=n,a+=n,t-=n;s[i++]=1,s[i++]=255&t,s[i++]=t>>8&255,s[i++]=255&~t,s[i++]=(65535&~t)>>8&255,s.set(e.subarray(a),i),i+=e.length-a;const o=function(e,t,n){let r=1,s=0;for(let i=t;i<n;++i)r=(r+(255&e[i]))%65521,s=(s+r)%65521;return s<<16|r}(e,0,e.length);return s[i++]=o>>24&255,s[i++]=o>>16&255,s[i++]=o>>8&255,s[i++]=255&o,s}function i(t,i,a,o){const l=t.width,c=t.height;let u,h,p;const m=t.data;switch(i){case s.ImageKind.GRAYSCALE_1BPP:h=0,u=1,p=l+7>>3;break;case s.ImageKind.RGB_24BPP:h=2,u=8,p=3*l;break;case s.ImageKind.RGBA_32BPP:h=6,u=8,p=4*l;break;default:throw new Error("invalid format")}const f=new Uint8Array((1+p)*c);let g=0,x=0;for(let e=0;e<c;++e)f[g++]=0,f.set(m.subarray(x,x+p),g),x+=p,g+=p;if(i===s.ImageKind.GRAYSCALE_1BPP&&o){g=0;for(let e=0;e<c;e++){g++;for(let e=0;e<p;e++)f[g++]^=255}}const b=new Uint8Array([l>>24&255,l>>16&255,l>>8&255,255&l,c>>24&255,c>>16&255,c>>8&255,255&c,u,h,0,0,0]),y=function(e){if(!s.isNodeJS)return r(e);try{const t=parseInt(process.versions.node)>=8?e:Buffer.from(e),n=__webpack_require__(787).deflateSync(t,{level:9});return n instanceof Uint8Array?n:new Uint8Array(n)}catch(t){(0,s.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+t)}return r(e)}(f),v=e.length+36+b.length+y.length,w=new Uint8Array(v);let j=0;return w.set(e,j),j+=e.length,n("IHDR",b,w,j),j+=12+b.length,n("IDATA",y,w,j),j+=12+y.length,n("IEND",new Uint8Array(0),w,j),d(w,"image/png",a)}return function(e,t,n){return i(e,void 0===e.kind?s.ImageKind.GRAYSCALE_1BPP:e.kind,t,n)}}();class h{constructor(){this.fontSizeScale=1,this.fontWeight=a,this.fontSize=0,this.textMatrix=s.IDENTITY_MATRIX,this.fontMatrix=s.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=s.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=o,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(e,t){this.x=e,this.y=t}}function p(e){if(Number.isInteger(e))return e.toString();const t=e.toFixed(10);let n=t.length-1;if("0"!==t[n])return t;do{n--}while("0"===t[n]);return t.substring(0,"."===t[n]?n:n+1)}function m(e){if(0===e[4]&&0===e[5]){if(0===e[1]&&0===e[2])return 1===e[0]&&1===e[3]?"":`scale(${p(e[0])} ${p(e[3])})`;if(e[0]===e[3]&&e[1]===-e[2])return`rotate(${p(180*Math.acos(e[0])/Math.PI)})`}else if(1===e[0]&&0===e[1]&&0===e[2]&&1===e[3])return`translate(${p(e[4])} ${p(e[5])})`;return`matrix(${p(e[0])} ${p(e[1])} ${p(e[2])} ${p(e[3])} ${p(e[4])} ${p(e[5])})`}let f=0,g=0,x=0;t.SVGGraphics=class{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,r.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new r.DOMSVGFactory,this.current=new h,this.transformMatrix=s.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=e,this.objs=t,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!n,this._operatorIdMapping=[];for(const r in s.OPS)this._operatorIdMapping[s.OPS[r]]=r}getObject(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"===typeof e?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}save(){this.transformStack.push(this.transformMatrix);const e=this.current;this.extraStack.push(e),this.current=e.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(e){this.save(),this.executeOpTree(e),this.restore()}loadDependencies(e){const t=e.fnArray,n=e.argsArray;for(let r=0,i=t.length;r<i;r++)if(t[r]===s.OPS.dependency)for(const e of n[r]){const t=e.startsWith("g_")?this.commonObjs:this.objs,n=new Promise((n=>{t.get(e,n)}));this.current.dependencies.push(n)}return Promise.all(this.current.dependencies)}transform(e,t,n,r,i,a){const o=[e,t,n,r,i,a];this.transformMatrix=s.Util.transform(this.transformMatrix,o),this.tgrp=null}getSVG(e,t){this.viewport=t;const n=this._initialize(t);return this.loadDependencies(e).then((()=>(this.transformMatrix=s.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(e)),n)))}convertOpList(e){const t=this._operatorIdMapping,n=e.argsArray,r=e.fnArray,s=[];for(let i=0,a=r.length;i<a;i++){const e=r[i];s.push({fnId:e,fn:t[e],args:n[i]})}return function(e){let t=[];const n=[];for(const r of e)"save"!==r.fn?"restore"===r.fn?t=n.pop():t.push(r):(t.push({fnId:92,fn:"group",items:[]}),n.push(t),t=t.at(-1).items);return t}(s)}executeOpTree(e){for(const t of e){const e=t.fn,n=t.fnId,r=t.args;switch(0|n){case s.OPS.beginText:this.beginText();break;case s.OPS.dependency:break;case s.OPS.setLeading:this.setLeading(r);break;case s.OPS.setLeadingMoveText:this.setLeadingMoveText(r[0],r[1]);break;case s.OPS.setFont:this.setFont(r);break;case s.OPS.showText:case s.OPS.showSpacedText:this.showText(r[0]);break;case s.OPS.endText:this.endText();break;case s.OPS.moveText:this.moveText(r[0],r[1]);break;case s.OPS.setCharSpacing:this.setCharSpacing(r[0]);break;case s.OPS.setWordSpacing:this.setWordSpacing(r[0]);break;case s.OPS.setHScale:this.setHScale(r[0]);break;case s.OPS.setTextMatrix:this.setTextMatrix(r[0],r[1],r[2],r[3],r[4],r[5]);break;case s.OPS.setTextRise:this.setTextRise(r[0]);break;case s.OPS.setTextRenderingMode:this.setTextRenderingMode(r[0]);break;case s.OPS.setLineWidth:this.setLineWidth(r[0]);break;case s.OPS.setLineJoin:this.setLineJoin(r[0]);break;case s.OPS.setLineCap:this.setLineCap(r[0]);break;case s.OPS.setMiterLimit:this.setMiterLimit(r[0]);break;case s.OPS.setFillRGBColor:this.setFillRGBColor(r[0],r[1],r[2]);break;case s.OPS.setStrokeRGBColor:this.setStrokeRGBColor(r[0],r[1],r[2]);break;case s.OPS.setStrokeColorN:this.setStrokeColorN(r);break;case s.OPS.setFillColorN:this.setFillColorN(r);break;case s.OPS.shadingFill:this.shadingFill(r[0]);break;case s.OPS.setDash:this.setDash(r[0],r[1]);break;case s.OPS.setRenderingIntent:this.setRenderingIntent(r[0]);break;case s.OPS.setFlatness:this.setFlatness(r[0]);break;case s.OPS.setGState:this.setGState(r[0]);break;case s.OPS.fill:this.fill();break;case s.OPS.eoFill:this.eoFill();break;case s.OPS.stroke:this.stroke();break;case s.OPS.fillStroke:this.fillStroke();break;case s.OPS.eoFillStroke:this.eoFillStroke();break;case s.OPS.clip:this.clip("nonzero");break;case s.OPS.eoClip:this.clip("evenodd");break;case s.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case s.OPS.paintImageXObject:this.paintImageXObject(r[0]);break;case s.OPS.paintInlineImageXObject:this.paintInlineImageXObject(r[0]);break;case s.OPS.paintImageMaskXObject:this.paintImageMaskXObject(r[0]);break;case s.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(r[0],r[1]);break;case s.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case s.OPS.closePath:this.closePath();break;case s.OPS.closeStroke:this.closeStroke();break;case s.OPS.closeFillStroke:this.closeFillStroke();break;case s.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case s.OPS.nextLine:this.nextLine();break;case s.OPS.transform:this.transform(r[0],r[1],r[2],r[3],r[4],r[5]);break;case s.OPS.constructPath:this.constructPath(r[0],r[1]);break;case s.OPS.endPath:this.endPath();break;case 92:this.group(t.items);break;default:(0,s.warn)(`Unimplemented operator ${e}`)}}}setWordSpacing(e){this.current.wordSpacing=e}setCharSpacing(e){this.current.charSpacing=e}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(e,t,n,r,s,i){const a=this.current;a.textMatrix=a.lineMatrix=[e,t,n,r,s,i],a.textMatrixScale=Math.hypot(e,t),a.x=a.lineX=0,a.y=a.lineY=0,a.xcoords=[],a.ycoords=[],a.tspan=this.svgFactory.createElement("svg:tspan"),a.tspan.setAttributeNS(null,"font-family",a.fontFamily),a.tspan.setAttributeNS(null,"font-size",`${p(a.fontSize)}px`),a.tspan.setAttributeNS(null,"y",p(-a.y)),a.txtElement=this.svgFactory.createElement("svg:text"),a.txtElement.append(a.tspan)}beginText(){const e=this.current;e.x=e.lineX=0,e.y=e.lineY=0,e.textMatrix=s.IDENTITY_MATRIX,e.lineMatrix=s.IDENTITY_MATRIX,e.textMatrixScale=1,e.tspan=this.svgFactory.createElement("svg:tspan"),e.txtElement=this.svgFactory.createElement("svg:text"),e.txtgrp=this.svgFactory.createElement("svg:g"),e.xcoords=[],e.ycoords=[]}moveText(e,t){const n=this.current;n.x=n.lineX+=e,n.y=n.lineY+=t,n.xcoords=[],n.ycoords=[],n.tspan=this.svgFactory.createElement("svg:tspan"),n.tspan.setAttributeNS(null,"font-family",n.fontFamily),n.tspan.setAttributeNS(null,"font-size",`${p(n.fontSize)}px`),n.tspan.setAttributeNS(null,"y",p(-n.y))}showText(e){const t=this.current,n=t.font,r=t.fontSize;if(0===r)return;const l=t.fontSizeScale,c=t.charSpacing,d=t.wordSpacing,u=t.fontDirection,h=t.textHScale*u,f=n.vertical,g=f?1:-1,x=n.defaultVMetrics,b=r*t.fontMatrix[0];let y=0;for(const s of e){if(null===s){y+=u*d;continue}if("number"===typeof s){y+=g*s*r/1e3;continue}const e=(s.isSpace?d:0)+c,i=s.fontChar;let a,o,h=s.width;if(f){let e;const t=s.vmetric||x;e=s.vmetric?t[1]:.5*h,e=-e*b;const n=t[2]*b;h=t?-t[0]:h,a=e/l,o=(y+n)/l}else a=y/l,o=0;(s.isInFont||n.missingFile)&&(t.xcoords.push(t.x+a),f&&t.ycoords.push(-t.y+o),t.tspan.textContent+=i),y+=f?h*b-e*u:h*b+e*u}t.tspan.setAttributeNS(null,"x",t.xcoords.map(p).join(" ")),f?t.tspan.setAttributeNS(null,"y",t.ycoords.map(p).join(" ")):t.tspan.setAttributeNS(null,"y",p(-t.y)),f?t.y-=y:t.x+=y*h,t.tspan.setAttributeNS(null,"font-family",t.fontFamily),t.tspan.setAttributeNS(null,"font-size",`${p(t.fontSize)}px`),t.fontStyle!==i&&t.tspan.setAttributeNS(null,"font-style",t.fontStyle),t.fontWeight!==a&&t.tspan.setAttributeNS(null,"font-weight",t.fontWeight);const v=t.textRenderingMode&s.TextRenderingMode.FILL_STROKE_MASK;if(v===s.TextRenderingMode.FILL||v===s.TextRenderingMode.FILL_STROKE?(t.fillColor!==o&&t.tspan.setAttributeNS(null,"fill",t.fillColor),t.fillAlpha<1&&t.tspan.setAttributeNS(null,"fill-opacity",t.fillAlpha)):t.textRenderingMode===s.TextRenderingMode.ADD_TO_PATH?t.tspan.setAttributeNS(null,"fill","transparent"):t.tspan.setAttributeNS(null,"fill","none"),v===s.TextRenderingMode.STROKE||v===s.TextRenderingMode.FILL_STROKE){const e=1/(t.textMatrixScale||1);this._setStrokeAttributes(t.tspan,e)}let w=t.textMatrix;0!==t.textRise&&(w=w.slice(),w[5]+=t.textRise),t.txtElement.setAttributeNS(null,"transform",`${m(w)} scale(${p(h)}, -1)`),t.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),t.txtElement.append(t.tspan),t.txtgrp.append(t.txtElement),this._ensureTransformGroup().append(t.txtElement)}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}addFontStyle(e){if(!e.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const t=d(e.data,e.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${e.loadedName}"; src: url(${t}); }\n`}setFont(e){const t=this.current,n=this.commonObjs.get(e[0]);let r=e[1];t.font=n,!this.embedFonts||n.missingFile||this.embeddedFonts[n.loadedName]||(this.addFontStyle(n),this.embeddedFonts[n.loadedName]=n),t.fontMatrix=n.fontMatrix||s.FONT_IDENTITY_MATRIX;let i="normal";n.black?i="900":n.bold&&(i="bold");const a=n.italic?"italic":"normal";r<0?(r=-r,t.fontDirection=-1):t.fontDirection=1,t.fontSize=r,t.fontFamily=n.loadedName,t.fontWeight=i,t.fontStyle=a,t.tspan=this.svgFactory.createElement("svg:tspan"),t.tspan.setAttributeNS(null,"y",p(-t.y)),t.xcoords=[],t.ycoords=[]}endText(){const e=this.current;e.textRenderingMode&s.TextRenderingMode.ADD_TO_PATH_FLAG&&e.txtElement?.hasChildNodes()&&(e.element=e.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(e){e>0&&(this.current.lineWidth=e)}setLineCap(e){this.current.lineCap=l[e]}setLineJoin(e){this.current.lineJoin=c[e]}setMiterLimit(e){this.current.miterLimit=e}setStrokeAlpha(e){this.current.strokeAlpha=e}setStrokeRGBColor(e,t,n){this.current.strokeColor=s.Util.makeHexColor(e,t,n)}setFillAlpha(e){this.current.fillAlpha=e}setFillRGBColor(e,t,n){this.current.fillColor=s.Util.makeHexColor(e,t,n),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(e){this.current.strokeColor=this._makeColorN_Pattern(e)}setFillColorN(e){this.current.fillColor=this._makeColorN_Pattern(e)}shadingFill(e){const{width:t,height:n}=this.viewport,r=s.Util.inverseTransform(this.transformMatrix),[i,a,o,l]=s.Util.getAxialAlignedBoundingBox([0,0,t,n],r),c=this.svgFactory.createElement("svg:rect");c.setAttributeNS(null,"x",i),c.setAttributeNS(null,"y",a),c.setAttributeNS(null,"width",o-i),c.setAttributeNS(null,"height",l-a),c.setAttributeNS(null,"fill",this._makeShadingPattern(e)),this.current.fillAlpha<1&&c.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(c)}_makeColorN_Pattern(e){return"TilingPattern"===e[0]?this._makeTilingPattern(e):this._makeShadingPattern(e)}_makeTilingPattern(e){const t=e[1],n=e[2],r=e[3]||s.IDENTITY_MATRIX,[i,a,o,l]=e[4],c=e[5],d=e[6],u=e[7],h="shading"+x++,[p,m,f,g]=s.Util.normalizeRect([...s.Util.applyTransform([i,a],r),...s.Util.applyTransform([o,l],r)]),[b,y]=s.Util.singularValueDecompose2dScale(r),v=c*b,w=d*y,j=this.svgFactory.createElement("svg:pattern");j.setAttributeNS(null,"id",h),j.setAttributeNS(null,"patternUnits","userSpaceOnUse"),j.setAttributeNS(null,"width",v),j.setAttributeNS(null,"height",w),j.setAttributeNS(null,"x",`${p}`),j.setAttributeNS(null,"y",`${m}`);const k=this.svg,N=this.transformMatrix,S=this.current.fillColor,C=this.current.strokeColor,A=this.svgFactory.create(f-p,g-m);if(this.svg=A,this.transformMatrix=r,2===u){const e=s.Util.makeHexColor(...t);this.current.fillColor=e,this.current.strokeColor=e}return this.executeOpTree(this.convertOpList(n)),this.svg=k,this.transformMatrix=N,this.current.fillColor=S,this.current.strokeColor=C,j.append(A.childNodes[0]),this.defs.append(j),`url(#${h})`}_makeShadingPattern(e){switch("string"===typeof e&&(e=this.objs.get(e)),e[0]){case"RadialAxial":const t="shading"+x++,n=e[3];let r;switch(e[1]){case"axial":const n=e[4],s=e[5];r=this.svgFactory.createElement("svg:linearGradient"),r.setAttributeNS(null,"id",t),r.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),r.setAttributeNS(null,"x1",n[0]),r.setAttributeNS(null,"y1",n[1]),r.setAttributeNS(null,"x2",s[0]),r.setAttributeNS(null,"y2",s[1]);break;case"radial":const i=e[4],a=e[5],o=e[6],l=e[7];r=this.svgFactory.createElement("svg:radialGradient"),r.setAttributeNS(null,"id",t),r.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),r.setAttributeNS(null,"cx",a[0]),r.setAttributeNS(null,"cy",a[1]),r.setAttributeNS(null,"r",l),r.setAttributeNS(null,"fx",i[0]),r.setAttributeNS(null,"fy",i[1]),r.setAttributeNS(null,"fr",o);break;default:throw new Error(`Unknown RadialAxial type: ${e[1]}`)}for(const e of n){const t=this.svgFactory.createElement("svg:stop");t.setAttributeNS(null,"offset",e[0]),t.setAttributeNS(null,"stop-color",e[1]),r.append(t)}return this.defs.append(r),`url(#${t})`;case"Mesh":return(0,s.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${e[0]}`)}}setDash(e,t){this.current.dashArray=e,this.current.dashPhase=t}constructPath(e,t){const n=this.current;let r=n.x,i=n.y,a=[],o=0;for(const l of e)switch(0|l){case s.OPS.rectangle:r=t[o++],i=t[o++];const e=r+t[o++],n=i+t[o++];a.push("M",p(r),p(i),"L",p(e),p(i),"L",p(e),p(n),"L",p(r),p(n),"Z");break;case s.OPS.moveTo:r=t[o++],i=t[o++],a.push("M",p(r),p(i));break;case s.OPS.lineTo:r=t[o++],i=t[o++],a.push("L",p(r),p(i));break;case s.OPS.curveTo:r=t[o+4],i=t[o+5],a.push("C",p(t[o]),p(t[o+1]),p(t[o+2]),p(t[o+3]),p(r),p(i)),o+=6;break;case s.OPS.curveTo2:a.push("C",p(r),p(i),p(t[o]),p(t[o+1]),p(t[o+2]),p(t[o+3])),r=t[o+2],i=t[o+3],o+=4;break;case s.OPS.curveTo3:r=t[o+2],i=t[o+3],a.push("C",p(t[o]),p(t[o+1]),p(r),p(i),p(r),p(i)),o+=4;break;case s.OPS.closePath:a.push("Z")}a=a.join(" "),n.path&&e.length>0&&e[0]!==s.OPS.rectangle&&e[0]!==s.OPS.moveTo?a=n.path.getAttributeNS(null,"d")+a:(n.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(n.path)),n.path.setAttributeNS(null,"d",a),n.path.setAttributeNS(null,"fill","none"),n.element=n.path,n.setCurrentPoint(r,i)}endPath(){const e=this.current;if(e.path=null,!this.pendingClip)return;if(!e.element)return void(this.pendingClip=null);const t="clippath"+f++,n=this.svgFactory.createElement("svg:clipPath");n.setAttributeNS(null,"id",t),n.setAttributeNS(null,"transform",m(this.transformMatrix));const r=e.element.cloneNode(!0);if("evenodd"===this.pendingClip?r.setAttributeNS(null,"clip-rule","evenodd"):r.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,n.append(r),this.defs.append(n),e.activeClipUrl){e.clipGroup=null;for(const e of this.extraStack)e.clipGroup=null;n.setAttributeNS(null,"clip-path",e.activeClipUrl)}e.activeClipUrl=`url(#${t})`,this.tgrp=null}clip(e){this.pendingClip=e}closePath(){const e=this.current;if(e.path){const t=`${e.path.getAttributeNS(null,"d")}Z`;e.path.setAttributeNS(null,"d",t)}}setLeading(e){this.current.leading=-e}setTextRise(e){this.current.textRise=e}setTextRenderingMode(e){this.current.textRenderingMode=e}setHScale(e){this.current.textHScale=e/100}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n);break;case"CA":this.setStrokeAlpha(n);break;case"ca":this.setFillAlpha(n);break;default:(0,s.warn)(`Unimplemented graphic state operator ${t}`)}}fill(){const e=this.current;e.element&&(e.element.setAttributeNS(null,"fill",e.fillColor),e.element.setAttributeNS(null,"fill-opacity",e.fillAlpha),this.endPath())}stroke(){const e=this.current;e.element&&(this._setStrokeAttributes(e.element),e.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=this.current;let r=n.dashArray;1!==t&&r.length>0&&(r=r.map((function(e){return t*e}))),e.setAttributeNS(null,"stroke",n.strokeColor),e.setAttributeNS(null,"stroke-opacity",n.strokeAlpha),e.setAttributeNS(null,"stroke-miterlimit",p(n.miterLimit)),e.setAttributeNS(null,"stroke-linecap",n.lineCap),e.setAttributeNS(null,"stroke-linejoin",n.lineJoin),e.setAttributeNS(null,"stroke-width",p(t*n.lineWidth)+"px"),e.setAttributeNS(null,"stroke-dasharray",r.map(p).join(" ")),e.setAttributeNS(null,"stroke-dashoffset",p(t*n.dashPhase)+"px")}eoFill(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const e=this.svgFactory.createElement("svg:rect");e.setAttributeNS(null,"x","0"),e.setAttributeNS(null,"y","0"),e.setAttributeNS(null,"width","1px"),e.setAttributeNS(null,"height","1px"),e.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(e)}paintImageXObject(e){const t=this.getObject(e);t?this.paintInlineImageXObject(t):(0,s.warn)(`Dependent image with object ID ${e} is not ready yet`)}paintInlineImageXObject(e,t){const n=e.width,r=e.height,s=u(e,this.forceDataSchema,!!t),i=this.svgFactory.createElement("svg:rect");i.setAttributeNS(null,"x","0"),i.setAttributeNS(null,"y","0"),i.setAttributeNS(null,"width",p(n)),i.setAttributeNS(null,"height",p(r)),this.current.element=i,this.clip("nonzero");const a=this.svgFactory.createElement("svg:image");a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s),a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y",p(-r)),a.setAttributeNS(null,"width",p(n)+"px"),a.setAttributeNS(null,"height",p(r)+"px"),a.setAttributeNS(null,"transform",`scale(${p(1/n)} ${p(-1/r)})`),t?t.append(a):this._ensureTransformGroup().append(a)}paintImageMaskXObject(e){const t=this.getObject(e.data,e);if(t.bitmap)return void(0,s.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");const n=this.current,r=t.width,i=t.height,a=n.fillColor;n.maskId="mask"+g++;const o=this.svgFactory.createElement("svg:mask");o.setAttributeNS(null,"id",n.maskId);const l=this.svgFactory.createElement("svg:rect");l.setAttributeNS(null,"x","0"),l.setAttributeNS(null,"y","0"),l.setAttributeNS(null,"width",p(r)),l.setAttributeNS(null,"height",p(i)),l.setAttributeNS(null,"fill",a),l.setAttributeNS(null,"mask",`url(#${n.maskId})`),this.defs.append(o),this._ensureTransformGroup().append(l),this.paintInlineImageXObject(t,o)}paintFormXObjectBegin(e,t){if(Array.isArray(e)&&6===e.length&&this.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t){const e=t[2]-t[0],n=t[3]-t[1],r=this.svgFactory.createElement("svg:rect");r.setAttributeNS(null,"x",t[0]),r.setAttributeNS(null,"y",t[1]),r.setAttributeNS(null,"width",p(e)),r.setAttributeNS(null,"height",p(n)),this.current.element=r,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(e){const t=this.svgFactory.create(e.width,e.height),n=this.svgFactory.createElement("svg:defs");t.append(n),this.defs=n;const r=this.svgFactory.createElement("svg:g");return r.setAttributeNS(null,"transform",m(e.transform)),t.append(r),this.svg=r,t}_ensureClipGroup(){if(!this.current.clipGroup){const e=this.svgFactory.createElement("svg:g");e.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(e),this.current.clipGroup=e}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",m(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaText=void 0;class n{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};return function e(r){if(!r)return;let s=null;const i=r.name;if("#text"===i)s=r.value;else{if(!n.shouldBuildText(i))return;r?.attributes?.textContent?s=r.attributes.textContent:r.value&&(s=r.value)}if(null!==s&&t.push({str:s}),r.children)for(const t of r.children)e(t)}(e),r}static shouldBuildText(e){return!("textarea"===e||"input"===e||"option"===e||"select"===e)}}t.XfaText=n},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextLayerRenderTask=void 0,t.renderTextLayer=function(e){e.textContentSource||!e.textContent&&!e.textContentStream||((0,s.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),e.textContentSource=e.textContent||e.textContentStream);const{container:t,viewport:n}=e,r=getComputedStyle(t),i=r.getPropertyValue("visibility"),a=parseFloat(r.getPropertyValue("--scale-factor"));"visible"===i&&(!a||Math.abs(a-n.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const o=new d(e);return o._render(),o},t.updateTextLayer=function(e){let{container:t,viewport:n,textDivs:r,textDivProperties:i,isOffscreenCanvasSupported:a,mustRotate:l=!0,mustRescale:d=!0}=e;if(l&&(0,s.setLayerDimensions)(t,{rotation:n.rotation}),d){const e=o(0,a),t={prevFontSize:null,prevFontFamily:null,div:null,scale:n.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:e};for(const n of r)t.properties=i.get(n),t.div=n,c(t)}};var r=n(1),s=n(6);const i=30,a=new Map;function o(e,t){let n;if(t&&r.FeatureTest.isOffscreenCanvasSupported)n=new OffscreenCanvas(e,e).getContext("2d",{alpha:!1});else{const t=document.createElement("canvas");t.width=t.height=e,n=t.getContext("2d",{alpha:!1})}return n}function l(e,t,n){const s=document.createElement("span"),l={angle:0,canvasWidth:0,hasText:""!==t.str,hasEOL:t.hasEOL,fontSize:0};e._textDivs.push(s);const c=r.Util.transform(e._transform,t.transform);let d=Math.atan2(c[1],c[0]);const u=n[t.fontName];u.vertical&&(d+=Math.PI/2);const h=Math.hypot(c[2],c[3]),p=h*function(e,t){const n=a.get(e);if(n)return n;const r=o(i,t);r.font=`30px ${e}`;const s=r.measureText("");let l=s.fontBoundingBoxAscent,c=Math.abs(s.fontBoundingBoxDescent);if(l){const t=l/(l+c);return a.set(e,t),r.canvas.width=r.canvas.height=0,t}r.strokeStyle="red",r.clearRect(0,0,i,i),r.strokeText("g",0,0);let d=r.getImageData(0,0,i,i).data;c=0;for(let a=d.length-1-3;a>=0;a-=4)if(d[a]>0){c=Math.ceil(a/4/i);break}r.clearRect(0,0,i,i),r.strokeText("A",0,i),d=r.getImageData(0,0,i,i).data,l=0;for(let a=0,o=d.length;a<o;a+=4)if(d[a]>0){l=i-Math.floor(a/4/i);break}if(r.canvas.width=r.canvas.height=0,l){const t=l/(l+c);return a.set(e,t),t}return a.set(e,.8),.8}(u.fontFamily,e._isOffscreenCanvasSupported);let m,f;0===d?(m=c[4],f=c[5]-p):(m=c[4]+p*Math.sin(d),f=c[5]-p*Math.cos(d));const g="calc(var(--scale-factor)*",x=s.style;e._container===e._rootContainer?(x.left=`${(100*m/e._pageWidth).toFixed(2)}%`,x.top=`${(100*f/e._pageHeight).toFixed(2)}%`):(x.left=`${g}${m.toFixed(2)}px)`,x.top=`${g}${f.toFixed(2)}px)`),x.fontSize=`${g}${h.toFixed(2)}px)`,x.fontFamily=u.fontFamily,l.fontSize=h,s.setAttribute("role","presentation"),s.textContent=t.str,s.dir=t.dir,e._fontInspectorEnabled&&(s.dataset.fontName=t.fontName),0!==d&&(l.angle=d*(180/Math.PI));let b=!1;if(t.str.length>1)b=!0;else if(" "!==t.str&&t.transform[0]!==t.transform[3]){const e=Math.abs(t.transform[0]),n=Math.abs(t.transform[3]);e!==n&&Math.max(e,n)/Math.min(e,n)>1.5&&(b=!0)}b&&(l.canvasWidth=u.vertical?t.height:t.width),e._textDivProperties.set(s,l),e._isReadableStream&&e._layoutText(s)}function c(e){const{div:t,scale:n,properties:r,ctx:s,prevFontSize:i,prevFontFamily:a}=e,{style:o}=t;let l="";if(0!==r.canvasWidth&&r.hasText){const{fontFamily:c}=o,{canvasWidth:d,fontSize:u}=r;i===u&&a===c||(s.font=`${u*n}px ${c}`,e.prevFontSize=u,e.prevFontFamily=c);const{width:h}=s.measureText(t.textContent);h>0&&(l=`scaleX(${d*n/h})`)}0!==r.angle&&(l=`rotate(${r.angle}deg) ${l}`),l.length>0&&(o.transform=l)}class d{constructor(e){let{textContentSource:t,container:n,viewport:i,textDivs:a,textDivProperties:l,textContentItemsStr:c,isOffscreenCanvasSupported:d}=e;this._textContentSource=t,this._isReadableStream=t instanceof ReadableStream,this._container=this._rootContainer=n,this._textDivs=a||[],this._textContentItemsStr=c||[],this._isOffscreenCanvasSupported=d,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._textDivProperties=l||new WeakMap,this._canceled=!1,this._capability=new r.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:i.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:o(0,d)};const{pageWidth:u,pageHeight:h,pageX:p,pageY:m}=i.rawDims;this._transform=[1,0,0,-1,-p,m+h],this._pageWidth=u,this._pageHeight=h,(0,s.setLayerDimensions)(n,i),this._capability.promise.finally((()=>{this._layoutTextParams=null})).catch((()=>{}))}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new r.AbortException("TextLayer task cancelled.")).catch((()=>{})),this._reader=null),this._capability.reject(new r.AbortException("TextLayer task cancelled."))}_processItems(e,t){for(const n of e)if(void 0!==n.str)this._textContentItemsStr.push(n.str),l(this,n,t);else if("beginMarkedContentProps"===n.type||"beginMarkedContent"===n.type){const e=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==n.id&&this._container.setAttribute("id",`${n.id}`),e.append(this._container)}else"endMarkedContent"===n.type&&(this._container=this._container.parentNode)}_layoutText(e){const t=this._layoutTextParams.properties=this._textDivProperties.get(e);if(this._layoutTextParams.div=e,c(this._layoutTextParams),t.hasText&&this._container.append(e),t.hasEOL){const e=document.createElement("br");e.setAttribute("role","presentation"),this._container.append(e)}}_render(){const e=new r.PromiseCapability;let t=Object.create(null);if(this._isReadableStream){const n=()=>{this._reader.read().then((r=>{let{value:s,done:i}=r;i?e.resolve():(Object.assign(t,s.styles),this._processItems(s.items,t),n())}),e.reject)};this._reader=this._textContentSource.getReader(),n()}else{if(!this._textContentSource)throw new Error('No "textContentSource" parameter specified.');{const{items:t,styles:n}=this._textContentSource;this._processItems(t,n),e.resolve()}}e.promise.then((()=>{t=null,function(e){if(e._canceled)return;const t=e._textDivs,n=e._capability;if(t.length>1e5)n.resolve();else{if(!e._isReadableStream)for(const n of t)e._layoutText(n);n.resolve()}}(this)}),this._capability.reject)}}t.TextLayerRenderTask=d},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditorLayer=void 0;var r=n(1),s=n(4),i=n(28),a=n(33),o=n(6),l=n(34);class c{#jt;#kt=!1;#Nt=null;#St=this.pointerup.bind(this);#Ct=this.pointerdown.bind(this);#At=(()=>new Map)();#Tt=!1;#Et=!1;#Pt=!1;#Ft;static _initialized=!1;constructor(e){let{uiManager:t,pageIndex:n,div:r,accessibilityManager:s,annotationLayer:o,viewport:d,l10n:u}=e;const h=[i.FreeTextEditor,a.InkEditor,l.StampEditor];if(!c._initialized){c._initialized=!0;for(const e of h)e.initialize(u)}t.registerEditorTypes(h),this.#Ft=t,this.pageIndex=n,this.div=r,this.#jt=s,this.#Nt=o,this.viewport=d,this.#Ft.addLayer(this)}get isEmpty(){return 0===this.#At.size}updateToolbar(e){this.#Ft.updateToolbar(e)}updateMode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.#Ft.getMode();this.#Rt(),e===r.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),e!==r.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",e===r.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",e===r.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",e===r.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(e){if(e||this.#Ft.getMode()===r.AnnotationEditorType.INK){if(!e)for(const e of this.#At.values())if(e.isEmpty())return void e.setInBackground();this.#Dt({offsetX:0,offsetY:0},!1).setInBackground()}}setEditingState(e){this.#Ft.setEditingState(e)}addCommands(e){this.#Ft.addCommands(e)}enable(){this.div.style.pointerEvents="auto";const e=new Set;for(const n of this.#At.values())n.enableEditing(),n.annotationElementId&&e.add(n.annotationElementId);if(!this.#Nt)return;const t=this.#Nt.getEditableAnnotations();for(const n of t){if(n.hide(),this.#Ft.isDeletedAnnotationElement(n.data.id))continue;if(e.has(n.data.id))continue;const t=this.deserialize(n);t&&(this.addOrRebuild(t),t.enableEditing())}}disable(){this.#Pt=!0,this.div.style.pointerEvents="none";const e=new Set;for(const t of this.#At.values())t.disableEditing(),t.annotationElementId&&null===t.serialize()?(this.getEditableAnnotation(t.annotationElementId)?.show(),t.remove()):e.add(t.annotationElementId);if(this.#Nt){const t=this.#Nt.getEditableAnnotations();for(const n of t){const{id:t}=n.data;e.has(t)||this.#Ft.isDeletedAnnotationElement(t)||n.show()}}this.#Rt(),this.isEmpty&&(this.div.hidden=!0),this.#Pt=!1}getEditableAnnotation(e){return this.#Nt?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#Ft.getActive()!==e&&this.#Ft.setActiveEditor(e)}enableClick(){this.div.addEventListener("pointerdown",this.#Ct),this.div.addEventListener("pointerup",this.#St)}disableClick(){this.div.removeEventListener("pointerdown",this.#Ct),this.div.removeEventListener("pointerup",this.#St)}attach(e){this.#At.set(e.id,e);const{annotationElementId:t}=e;t&&this.#Ft.isDeletedAnnotationElement(t)&&this.#Ft.removeDeletedAnnotationElement(e)}detach(e){this.#At.delete(e.id),this.#jt?.removePointerInTextLayer(e.contentDiv),!this.#Pt&&e.annotationElementId&&this.#Ft.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#Ft.removeEditor(e),e.div.contains(document.activeElement)&&setTimeout((()=>{this.#Ft.focusMainContainer()}),0),e.div.remove(),e.isAttachedToDOM=!1,this.#Et||this.addInkEditorIfNeeded(!1)}changeParent(e){e.parent!==this&&(e.annotationElementId&&(this.#Ft.addDeletedAnnotationElement(e.annotationElementId),s.AnnotationEditor.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(this.changeParent(e),this.#Ft.addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),this.#Ft.addToAnnotationStorage(e)}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&(e._focusEventsAllowed=!1,setTimeout((()=>{e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",(()=>{e._focusEventsAllowed=!0}),{once:!0}),t.focus())}),0)),e._structTreeParentId=this.#jt?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?e.rebuild():this.add(e)}addUndoableEditor(e){this.addCommands({cmd:()=>e._uiManager.rebuild(e),undo:()=>{e.remove()},mustExec:!1})}getNextId(){return this.#Ft.getId()}#Mt(e){switch(this.#Ft.getMode()){case r.AnnotationEditorType.FREETEXT:return new i.FreeTextEditor(e);case r.AnnotationEditorType.INK:return new a.InkEditor(e);case r.AnnotationEditorType.STAMP:return new l.StampEditor(e)}return null}pasteEditor(e,t){this.#Ft.updateToolbar(e),this.#Ft.updateMode(e);const{offsetX:n,offsetY:r}=this.#It(),s=this.getNextId(),i=this.#Mt({parent:this,id:s,x:n,y:r,uiManager:this.#Ft,isCentered:!0,...t});i&&this.add(i)}deserialize(e){switch(e.annotationType??e.annotationEditorType){case r.AnnotationEditorType.FREETEXT:return i.FreeTextEditor.deserialize(e,this,this.#Ft);case r.AnnotationEditorType.INK:return a.InkEditor.deserialize(e,this,this.#Ft);case r.AnnotationEditorType.STAMP:return l.StampEditor.deserialize(e,this,this.#Ft)}return null}#Dt(e,t){const n=this.getNextId(),r=this.#Mt({parent:this,id:n,x:e.offsetX,y:e.offsetY,uiManager:this.#Ft,isCentered:t});return r&&this.add(r),r}#It(){const{x:e,y:t,width:n,height:r}=this.div.getBoundingClientRect(),s=Math.max(0,e),i=Math.max(0,t),a=(s+Math.min(window.innerWidth,e+n))/2-e,o=(i+Math.min(window.innerHeight,t+r))/2-t,[l,c]=this.viewport.rotation%180===0?[a,o]:[o,a];return{offsetX:l,offsetY:c}}addNewEditor(){this.#Dt(this.#It(),!0)}setSelected(e){this.#Ft.setSelected(e)}toggleSelected(e){this.#Ft.toggleSelected(e)}isSelected(e){return this.#Ft.isSelected(e)}unselect(e){this.#Ft.unselect(e)}pointerup(e){const{isMac:t}=r.FeatureTest.platform;0!==e.button||e.ctrlKey&&t||e.target===this.div&&this.#Tt&&(this.#Tt=!1,this.#kt?this.#Ft.getMode()!==r.AnnotationEditorType.STAMP?this.#Dt(e,!1):this.#Ft.unselectAll():this.#kt=!0)}pointerdown(e){if(this.#Tt)return void(this.#Tt=!1);const{isMac:t}=r.FeatureTest.platform;if(0!==e.button||e.ctrlKey&&t)return;if(e.target!==this.div)return;this.#Tt=!0;const n=this.#Ft.getActive();this.#kt=!n||n.isEmpty()}findNewParent(e,t,n){const r=this.#Ft.findParent(t,n);return null!==r&&r!==this&&(r.changeParent(e),!0)}destroy(){this.#Ft.getActive()?.parent===this&&(this.#Ft.commitOrRemove(),this.#Ft.setActiveEditor(null));for(const e of this.#At.values())this.#jt?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#At.clear(),this.#Ft.removeLayer(this)}#Rt(){this.#Et=!0;for(const e of this.#At.values())e.isEmpty()&&e.remove();this.#Et=!1}render(e){let{viewport:t}=e;this.viewport=t,(0,o.setLayerDimensions)(this.div,t);for(const n of this.#Ft.getEditors(this.pageIndex))this.add(n);this.updateMode()}update(e){let{viewport:t}=e;this.#Ft.commitOrRemove(),this.viewport=t,(0,o.setLayerDimensions)(this.div,{rotation:t.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}}t.AnnotationEditorLayer=c},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FreeTextEditor=void 0;var r=n(1),s=n(5),i=n(4),a=n(29);class o extends i.AnnotationEditor{#_t=this.editorDivBlur.bind(this);#Lt=this.editorDivFocus.bind(this);#Ot=this.editorDivInput.bind(this);#zt=this.editorDivKeydown.bind(this);#Bt;#Ut="";#qt=`${this.id}-editor`;#Vt;#Wt=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=o.prototype,t=e=>e.isEmpty(),n=s.AnnotationEditorUIManager.TRANSLATE_SMALL,i=s.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,r.shadow)(this,"_keyboardManager",new s.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-n,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[n,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-n],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,n],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,i],checker:t}]]))}static _type="freetext";constructor(e){super({...e,name:"freeTextEditor"}),this.#Bt=e.color||o._defaultColor||i.AnnotationEditor._defaultLineColor,this.#Vt=e.fontSize||o._defaultFontSize}static initialize(e){i.AnnotationEditor.initialize(e,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const t=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(t.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case r.AnnotationEditorParamsType.FREETEXT_SIZE:o._defaultFontSize=t;break;case r.AnnotationEditorParamsType.FREETEXT_COLOR:o._defaultColor=t}}updateParams(e,t){switch(e){case r.AnnotationEditorParamsType.FREETEXT_SIZE:this.#Ht(t);break;case r.AnnotationEditorParamsType.FREETEXT_COLOR:this.#Gt(t)}}static get defaultPropertiesToUpdate(){return[[r.AnnotationEditorParamsType.FREETEXT_SIZE,o._defaultFontSize],[r.AnnotationEditorParamsType.FREETEXT_COLOR,o._defaultColor||i.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[r.AnnotationEditorParamsType.FREETEXT_SIZE,this.#Vt],[r.AnnotationEditorParamsType.FREETEXT_COLOR,this.#Bt]]}#Ht(e){const t=e=>{this.editorDiv.style.fontSize=`calc(${e}px * var(--scale-factor))`,this.translate(0,-(e-this.#Vt)*this.parentScale),this.#Vt=e,this.#Kt()},n=this.#Vt;this.addCommands({cmd:()=>{t(e)},undo:()=>{t(n)},mustExec:!0,type:r.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#Gt(e){const t=this.#Bt;this.addCommands({cmd:()=>{this.#Bt=this.editorDiv.style.color=e},undo:()=>{this.#Bt=this.editorDiv.style.color=t},mustExec:!0,type:r.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-o._internalPadding*e,-(o._internalPadding+this.#Vt)*e]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(r.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",this.#zt),this.editorDiv.addEventListener("focus",this.#Lt),this.editorDiv.addEventListener("blur",this.#_t),this.editorDiv.addEventListener("input",this.#Ot))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#qt),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#zt),this.editorDiv.removeEventListener("focus",this.#Lt),this.editorDiv.removeEventListener("blur",this.#_t),this.editorDiv.removeEventListener("input",this.#Ot),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){this.width?this.#Xt():(this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}#Yt(){const e=this.editorDiv.getElementsByTagName("div");if(0===e.length)return this.editorDiv.innerText;const t=[];for(const n of e)t.push(n.innerText.replace(/\r\n?|\n/,""));return t.join("\n")}#Kt(){const[e,t]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:e,div:t}=this,r=t.style.display;t.style.display="hidden",e.div.append(this.div),n=t.getBoundingClientRect(),t.remove(),t.style.display=r}this.rotation%180===this.parentRotation%180?(this.width=n.width/e,this.height=n.height/t):(this.width=n.height/e,this.height=n.width/t),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#Ut,t=this.#Ut=this.#Yt().trimEnd();if(e===t)return;const n=e=>{this.#Ut=e,e?(this.#Qt(),this._uiManager.rebuild(this),this.#Kt()):this.remove()};this.addCommands({cmd:()=>{n(t)},undo:()=>{n(e)},mustExec:!1}),this.#Kt()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&"Enter"===e.key&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){o._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#qt),this.enableEditing(),i.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then((e=>this.editorDiv?.setAttribute("aria-label",e))),i.AnnotationEditor._l10nPromise.get("free_text2_default_content").then((e=>this.editorDiv?.setAttribute("default-content",e))),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#Vt}px * var(--scale-factor))`,n.color=this.#Bt,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,s.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[n,r]=this.parentDimensions;if(this.annotationElementId){const{position:s}=this.#Wt;let[i,a]=this.getInitialTranslation();[i,a]=this.pageTranslationToScreen(i,a);const[o,l]=this.pageDimensions,[c,d]=this.pageTranslation;let u,h;switch(this.rotation){case 0:u=e+(s[0]-c)/o,h=t+this.height-(s[1]-d)/l;break;case 90:u=e+(s[0]-c)/o,h=t-(s[1]-d)/l,[i,a]=[a,-i];break;case 180:u=e-this.width+(s[0]-c)/o,h=t-(s[1]-d)/l,[i,a]=[-i,-a];break;case 270:u=e+(s[0]-c-this.height*l)/o,h=t+(s[1]-d-this.width*o)/l,[i,a]=[-a,i]}this.setAt(u*n,h*r,i,a)}else this.setAt(e*n,t*r,this.width*n,this.height*r);this.#Qt(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}#Qt(){if(this.editorDiv.replaceChildren(),this.#Ut)for(const e of this.#Ut.split("\n")){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}get contentDiv(){return this.editorDiv}static deserialize(e,t,n){let s=null;if(e instanceof a.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:t,fontColor:n},rect:i,rotation:a,id:o},textContent:l,textPosition:c,parent:{page:{pageNumber:d}}}=e;if(!l||0===l.length)return null;s=e={annotationType:r.AnnotationEditorType.FREETEXT,color:Array.from(n),fontSize:t,value:l.join("\n"),position:c,pageIndex:d-1,rect:i,rotation:a,id:o,deleted:!1}}const i=super.deserialize(e,t,n);return i.#Vt=e.fontSize,i.#Bt=r.Util.makeHexColor(...e.color),i.#Ut=e.value,i.annotationElementId=e.id||null,i.#Wt=s,i}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const t=o._internalPadding*this.parentScale,n=this.getRect(t,t),s=i.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#Bt),a={annotationType:r.AnnotationEditorType.FREETEXT,color:s,fontSize:this.#Vt,value:this.#Ut,pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?a:this.annotationElementId&&!this.#Jt(a)?null:(a.id=this.annotationElementId,a)}#Jt(e){const{value:t,fontSize:n,color:r,rect:s,pageIndex:i}=this.#Wt;return e.value!==t||e.fontSize!==n||e.rect.some(((e,t)=>Math.abs(e-s[t])>=1))||e.color.some(((e,t)=>e!==r[t]))||e.pageIndex!==i}#Xt(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.annotationElementId)return;if(this.#Kt(),!e&&(0===this.width||0===this.height))return void setTimeout((()=>this.#Xt(!0)),0);const t=o._internalPadding*this.parentScale;this.#Wt.rect=this.getRect(t,t)}}t.FreeTextEditor=o},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StampAnnotationElement=t.InkAnnotationElement=t.FreeTextAnnotationElement=t.AnnotationLayer=void 0;var r=n(1),s=n(6),i=n(3),a=n(30),o=n(31),l=n(32);const c=1e3,d=new WeakSet;function u(e){return{width:e[2]-e[0],height:e[3]-e[1]}}class h{static create(e){switch(e.data.annotationType){case r.AnnotationType.LINK:return new m(e);case r.AnnotationType.TEXT:return new f(e);case r.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new x(e);case"Btn":return e.data.radioButton?new v(e):e.data.checkBox?new y(e):new w(e);case"Ch":return new j(e);case"Sig":return new b(e)}return new g(e);case r.AnnotationType.POPUP:return new k(e);case r.AnnotationType.FREETEXT:return new S(e);case r.AnnotationType.LINE:return new C(e);case r.AnnotationType.SQUARE:return new A(e);case r.AnnotationType.CIRCLE:return new T(e);case r.AnnotationType.POLYLINE:return new E(e);case r.AnnotationType.CARET:return new F(e);case r.AnnotationType.INK:return new R(e);case r.AnnotationType.POLYGON:return new P(e);case r.AnnotationType.HIGHLIGHT:return new D(e);case r.AnnotationType.UNDERLINE:return new M(e);case r.AnnotationType.SQUIGGLY:return new I(e);case r.AnnotationType.STRIKEOUT:return new _(e);case r.AnnotationType.STAMP:return new L(e);case r.AnnotationType.FILEATTACHMENT:return new O(e);default:return new p(e)}}}class p{#Zt=!1;constructor(e){let{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),r&&this._createQuadrilaterals()}static _hasPopupData(e){let{titleObj:t,contentsObj:n,richText:r}=e;return!!(t?.str||n?.str||r?.str)}get hasPopupData(){return p._hasPopupData(this.data)}_createContainer(e){const{data:t,parent:{page:n,viewport:s}}=this,i=document.createElement("section");i.setAttribute("data-annotation-id",t.id),this instanceof g||(i.tabIndex=c),i.style.zIndex=this.parent.zIndex++,this.data.popupRef&&i.setAttribute("aria-haspopup","dialog"),t.noRotate&&i.classList.add("norotate");const{pageWidth:a,pageHeight:o,pageX:l,pageY:d}=s.rawDims;if(!t.rect||this instanceof k){const{rotation:e}=t;return t.hasOwnCanvas||0===e||this.setRotation(e,i),i}const{width:h,height:p}=u(t.rect),m=r.Util.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]);if(!e&&t.borderStyle.width>0){i.style.borderWidth=`${t.borderStyle.width}px`;const e=t.borderStyle.horizontalCornerRadius,n=t.borderStyle.verticalCornerRadius;if(e>0||n>0){const t=`calc(${e}px * var(--scale-factor)) / calc(${n}px * var(--scale-factor))`;i.style.borderRadius=t}else if(this instanceof v){const e=`calc(${h}px * var(--scale-factor)) / calc(${p}px * var(--scale-factor))`;i.style.borderRadius=e}switch(t.borderStyle.style){case r.AnnotationBorderStyleType.SOLID:i.style.borderStyle="solid";break;case r.AnnotationBorderStyleType.DASHED:i.style.borderStyle="dashed";break;case r.AnnotationBorderStyleType.BEVELED:(0,r.warn)("Unimplemented border style: beveled");break;case r.AnnotationBorderStyleType.INSET:(0,r.warn)("Unimplemented border style: inset");break;case r.AnnotationBorderStyleType.UNDERLINE:i.style.borderBottomStyle="solid"}const s=t.borderColor||null;s?(this.#Zt=!0,i.style.borderColor=r.Util.makeHexColor(0|s[0],0|s[1],0|s[2])):i.style.borderWidth=0}i.style.left=100*(m[0]-l)/a+"%",i.style.top=100*(m[1]-d)/o+"%";const{rotation:f}=t;return t.hasOwnCanvas||0===f?(i.style.width=100*h/a+"%",i.style.height=100*p/o+"%"):this.setRotation(f,i),i}setRotation(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;if(!this.data.rect)return;const{pageWidth:n,pageHeight:r}=this.parent.viewport.rawDims,{width:s,height:i}=u(this.data.rect);let a,o;e%180===0?(a=100*s/n,o=100*i/r):(a=100*i/n,o=100*s/r),t.style.width=`${a}%`,t.style.height=`${o}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(e,t,n)=>{const r=n.detail[e],s=r[0],i=r.slice(1);n.target.style[t]=a.ColorConverters[`${s}_HTML`](i),this.annotationStorage.setValue(this.data.id,{[t]:a.ColorConverters[`${s}_rgb`](i)})};return(0,r.shadow)(this,"_commonActions",{display:e=>{const{display:t}=e.detail,n=t%2===1;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:n,noPrint:1===t||2===t})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:t}=e.detail;this.container.style.visibility=t?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:t,noView:t})},focus:e=>{setTimeout((()=>e.target.focus({preventScroll:!1})),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:e=>{const t=e.detail.rotation;this.setRotation(t),this.annotationStorage.setValue(this.data.id,{rotation:t})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const r of Object.keys(t.detail)){const s=e[r]||n[r];s?.(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[r,s]of Object.entries(t)){const i=n[r];i&&(i({detail:{[r]:s},target:e}),delete t[r])}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,r,s]=this.data.rect;if(1===e.length){const[,{x:i,y:a},{x:o,y:l}]=e[0];if(r===i&&s===a&&t===o&&n===l)return}const{style:i}=this.container;let a;if(this.#Zt){const{borderColor:e,borderWidth:t}=i;i.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${e}" stroke-width="${t}">`],this.container.classList.add("hasBorder")}const o=r-t,l=s-n,{svgFactory:c}=this,d=c.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);const u=c.createElement("defs");d.append(u);const h=c.createElement("clipPath"),p=`clippath_${this.data.id}`;h.setAttribute("id",p),h.setAttribute("clipPathUnits","objectBoundingBox"),u.append(h);for(const[,{x:m,y:f},{x:g,y:x}]of e){const e=c.createElement("rect"),n=(g-t)/o,r=(s-f)/l,i=(m-g)/o,d=(f-x)/l;e.setAttribute("x",n),e.setAttribute("y",r),e.setAttribute("width",i),e.setAttribute("height",d),h.append(e),a?.push(`<rect vector-effect="non-scaling-stroke" x="${n}" y="${r}" width="${i}" height="${d}"/>`)}this.#Zt&&(a.push("</g></svg>')"),i.backgroundImage=a.join("")),this.container.append(d),this.container.style.clipPath=`url(#${p})`}_createPopup(){const{container:e,data:t}=this;e.setAttribute("aria-haspopup","dialog");const n=new k({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]});this.parent.div.append(n.render())}render(){(0,r.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[];if(this._fieldObjects){const s=this._fieldObjects[e];if(s)for(const{page:e,id:i,exportValues:a}of s){if(-1===e)continue;if(i===t)continue;const s="string"===typeof a?a:null,o=document.querySelector(`[data-element-id="${i}"]`);!o||d.has(o)?n.push({id:i,exportValue:s,domElement:o}):(0,r.warn)(`_getElementsByName - element not allowed: ${i}`)}return n}for(const r of document.getElementsByName(e)){const{exportValue:e}=r,s=r.getAttribute("data-element-id");s!==t&&d.has(r)&&n.push({id:s,exportValue:e,domElement:r})}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",(()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})}))}}class m extends p{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,n=document.createElement("a");n.setAttribute("data-element-id",e.id);let r=!1;return e.url?(t.addLinkAttributes(n,e.url,e.newWindow),r=!0):e.action?(this._bindNamedAction(n,e.action),r=!0):e.attachment?(this._bindAttachment(n,e.attachment),r=!0):e.setOCGState?(this.#$t(n,e.setOCGState),r=!0):e.dest?(this._bindLink(n,e.dest),r=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,e),r=!0),e.resetForm?(this._bindResetFormAction(n,e.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(n,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(n),this.container}#en(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||""===t)&&this.#en()}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),this.#en()}_bindAttachment(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.downloadManager?.openOrDownloadData(this.container,t.content,t.filename),!1),this.#en()}#$t(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),this.#en()}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(t.actions)){const s=n.get(r);s&&(e[s]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:r}}),!1))}e.onclick||(e.onclick=()=>!1),this.#en()}_bindResetFormAction(e,t){const n=e.onclick;if(n||(e.href=this.linkService.getAnchorUrl("")),this.#en(),!this._fieldObjects)return(0,r.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(n||(e.onclick=()=>!1));e.onclick=()=>{n?.();const{fields:e,refs:s,include:i}=t,a=[];if(0!==e.length||0!==s.length){const t=new Set(s);for(const n of e){const e=this._fieldObjects[n]||[];for(const{id:n}of e)t.add(n)}for(const e of Object.values(this._fieldObjects))for(const n of e)t.has(n.id)===i&&a.push(n)}else for(const t of Object.values(this._fieldObjects))a.push(...t);const o=this.annotationStorage,l=[];for(const t of a){const{id:e}=t;switch(l.push(e),t.type){case"text":{const n=t.defaultValue||"";o.setValue(e,{value:n});break}case"checkbox":case"radiobutton":{const n=t.defaultValue===t.exportValues;o.setValue(e,{value:n});break}case"combobox":case"listbox":{const n=t.defaultValue||"";o.setValue(e,{value:n});break}default:continue}const n=document.querySelector(`[data-element-id="${e}"]`);n&&(d.has(n)?n.dispatchEvent(new Event("resetform")):(0,r.warn)(`_bindResetFormAction - element not allowed: ${e}`))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:l,name:"ResetForm"}}),!1}}}class f extends p{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class g extends p{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&("CANVAS"===e.previousSibling?.nodeName&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){const{isWin:t,isMac:n}=r.FeatureTest.platform;return t&&e.ctrlKey||n&&e.metaKey}_setEventListener(e,t,n,r,s){n.includes("mouse")?e.addEventListener(n,(e=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(e),shift:e.shiftKey,modifier:this._getKeyModifier(e)}})})):e.addEventListener(n,(e=>{if("blur"===n){if(!t.focused||!e.relatedTarget)return;t.focused=!1}else if("focus"===n){if(t.focused)return;t.focused=!0}s&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(e)}})}))}_setEventListeners(e,t,n,r){for(const[s,i]of n)("Action"===i||this.data.actions?.[i])&&("Focus"!==i&&"Blur"!==i||(t||={focused:!1}),this._setEventListener(e,t,s,i,r),"Focus"!==i||this.data.actions?.Blur?"Blur"!==i||this.data.actions?.Focus||this._setEventListener(e,t,"focus","Focus",null):this._setEventListener(e,t,"blur","Blur",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=null===t?"transparent":r.Util.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||9,i=e.style;let a;const o=e=>Math.round(10*e)/10;if(this.data.multiLine){const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2),t=e/(Math.round(e/(r.LINE_FACTOR*s))||1);a=Math.min(s,o(t/r.LINE_FACTOR))}else{const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2);a=Math.min(s,o(e/r.LINE_FACTOR))}i.fontSize=`calc(${a}px * var(--scale-factor))`,i.color=r.Util.makeHexColor(n[0],n[1],n[2]),null!==this.data.textAlignment&&(i.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class x extends g{constructor(e){super(e,{isRenderable:e.renderForms||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,t,n,r){const s=this.annotationStorage;for(const i of this._getElementsByName(e.name,e.id))i.domElement&&(i.domElement[t]=n),s.setValue(i.id,{[r]:n})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const r=e.getValue(t,{value:this.data.fieldValue});let s=r.value||"";const i=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;i&&s.length>i&&(s=s.slice(0,i));let a=r.formattedValue||this.data.textContent?.join("\n")||null;a&&this.data.comb&&(a=a.replaceAll(/\s+/g,""));const o={userValue:s,formattedValue:a,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=a??s,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",a??s),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),d.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=c,this._setRequired(n,this.data.required),i&&(n.maxLength=i),n.addEventListener("input",(r=>{e.setValue(t,{value:r.target.value}),this.setPropertyOnSiblings(n,"value",r.target.value,"value"),o.formattedValue=null})),n.addEventListener("resetform",(e=>{const t=this.data.defaultFieldValue??"";n.value=o.userValue=t,o.formattedValue=null}));let l=e=>{const{formattedValue:t}=o;null!==t&&void 0!==t&&(e.target.value=t),e.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",(e=>{if(o.focused)return;const{target:t}=e;o.userValue&&(t.value=o.userValue),o.lastCommittedValue=t.value,o.commitKey=1,o.focused=!0})),n.addEventListener("updatefromsandbox",(n=>{this.showElementAndHideCanvas(n.target);const r={value(n){o.userValue=n.detail.value??"",e.setValue(t,{value:o.userValue.toString()}),n.target.value=o.userValue},formattedValue(n){const{formattedValue:r}=n.detail;o.formattedValue=r,null!==r&&void 0!==r&&n.target!==document.activeElement&&(n.target.value=r),e.setValue(t,{formattedValue:r})},selRange(e){e.target.setSelectionRange(...e.detail.selRange)},charLimit:n=>{const{charLimit:r}=n.detail,{target:s}=n;if(0===r)return void s.removeAttribute("maxLength");s.setAttribute("maxLength",r);let i=o.userValue;!i||i.length<=r||(i=i.slice(0,r),s.value=o.userValue=i,e.setValue(t,{value:i}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:i,willCommit:!0,commitKey:1,selStart:s.selectionStart,selEnd:s.selectionEnd}}))}};this._dispatchEventFromSandbox(r,n)})),n.addEventListener("keydown",(e=>{o.commitKey=1;let n=-1;if("Escape"===e.key?n=0:"Enter"!==e.key||this.data.multiLine?"Tab"===e.key&&(o.commitKey=3):n=2,-1===n)return;const{value:r}=e.target;o.lastCommittedValue!==r&&(o.lastCommittedValue=r,o.userValue=r,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:r,willCommit:!0,commitKey:n,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}))}));const r=l;l=null,n.addEventListener("blur",(e=>{if(!o.focused||!e.relatedTarget)return;o.focused=!1;const{value:n}=e.target;o.userValue=n,o.lastCommittedValue!==n&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:n,willCommit:!0,commitKey:o.commitKey,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}),r(e)})),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",(e=>{o.lastCommittedValue=null;const{data:n,target:r}=e,{value:s,selectionStart:i,selectionEnd:a}=r;let l=i,c=a;switch(e.inputType){case"deleteWordBackward":{const e=s.substring(0,i).match(/\w*[^\w]*$/);e&&(l-=e[0].length);break}case"deleteWordForward":{const e=s.substring(i).match(/^[^\w]*\w*/);e&&(c+=e[0].length);break}case"deleteContentBackward":i===a&&(l-=1);break;case"deleteContentForward":i===a&&(c+=1)}e.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:s,change:n||"",willCommit:!1,selStart:l,selEnd:c}})})),this._setEventListeners(n,o,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.value))}if(l&&n.addEventListener("blur",l),this.data.comb){const e=(this.data.rect[2]-this.data.rect[0])/i;n.classList.add("comb"),n.style.letterSpacing=`calc(${e}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell";return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class b extends g{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class y extends g{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;"string"===typeof r&&(r="Off"!==r,e.setValue(n,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return d.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=c,s.addEventListener("change",(r=>{const{name:s,checked:i}=r.target;for(const a of this._getElementsByName(s,n)){const n=i&&a.exportValue===t.exportValue;a.domElement&&(a.domElement.checked=n),e.setValue(a.id,{value:n})}e.setValue(n,{value:i})})),s.addEventListener("resetform",(e=>{const n=t.defaultFieldValue||"Off";e.target.checked=n===t.exportValue})),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",(t=>{const r={value(t){t.target.checked="Off"!==t.detail.value,e.setValue(n,{value:t.target.checked})}};this._dispatchEventFromSandbox(r,t)})),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.checked))),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class v extends g{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;"string"===typeof r&&(r=r!==t.buttonValue,e.setValue(n,{value:r}));const s=document.createElement("input");if(d.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=c,s.addEventListener("change",(t=>{const{name:r,checked:s}=t.target;for(const i of this._getElementsByName(r,n))e.setValue(i.id,{value:!1});e.setValue(n,{value:s})})),s.addEventListener("resetform",(e=>{const n=t.defaultFieldValue;e.target.checked=null!==n&&void 0!==n&&n===t.buttonValue})),this.enableScripting&&this.hasJSActions){const r=t.buttonValue;s.addEventListener("updatefromsandbox",(t=>{const s={value:t=>{const s=r===t.detail.value;for(const r of this._getElementsByName(t.target.name)){const t=s&&r.id===n;r.domElement&&(r.domElement.checked=t),e.setValue(r.id,{value:t})}}};this._dispatchEventFromSandbox(s,t)})),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.checked))}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class w extends m{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(e.title=this.data.alternativeText);const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",(e=>{this._dispatchEventFromSandbox({},e)}))),e}}class j extends g{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");d.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=c;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",(e=>{const t=this.data.defaultFieldValue;for(const n of r.options)n.selected=n.value===t}));for(const c of this.data.options){const e=document.createElement("option");e.textContent=c.displayValue,e.value=c.exportValue,n.value.includes(c.exportValue)&&(e.setAttribute("selected",!0),s=!1),r.append(e)}let i=null;if(s){const e=document.createElement("option");e.value=" ",e.setAttribute("hidden",!0),e.setAttribute("selected",!0),r.prepend(e),i=()=>{e.remove(),r.removeEventListener("input",i),i=null},r.addEventListener("input",i)}const a=e=>{const t=e?"value":"textContent",{options:n,multiple:s}=r;return s?Array.prototype.filter.call(n,(e=>e.selected)).map((e=>e[t])):-1===n.selectedIndex?null:n[n.selectedIndex][t]};let o=a(!1);const l=e=>{const t=e.target.options;return Array.prototype.map.call(t,(e=>({displayValue:e.textContent,exportValue:e.value})))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",(n=>{const s={value(n){i?.();const s=n.detail.value,l=new Set(Array.isArray(s)?s:[s]);for(const e of r.options)e.selected=l.has(e.value);e.setValue(t,{value:a(!0)}),o=a(!1)},multipleSelection(e){r.multiple=!0},remove(n){const s=r.options,i=n.detail.remove;s[i].selected=!1,r.remove(i),s.length>0&&-1===Array.prototype.findIndex.call(s,(e=>e.selected))&&(s[0].selected=!0),e.setValue(t,{value:a(!0),items:l(n)}),o=a(!1)},clear(n){for(;0!==r.length;)r.remove(0);e.setValue(t,{value:null,items:[]}),o=a(!1)},insert(n){const{index:s,displayValue:i,exportValue:c}=n.detail.insert,d=r.children[s],u=document.createElement("option");u.textContent=i,u.value=c,d?d.before(u):r.append(u),e.setValue(t,{value:a(!0),items:l(n)}),o=a(!1)},items(n){const{items:s}=n.detail;for(;0!==r.length;)r.remove(0);for(const e of s){const{displayValue:t,exportValue:n}=e,s=document.createElement("option");s.textContent=t,s.value=n,r.append(s)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:a(!0),items:l(n)}),o=a(!1)},indices(n){const r=new Set(n.detail.indices);for(const e of n.target.options)e.selected=r.has(e.index);e.setValue(t,{value:a(!0)}),o=a(!1)},editable(e){e.target.disabled=!e.detail.editable}};this._dispatchEventFromSandbox(s,n)})),r.addEventListener("input",(n=>{const r=a(!0);e.setValue(t,{value:r}),n.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:o,changeEx:r,willCommit:!1,commitKey:1,keyDown:!1}})})),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],(e=>e.target.value))):r.addEventListener("input",(function(n){e.setValue(t,{value:a(!0)})})),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class k extends p{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:p._hasPopupData(t)}),this.elements=n}render(){this.container.classList.add("popupAnnotation");const e=new N({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const n of this.elements)n.popup=e,t.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",t.map((e=>`${r.AnnotationPrefix}${e}`)).join(",")),this.container}}class N{#tn=null;#nn=this.#rn.bind(this);#sn=this.#in.bind(this);#an=this.#on.bind(this);#ln=this.#cn.bind(this);#Bt=null;#Re=null;#dn=null;#un=null;#hn=null;#pn=null;#mn=!1;#fn=null;#gn=null;#xn=null;#bn=null;#yn=!1;constructor(e){let{container:t,color:n,elements:r,titleObj:i,modificationDate:a,contentsObj:o,richText:l,parent:c,rect:d,parentRect:u,open:h}=e;this.#Re=t,this.#bn=i,this.#dn=o,this.#xn=l,this.#hn=c,this.#Bt=n,this.#gn=d,this.#pn=u,this.#un=r;const p=s.PDFDateString.toDateObject(a);p&&(this.#tn=c.l10n.get("annotation_date_string",{date:p.toLocaleDateString(),time:p.toLocaleTimeString()})),this.trigger=r.flatMap((e=>e.getElementsToTriggerPopup()));for(const s of this.trigger)s.addEventListener("click",this.#ln),s.addEventListener("mouseenter",this.#an),s.addEventListener("mouseleave",this.#sn),s.classList.add("popupTriggerArea");for(const s of r)s.container?.addEventListener("keydown",this.#nn);this.#Re.hidden=!0,h&&this.#cn()}render(){if(this.#fn)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:s,pageY:i}}}=this.#hn,a=this.#fn=document.createElement("div");if(a.className="popup",this.#Bt){const e=a.style.outlineColor=r.Util.makeHexColor(...this.#Bt);if(CSS.supports("background-color","color-mix(in srgb, red 30%, white)"))a.style.backgroundColor=`color-mix(in srgb, ${e} 30%, white)`;else{const e=.7;a.style.backgroundColor=r.Util.makeHexColor(...this.#Bt.map((t=>Math.floor(e*(255-t)+t))))}}const o=document.createElement("span");o.className="header";const c=document.createElement("h1");if(o.append(c),({dir:c.dir,str:c.textContent}=this.#bn),a.append(o),this.#tn){const e=document.createElement("span");e.classList.add("popupDate"),this.#tn.then((t=>{e.textContent=t})),o.append(e)}const d=this.#dn,u=this.#xn;if(!u?.str||d?.str&&d.str!==u.str){const e=this._formatContents(d);a.append(e)}else l.XfaLayer.render({xfaHtml:u.html,intent:"richText",div:a}),a.lastChild.classList.add("richText","popupContent");let h=!!this.#pn,p=h?this.#pn:this.#gn;for(const l of this.#un)if(!p||null!==r.Util.intersect(l.data.rect,p)){p=l.data.rect,h=!0;break}const m=r.Util.normalizeRect([p[0],e[3]-p[1]+e[1],p[2],e[3]-p[3]+e[1]]),f=h?p[2]-p[0]+5:0,g=m[0]+f,x=m[1],{style:b}=this.#Re;b.left=100*(g-s)/t+"%",b.top=100*(x-i)/n+"%",this.#Re.append(a)}_formatContents(e){let{str:t,dir:n}=e;const r=document.createElement("p");r.classList.add("popupContent"),r.dir=n;const s=t.split(/(?:\r\n?|\n)/);for(let i=0,a=s.length;i<a;++i){const e=s[i];r.append(document.createTextNode(e)),i<a-1&&r.append(document.createElement("br"))}return r}#rn(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||("Enter"===e.key||"Escape"===e.key&&this.#mn)&&this.#cn()}#cn(){this.#mn=!this.#mn,this.#mn?(this.#on(),this.#Re.addEventListener("click",this.#ln),this.#Re.addEventListener("keydown",this.#nn)):(this.#in(),this.#Re.removeEventListener("click",this.#ln),this.#Re.removeEventListener("keydown",this.#nn))}#on(){this.#fn||this.render(),this.isVisible?this.#mn&&this.#Re.classList.add("focused"):(this.#Re.hidden=!1,this.#Re.style.zIndex=parseInt(this.#Re.style.zIndex)+1e3)}#in(){this.#Re.classList.remove("focused"),!this.#mn&&this.isVisible&&(this.#Re.hidden=!0,this.#Re.style.zIndex=parseInt(this.#Re.style.zIndex)-1e3)}forceHide(){this.#yn=this.isVisible,this.#yn&&(this.#Re.hidden=!0)}maybeShow(){this.#yn&&(this.#yn=!1,this.#Re.hidden=!1)}get isVisible(){return!1===this.#Re.hidden}}class S extends p{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=r.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}t.FreeTextAnnotationElement=S;class C extends p{#vn=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:t,height:n}=u(e.rect),r=this.svgFactory.create(t,n,!0),s=this.#vn=this.svgFactory.createElement("svg:line");return s.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),s.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),s.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),s.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),s.setAttribute("stroke-width",e.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),r.append(s),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#vn}addHighlightArea(){this.container.classList.add("highlightArea")}}class A extends p{#wn=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:t,height:n}=u(e.rect),r=this.svgFactory.create(t,n,!0),s=e.borderStyle.width,i=this.#wn=this.svgFactory.createElement("svg:rect");return i.setAttribute("x",s/2),i.setAttribute("y",s/2),i.setAttribute("width",t-s),i.setAttribute("height",n-s),i.setAttribute("stroke-width",s||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),r.append(i),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#wn}addHighlightArea(){this.container.classList.add("highlightArea")}}class T extends p{#jn=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:t,height:n}=u(e.rect),r=this.svgFactory.create(t,n,!0),s=e.borderStyle.width,i=this.#jn=this.svgFactory.createElement("svg:ellipse");return i.setAttribute("cx",t/2),i.setAttribute("cy",n/2),i.setAttribute("rx",t/2-s/2),i.setAttribute("ry",n/2-s/2),i.setAttribute("stroke-width",s||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),r.append(i),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#jn}addHighlightArea(){this.container.classList.add("highlightArea")}}class E extends p{#kn=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const e=this.data,{width:t,height:n}=u(e.rect),r=this.svgFactory.create(t,n,!0);let s=[];for(const a of e.vertices){const t=a.x-e.rect[0],n=e.rect[3]-a.y;s.push(t+","+n)}s=s.join(" ");const i=this.#kn=this.svgFactory.createElement(this.svgElementName);return i.setAttribute("points",s),i.setAttribute("stroke-width",e.borderStyle.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),r.append(i),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#kn}addHighlightArea(){this.container.classList.add("highlightArea")}}class P extends E{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class F extends p{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class R extends p{#Nn=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=r.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const e=this.data,{width:t,height:n}=u(e.rect),r=this.svgFactory.create(t,n,!0);for(const s of e.inkLists){let t=[];for(const r of s){const n=r.x-e.rect[0],s=e.rect[3]-r.y;t.push(`${n},${s}`)}t=t.join(" ");const n=this.svgFactory.createElement(this.svgElementName);this.#Nn.push(n),n.setAttribute("points",t),n.setAttribute("stroke-width",e.borderStyle.width||1),n.setAttribute("stroke","transparent"),n.setAttribute("fill","transparent"),!e.popupRef&&this.hasPopupData&&this._createPopup(),r.append(n)}return this.container.append(r),this.container}getElementsToTriggerPopup(){return this.#Nn}addHighlightArea(){this.container.classList.add("highlightArea")}}t.InkAnnotationElement=R;class D extends p{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class M extends p{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class I extends p{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class _ extends p{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class L extends p{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}t.StampAnnotationElement=L;class O extends p{#Sn=null;constructor(e){super(e,{isRenderable:!0});const{filename:t,content:n}=this.data.file;this.filename=(0,s.getFilenameFromUrl)(t,!0),this.content=n,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:t,content:n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let n;t.hasAppearance||0===t.fillAlpha?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(100*t.fillAlpha)}%);`)),n.addEventListener("dblclick",this.#Cn.bind(this)),this.#Sn=n;const{isMac:s}=r.FeatureTest.platform;return e.addEventListener("keydown",(e=>{"Enter"===e.key&&(s?e.metaKey:e.ctrlKey)&&this.#Cn()})),!t.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),e.append(n),e}getElementsToTriggerPopup(){return this.#Sn}addHighlightArea(){this.container.classList.add("highlightArea")}#Cn(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}t.AnnotationLayer=class{#jt=null;#An=null;#Tn=(()=>new Map)();constructor(e){let{div:t,accessibilityManager:n,annotationCanvasMap:r,l10n:s,page:i,viewport:a}=e;this.div=t,this.#jt=n,this.#An=r,this.l10n=s,this.page=i,this.viewport=a,this.zIndex=0,this.l10n||=o.NullL10n}#En(e,t){const n=e.firstChild||e;n.id=`${r.AnnotationPrefix}${t}`,this.div.append(e),this.#jt?.moveElementInDOM(this.div,e,n,!1)}async render(e){const{annotations:t}=e,n=this.div;(0,s.setLayerDimensions)(n,this.viewport);const a=new Map,o={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new s.DOMSVGFactory,annotationStorage:e.annotationStorage||new i.AnnotationStorage,enableScripting:!0===e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const s of t){if(s.noHTML)continue;const e=s.annotationType===r.AnnotationType.POPUP;if(e){const e=a.get(s.id);if(!e)continue;o.elements=e}else{const{width:e,height:t}=u(s.rect);if(e<=0||t<=0)continue}o.data=s;const t=h.create(o);if(!t.isRenderable)continue;if(!e&&s.popupRef){const e=a.get(s.popupRef);e?e.push(t):a.set(s.popupRef,[t])}t.annotationEditorType>0&&this.#Tn.set(t.data.id,t);const n=t.render();s.hidden&&(n.style.visibility="hidden"),this.#En(n,s.id)}this.#Pn(),await this.l10n.translate(n)}update(e){let{viewport:t}=e;const n=this.div;this.viewport=t,(0,s.setLayerDimensions)(n,{rotation:t.rotation}),this.#Pn(),n.hidden=!1}#Pn(){if(!this.#An)return;const e=this.div;for(const[t,n]of this.#An){const r=e.querySelector(`[data-annotation-id="${t}"]`);if(!r)continue;const{firstChild:s}=r;s?"CANVAS"===s.nodeName?s.replaceWith(n):s.before(n):r.append(n)}this.#An.clear()}getEditableAnnotations(){return Array.from(this.#Tn.values())}getEditableAnnotation(e){return this.#Tn.get(e)}}},(e,t)=>{function n(e){return Math.floor(255*Math.max(0,Math.min(1,e))).toString(16).padStart(2,"0")}function r(e){return Math.max(0,Math.min(255,255*e))}Object.defineProperty(t,"__esModule",{value:!0}),t.ColorConverters=void 0,t.ColorConverters=class{static CMYK_G(e){let[t,n,r,s]=e;return["G",1-Math.min(1,.3*t+.59*r+.11*n+s)]}static G_CMYK(e){let[t]=e;return["CMYK",0,0,0,1-t]}static G_RGB(e){let[t]=e;return["RGB",t,t,t]}static G_rgb(e){let[t]=e;return t=r(t),[t,t,t]}static G_HTML(e){let[t]=e;const r=n(t);return`#${r}${r}${r}`}static RGB_G(e){let[t,n,r]=e;return["G",.3*t+.59*n+.11*r]}static RGB_rgb(e){return e.map(r)}static RGB_HTML(e){return`#${e.map(n).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB(e){let[t,n,r,s]=e;return["RGB",1-Math.min(1,t+s),1-Math.min(1,r+s),1-Math.min(1,n+s)]}static CMYK_rgb(e){let[t,n,s,i]=e;return[r(1-Math.min(1,t+i)),r(1-Math.min(1,s+i)),r(1-Math.min(1,n+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK(e){let[t,n,r]=e;const s=1-t,i=1-n,a=1-r;return["CMYK",s,i,a,Math.min(s,i,a)]}}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NullL10n=void 0,t.getL10nFallback=r;const n={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing\u2026",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};function r(e,t){switch(e){case"find_match_count":e=`find_match_count[${1===t.total?"one":"other"}]`;break;case"find_match_count_limit":e=`find_match_count_limit[${1===t.limit?"one":"other"}]`}return n[e]||""}n.print_progress_percent="{{progress}}%";const s={getLanguage:async()=>"en-us",getDirection:async()=>"ltr",async get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(e,t){return t?e.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,((e,n)=>n in t?t[n]:"{{"+n+"}}")):e}(arguments.length>2&&void 0!==arguments[2]?arguments[2]:r(e,t),t)},async translate(e){}};t.NullL10n=s},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaLayer=void 0;var r=n(25);t.XfaLayer=class{static setupStorage(e,t,n,r,s){const i=r.getValue(t,{value:null});switch(n.name){case"textarea":if(null!==i.value&&(e.textContent=i.value),"print"===s)break;e.addEventListener("input",(e=>{r.setValue(t,{value:e.target.value})}));break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(i.value===n.attributes.xfaOn?e.setAttribute("checked",!0):i.value===n.attributes.xfaOff&&e.removeAttribute("checked"),"print"===s)break;e.addEventListener("change",(e=>{r.setValue(t,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})}))}else{if(null!==i.value&&e.setAttribute("value",i.value),"print"===s)break;e.addEventListener("input",(e=>{r.setValue(t,{value:e.target.value})}))}break;case"select":if(null!==i.value){e.setAttribute("value",i.value);for(const e of n.children)e.attributes.value===i.value?e.attributes.selected=!0:e.attributes.hasOwnProperty("selected")&&delete e.attributes.selected}e.addEventListener("input",(e=>{const n=e.target.options,s=-1===n.selectedIndex?"":n[n.selectedIndex].value;r.setValue(t,{value:s})}))}}static setAttributes(e){let{html:t,element:n,storage:r=null,intent:s,linkService:i}=e;const{attributes:a}=n,o=t instanceof HTMLAnchorElement;"radio"===a.type&&(a.name=`${a.name}-${s}`);for(const[l,c]of Object.entries(a))if(null!==c&&void 0!==c)switch(l){case"class":c.length&&t.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",c);break;case"style":Object.assign(t.style,c);break;case"textContent":t.textContent=c;break;default:(!o||"href"!==l&&"newWindow"!==l)&&t.setAttribute(l,c)}o&&i.addLinkAttributes(t,a.href,a.newWindow),r&&a.dataId&&this.setupStorage(t,a.dataId,n,r)}static render(e){const t=e.annotationStorage,n=e.linkService,s=e.xfaHtml,i=e.intent||"display",a=document.createElement(s.name);s.attributes&&this.setAttributes({html:a,element:s,intent:i,linkService:n});const o=[[s,-1,a]],l=e.div;if(l.append(a),e.viewport){const t=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=t}"richText"!==i&&l.setAttribute("class","xfaLayer xfaFont");const c=[];for(;o.length>0;){const[e,s,a]=o.at(-1);if(s+1===e.children.length){o.pop();continue}const l=e.children[++o.at(-1)[1]];if(null===l)continue;const{name:d}=l;if("#text"===d){const e=document.createTextNode(l.value);c.push(e),a.append(e);continue}const u=l?.attributes?.xmlns?document.createElementNS(l.attributes.xmlns,d):document.createElement(d);if(a.append(u),l.attributes&&this.setAttributes({html:u,element:l,storage:t,intent:i,linkService:n}),l.children&&l.children.length>0)o.push([l,-1,u]);else if(l.value){const e=document.createTextNode(l.value);r.XfaText.shouldBuildText(d)&&c.push(e),u.append(e)}}for(const r of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))r.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InkEditor=void 0;var r=n(1),s=n(4),i=n(29),a=n(6),o=n(5);class l extends s.AnnotationEditor{#Fn=0;#Rn=0;#Dn=this.canvasPointermove.bind(this);#Mn=this.canvasPointerleave.bind(this);#In=this.canvasPointerup.bind(this);#_n=this.canvasPointerdown.bind(this);#Ln=(()=>new Path2D)();#On=!1;#zn=!1;#Bn=!1;#Un=null;#qn=0;#Vn=0;#Wn=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";constructor(e){super({...e,name:"inkEditor"}),this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e){s.AnnotationEditor.initialize(e,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(e,t){switch(e){case r.AnnotationEditorParamsType.INK_THICKNESS:l._defaultThickness=t;break;case r.AnnotationEditorParamsType.INK_COLOR:l._defaultColor=t;break;case r.AnnotationEditorParamsType.INK_OPACITY:l._defaultOpacity=t/100}}updateParams(e,t){switch(e){case r.AnnotationEditorParamsType.INK_THICKNESS:this.#Hn(t);break;case r.AnnotationEditorParamsType.INK_COLOR:this.#Gt(t);break;case r.AnnotationEditorParamsType.INK_OPACITY:this.#Gn(t)}}static get defaultPropertiesToUpdate(){return[[r.AnnotationEditorParamsType.INK_THICKNESS,l._defaultThickness],[r.AnnotationEditorParamsType.INK_COLOR,l._defaultColor||s.AnnotationEditor._defaultLineColor],[r.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*l._defaultOpacity)]]}get propertiesToUpdate(){return[[r.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||l._defaultThickness],[r.AnnotationEditorParamsType.INK_COLOR,this.color||l._defaultColor||s.AnnotationEditor._defaultLineColor],[r.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??l._defaultOpacity))]]}#Hn(e){const t=this.thickness;this.addCommands({cmd:()=>{this.thickness=e,this.#Kn()},undo:()=>{this.thickness=t,this.#Kn()},mustExec:!0,type:r.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#Gt(e){const t=this.color;this.addCommands({cmd:()=>{this.color=e,this.#Xn()},undo:()=>{this.color=t,this.#Xn()},mustExec:!0,type:r.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#Gn(e){e/=100;const t=this.opacity;this.addCommands({cmd:()=>{this.opacity=e,this.#Xn()},undo:()=>{this.opacity=t,this.#Xn()},mustExec:!0,type:r.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.canvas||(this.#Yn(),this.#Qn()),this.isAttachedToDOM||(this.parent.add(this),this.#Jn()),this.#Kn()))}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#Un.disconnect(),this.#Un=null,super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&null===e&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,t]=this.parentDimensions,n=this.width*e,r=this.height*t;this.setDimensions(n,r)}enableEditMode(){this.#On||null===this.canvas||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#_n))}disableEditMode(){this.isInEditMode()&&null!==this.canvas&&(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#_n))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}#Zn(){const{parentRotation:e,parentDimensions:[t,n]}=this;switch(e){case 90:return[0,n,n,t];case 180:return[t,n,t,n];case 270:return[t,0,n,t];default:return[0,0,t,n]}}#$n(){const{ctx:e,color:t,opacity:n,thickness:r,parentScale:s,scaleFactor:i}=this;e.lineWidth=r*s/i,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${t}${(0,o.opacityToHex)(n)}`}#er(e,t){this.canvas.addEventListener("contextmenu",a.noContextMenu),this.canvas.addEventListener("pointerleave",this.#Mn),this.canvas.addEventListener("pointermove",this.#Dn),this.canvas.addEventListener("pointerup",this.#In),this.canvas.removeEventListener("pointerdown",this.#_n),this.isEditing=!0,this.#Bn||(this.#Bn=!0,this.#Jn(),this.thickness||=l._defaultThickness,this.color||=l._defaultColor||s.AnnotationEditor._defaultLineColor,this.opacity??=l._defaultOpacity),this.currentPath.push([e,t]),this.#zn=!1,this.#$n(),this.#Wn=()=>{this.#tr(),this.#Wn&&window.requestAnimationFrame(this.#Wn)},window.requestAnimationFrame(this.#Wn)}#nr(e,t){const[n,r]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===n&&t===r)return;const s=this.currentPath;let i=this.#Ln;if(s.push([e,t]),this.#zn=!0,s.length<=2)return i.moveTo(...s[0]),void i.lineTo(e,t);3===s.length&&(this.#Ln=i=new Path2D,i.moveTo(...s[0])),this.#rr(i,...s.at(-3),...s.at(-2),e,t)}#sr(){if(0===this.currentPath.length)return;const e=this.currentPath.at(-1);this.#Ln.lineTo(...e)}#ir(e,t){let n;if(this.#Wn=null,e=Math.min(Math.max(e,0),this.canvas.width),t=Math.min(Math.max(t,0),this.canvas.height),this.#nr(e,t),this.#sr(),1!==this.currentPath.length)n=this.#ar();else{const r=[e,t];n=[[r,r.slice(),r.slice(),r]]}const r=this.#Ln,s=this.currentPath;this.currentPath=[],this.#Ln=new Path2D,this.addCommands({cmd:()=>{this.allRawPaths.push(s),this.paths.push(n),this.bezierPath2D.push(r),this.rebuild()},undo:()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(this.#Yn(),this.#Qn()),this.#Kn())},mustExec:!0})}#tr(){if(!this.#zn)return;this.#zn=!1;Math.ceil(this.thickness*this.parentScale);const e=this.currentPath.slice(-3),t=e.map((e=>e[0])),n=e.map((e=>e[1])),{ctx:r}=(Math.min(...t),Math.max(...t),Math.min(...n),Math.max(...n),this);r.save(),r.clearRect(0,0,this.canvas.width,this.canvas.height);for(const s of this.bezierPath2D)r.stroke(s);r.stroke(this.#Ln),r.restore()}#rr(e,t,n,r,s,i,a){const o=(t+r)/2,l=(n+s)/2,c=(r+i)/2,d=(s+a)/2;e.bezierCurveTo(o+2*(r-o)/3,l+2*(s-l)/3,c+2*(r-c)/3,d+2*(s-d)/3,c,d)}#ar(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const t=[];let n,[r,s]=e[0];for(n=1;n<e.length-2;n++){const[i,a]=e[n],[o,l]=e[n+1],c=(i+o)/2,d=(a+l)/2,u=[r+2*(i-r)/3,s+2*(a-s)/3],h=[c+2*(i-c)/3,d+2*(a-d)/3];t.push([[r,s],u,h,[c,d]]),[r,s]=[c,d]}const[i,a]=e[n],[o,l]=e[n+1],c=[r+2*(i-r)/3,s+2*(a-s)/3],d=[o+2*(i-o)/3,l+2*(a-l)/3];return t.push([[r,s],c,d,[o,l]]),t}#Xn(){if(this.isEmpty())return void this.#or();this.#$n();const{canvas:e,ctx:t}=this;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height),this.#or();for(const n of this.bezierPath2D)t.stroke(n)}commit(){this.#On||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#On=!0,this.div.classList.add("disabled"),this.#Kn(!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){0===e.button&&this.isInEditMode()&&!this.#On&&(this.setInForeground(),e.preventDefault(),"mouse"!==e.type&&this.div.focus(),this.#er(e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),this.#nr(e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),this.#lr(e)}canvasPointerleave(e){this.#lr(e)}#lr(e){this.canvas.removeEventListener("pointerleave",this.#Mn),this.canvas.removeEventListener("pointermove",this.#Dn),this.canvas.removeEventListener("pointerup",this.#In),this.canvas.addEventListener("pointerdown",this.#_n),setTimeout((()=>{this.canvas.removeEventListener("contextmenu",a.noContextMenu)}),10),this.#ir(e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#Yn(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",s.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then((e=>this.canvas?.setAttribute("aria-label",e))),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#Qn(){this.#Un=new ResizeObserver((e=>{const t=e[0].contentRect;t.width&&t.height&&this.setDimensions(t.width,t.height)})),this.#Un.observe(this.div)}get isResizable(){return!this.isEmpty()&&this.#On}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),s.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then((e=>this.div?.setAttribute("aria-label",e)));const[n,r,i,a]=this.#Zn();if(this.setAt(n,r,0,0),this.setDims(i,a),this.#Yn(),this.width){const[n,r]=this.parentDimensions;this.setAspectRatio(this.width*n,this.height*r),this.setAt(e*n,t*r,this.width*n,this.height*r),this.#Bn=!0,this.#Jn(),this.setDims(this.width*n,this.height*r),this.#Xn(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#Qn(),this.div}#Jn(){if(!this.#Bn)return;const[e,t]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*t),this.#or()}setDimensions(e,t){const n=Math.round(e),r=Math.round(t);if(this.#qn===n&&this.#Vn===r)return;this.#qn=n,this.#Vn=r,this.canvas.style.visibility="hidden";const[s,i]=this.parentDimensions;this.width=e/s,this.height=t/i,this.fixAndSetPosition(),this.#On&&this.#cr(e,t),this.#Jn(),this.#Xn(),this.canvas.style.visibility="visible",this.fixDims()}#cr(e,t){const n=this.#dr(),r=(e-n)/this.#Rn,s=(t-n)/this.#Fn;this.scaleFactor=Math.min(r,s)}#or(){const e=this.#dr()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)}static#ur(e){const t=new Path2D;for(let n=0,r=e.length;n<r;n++){const[r,s,i,a]=e[n];0===n&&t.moveTo(...r),t.bezierCurveTo(s[0],s[1],i[0],i[1],a[0],a[1])}return t}static#hr(e,t,n){const[r,s,i,a]=t;switch(n){case 0:for(let t=0,n=e.length;t<n;t+=2)e[t]+=r,e[t+1]=a-e[t+1];break;case 90:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=e[t+1]+r,e[t+1]=n+s}break;case 180:for(let t=0,n=e.length;t<n;t+=2)e[t]=i-e[t],e[t+1]+=s;break;case 270:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=i-e[t+1],e[t+1]=a-n}break;default:throw new Error("Invalid rotation")}return e}static#pr(e,t,n){const[r,s,i,a]=t;switch(n){case 0:for(let t=0,n=e.length;t<n;t+=2)e[t]-=r,e[t+1]=a-e[t+1];break;case 90:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=e[t+1]-s,e[t+1]=n-r}break;case 180:for(let t=0,n=e.length;t<n;t+=2)e[t]=i-e[t],e[t+1]-=s;break;case 270:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=a-e[t+1],e[t+1]=i-n}break;default:throw new Error("Invalid rotation")}return e}#mr(e,t,n,r){const s=[],i=this.thickness/2,a=e*t+i,o=e*n+i;for(const c of this.paths){const t=[],n=[];for(let r=0,s=c.length;r<s;r++){const[i,l,d,u]=c[r],h=e*i[0]+a,p=e*i[1]+o,m=e*l[0]+a,f=e*l[1]+o,g=e*d[0]+a,x=e*d[1]+o,b=e*u[0]+a,y=e*u[1]+o;0===r&&(t.push(h,p),n.push(h,p)),t.push(m,f,g,x,b,y),n.push(m,f),r===s-1&&n.push(b,y)}s.push({bezier:l.#hr(t,r,this.rotation),points:l.#hr(n,r,this.rotation)})}return s}#fr(){let e=1/0,t=-1/0,n=1/0,s=-1/0;for(const i of this.paths)for(const[a,o,l,c]of i){const i=r.Util.bezierBoundingBox(...a,...o,...l,...c);e=Math.min(e,i[0]),n=Math.min(n,i[1]),t=Math.max(t,i[2]),s=Math.max(s,i[3])}return[e,n,t,s]}#dr(){return this.#On?Math.ceil(this.thickness*this.parentScale):0}#Kn(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return;if(!this.#On)return void this.#Xn();const t=this.#fr(),n=this.#dr();this.#Rn=Math.max(s.AnnotationEditor.MIN_SIZE,t[2]-t[0]),this.#Fn=Math.max(s.AnnotationEditor.MIN_SIZE,t[3]-t[1]);const r=Math.ceil(n+this.#Rn*this.scaleFactor),i=Math.ceil(n+this.#Fn*this.scaleFactor),[a,o]=this.parentDimensions;this.width=r/a,this.height=i/o,this.setAspectRatio(r,i);const l=this.translationX,c=this.translationY;this.translationX=-t[0],this.translationY=-t[1],this.#Jn(),this.#Xn(),this.#qn=r,this.#Vn=i,this.setDims(r,i);const d=e?n/this.scaleFactor/2:0;this.translate(l-this.translationX-d,c-this.translationY-d)}static deserialize(e,t,n){if(e instanceof i.InkAnnotationElement)return null;const a=super.deserialize(e,t,n);a.thickness=e.thickness,a.color=r.Util.makeHexColor(...e.color),a.opacity=e.opacity;const[o,c]=a.pageDimensions,d=a.width*o,u=a.height*c,h=a.parentScale,p=e.thickness/2;a.#On=!0,a.#qn=Math.round(d),a.#Vn=Math.round(u);const{paths:m,rect:f,rotation:g}=e;for(let{bezier:r}of m){r=l.#pr(r,f,g);const e=[];a.paths.push(e);let t=h*(r[0]-p),n=h*(r[1]-p);for(let i=2,a=r.length;i<a;i+=6){const s=h*(r[i]-p),a=h*(r[i+1]-p),o=h*(r[i+2]-p),l=h*(r[i+3]-p),c=h*(r[i+4]-p),d=h*(r[i+5]-p);e.push([[t,n],[s,a],[o,l],[c,d]]),t=c,n=d}const s=this.#ur(e);a.bezierPath2D.push(s)}const x=a.#fr();return a.#Rn=Math.max(s.AnnotationEditor.MIN_SIZE,x[2]-x[0]),a.#Fn=Math.max(s.AnnotationEditor.MIN_SIZE,x[3]-x[1]),a.#cr(d,u),a}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),t=s.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:r.AnnotationEditorType.INK,color:t,thickness:this.thickness,opacity:this.opacity,paths:this.#mr(this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}t.InkEditor=l},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StampEditor=void 0;var r=n(1),s=n(4),i=n(6),a=n(29);class o extends s.AnnotationEditor{#gr=null;#xr=null;#br=null;#yr=null;#vr=null;#wr=null;#Un=null;#jr=null;#kr=!1;#Nr=!1;static _type="stamp";constructor(e){super({...e,name:"stampEditor"}),this.#yr=e.bitmapUrl,this.#vr=e.bitmapFile}static initialize(e){s.AnnotationEditor.initialize(e)}static get supportedTypes(){return(0,r.shadow)(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map((e=>`image/${e}`)))}static get supportedTypesStr(){return(0,r.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,t){t.pasteEditor(r.AnnotationEditorType.STAMP,{bitmapFile:e.getAsFile()})}#Sr(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e?(this.#gr=e.bitmap,t||(this.#xr=e.id,this.#kr=e.isSvg),this.#Yn()):this.remove()}#Cr(){this.#br=null,this._uiManager.enableWaiting(!1),this.#wr&&this.div.focus()}#Ar(){if(this.#xr)return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId(this.#xr).then((e=>this.#Sr(e,!0))).finally((()=>this.#Cr()));if(this.#yr){const e=this.#yr;return this.#yr=null,this._uiManager.enableWaiting(!0),void(this.#br=this._uiManager.imageManager.getFromUrl(e).then((e=>this.#Sr(e))).finally((()=>this.#Cr())))}if(this.#vr){const e=this.#vr;return this.#vr=null,this._uiManager.enableWaiting(!0),void(this.#br=this._uiManager.imageManager.getFromFile(e).then((e=>this.#Sr(e))).finally((()=>this.#Cr())))}const e=document.createElement("input");e.type="file",e.accept=o.supportedTypesStr,this.#br=new Promise((t=>{e.addEventListener("change",(async()=>{if(e.files&&0!==e.files.length){this._uiManager.enableWaiting(!0);const t=await this._uiManager.imageManager.getFromFile(e.files[0]);this.#Sr(t)}else this.remove();t()})),e.addEventListener("cancel",(()=>{this.remove(),t()}))})).finally((()=>this.#Cr())),e.click()}remove(){this.#xr&&(this.#gr=null,this._uiManager.imageManager.deleteId(this.#xr),this.#wr?.remove(),this.#wr=null,this.#Un?.disconnect(),this.#Un=null),super.remove()}rebuild(){this.parent?(super.rebuild(),null!==this.div&&(this.#xr&&this.#Ar(),this.isAttachedToDOM||this.parent.add(this))):this.#xr&&this.#Ar()}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#br||this.#gr||this.#yr||this.#vr)}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;if(this.width&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.#gr?this.#Yn():this.#Ar(),this.width){const[n,r]=this.parentDimensions;this.setAt(e*n,t*r,this.width*n,this.height*r)}return this.div}#Yn(){const{div:e}=this;let{width:t,height:n}=this.#gr;const[r,s]=this.pageDimensions,i=.75;if(this.width)t=this.width*r,n=this.height*s;else if(t>i*r||n>i*s){const e=Math.min(i*r/t,i*s/n);t*=e,n*=e}const[a,o]=this.parentDimensions;this.setDims(t*a/r,n*o/s),this._uiManager.enableWaiting(!1);const l=this.#wr=document.createElement("canvas");e.append(l),e.hidden=!1,this.#Tr(t,n),this.#Qn(),this.#Nr||(this.parent.addUndoableEditor(this),this.#Nr=!0),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()}#Er(e,t){const[n,r]=this.parentDimensions;this.width=e/n,this.height=t/r,this.setDims(e,t),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,null!==this.#jr&&clearTimeout(this.#jr),this.#jr=setTimeout((()=>{this.#jr=null,this.#Tr(e,t)}),200)}#Pr(e,t){const{width:n,height:r}=this.#gr;let s=n,i=r,a=this.#gr;for(;s>2*e||i>2*t;){const n=s,r=i;s>2*e&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),i>2*t&&(i=i>=16384?Math.floor(i/2)-1:Math.ceil(i/2));const o=new OffscreenCanvas(s,i);o.getContext("2d").drawImage(a,0,0,n,r,0,0,s,i),a=o.transferToImageBitmap()}return a}#Tr(e,t){e=Math.ceil(e),t=Math.ceil(t);const n=this.#wr;if(!n||n.width===e&&n.height===t)return;n.width=e,n.height=t;const r=this.#kr?this.#gr:this.#Pr(e,t),s=n.getContext("2d");s.filter=this._uiManager.hcmFilter,s.drawImage(r,0,0,r.width,r.height,0,0,e,t)}#Fr(e){if(e){if(this.#kr){const e=this._uiManager.imageManager.getSvgUrl(this.#xr);if(e)return e}const e=document.createElement("canvas");return({width:e.width,height:e.height}=this.#gr),e.getContext("2d").drawImage(this.#gr,0,0),e.toDataURL()}if(this.#kr){const[e,t]=this.pageDimensions,n=Math.round(this.width*e*i.PixelsPerInch.PDF_TO_CSS_UNITS),r=Math.round(this.height*t*i.PixelsPerInch.PDF_TO_CSS_UNITS),s=new OffscreenCanvas(n,r);return s.getContext("2d").drawImage(this.#gr,0,0,this.#gr.width,this.#gr.height,0,0,n,r),s.transferToImageBitmap()}return structuredClone(this.#gr)}#Qn(){this.#Un=new ResizeObserver((e=>{const t=e[0].contentRect;t.width&&t.height&&this.#Er(t.width,t.height)})),this.#Un.observe(this.div)}static deserialize(e,t,n){if(e instanceof a.StampAnnotationElement)return null;const r=super.deserialize(e,t,n),{rect:s,bitmapUrl:i,bitmapId:o,isSvg:l,accessibilityData:c}=e;o&&n.imageManager.isValidId(o)?r.#xr=o:r.#yr=i,r.#kr=l;const[d,u]=r.pageDimensions;return r.width=(s[2]-s[0])/d,r.height=(s[3]-s[1])/u,c&&(r.altTextData=c),r}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.isEmpty())return null;const n={annotationType:r.AnnotationEditorType.STAMP,bitmapId:this.#xr,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#kr,structTreeParentId:this._structTreeParentId};if(e)return n.bitmapUrl=this.#Fr(!0),n.accessibilityData=this.altTextData,n;const{decorative:s,altText:i}=this.altTextData;if(!s&&i&&(n.accessibilityData={type:"Figure",alt:i}),null===t)return n;t.stamps||=new Map;const a=this.#kr?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(t.stamps.has(this.#xr)){if(this.#kr){const e=t.stamps.get(this.#xr);a>e.area&&(e.area=a,e.serialized.bitmap.close(),e.serialized.bitmap=this.#Fr(!1))}}else t.stamps.set(this.#xr,{area:a,serialized:n}),n.bitmap=this.#Fr(!1);return n}}t.StampEditor=o}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__w_pdfjs_require__),n.exports}var __nested_webpack_exports__={};return(()=>{var e=__nested_webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AbortException",{enumerable:!0,get:function(){return t.AbortException}}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return i.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return t.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return t.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return a.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return o.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return t.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return t.CMapCompressionType}}),Object.defineProperty(e,"DOMSVGFactory",{enumerable:!0,get:function(){return r.DOMSVGFactory}}),Object.defineProperty(e,"FeatureTest",{enumerable:!0,get:function(){return t.FeatureTest}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return l.GlobalWorkerOptions}}),Object.defineProperty(e,"ImageKind",{enumerable:!0,get:function(){return t.ImageKind}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return t.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return t.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return t.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return n.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return r.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return n.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return t.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return t.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return r.PixelsPerInch}}),Object.defineProperty(e,"PromiseCapability",{enumerable:!0,get:function(){return t.PromiseCapability}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return r.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return n.SVGGraphics}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return t.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return t.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return t.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return c.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return n.build}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return t.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return n.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return r.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return r.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return r.getXfaPageViewport}}),Object.defineProperty(e,"isDataScheme",{enumerable:!0,get:function(){return r.isDataScheme}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return r.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return r.loadScript}}),Object.defineProperty(e,"noContextMenu",{enumerable:!0,get:function(){return r.noContextMenu}}),Object.defineProperty(e,"normalizeUnicode",{enumerable:!0,get:function(){return t.normalizeUnicode}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return s.renderTextLayer}}),Object.defineProperty(e,"setLayerDimensions",{enumerable:!0,get:function(){return r.setLayerDimensions}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return t.shadow}}),Object.defineProperty(e,"updateTextLayer",{enumerable:!0,get:function(){return s.updateTextLayer}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return n.version}});var t=__w_pdfjs_require__(1),n=__w_pdfjs_require__(2),r=__w_pdfjs_require__(6),s=__w_pdfjs_require__(26),i=__w_pdfjs_require__(27),a=__w_pdfjs_require__(5),o=__w_pdfjs_require__(29),l=__w_pdfjs_require__(14),c=__w_pdfjs_require__(32)})(),__nested_webpack_exports__})(),module.exports=root.pdfjsLib=factory()},787:()=>{},799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function s(e,t,r){var s=null;if(void 0!==r&&(s=""+r),void 0!==t.key&&(s=""+t.key),"key"in t)for(var i in r={},t)"key"!==i&&(r[i]=t[i]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:s,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=s,t.jsxs=s},813:(e,t,n)=>{"use strict";var r=n(886),s=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch(c){s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(c){i=!1}for(var a=new r.Buf8(256),o=0;o<256;o++)a[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;function l(e,t){if(t<65534&&(e.subarray&&i||!e.subarray&&s))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,t.string2buf=function(e){var t,n,s,i,a,o=e.length,l=0;for(i=0;i<o;i++)55296===(64512&(n=e.charCodeAt(i)))&&i+1<o&&56320===(64512&(s=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(s-56320),i++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(l),a=0,i=0;a<l;i++)55296===(64512&(n=e.charCodeAt(i)))&&i+1<o&&56320===(64512&(s=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(s-56320),i++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},t.buf2binstring=function(e){return l(e,e.length)},t.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,s=t.length;n<s;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,r,s,i,o=t||e.length,c=new Array(2*o);for(r=0,n=0;n<o;)if((s=e[n++])<128)c[r++]=s;else if((i=a[s])>4)c[r++]=65533,n+=i-1;else{for(s&=2===i?31:3===i?15:7;i>1&&n<o;)s=s<<6|63&e[n++],i--;i>1?c[r++]=65533:s<65536?c[r++]=s:(s-=65536,c[r++]=55296|s>>10&1023,c[r++]=56320|1023&s)}return l(c,r)},t.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128===(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}},815:()=>{},853:(e,t,n)=>{"use strict";e.exports=n(896)},886:(e,t)=>{"use strict";var n="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Int32Array;function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!==typeof n)throw new TypeError(n+"must be non-object");for(var s in n)r(n,s)&&(e[s]=n[s])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var s={arraySet:function(e,t,n,r,s){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),s);else for(var i=0;i<r;i++)e[s+i]=t[n+i]},flattenChunks:function(e){var t,n,r,s,i,a;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),s=0,t=0,n=e.length;t<n;t++)i=e[t],a.set(i,s),s+=i.length;return a}},i={arraySet:function(e,t,n,r,s){for(var i=0;i<r;i++)e[s+i]=t[n+i]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,s)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,i))},t.setTyped(n)},896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<i(s,t)))break e;e[r]=t,e[n]=s,n=r}}function r(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,a=s>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,d=e[c];if(0>i(l,n))c<s&&0>i(d,l)?(e[r]=d,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<s&&0>i(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,p=3,m=!1,f=!1,g=!1,x=!1,b="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(d);null!==t;){if(null===t.callback)s(d);else{if(!(t.startTime<=e))break;s(d),t.sortIndex=t.expirationTime,n(c,t)}t=r(d)}}function j(e){if(g=!1,w(e),!f)if(null!==r(c))f=!0,N||(N=!0,k());else{var t=r(d);null!==t&&R(j,t.startTime-e)}}var k,N=!1,S=-1,C=5,A=-1;function T(){return!!x||!(t.unstable_now()-A<C)}function E(){if(x=!1,N){var e=t.unstable_now();A=e;var n=!0;try{e:{f=!1,g&&(g=!1,y(S),S=-1),m=!0;var i=p;try{t:{for(w(e),h=r(c);null!==h&&!(h.expirationTime>e&&T());){var a=h.callback;if("function"===typeof a){h.callback=null,p=h.priorityLevel;var o=a(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,w(e),n=!0;break t}h===r(c)&&s(c),w(e)}else s(c);h=r(c)}if(null!==h)n=!0;else{var l=r(d);null!==l&&R(j,l.startTime-e),n=!1}}break e}finally{h=null,p=i,m=!1}n=void 0}}finally{n?k():N=!1}}}if("function"===typeof v)k=function(){v(E)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,F=P.port2;P.port1.onmessage=E,k=function(){F.postMessage(null)}}else k=function(){b(E,0)};function R(e,n){S=b((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,s,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:s,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>a?(e.sortIndex=i,n(d,e),null===r(c)&&e===r(d)&&(g?(y(S),S=-1):g=!0,R(j,i-a))):(e.sortIndex=o,n(c,e),f||m||(f=!0,N||(N=!0,k()))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},898:(e,t,n)=>{"use strict";var r=n(960),s=n(886),i=n(813),a=n(266),o=n(135),l=n(301),c=n(251),d=Object.prototype.toString;function u(e){if(!(this instanceof u))return new u(e);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==a.Z_OK)throw new Error(o[n]);if(this.header=new c,r.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"===typeof t.dictionary?t.dictionary=i.string2buf(t.dictionary):"[object ArrayBuffer]"===d.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=r.inflateSetDictionary(this.strm,t.dictionary))!==a.Z_OK))throw new Error(o[n])}function h(e,t){var n=new u(t);if(n.push(e,!0),n.err)throw n.msg||o[n.err];return n.result}u.prototype.push=function(e,t){var n,o,l,c,u,h=this.strm,p=this.options.chunkSize,m=this.options.dictionary,f=!1;if(this.ended)return!1;o=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"===typeof e?h.input=i.binstring2buf(e):"[object ArrayBuffer]"===d.call(e)?h.input=new Uint8Array(e):h.input=e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new s.Buf8(p),h.next_out=0,h.avail_out=p),(n=r.inflate(h,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&m&&(n=r.inflateSetDictionary(this.strm,m)),n===a.Z_BUF_ERROR&&!0===f&&(n=a.Z_OK,f=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),this.ended=!0,!1;h.next_out&&(0!==h.avail_out&&n!==a.Z_STREAM_END&&(0!==h.avail_in||o!==a.Z_FINISH&&o!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(l=i.utf8border(h.output,h.next_out),c=h.next_out-l,u=i.buf2string(h.output,l),h.next_out=c,h.avail_out=p-c,c&&s.arraySet(h.output,h.output,l,c,0),this.onData(u)):this.onData(s.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(f=!0)}while((h.avail_in>0||0===h.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(o=a.Z_FINISH),o===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):o!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),h.avail_out=0,!0)},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=u,t.inflate=h,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,h(e,t)},t.ungzip=h},946:e=>{"use strict";e.exports=function(e,t){var n,r,s,i,a,o,l,c,d,u,h,p,m,f,g,x,b,y,v,w,j,k,N,S,C;n=e.state,r=e.next_in,S=e.input,s=r+(e.avail_in-5),i=e.next_out,C=e.output,a=i-(t-e.avail_out),o=i+(e.avail_out-257),l=n.dmax,c=n.wsize,d=n.whave,u=n.wnext,h=n.window,p=n.hold,m=n.bits,f=n.lencode,g=n.distcode,x=(1<<n.lenbits)-1,b=(1<<n.distbits)-1;e:do{m<15&&(p+=S[r++]<<m,m+=8,p+=S[r++]<<m,m+=8),y=f[p&x];t:for(;;){if(p>>>=v=y>>>24,m-=v,0===(v=y>>>16&255))C[i++]=65535&y;else{if(!(16&v)){if(0===(64&v)){y=f[(65535&y)+(p&(1<<v)-1)];continue t}if(32&v){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}w=65535&y,(v&=15)&&(m<v&&(p+=S[r++]<<m,m+=8),w+=p&(1<<v)-1,p>>>=v,m-=v),m<15&&(p+=S[r++]<<m,m+=8,p+=S[r++]<<m,m+=8),y=g[p&b];n:for(;;){if(p>>>=v=y>>>24,m-=v,!(16&(v=y>>>16&255))){if(0===(64&v)){y=g[(65535&y)+(p&(1<<v)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(j=65535&y,m<(v&=15)&&(p+=S[r++]<<m,(m+=8)<v&&(p+=S[r++]<<m,m+=8)),(j+=p&(1<<v)-1)>l){e.msg="invalid distance too far back",n.mode=30;break e}if(p>>>=v,m-=v,j>(v=i-a)){if((v=j-v)>d&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(k=0,N=h,0===u){if(k+=c-v,v<w){w-=v;do{C[i++]=h[k++]}while(--v);k=i-j,N=C}}else if(u<v){if(k+=c+u-v,(v-=u)<w){w-=v;do{C[i++]=h[k++]}while(--v);if(k=0,u<w){w-=v=u;do{C[i++]=h[k++]}while(--v);k=i-j,N=C}}}else if(k+=u-v,v<w){w-=v;do{C[i++]=h[k++]}while(--v);k=i-j,N=C}for(;w>2;)C[i++]=N[k++],C[i++]=N[k++],C[i++]=N[k++],w-=3;w&&(C[i++]=N[k++],w>1&&(C[i++]=N[k++]))}else{k=i-j;do{C[i++]=C[k++],C[i++]=C[k++],C[i++]=C[k++],w-=3}while(w>2);w&&(C[i++]=C[k++],w>1&&(C[i++]=C[k++]))}break}}break}}while(r<s&&i<o);r-=w=m>>3,p&=(1<<(m-=w<<3))-1,e.next_in=r,e.next_out=i,e.avail_in=r<s?s-r+5:5-(r-s),e.avail_out=i<o?o-i+257:257-(i-o),n.hold=p,n.bits=m}},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)},960:(e,t,n)=>{"use strict";var r=n(886),s=n(374),i=n(592),a=n(946),o=n(415),l=-2,c=12,d=30;function u(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function h(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function p(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(852),t.distcode=t.distdyn=new r.Buf32(592),t.sane=1,t.back=-1,0):l}function m(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,p(e)):l}function f(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?l:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,m(e))):l}function g(e,t){var n,r;return e?(r=new h,e.state=r,r.window=null,0!==(n=f(e,t))&&(e.state=null),n):l}var x,b,y=!0;function v(e){if(y){var t;for(x=new r.Buf32(512),b=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(o(1,e.lens,0,288,x,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;o(2,e.lens,0,32,b,0,e.work,{bits:5}),y=!1}e.lencode=x,e.lenbits=9,e.distcode=b,e.distbits=5}function w(e,t,n,s){var i,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),s>=a.wsize?(r.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((i=a.wsize-a.wnext)>s&&(i=s),r.arraySet(a.window,t,n-s,i,a.wnext),(s-=i)?(r.arraySet(a.window,t,n-s,s,0),a.wnext=s,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0}t.inflateReset=m,t.inflateReset2=f,t.inflateResetKeep=p,t.inflateInit=function(e){return g(e,15)},t.inflateInit2=g,t.inflate=function(e,t){var n,h,p,m,f,g,x,b,y,j,k,N,S,C,A,T,E,P,F,R,D,M,I,_,L=0,O=new r.Buf8(4),z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return l;(n=e.state).mode===c&&(n.mode=13),f=e.next_out,p=e.output,x=e.avail_out,m=e.next_in,h=e.input,g=e.avail_in,b=n.hold,y=n.bits,j=g,k=x,M=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;y<16;){if(0===g)break e;g--,b+=h[m++]<<y,y+=8}if(2&n.wrap&&35615===b){n.check=0,O[0]=255&b,O[1]=b>>>8&255,n.check=i(n.check,O,2,0),b=0,y=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&b)<<8)+(b>>8))%31){e.msg="incorrect header check",n.mode=d;break}if(8!==(15&b)){e.msg="unknown compression method",n.mode=d;break}if(y-=4,D=8+(15&(b>>>=4)),0===n.wbits)n.wbits=D;else if(D>n.wbits){e.msg="invalid window size",n.mode=d;break}n.dmax=1<<D,e.adler=n.check=1,n.mode=512&b?10:c,b=0,y=0;break;case 2:for(;y<16;){if(0===g)break e;g--,b+=h[m++]<<y,y+=8}if(n.flags=b,8!==(255&n.flags)){e.msg="unknown compression method",n.mode=d;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=d;break}n.head&&(n.head.text=b>>8&1),512&n.flags&&(O[0]=255&b,O[1]=b>>>8&255,n.check=i(n.check,O,2,0)),b=0,y=0,n.mode=3;case 3:for(;y<32;){if(0===g)break e;g--,b+=h[m++]<<y,y+=8}n.head&&(n.head.time=b),512&n.flags&&(O[0]=255&b,O[1]=b>>>8&255,O[2]=b>>>16&255,O[3]=b>>>24&255,n.check=i(n.check,O,4,0)),b=0,y=0,n.mode=4;case 4:for(;y<16;){if(0===g)break e;g--,b+=h[m++]<<y,y+=8}n.head&&(n.head.xflags=255&b,n.head.os=b>>8),512&n.flags&&(O[0]=255&b,O[1]=b>>>8&255,n.check=i(n.check,O,2,0)),b=0,y=0,n.mode=5;case 5:if(1024&n.flags){for(;y<16;){if(0===g)break e;g--,b+=h[m++]<<y,y+=8}n.length=b,n.head&&(n.head.extra_len=b),512&n.flags&&(O[0]=255&b,O[1]=b>>>8&255,n.check=i(n.check,O,2,0)),b=0,y=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((N=n.length)>g&&(N=g),N&&(n.head&&(D=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,h,m,N,D)),512&n.flags&&(n.check=i(n.check,h,N,m)),g-=N,m+=N,n.length-=N),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===g)break e;N=0;do{D=h[m+N++],n.head&&D&&n.length<65536&&(n.head.name+=String.fromCharCode(D))}while(D&&N<g);if(512&n.flags&&(n.check=i(n.check,h,N,m)),g-=N,m+=N,D)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===g)break e;N=0;do{D=h[m+N++],n.head&&D&&n.length<65536&&(n.head.comment+=String.fromCharCode(D))}while(D&&N<g);if(512&n.flags&&(n.check=i(n.check,h,N,m)),g-=N,m+=N,D)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;y<16;){if(0===g)break e;g--,b+=h[m++]<<y,y+=8}if(b!==(65535&n.check)){e.msg="header crc mismatch",n.mode=d;break}b=0,y=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=c;break;case 10:for(;y<32;){if(0===g)break e;g--,b+=h[m++]<<y,y+=8}e.adler=n.check=u(b),b=0,y=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=f,e.avail_out=x,e.next_in=m,e.avail_in=g,n.hold=b,n.bits=y,2;e.adler=n.check=1,n.mode=c;case c:if(5===t||6===t)break e;case 13:if(n.last){b>>>=7&y,y-=7&y,n.mode=27;break}for(;y<3;){if(0===g)break e;g--,b+=h[m++]<<y,y+=8}switch(n.last=1&b,y-=1,3&(b>>>=1)){case 0:n.mode=14;break;case 1:if(v(n),n.mode=20,6===t){b>>>=2,y-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=d}b>>>=2,y-=2;break;case 14:for(b>>>=7&y,y-=7&y;y<32;){if(0===g)break e;g--,b+=h[m++]<<y,y+=8}if((65535&b)!==(b>>>16^65535)){e.msg="invalid stored block lengths",n.mode=d;break}if(n.length=65535&b,b=0,y=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(N=n.length){if(N>g&&(N=g),N>x&&(N=x),0===N)break e;r.arraySet(p,h,m,N,f),g-=N,m+=N,x-=N,f+=N,n.length-=N;break}n.mode=c;break;case 17:for(;y<14;){if(0===g)break e;g--,b+=h[m++]<<y,y+=8}if(n.nlen=257+(31&b),b>>>=5,y-=5,n.ndist=1+(31&b),b>>>=5,y-=5,n.ncode=4+(15&b),b>>>=4,y-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=d;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;y<3;){if(0===g)break e;g--,b+=h[m++]<<y,y+=8}n.lens[z[n.have++]]=7&b,b>>>=3,y-=3}for(;n.have<19;)n.lens[z[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,I={bits:n.lenbits},M=o(0,n.lens,0,19,n.lencode,0,n.work,I),n.lenbits=I.bits,M){e.msg="invalid code lengths set",n.mode=d;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;T=(L=n.lencode[b&(1<<n.lenbits)-1])>>>16&255,E=65535&L,!((A=L>>>24)<=y);){if(0===g)break e;g--,b+=h[m++]<<y,y+=8}if(E<16)b>>>=A,y-=A,n.lens[n.have++]=E;else{if(16===E){for(_=A+2;y<_;){if(0===g)break e;g--,b+=h[m++]<<y,y+=8}if(b>>>=A,y-=A,0===n.have){e.msg="invalid bit length repeat",n.mode=d;break}D=n.lens[n.have-1],N=3+(3&b),b>>>=2,y-=2}else if(17===E){for(_=A+3;y<_;){if(0===g)break e;g--,b+=h[m++]<<y,y+=8}y-=A,D=0,N=3+(7&(b>>>=A)),b>>>=3,y-=3}else{for(_=A+7;y<_;){if(0===g)break e;g--,b+=h[m++]<<y,y+=8}y-=A,D=0,N=11+(127&(b>>>=A)),b>>>=7,y-=7}if(n.have+N>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=d;break}for(;N--;)n.lens[n.have++]=D}}if(n.mode===d)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=d;break}if(n.lenbits=9,I={bits:n.lenbits},M=o(1,n.lens,0,n.nlen,n.lencode,0,n.work,I),n.lenbits=I.bits,M){e.msg="invalid literal/lengths set",n.mode=d;break}if(n.distbits=6,n.distcode=n.distdyn,I={bits:n.distbits},M=o(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,I),n.distbits=I.bits,M){e.msg="invalid distances set",n.mode=d;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(g>=6&&x>=258){e.next_out=f,e.avail_out=x,e.next_in=m,e.avail_in=g,n.hold=b,n.bits=y,a(e,k),f=e.next_out,p=e.output,x=e.avail_out,m=e.next_in,h=e.input,g=e.avail_in,b=n.hold,y=n.bits,n.mode===c&&(n.back=-1);break}for(n.back=0;T=(L=n.lencode[b&(1<<n.lenbits)-1])>>>16&255,E=65535&L,!((A=L>>>24)<=y);){if(0===g)break e;g--,b+=h[m++]<<y,y+=8}if(T&&0===(240&T)){for(P=A,F=T,R=E;T=(L=n.lencode[R+((b&(1<<P+F)-1)>>P)])>>>16&255,E=65535&L,!(P+(A=L>>>24)<=y);){if(0===g)break e;g--,b+=h[m++]<<y,y+=8}b>>>=P,y-=P,n.back+=P}if(b>>>=A,y-=A,n.back+=A,n.length=E,0===T){n.mode=26;break}if(32&T){n.back=-1,n.mode=c;break}if(64&T){e.msg="invalid literal/length code",n.mode=d;break}n.extra=15&T,n.mode=22;case 22:if(n.extra){for(_=n.extra;y<_;){if(0===g)break e;g--,b+=h[m++]<<y,y+=8}n.length+=b&(1<<n.extra)-1,b>>>=n.extra,y-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;T=(L=n.distcode[b&(1<<n.distbits)-1])>>>16&255,E=65535&L,!((A=L>>>24)<=y);){if(0===g)break e;g--,b+=h[m++]<<y,y+=8}if(0===(240&T)){for(P=A,F=T,R=E;T=(L=n.distcode[R+((b&(1<<P+F)-1)>>P)])>>>16&255,E=65535&L,!(P+(A=L>>>24)<=y);){if(0===g)break e;g--,b+=h[m++]<<y,y+=8}b>>>=P,y-=P,n.back+=P}if(b>>>=A,y-=A,n.back+=A,64&T){e.msg="invalid distance code",n.mode=d;break}n.offset=E,n.extra=15&T,n.mode=24;case 24:if(n.extra){for(_=n.extra;y<_;){if(0===g)break e;g--,b+=h[m++]<<y,y+=8}n.offset+=b&(1<<n.extra)-1,b>>>=n.extra,y-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=d;break}n.mode=25;case 25:if(0===x)break e;if(N=k-x,n.offset>N){if((N=n.offset-N)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=d;break}N>n.wnext?(N-=n.wnext,S=n.wsize-N):S=n.wnext-N,N>n.length&&(N=n.length),C=n.window}else C=p,S=f-n.offset,N=n.length;N>x&&(N=x),x-=N,n.length-=N;do{p[f++]=C[S++]}while(--N);0===n.length&&(n.mode=21);break;case 26:if(0===x)break e;p[f++]=n.length,x--,n.mode=21;break;case 27:if(n.wrap){for(;y<32;){if(0===g)break e;g--,b|=h[m++]<<y,y+=8}if(k-=x,e.total_out+=k,n.total+=k,k&&(e.adler=n.check=n.flags?i(n.check,p,k,f-k):s(n.check,p,k,f-k)),k=x,(n.flags?b:u(b))!==n.check){e.msg="incorrect data check",n.mode=d;break}b=0,y=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;y<32;){if(0===g)break e;g--,b+=h[m++]<<y,y+=8}if(b!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=d;break}b=0,y=0}n.mode=29;case 29:M=1;break e;case d:M=-3;break e;case 31:return-4;default:return l}return e.next_out=f,e.avail_out=x,e.next_in=m,e.avail_in=g,n.hold=b,n.bits=y,(n.wsize||k!==e.avail_out&&n.mode<d&&(n.mode<27||4!==t))&&w(e,e.output,e.next_out,k-e.avail_out)?(n.mode=31,-4):(j-=e.avail_in,k-=e.avail_out,e.total_in+=j,e.total_out+=k,n.total+=k,n.wrap&&k&&(e.adler=n.check=n.flags?i(n.check,p,k,e.next_out-k):s(n.check,p,k,e.next_out-k)),e.data_type=n.bits+(n.last?64:0)+(n.mode===c?128:0)+(20===n.mode||15===n.mode?256:0),(0===j&&0===k||4===t)&&0===M&&(M=-5),M)},t.inflateEnd=function(e){if(!e||!e.state)return l;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0===(2&(n=e.state).wrap)?l:(n.head=t,t.done=!1,0):l},t.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?l:11===n.mode&&s(1,t,r,0)!==n.check?-3:w(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,0):l},t.inflateInfo="pako inflate (from Nodeca project)"}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,n)=>(__webpack_require__.f[n](e,t),t)),[])),__webpack_require__.u=e=>"static/js/"+e+".8ab44547.chunk.js",__webpack_require__.miniCssF=e=>{},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="frontend:";__webpack_require__.l=(n,r,s,i)=>{if(e[n])e[n].push(r);else{var a,o;if(void 0!==s)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var d=l[c];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+s){a=d;break}}a||(o=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,__webpack_require__.nc&&a.setAttribute("nonce",__webpack_require__.nc),a.setAttribute("data-webpack",t+s),a.src=n),e[n]=[r];var u=(t,r)=>{a.onerror=a.onload=null,clearTimeout(h);var s=e[n];if(delete e[n],a.parentNode&&a.parentNode.removeChild(a),s&&s.forEach((e=>e(r))),t)return t(r)},h=setTimeout(u.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=u.bind(null,a.onerror),a.onload=u.bind(null,a.onload),o&&document.head.appendChild(a)}}})(),__webpack_require__.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.p="/",(()=>{var e={792:0};__webpack_require__.f.j=(t,n)=>{var r=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var s=new Promise(((n,s)=>r=e[t]=[n,s]));n.push(r[2]=s);var i=__webpack_require__.p+__webpack_require__.u(t),a=new Error;__webpack_require__.l(i,(n=>{if(__webpack_require__.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var s=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",a.name="ChunkLoadError",a.type=s,a.request=i,r[1](a)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,s,i=n[0],a=n[1],o=n[2],l=0;if(i.some((t=>0!==e[t]))){for(r in a)__webpack_require__.o(a,r)&&(__webpack_require__.m[r]=a[r]);if(o)o(__webpack_require__)}for(t&&t(n);l<i.length;l++)s=i[l],__webpack_require__.o(e,s)&&e[s]&&e[s][0](),e[s]=0},n=self.webpackChunkfrontend=self.webpackChunkfrontend||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var __webpack_exports__={};(()=>{"use strict";var e={};__webpack_require__.r(e),__webpack_require__.d(e,{hasBrowserEnv:()=>yr,hasStandardBrowserEnv:()=>wr,hasStandardBrowserWebWorkerEnv:()=>jr,navigator:()=>vr,origin:()=>kr});var t=__webpack_require__(43),n=__webpack_require__(391),r=(__webpack_require__(358),"popstate");function s(){return u((function(e,t){let{pathname:n,search:r,hash:s}=e.location;return l("",{pathname:n,search:r,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:c(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function i(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function a(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function o(e,t){return{usr:e.state,key:e.key,idx:t}}function l(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?d(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function c(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function d(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function u(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:a=document.defaultView,v5Compat:d=!1}=s,u=a.history,h="POP",p=null,m=f();function f(){return(u.state||{idx:null}).idx}function g(){h="POP";let e=f(),t=null==e?null:e-m;m=e,p&&p({action:h,location:b.location,delta:t})}function x(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,n="string"===typeof e?e:c(e);return n=n.replace(/ $/,"%20"),i(t,`No window.location.(origin|href) available to create URL for href: ${n}`),new URL(n,t)}null==m&&(m=0,u.replaceState({...u.state,idx:m},""));let b={get action(){return h},get location(){return e(a,u)},listen(e){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(r,g),p=e,()=>{a.removeEventListener(r,g),p=null}},createHref:e=>t(a,e),createURL:x,encodeLocation(e){let t=x(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){h="PUSH";let r=l(b.location,e,t);n&&n(r,e),m=f()+1;let s=o(r,m),i=b.createHref(r);try{u.pushState(s,"",i)}catch(hf){if(hf instanceof DOMException&&"DataCloneError"===hf.name)throw hf;a.location.assign(i)}d&&p&&p({action:h,location:b.location,delta:1})},replace:function(e,t){h="REPLACE";let r=l(b.location,e,t);n&&n(r,e),m=f();let s=o(r,m),i=b.createHref(r);u.replaceState(s,"",i),d&&p&&p({action:h,location:b.location,delta:0})},go:e=>u.go(e)};return b}new WeakMap;function h(e,t){return p(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function p(e,t,n,r){let s=T(("string"===typeof t?d(t):t).pathname||"/",n);if(null==s)return null;let i=m(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let a=null;for(let o=0;null==a&&o<i.length;++o){let e=A(s);a=N(i[o],e,r)}return a}function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=(e,s,a)=>{let o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};o.relativePath.startsWith("/")&&(i(o.relativePath.startsWith(r),`Absolute route path "${o.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),o.relativePath=o.relativePath.slice(r.length));let l=D([r,o.relativePath]),c=n.concat(o);e.children&&e.children.length>0&&(i(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),m(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:k(l,e.index),routesMeta:c})};return e.forEach(((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of f(e.path))s(e,t,n);else s(e,t)})),t}function f(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return s?[i,""]:[i];let a=f(r.join("/")),o=[];return o.push(...a.map((e=>""===e?i:[i,e].join("/")))),s&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}var g=/^:[\w-]+$/,x=3,b=2,y=1,v=10,w=-2,j=e=>"*"===e;function k(e,t){let n=e.split("/"),r=n.length;return n.some(j)&&(r+=w),t&&(r+=b),n.filter((e=>!j(e))).reduce(((e,t)=>e+(g.test(t)?x:""===t?y:v)),r)}function N(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,s={},i="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===i?t:t.slice(i.length)||"/",d=S({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&n&&!r[r.length-1].route.index&&(d=S({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(s,d.params),a.push({params:s,pathname:D([i,d.pathname]),pathnameBase:M(D([i,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(i=D([i,d.pathnameBase]))}return a}function S(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=C(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:s}=t;if("*"===r){let e=o[n]||"";a=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=s&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:i,pathnameBase:a,pattern:e}}function C(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];a("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));return e.endsWith("*")?(r.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function A(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(hf){return a(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${hf}).`),e}}function T(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function E(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function P(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function F(e){let t=P(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function R(e,t,n){let r,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=d(e):(r={...e},i(!r.pathname||!r.pathname.includes("?"),E("?","pathname","search",r)),i(!r.pathname||!r.pathname.includes("#"),E("#","pathname","hash",r)),i(!r.search||!r.search.includes("#"),E("#","search","hash",r)));let a,o=""===e||""===r.pathname,l=o?"/":r.pathname;if(null==l)a=n;else{let e=t.length-1;if(!s&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}a=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:s=""}="string"===typeof e?d(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:I(r),hash:_(s)}}(r,a),u=l&&"/"!==l&&l.endsWith("/"),h=(o||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!h||(c.pathname+="/"),c}var D=e=>e.join("/").replace(/\/\/+/g,"/"),M=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),I=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",_=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function L(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var O=["POST","PUT","PATCH","DELETE"],z=(new Set(O),["GET",...O]);new Set(z),Symbol("ResetLoaderData");var B=t.createContext(null);B.displayName="DataRouter";var U=t.createContext(null);U.displayName="DataRouterState";var q=t.createContext({isTransitioning:!1});q.displayName="ViewTransition";var V=t.createContext(new Map);V.displayName="Fetchers";var W=t.createContext(null);W.displayName="Await";var H=t.createContext(null);H.displayName="Navigation";var G=t.createContext(null);G.displayName="Location";var K=t.createContext({outlet:null,matches:[],isDataRoute:!1});K.displayName="Route";var X=t.createContext(null);X.displayName="RouteError";function Y(){return null!=t.useContext(G)}function Q(){return i(Y(),"useLocation() may be used only in the context of a <Router> component."),t.useContext(G).location}var J="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Z(e){t.useContext(H).static||t.useLayoutEffect(e)}function $(){let{isDataRoute:e}=t.useContext(K);return e?function(){let{router:e}=de("useNavigate"),n=he("useNavigate"),r=t.useRef(!1);Z((()=>{r.current=!0}));let s=t.useCallback((async function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(r.current,J),r.current&&("number"===typeof t?e.navigate(t):await e.navigate(t,{fromRouteId:n,...s}))}),[e,n]);return s}():function(){i(Y(),"useNavigate() may be used only in the context of a <Router> component.");let e=t.useContext(B),{basename:n,navigator:r}=t.useContext(H),{matches:s}=t.useContext(K),{pathname:o}=Q(),l=JSON.stringify(F(s)),c=t.useRef(!1);Z((()=>{c.current=!0}));let d=t.useCallback((function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(a(c.current,J),!c.current)return;if("number"===typeof t)return void r.go(t);let i=R(t,JSON.parse(l),o,"path"===s.relative);null==e&&"/"!==n&&(i.pathname="/"===i.pathname?n:D([n,i.pathname])),(s.replace?r.replace:r.push)(i,s.state,s)}),[n,r,l,o,e]);return d}()}var ee=t.createContext(null);function te(){let{matches:e}=t.useContext(K),n=e[e.length-1];return n?n.params:{}}function ne(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=t.useContext(K),{pathname:s}=Q(),i=JSON.stringify(F(r));return t.useMemo((()=>R(e,JSON.parse(i),s,"path"===n)),[e,i,s,n])}function re(e,n,r,s){i(Y(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:l}=t.useContext(H),{matches:c}=t.useContext(K),u=c[c.length-1],p=u?u.params:{},m=u?u.pathname:"/",f=u?u.pathnameBase:"/",g=u&&u.route;{let e=g&&g.path||"";fe(m,!g||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let x,b=Q();if(n){let e="string"===typeof n?d(n):n;i("/"===f||e.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${e.pathname}" was given in the \`location\` prop.`),x=e}else x=b;let y=x.pathname||"/",v=y;if("/"!==f){let e=f.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=!l&&r&&r.matches&&r.matches.length>0?r.matches:h(e,{pathname:v});a(g||null!=w,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),a(null==w||void 0!==w[w.length-1].route.element||void 0!==w[w.length-1].route.Component||void 0!==w[w.length-1].route.lazy,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=le(w&&w.map((e=>Object.assign({},e,{params:Object.assign({},p,e.params),pathname:D([f,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?f:D([f,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),c,r,s);return n&&j?t.createElement(G.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},j):j}function se(){let e=pe(),n=L(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:s},a={padding:"2px 4px",backgroundColor:s},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=t.createElement(t.Fragment,null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",t.createElement("code",{style:a},"ErrorBoundary")," or"," ",t.createElement("code",{style:a},"errorElement")," prop on your route.")),t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:i},r):null,o)}var ie=t.createElement(se,null),ae=class extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(K.Provider,{value:this.props.routeContext},t.createElement(X.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function oe(e){let{routeContext:n,match:r,children:s}=e,i=t.useContext(B);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(K.Provider,{value:n},s)}function le(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!r)return null;if(r.errors)e=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;e=r.matches}}let s=e,a=r?.errors;if(null!=a){let e=s.findIndex((e=>e.route.id&&void 0!==a?.[e.route.id]));i(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,e+1))}let o=!1,l=-1;if(r)for(let t=0;t<s.length;t++){let e=s[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=t),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){o=!0,s=l>=0?s.slice(0,l+1):[s[0]];break}}}return s.reduceRight(((e,i,c)=>{let d,u=!1,h=null,p=null;r&&(d=a&&i.route.id?a[i.route.id]:void 0,h=i.route.errorElement||ie,o&&(l<0&&0===c?(fe("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),u=!0,p=null):l===c&&(u=!0,p=i.route.hydrateFallbackElement||null)));let m=n.concat(s.slice(0,c+1)),f=()=>{let n;return n=d?h:u?p:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(oe,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===c)?t.createElement(ae,{location:r.location,revalidation:r.revalidation,component:h,error:d,children:f(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):f()}),null)}function ce(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function de(e){let n=t.useContext(B);return i(n,ce(e)),n}function ue(e){let n=t.useContext(U);return i(n,ce(e)),n}function he(e){let n=function(e){let n=t.useContext(K);return i(n,ce(e)),n}(e),r=n.matches[n.matches.length-1];return i(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function pe(){let e=t.useContext(X),n=ue("useRouteError"),r=he("useRouteError");return void 0!==e?e:n.errors?.[r]}var me={};function fe(e,t,n){t||me[e]||(me[e]=!0,a(!1,n))}t.memo((function(e){let{routes:t,future:n,state:r}=e;return re(t,void 0,r,n)}));function ge(e){let{to:n,replace:r,state:s,relative:o}=e;i(Y(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=t.useContext(H);a(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=t.useContext(K),{pathname:d}=Q(),u=$(),h=R(n,F(c),d,"path"===o),p=JSON.stringify(h);return t.useEffect((()=>{u(JSON.parse(p),{replace:r,state:s,relative:o})}),[u,p,o,r,s]),null}function xe(e){return function(e){let n=t.useContext(K).outlet;return n?t.createElement(ee.Provider,{value:e},n):n}(e.context)}function be(e){i(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ye(e){let{basename:n="/",children:r=null,location:s,navigationType:o="POP",navigator:l,static:c=!1}=e;i(!Y(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=t.useMemo((()=>({basename:u,navigator:l,static:c,future:{}})),[u,l,c]);"string"===typeof s&&(s=d(s));let{pathname:p="/",search:m="",hash:f="",state:g=null,key:x="default"}=s,b=t.useMemo((()=>{let e=T(p,u);return null==e?null:{location:{pathname:e,search:m,hash:f,state:g,key:x},navigationType:o}}),[u,p,m,f,g,x,o]);return a(null!=b,`<Router basename="${u}"> is not able to match the URL "${p}${m}${f}" because it does not start with the basename, so the <Router> won't render anything.`),null==b?null:t.createElement(H.Provider,{value:h},t.createElement(G.Provider,{children:r,value:b}))}function ve(e){let{children:t,location:n}=e;return re(we(t),n)}t.Component;function we(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return t.Children.forEach(e,((e,s)=>{if(!t.isValidElement(e))return;let a=[...n,s];if(e.type===t.Fragment)return void r.push.apply(r,we(e.props.children,a));i(e.type===be,`[${"string"===typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),i(!e.props.index||!e.props.children,"An index route cannot have child routes.");let o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=we(e.props.children,a)),r.push(o)})),r}var je="get",ke="application/x-www-form-urlencoded";function Ne(e){return null!=e&&"string"===typeof e.tagName}var Se=null;var Ce=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ae(e){return null==e||Ce.has(e)?e:(a(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ke}"`),null)}function Te(e,t){let n,r,s,i,a;if(Ne(o=e)&&"form"===o.tagName.toLowerCase()){let a=e.getAttribute("action");r=a?T(a,t):null,n=e.getAttribute("method")||je,s=Ae(e.getAttribute("enctype"))||ke,i=new FormData(e)}else if(function(e){return Ne(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Ne(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||a.getAttribute("action");if(r=o?T(o,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||je,s=Ae(e.getAttribute("formenctype"))||Ae(a.getAttribute("enctype"))||ke,i=new FormData(a,e),!function(){if(null===Se)try{new FormData(document.createElement("form"),0),Se=!1}catch(e){Se=!0}return Se}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";i.append(`${e}x`,"0"),i.append(`${e}y`,"0")}else t&&i.append(t,r)}}else{if(Ne(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=je,r=null,s=ke,a=e}var o;return i&&"text/plain"===s&&(a=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:a}}function Ee(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Pe(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(hf){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(hf),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function Fe(e){return null!=e&&"string"===typeof e.page}function Re(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function De(e,t,n,r,s,i){let a=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===i?t.filter(((e,t)=>a(e,t)||o(e,t))):"data"===i?t.filter(((t,i)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(a(t,i)||o(t,i))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function Me(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map((e=>{let r=t.routes[e.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s})).flat(1),[...new Set(r)];var r}function Ie(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,s)=>{if(t&&!Fe(s)&&"script"===s.as&&s.href&&r.has(s.href))return e;let i=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(s));return n.has(i)||(n.add(i),e.push({key:i,link:s})),e}),[])}function _e(e){return{__html:e}}Symbol("SingleFetchRedirect");var Le=new Set([100,101,204,205]);function Oe(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===T(n.pathname,t)?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}t.Component;function ze(e){let{error:n,isOutsideRemixApp:r}=e;console.error(n);let s,i=t.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(L(n))return t.createElement(Be,{title:"Unhandled Thrown Response!"},t.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),i);if(n instanceof Error)s=n;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);s=new Error(e)}return t.createElement(Be,{title:"Application Error!",isOutsideRemixApp:r},t.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),t.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},s.stack),i)}function Be(e){let{title:n,renderScripts:r,isOutsideRemixApp:s,children:i}=e,{routeModules:a}=He();return a.root?.Layout&&!s?i:t.createElement("html",{lang:"en"},t.createElement("head",null,t.createElement("meta",{charSet:"utf-8"}),t.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),t.createElement("title",null,n)),t.createElement("body",null,t.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},i,r?t.createElement(Ze,null):null)))}function Ue(e){return!0===e}function qe(){let e=t.useContext(B);return Ee(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Ve(){let e=t.useContext(U);return Ee(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var We=t.createContext(void 0);function He(){let e=t.useContext(We);return Ee(e,"You must render this element inside a <HydratedRouter> element"),e}function Ge(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Ke(e,t,n){if(n&&!Je)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function Xe(e){let{page:n,...r}=e,{router:s}=qe(),i=t.useMemo((()=>h(s.routes,n,s.basename)),[s.routes,n,s.basename]);return i?t.createElement(Qe,{page:n,matches:i,...r}):null}function Ye(e){let{manifest:n,routeModules:r}=He(),[s,i]=t.useState([]);return t.useEffect((()=>{let t=!1;return async function(e,t,n){return Ie((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await Pe(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(Re).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"})))}(e,n,r).then((e=>{t||i(e)})),()=>{t=!0}}),[e,n,r]),s}function Qe(e){let{page:n,matches:r,...s}=e,i=Q(),{manifest:a,routeModules:o}=He(),{basename:l}=qe(),{loaderData:c,matches:d}=Ve(),u=t.useMemo((()=>De(n,r,d,a,i,"data")),[n,r,d,a,i]),h=t.useMemo((()=>De(n,r,d,a,i,"assets")),[n,r,d,a,i]),p=t.useMemo((()=>{if(n===i.pathname+i.search+i.hash)return[];let e=new Set,t=!1;if(r.forEach((n=>{let r=a.routes[n.route.id];r&&r.hasLoader&&(!u.some((e=>e.route.id===n.route.id))&&n.route.id in c&&o[n.route.id]?.shouldRevalidate||r.hasClientLoader?t=!0:e.add(n.route.id))})),0===e.size)return[];let s=Oe(n,l);return t&&e.size>0&&s.searchParams.set("_routes",r.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[s.pathname+s.search]}),[l,c,i,a,u,r,n,o]),m=t.useMemo((()=>Me(h,a)),[h,a]),f=Ye(h);return t.createElement(t.Fragment,null,p.map((e=>t.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...s}))),m.map((e=>t.createElement("link",{key:e,rel:"modulepreload",href:e,...s}))),f.map((e=>{let{key:n,link:r}=e;return t.createElement("link",{key:n,...r})})))}We.displayName="FrameworkContext";var Je=!1;function Ze(e){let{manifest:n,serverHandoffString:r,isSpaMode:s,ssr:i,renderMeta:a}=He(),{router:o,static:l,staticContext:c}=qe(),{matches:d}=Ve(),u=Ue(i);a&&(a.didRenderScripts=!0);let p=Ke(d,null,s);t.useEffect((()=>{Je=!0}),[]);let m=t.useMemo((()=>{let s=c?`window.__reactRouterContext = ${r};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",i=l?`${n.hmr?.runtime?`import ${JSON.stringify(n.hmr.runtime)};`:""}${u?"":`import ${JSON.stringify(n.url)}`};\n${p.map(((e,t)=>{let r=`route${t}`,s=n.routes[e.route.id];Ee(s,`Route ${e.route.id} not found in manifest`);let{clientActionModule:i,clientLoaderModule:a,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=s,d=[...i?[{module:i,varName:`${r}_clientAction`}]:[],...a?[{module:a,varName:`${r}_clientLoader`}]:[],...o?[{module:o,varName:`${r}_clientMiddleware`}]:[],...l?[{module:l,varName:`${r}_HydrateFallback`}]:[],{module:c,varName:`${r}_main`}];return 1===d.length?`import * as ${r} from ${JSON.stringify(c)};`:[d.map((e=>`import * as ${e.varName} from "${e.module}";`)).join("\n"),`const ${r} = {${d.map((e=>`...${e.varName}`)).join(",")}};`].join("\n")})).join("\n")}\n  ${u?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let{sri:n,...r}=e,s=new Set(t.state.matches.map((e=>e.route.id))),i=t.state.location.pathname.split("/").filter(Boolean),a=["/"];for(i.pop();i.length>0;)a.push(`/${i.join("/")}`),i.pop();a.forEach((e=>{let n=h(t.routes,e,t.basename);n&&n.forEach((e=>s.add(e.route.id)))}));let o=[...s].reduce(((e,t)=>Object.assign(e,{[t]:r.routes[t]})),{});return{...r,routes:o,sri:!!n||void 0}}(n,o),null,2)};`:""}\n  window.__reactRouterRouteModules = {${p.map(((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`)).join(",")}};\n\nimport(${JSON.stringify(n.entry.module)});`:" ";return t.createElement(t.Fragment,null,t.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:_e(s),type:void 0}),t.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:_e(i),type:"module",async:!0}))}),[]),f=Je?[]:(g=n.entry.imports.concat(Me(p,n,{includeHydrateFallback:!0})),[...new Set(g)]);var g;let x="object"===typeof n.sri?n.sri:{};return Je?null:t.createElement(t.Fragment,null,"object"===typeof n.sri?t.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:x})}}):null,u?null:t.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:e.crossOrigin,integrity:x[n.url],suppressHydrationWarning:!0}),t.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:e.crossOrigin,integrity:x[n.entry.module],suppressHydrationWarning:!0}),f.map((n=>t.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:e.crossOrigin,integrity:x[n],suppressHydrationWarning:!0}))),m)}function $e(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var et="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{et&&(window.__reactRouterVersion="7.5.3")}catch(EN){}function tt(e){let{basename:n,children:r,window:i}=e,a=t.useRef();null==a.current&&(a.current=s({window:i,v5Compat:!0}));let o=a.current,[l,c]=t.useState({action:o.action,location:o.location}),d=t.useCallback((e=>{t.startTransition((()=>c(e)))}),[c]);return t.useLayoutEffect((()=>o.listen(d)),[o,d]),t.createElement(ye,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:o})}var nt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rt=t.forwardRef((function(e,n){let r,{onClick:s,discover:o="render",prefetch:l="none",relative:d,reloadDocument:u,replace:h,state:p,target:m,to:f,preventScrollReset:g,viewTransition:x,...b}=e,{basename:y}=t.useContext(H),v="string"===typeof f&&nt.test(f),w=!1;if("string"===typeof f&&v&&(r=f,et))try{let e=new URL(window.location.href),t=f.startsWith("//")?new URL(e.protocol+f):new URL(f),n=T(t.pathname,y);t.origin===e.origin&&null!=n?f=n+t.search+t.hash:w=!0}catch(EN){a(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(Y(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=t.useContext(H),{hash:a,pathname:o,search:l}=ne(e,{relative:n}),c=o;return"/"!==r&&(c="/"===o?r:D([r,o])),s.createHref({pathname:c,search:l,hash:a})}(f,{relative:d}),[k,N,S]=function(e,n){let r=t.useContext(We),[s,i]=t.useState(!1),[a,o]=t.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:h}=n,p=t.useRef(null);t.useEffect((()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{o(e.isIntersecting)}))}),{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}}),[e]),t.useEffect((()=>{if(s){let e=setTimeout((()=>{o(!0)}),100);return()=>{clearTimeout(e)}}}),[s]);let m=()=>{i(!0)},f=()=>{i(!1),o(!1)};return r?"intent"!==e?[a,p,{}]:[a,p,{onFocus:Ge(l,m),onBlur:Ge(c,f),onMouseEnter:Ge(d,m),onMouseLeave:Ge(u,f),onTouchStart:Ge(h,m)}]:[!1,p,{}]}(l,b),C=function(e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=$(),d=Q(),u=ne(e,{relative:a});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:c(d)===c(u);l(e,{replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:o})}}),[d,l,u,r,s,n,e,i,a,o])}(f,{replace:h,state:p,target:m,preventScrollReset:g,relative:d,viewTransition:x});let A=t.createElement("a",{...b,...S,href:r||j,onClick:w||u?s:function(e){s&&s(e),e.defaultPrevented||C(e)},ref:$e(n,N),target:m,"data-discover":v||"render"!==o?void 0:"true"});return k&&!v?t.createElement(t.Fragment,null,A,t.createElement(Xe,{page:j})):A}));rt.displayName="Link",t.forwardRef((function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:a="",end:o=!1,style:l,to:c,viewTransition:d,children:u,...h}=e,p=ne(c,{relative:h.relative}),m=Q(),f=t.useContext(U),{navigator:g,basename:x}=t.useContext(H),b=null!=f&&function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.useContext(q);i(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=at("useViewTransitionState"),a=ne(e,{relative:n.relative});if(!r.isTransitioning)return!1;let o=T(r.currentLocation.pathname,s)||r.currentLocation.pathname,l=T(r.nextLocation.pathname,s)||r.nextLocation.pathname;return null!=S(a.pathname,l)||null!=S(a.pathname,o)}(p)&&!0===d,y=g.encodeLocation?g.encodeLocation(p).pathname:p.pathname,v=m.pathname,w=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;s||(v=v.toLowerCase(),w=w?w.toLowerCase():null,y=y.toLowerCase()),w&&x&&(w=T(w,x)||w);const j="/"!==y&&y.endsWith("/")?y.length-1:y.length;let k,N=v===y||!o&&v.startsWith(y)&&"/"===v.charAt(j),C=null!=w&&(w===y||!o&&w.startsWith(y)&&"/"===w.charAt(y.length)),A={isActive:N,isPending:C,isTransitioning:b},E=N?r:void 0;k="function"===typeof a?a(A):[a,N?"active":null,C?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let P="function"===typeof l?l(A):l;return t.createElement(rt,{...h,"aria-current":E,className:k,ref:n,style:P,to:c,viewTransition:d},"function"===typeof u?u(A):u)})).displayName="NavLink";var st=t.forwardRef(((e,n)=>{let{discover:r="render",fetcherKey:s,navigate:a,reloadDocument:o,replace:l,state:d,method:u=je,action:h,onSubmit:p,relative:m,preventScrollReset:f,viewTransition:g,...x}=e,b=ct(),y=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=t.useContext(H),s=t.useContext(K);i(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),o={...ne(e||".",{relative:n})},l=Q();if(null==e){o.search=l.search;let e=new URLSearchParams(o.search),t=e.getAll("index");if(t.some((e=>""===e))){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();o.search=n?`?${n}`:""}}e&&"."!==e||!a.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(o.pathname="/"===o.pathname?r:D([r,o.pathname]));return c(o)}(h,{relative:m}),v="get"===u.toLowerCase()?"get":"post",w="string"===typeof h&&nt.test(h);return t.createElement("form",{ref:n,method:v,action:y,onSubmit:o?p:e=>{if(p&&p(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=t?.getAttribute("formmethod")||u;b(t||e.currentTarget,{fetcherKey:s,method:n,navigate:a,replace:l,state:d,relative:m,preventScrollReset:f,viewTransition:g})},...x,"data-discover":w||"render"!==r?void 0:"true"})}));function it(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function at(e){let n=t.useContext(B);return i(n,it(e)),n}st.displayName="Form";var ot=0,lt=()=>`__${String(++ot)}__`;function ct(){let{router:e}=at("useSubmit"),{basename:n}=t.useContext(H),r=he("useRouteId");return t.useCallback((async function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:i,method:a,encType:o,formData:l,body:c}=Te(t,n);if(!1===s.navigate){let t=s.fetcherKey||lt();await e.fetch(t,r,s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||a,formEncType:s.encType||o,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||a,formEncType:s.encType||o,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})}),[e,n,r])}new TextEncoder;function dt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var ut=function e(t,n){function r(e,r,s){if("undefined"!==typeof document){"number"===typeof(s=dt({},n,s)).expires&&(s.expires=new Date(Date.now()+864e5*s.expires)),s.expires&&(s.expires=s.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var a in s)s[a]&&(i+="; "+a,!0!==s[a]&&(i+="="+s[a].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+i}}return Object.create({set:r,get:function(e){if("undefined"!==typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},s=0;s<n.length;s++){var i=n[s].split("="),a=i.slice(1).join("=");try{var o=decodeURIComponent(i[0]);if(r[o]=t.read(a,o),e===o)break}catch(EN){}}return e?r[e]:r}},remove:function(e,t){r(e,"",dt({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,dt({},this.attributes,t))},withConverter:function(t){return e(dt({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),ht=__webpack_require__(579);const pt=e=>{let{onAuthSuccess:n}=e;const[r,s]=(0,t.useState)(""),[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)("");return(0,ht.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,ht.jsxs)("div",{className:"w-full max-w-md p-8 space-y-8 bg-white rounded-lg shadow-md",children:[(0,ht.jsxs)("div",{className:"text-center",children:[(0,ht.jsx)("h1",{className:"text-4xl font-extrabold tracking-tight text-gray-900",children:"Admin Login"}),(0,ht.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Sign in to access the admin dashboard"})]}),c&&(0,ht.jsx)("div",{className:"bg-red-50 text-red-800 p-4 rounded-md",children:c}),(0,ht.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:async e=>{e.preventDefault(),l(!0),d("");try{const e=await fetch("https://aipbbackend.onrender.com/api/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,password:i})}),t=await e.json();t.success?(ut.set("admintoken",t.token,{expires:7}),ut.set("adminUser",JSON.stringify({id:t.user.id,name:t.user.name,email:t.user.email,role:"admin"}),{expires:7}),n()):d(t.message||"Login failed. Please check your credentials.")}catch(c){console.error("Admin login error:",c),d("An error occurred during login. Please try again.")}finally{l(!1)}},children:[(0,ht.jsxs)("div",{className:"space-y-4",children:[(0,ht.jsxs)("div",{children:[(0,ht.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),(0,ht.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r,onChange:e=>s(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-red-500 focus:border-red-500",placeholder:"admin@example.com"})]}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,ht.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:i,onChange:e=>a(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-red-500 focus:border-red-500",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"})]})]}),(0,ht.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded"}),(0,ht.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),(0,ht.jsx)("div",{className:"text-sm",children:(0,ht.jsx)("a",{href:"#",className:"font-medium text-red-600 hover:text-red-500",children:"Forgot your password?"})})]}),(0,ht.jsx)("div",{children:(0,ht.jsx)("button",{type:"submit",disabled:o,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:bg-red-400",children:o?(0,ht.jsxs)("span",{className:"flex items-center",children:[(0,ht.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,ht.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,ht.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})})]}),(0,ht.jsx)("div",{className:"text-center mt-4",children:(0,ht.jsx)(rt,{to:"/admin/register",className:"text-red-600 hover:text-red-800 font-medium",children:"Don't have an admin account? Register"})}),(0,ht.jsx)("div",{className:"border-t border-gray-200 pt-4 mt-4",children:(0,ht.jsx)(rt,{to:"/",className:"text-gray-600 hover:text-gray-800 font-medium",children:"Back to main site"})})]})})},mt=e=>{let{onAuthSuccess:n}=e;const[r,s]=(0,t.useState)(""),[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)(""),[c,d]=(0,t.useState)(""),[u,h]=(0,t.useState)(""),[p,m]=(0,t.useState)(!1),[f,g]=(0,t.useState)(""),[x,b]=(0,t.useState)("");return(0,ht.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,ht.jsxs)("div",{className:"w-full max-w-md p-8 space-y-8 bg-white rounded-lg shadow-md",children:[(0,ht.jsxs)("div",{className:"text-center",children:[(0,ht.jsx)("h1",{className:"text-4xl font-extrabold tracking-tight text-gray-900",children:"Admin Registration"}),(0,ht.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Create a new admin account"})]}),f&&(0,ht.jsx)("div",{className:"bg-red-50 text-red-800 p-4 rounded-md",children:f}),(0,ht.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:async e=>{if(e.preventDefault(),o!==c?(b("Passwords do not match"),0):o.length<8?(b("Password must be at least 8 characters long"),0):(b(""),1)){m(!0),g("");try{const e=await fetch("https://aipbbackend.onrender.com/api/admin/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r,email:i,password:o,adminCode:u})}),t=await e.json();t.success?(ut.set("admintoken",t.token,{expires:7}),ut.set("adminUser",JSON.stringify({id:t.user.id,name:t.user.name,email:t.user.email,role:"admin"}),{expires:7}),n()):g(t.message||"Registration failed. Please try again.")}catch(f){console.error("Admin registration error:",f),g("An error occurred during registration. Please try again.")}finally{m(!1)}}},children:[(0,ht.jsxs)("div",{className:"space-y-4",children:[(0,ht.jsxs)("div",{children:[(0,ht.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),(0,ht.jsx)("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,value:r,onChange:e=>s(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-red-500 focus:border-red-500",placeholder:"John Doe"})]}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),(0,ht.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:i,onChange:e=>a(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-red-500 focus:border-red-500",placeholder:"admin@example.com"})]}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,ht.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:o,onChange:e=>l(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-red-500 focus:border-red-500",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),(0,ht.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Password must be at least 8 characters long"})]}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),(0,ht.jsx)("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"new-password",required:!0,value:c,onChange:e=>d(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-red-500 focus:border-red-500",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),x&&(0,ht.jsx)("p",{className:"mt-1 text-xs text-red-600",children:x})]}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("label",{htmlFor:"admin-code",className:"block text-sm font-medium text-gray-700",children:"Admin Registration Code"}),(0,ht.jsx)("input",{id:"admin-code",name:"admin-code",type:"text",required:!0,value:u,onChange:e=>h(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-red-500 focus:border-red-500",placeholder:"Enter admin registration code"}),(0,ht.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"You need a valid admin code to register as an administrator"})]})]}),(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsx)("input",{id:"terms",name:"terms",type:"checkbox",required:!0,className:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded"}),(0,ht.jsxs)("label",{htmlFor:"terms",className:"ml-2 block text-sm text-gray-900",children:["I agree to the ",(0,ht.jsx)("a",{href:"#",className:"text-red-600 hover:text-red-500",children:"Terms of Service"})," and ",(0,ht.jsx)("a",{href:"#",className:"text-red-600 hover:text-red-500",children:"Privacy Policy"})]})]}),(0,ht.jsx)("div",{children:(0,ht.jsx)("button",{type:"submit",disabled:p,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:bg-red-400",children:p?(0,ht.jsxs)("span",{className:"flex items-center",children:[(0,ht.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,ht.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,ht.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating account..."]}):"Register"})})]}),(0,ht.jsx)("div",{className:"text-center mt-4",children:(0,ht.jsx)(rt,{to:"/admin/login",className:"text-red-600 hover:text-red-800 font-medium",children:"Already have an admin account? Sign in"})}),(0,ht.jsx)("div",{className:"border-t border-gray-200 pt-4 mt-4",children:(0,ht.jsx)(rt,{to:"/",className:"text-gray-600 hover:text-gray-800 font-medium",children:"Back to main site"})})]})})},ft=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,((e,t,n)=>n?n.toUpperCase():t.toLowerCase())))(e);return t.charAt(0).toUpperCase()+t.slice(1)},gt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t)).join(" ").trim()},xt=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var bt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const yt=(0,t.forwardRef)(((e,n)=>{let{color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:l,iconNode:c,...d}=e;return(0,t.createElement)("svg",{ref:n,...bt,width:s,height:s,stroke:r,strokeWidth:a?24*Number(i)/Number(s):i,className:gt("lucide",o),...!l&&!xt(d)&&{"aria-hidden":"true"},...d},[...c.map((e=>{let[n,r]=e;return(0,t.createElement)(n,r)})),...Array.isArray(l)?l:[l]])})),vt=(e,n)=>{const r=(0,t.forwardRef)(((r,s)=>{let{className:i,...a}=r;return(0,t.createElement)(yt,{ref:s,iconNode:n,className:gt(`lucide-${o=ft(e),o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,i),...a});var o}));return r.displayName=ft(e),r},wt=vt("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),jt=vt("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),kt=vt("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Nt=vt("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),St=vt("log-out",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Ct=vt("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),At=vt("bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),Tt=vt("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),Et=vt("book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]),Pt=vt("clipboard-list",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),Ft=vt("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),Rt=e=>{let{isExpanded:t,currentPath:n,handleNavigate:r}=e;const s=[{path:"/dashboard",name:"Home",icon:(0,ht.jsx)(Ct,{size:20})},{path:"/ai",name:"AI",icon:(0,ht.jsx)(At,{size:20})},{path:"/my-library",name:"My Library",icon:(0,ht.jsx)(Tt,{size:20})},{path:"/ai-books",name:"AI Books",icon:(0,ht.jsx)(Et,{size:20})},{path:"/tests",name:"Tests",icon:(0,ht.jsx)(Pt,{size:20})},{path:"/lectures",name:"Lectures",icon:(0,ht.jsx)(Ft,{size:20})},{path:"/settings",name:"Settings",icon:(0,ht.jsx)(kt,{size:20})}];return(0,ht.jsx)("div",{className:"mt-6 mb-20",children:s.map((e=>(0,ht.jsxs)("div",{onClick:()=>r(e.path),className:"flex items-center py-3 px-4 cursor-pointer transition-colors duration-200 "+(n===e.path?"bg-blue-50 text-blue-600 border-r-4 border-blue-600":"text-gray-700 hover:bg-gray-50"),children:[(0,ht.jsx)("div",{className:"flex-shrink-0",children:e.icon}),t&&(0,ht.jsx)("span",{className:"ml-4 text-sm font-medium",children:e.name})]},e.path)))})},Dt=vt("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),Mt=vt("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),It=vt("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),_t=vt("message-circle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]),Lt=vt("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),Ot=e=>{let{isExpanded:t,currentPath:n,handleNavigate:r}=e;const s=[{path:"/dashboard",name:"Overview",icon:(0,ht.jsx)(Ct,{size:20})},{path:"/ai-books",name:"AI Books",icon:(0,ht.jsx)(Et,{size:20})},{path:"/ai-workbook",name:"AI Workbook",icon:(0,ht.jsx)(Dt,{size:20})},{path:"/datastore",name:"Datastore",icon:(0,ht.jsx)(Mt,{size:20})},{path:"/ai-agent",name:"AI Agent",icon:(0,ht.jsx)(At,{size:20})},{path:"/chats",name:"Chats",icon:(0,ht.jsx)(It,{size:20})},{path:"/conversations",name:"Conversations",icon:(0,ht.jsx)(_t,{size:20})},{path:"/plans",name:"Plans",icon:(0,ht.jsx)(Pt,{size:20})},{path:"/users",name:"Users",icon:(0,ht.jsx)(Lt,{size:20})}];return(0,ht.jsx)("div",{className:"mt-6 mb-20",children:s.map((e=>(0,ht.jsxs)("div",{onClick:()=>r(e.path),className:"flex items-center py-3 px-4 cursor-pointer transition-colors duration-200 "+(n===e.path?"bg-green-50 text-green-600 border-r-4 border-green-600":"text-gray-700 hover:bg-gray-50"),children:[(0,ht.jsx)("div",{className:"flex-shrink-0",children:e.icon}),t&&(0,ht.jsx)("span",{className:"ml-4 text-sm font-medium",children:e.name})]},e.path)))})},zt=vt("ticket-check",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Bt=vt("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Ut=vt("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),qt=e=>{let{isExpanded:t,currentPath:n,handleNavigate:r}=e;const s=[{path:"/admin/dashboard",name:"Overview",icon:(0,ht.jsx)(Ct,{size:20})},{path:"/admin/clients",name:"Clients",icon:(0,ht.jsx)(Lt,{size:20})},{path:"/admin/users",name:"Users",icon:(0,ht.jsx)(Nt,{size:20})},{path:"/admin/ai-agents",name:"AI Agents",icon:(0,ht.jsx)(At,{size:20})},{path:"/admin/conversations",name:"Conversations",icon:(0,ht.jsx)(_t,{size:20})},{path:"/admin/tickets",name:"Tickets",icon:(0,ht.jsx)(zt,{size:20})},{path:"/admin/payments",name:"Payments",icon:(0,ht.jsx)(Bt,{size:20})},{path:"/admin/tips",name:"Tips",icon:(0,ht.jsx)(Ut,{size:20})}];return(0,ht.jsx)("div",{className:"mt-6 mb-20",children:s.map((e=>(0,ht.jsxs)("div",{onClick:()=>r(e.path),className:"flex items-center py-3 px-4 cursor-pointer transition-colors duration-200 "+(n.includes(e.path)?"bg-blue-50 text-blue-600 border-r-4 border-blue-600":"text-gray-700 hover:bg-gray-50"),children:[(0,ht.jsx)("div",{className:"flex-shrink-0",children:e.icon}),t&&(0,ht.jsx)("span",{className:"ml-4 text-sm font-medium",children:e.name})]},e.path)))})},Vt=e=>{let{onLogout:n,userRole:r}=e;const[s,i]=(0,t.useState)(!0),[a,o]=(0,t.useState)("/dashboard"),[l,c]=(0,t.useState)(""),[d,u]=(0,t.useState)(!1),h=$(),p=Q();(0,t.useEffect)((()=>{o(p.pathname)}),[p]),(0,t.useEffect)((()=>{if("admin"===r)return void c("Administrator");const e=ut.get("user");if(e)try{const t=JSON.parse(e);c(t.name||("client"===r?"Client":"User"))}catch(hf){console.error("Error parsing user data:",hf),c("client"===r?"Client":"User")}}),[r]);const m=e=>{h(e),o(e)},f=()=>{h("admin"===r?"/admin/settings":"client"===r?"/profile":"/settings")};return(0,ht.jsxs)("div",{className:"flex h-screen bg-gray-100",children:[(0,ht.jsxs)("div",{className:`bg-white shadow-lg transition-all duration-300 ease-in-out ${s?"w-64":"w-20"} relative`,children:[(0,ht.jsxs)("div",{className:"flex items-center p-4 border-b border-gray-200",children:[(0,ht.jsxs)("div",{className:"flex items-center cursor-pointer",onClick:()=>h("admin"===r?"/admin/dashboard":"/dashboard"),children:[(0,ht.jsx)("img",{src:"/logo.png",alt:"AILisher Logo",className:"w-10 h-10 object-contain",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}),(0,ht.jsx)("div",{className:"w-10 h-10 bg-blue-600 rounded-full hidden items-center justify-center overflow-hidden",children:(0,ht.jsx)("span",{className:"text-white font-bold text-xl",children:"AI"})})]}),s&&(0,ht.jsx)("span",{className:"ml-3 font-bold text-2xl text-gray-700 animate-fade-in",children:"AILisher"})]}),(0,ht.jsx)("button",{onClick:()=>i(!s),className:"absolute -right-3 top-8 rounded-full p-2 shadow-md transition-colors bg-white hover:bg-gray-100 text-gray-800",children:s?(0,ht.jsx)(wt,{size:20}):(0,ht.jsx)(jt,{size:20})}),"admin"===r&&(0,ht.jsx)(qt,{isExpanded:s,currentPath:a,handleNavigate:m}),"client"===r&&(0,ht.jsx)(Ot,{isExpanded:s,currentPath:a,handleNavigate:m}),"user"===r&&(0,ht.jsx)(Rt,{isExpanded:s,currentPath:a,handleNavigate:m}),(0,ht.jsx)("div",{className:"absolute bottom-0 w-full border-t border-gray-200 p-4",children:(0,ht.jsxs)("div",{className:"relative",children:[(0,ht.jsxs)("div",{onClick:()=>{u(!d)},className:"flex items-center justify-center cursor-pointer hover:bg-gray-50 text-gray-700 transition-colors duration-200 p-2 rounded-full",children:[(0,ht.jsx)(kt,{size:20}),s&&(0,ht.jsx)("span",{className:"ml-4",children:"Settings"})]}),d&&(0,ht.jsxs)("div",{className:"absolute bottom-full left-0 w-48 mb-2 py-2 rounded-lg shadow-lg bg-white text-gray-900 border border-gray-200",children:[(0,ht.jsxs)("button",{onClick:f,className:"w-full px-4 py-2 text-left flex items-center hover:bg-gray-50 text-gray-700",children:[(0,ht.jsx)(Nt,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Profile"})]}),(0,ht.jsxs)("button",{onClick:n,className:"w-full px-4 py-2 text-left flex items-center hover:bg-gray-50 text-red-600",children:[(0,ht.jsx)(St,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Logout"})]})]})]})})]}),(0,ht.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,ht.jsxs)("div",{className:"bg-white shadow-md py-4 px-6 flex items-center justify-between",children:[(0,ht.jsx)("div",{className:"flex items-center",children:(0,ht.jsx)("div",{children:(0,ht.jsx)("span",{className:"font-semibold text-gray-800"})})}),(0,ht.jsx)("div",{className:"flex items-center",children:(0,ht.jsx)("div",{className:"flex items-center",children:(0,ht.jsxs)("div",{onClick:f,className:"flex items-center cursor-pointer hover:bg-gray-50 rounded-lg py-2 px-4",children:[(0,ht.jsx)("div",{className:`w-10 h-10 rounded-full ${"admin"===r?"bg-red-600":"client"===r?"bg-green-600":"bg-blue-600"} flex items-center justify-center text-white font-medium overflow-hidden mr-3`,children:l?l.charAt(0).toUpperCase():(0,ht.jsx)(Nt,{size:16})}),(0,ht.jsxs)("div",{className:"flex flex-col",children:[(0,ht.jsx)("span",{className:"text-xs text-gray-500",children:"Logged in as"}),(0,ht.jsxs)("span",{className:"font-medium text-gray-800",children:[l," (",r,")"]})]})]})})})]}),(0,ht.jsx)("div",{className:"flex-1 overflow-auto p-8 text-gray-900",children:(0,ht.jsx)(xe,{})})]})]})};var Wt={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ht=t.createContext&&t.createContext(Wt),Gt=["attr","size","title"];function Kt(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Xt(){return Xt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xt.apply(this,arguments)}function Yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(n),!0).forEach((function(t){Jt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jt(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zt(e){return e&&e.map(((e,n)=>t.createElement(e.tag,Qt({key:n},e.attr),Zt(e.child))))}function $t(e){return n=>t.createElement(en,Xt({attr:Qt({},e.attr)},n),Zt(e.child))}function en(e){var n=n=>{var r,{attr:s,size:i,title:a}=e,o=Kt(e,Gt),l=i||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",Xt({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,o,{className:r,style:Qt(Qt({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&t.createElement("title",null,a),e.children)};return void 0!==Ht?t.createElement(Ht.Consumer,null,(e=>n(e))):n(Wt)}function tn(e){return $t({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(e)}function nn(e){return $t({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(e)}function rn(e){return $t({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(e)}function sn(e){return $t({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"},child:[]},{tag:"path",attr:{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"},child:[]}]})(e)}function an(e){return $t({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"},child:[]}]})(e)}function on(e){return $t({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 11 12 14 22 4"},child:[]},{tag:"path",attr:{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"},child:[]}]})(e)}function ln(e){return $t({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"4",y:"4",width:"16",height:"16",rx:"2",ry:"2"},child:[]},{tag:"rect",attr:{x:"9",y:"9",width:"6",height:"6"},child:[]},{tag:"line",attr:{x1:"9",y1:"1",x2:"9",y2:"4"},child:[]},{tag:"line",attr:{x1:"15",y1:"1",x2:"15",y2:"4"},child:[]},{tag:"line",attr:{x1:"9",y1:"20",x2:"9",y2:"23"},child:[]},{tag:"line",attr:{x1:"15",y1:"20",x2:"15",y2:"23"},child:[]},{tag:"line",attr:{x1:"20",y1:"9",x2:"23",y2:"9"},child:[]},{tag:"line",attr:{x1:"20",y1:"14",x2:"23",y2:"14"},child:[]},{tag:"line",attr:{x1:"1",y1:"9",x2:"4",y2:"9"},child:[]},{tag:"line",attr:{x1:"1",y1:"14",x2:"4",y2:"14"},child:[]}]})(e)}function cn(e){return $t({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"ellipse",attr:{cx:"12",cy:"5",rx:"9",ry:"3"},child:[]},{tag:"path",attr:{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"},child:[]},{tag:"path",attr:{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"},child:[]}]})(e)}function dn(e){return $t({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(e)}function un(e){return $t({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(e)}function hn(e){return $t({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"2",width:"20",height:"8",rx:"2",ry:"2"},child:[]},{tag:"rect",attr:{x:"2",y:"14",width:"20",height:"8",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"6.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"6",y1:"18",x2:"6.01",y2:"18"},child:[]}]})(e)}function pn(e){return $t({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(e)}const mn=()=>{const[e,n]=(0,t.useState)("month"),r=[{id:1,name:"Total Clients",value:"28",icon:(0,ht.jsx)(an,{className:"text-blue-600",size:24}),change:"+12.5",status:"increase"},{id:2,name:"Active Users",value:"245",icon:(0,ht.jsx)(pn,{className:"text-green-600",size:24}),change:"+8.2",status:"increase"},{id:3,name:"Monthly Revenue",value:"$12,450",icon:(0,ht.jsx)(dn,{className:"text-yellow-600",size:24}),change:"+15.3",status:"increase"},{id:4,name:"Support Tickets",value:"15",icon:(0,ht.jsx)(nn,{className:"text-red-600",size:24}),change:"-5.1",status:"decrease"}];return(0,ht.jsxs)("div",{className:"p-6",children:[(0,ht.jsxs)("div",{className:"mb-8",children:[(0,ht.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Admin Dashboard"}),(0,ht.jsx)("p",{className:"text-gray-600",children:"Management overview of your platform and clients"})]}),(0,ht.jsx)("div",{className:"mb-6 flex justify-end",children:(0,ht.jsxs)("div",{className:"inline-flex rounded-md shadow-sm",children:[(0,ht.jsx)("button",{onClick:()=>n("week"),className:`px-4 py-2 text-sm font-medium rounded-l-lg ${"week"===e?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"} border border-gray-300`,children:"Week"}),(0,ht.jsx)("button",{onClick:()=>n("month"),className:`px-4 py-2 text-sm font-medium ${"month"===e?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"} border-t border-b border-gray-300`,children:"Month"}),(0,ht.jsx)("button",{onClick:()=>n("quarter"),className:`px-4 py-2 text-sm font-medium rounded-r-lg ${"quarter"===e?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"} border border-gray-300`,children:"Quarter"})]})}),(0,ht.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:r.map((e=>(0,ht.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,ht.jsx)("div",{className:"p-3 rounded-full bg-gray-100",children:e.icon}),(0,ht.jsxs)("span",{className:"text-sm font-medium "+("increase"===e.status?"text-green-500":"text-red-500"),children:[e.change,"%"]})]}),(0,ht.jsx)("h3",{className:"text-gray-500 text-sm font-medium",children:e.name}),(0,ht.jsx)("p",{className:"text-3xl font-bold text-gray-800",children:e.value})]},e.id)))}),(0,ht.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,ht.jsxs)("div",{className:"lg:col-span-2 bg-white rounded-lg shadow",children:[(0,ht.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,ht.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:"Top Clients"})}),(0,ht.jsx)("div",{className:"overflow-x-auto",children:(0,ht.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ht.jsx)("thead",{className:"bg-gray-50",children:(0,ht.jsxs)("tr",{children:[(0,ht.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),(0,ht.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Users"}),(0,ht.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),(0,ht.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),(0,ht.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:[{id:1,name:"EduTech Solutions",users:42,revenue:"$2,500",status:"active"},{id:2,name:"Global Learning Institute",users:38,revenue:"$2,100",status:"active"},{id:3,name:"Smart Academy",users:26,revenue:"$1,750",status:"active"},{id:4,name:"Premier Education",users:24,revenue:"$1,600",status:"active"},{id:5,name:"Future Schools Network",users:18,revenue:"$1,200",status:"active"}].map((e=>(0,ht.jsxs)("tr",{children:[(0,ht.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ht.jsx)("div",{className:"font-medium text-gray-900",children:e.name})}),(0,ht.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-gray-500",children:e.users}),(0,ht.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-gray-500",children:e.revenue}),(0,ht.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ht.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:e.status})})]},e.id)))})]})}),(0,ht.jsx)("div",{className:"p-4 border-t border-gray-200 text-center",children:(0,ht.jsx)("button",{className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View All Clients"})})]}),(0,ht.jsxs)("div",{className:"space-y-8",children:[(0,ht.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,ht.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,ht.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:"Recent Activity"})}),(0,ht.jsx)("div",{className:"p-6",children:(0,ht.jsx)("div",{className:"space-y-4",children:[{id:1,action:"New client registered",details:"Innovative Learning Co.",time:"30 minutes ago"},{id:2,action:"Payment received",details:"$1,250 from EduTech Solutions",time:"2 hours ago"},{id:3,action:"Support ticket resolved",details:"Ticket #1234 - API integration issue",time:"5 hours ago"},{id:4,action:"New user added",details:"Admin user for Smart Academy",time:"Yesterday"},{id:5,action:"System update completed",details:"AI Agent performance improvements",time:"Yesterday"}].map((e=>(0,ht.jsxs)("div",{className:"border-b border-gray-100 pb-3 last:border-0",children:[(0,ht.jsx)("p",{className:"font-medium text-gray-800",children:e.action}),(0,ht.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.details}),(0,ht.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:e.time})]},e.id)))})})]}),(0,ht.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,ht.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,ht.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:"Pending Tasks"})}),(0,ht.jsxs)("div",{className:"p-6",children:[(0,ht.jsx)("div",{className:"space-y-4",children:[{id:1,task:"Review new client application",priority:"high",deadline:"Today"},{id:2,task:"Prepare monthly report",priority:"medium",deadline:"Tomorrow"},{id:3,task:"Follow up on payment issues",priority:"high",deadline:"Today"},{id:4,task:"Update pricing plans",priority:"low",deadline:"Next week"}].map((e=>(0,ht.jsxs)("div",{className:"flex items-start",children:[(0,ht.jsx)("div",{className:"mr-3 mt-1",children:(0,ht.jsx)("div",{className:"w-5 h-5 border border-gray-300 rounded flex items-center justify-center",children:(0,ht.jsx)(on,{className:"text-gray-300",size:12})})}),(0,ht.jsxs)("div",{className:"flex-1",children:[(0,ht.jsx)("p",{className:"font-medium text-gray-800",children:e.task}),(0,ht.jsxs)("div",{className:"flex justify-between mt-1",children:[(0,ht.jsx)("span",{className:"text-xs rounded-full px-2 py-1 font-medium "+("high"===e.priority?"bg-red-100 text-red-800":"medium"===e.priority?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:e.priority}),(0,ht.jsx)("span",{className:"text-xs text-gray-500",children:e.deadline})]})]})]},e.id)))}),(0,ht.jsx)("button",{className:"mt-4 w-full py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 text-sm font-medium",children:"View All Tasks"})]})]})]})]}),(0,ht.jsxs)("div",{className:"mt-8 bg-white rounded-lg shadow p-6",children:[(0,ht.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"System Status"}),(0,ht.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,ht.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,ht.jsxs)("div",{className:"flex items-center mb-2",children:[(0,ht.jsx)(hn,{className:"text-blue-500 mr-2",size:18}),(0,ht.jsx)("h3",{className:"font-medium text-gray-800",children:"Server Load"})]}),(0,ht.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mb-1",children:(0,ht.jsx)("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:"65%"}})}),(0,ht.jsxs)("div",{className:"flex justify-between text-xs text-gray-500",children:[(0,ht.jsx)("span",{children:"65% utilized"}),(0,ht.jsx)("span",{children:"35% available"})]})]}),(0,ht.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,ht.jsxs)("div",{className:"flex items-center mb-2",children:[(0,ht.jsx)(rn,{className:"text-green-500 mr-2",size:18}),(0,ht.jsx)("h3",{className:"font-medium text-gray-800",children:"AI Usage"})]}),(0,ht.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mb-1",children:(0,ht.jsx)("div",{className:"bg-green-600 h-2.5 rounded-full",style:{width:"82%"}})}),(0,ht.jsxs)("div",{className:"flex justify-between text-xs text-gray-500",children:[(0,ht.jsx)("span",{children:"82% utilized"}),(0,ht.jsx)("span",{children:"18% available"})]})]}),(0,ht.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,ht.jsxs)("div",{className:"flex items-center mb-2",children:[(0,ht.jsx)(un,{className:"text-purple-500 mr-2",size:18}),(0,ht.jsx)("h3",{className:"font-medium text-gray-800",children:"Conversations"})]}),(0,ht.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mb-1",children:(0,ht.jsx)("div",{className:"bg-purple-600 h-2.5 rounded-full",style:{width:"45%"}})}),(0,ht.jsxs)("div",{className:"flex justify-between text-xs text-gray-500",children:[(0,ht.jsx)("span",{children:"45% utilized"}),(0,ht.jsx)("span",{children:"55% available"})]})]})]})]})]})};function fn(e,t){return function(){return e.apply(t,arguments)}}const{toString:gn}=Object.prototype,{getPrototypeOf:xn}=Object,{iterator:bn,toStringTag:yn}=Symbol,vn=(wn=Object.create(null),e=>{const t=gn.call(e);return wn[t]||(wn[t]=t.slice(8,-1).toLowerCase())});var wn;const jn=e=>(e=e.toLowerCase(),t=>vn(t)===e),kn=e=>t=>typeof t===e,{isArray:Nn}=Array,Sn=kn("undefined");const Cn=jn("ArrayBuffer");const An=kn("string"),Tn=kn("function"),En=kn("number"),Pn=e=>null!==e&&"object"===typeof e,Fn=e=>{if("object"!==vn(e))return!1;const t=xn(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(yn in e)&&!(bn in e)},Rn=jn("Date"),Dn=jn("File"),Mn=jn("Blob"),In=jn("FileList"),_n=jn("URLSearchParams"),[Ln,On,zn,Bn]=["ReadableStream","Request","Response","Headers"].map(jn);function Un(e,t){let n,r,{allOwnKeys:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Nn(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=s?Object.getOwnPropertyNames(e):Object.keys(e),i=r.length;let a;for(n=0;n<i;n++)a=r[n],t.call(null,e[a],a,e)}}function qn(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,s=n.length;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const Vn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Wn=e=>!Sn(e)&&e!==Vn;const Hn=(Gn="undefined"!==typeof Uint8Array&&xn(Uint8Array),e=>Gn&&e instanceof Gn);var Gn;const Kn=jn("HTMLFormElement"),Xn=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),Yn=jn("RegExp"),Qn=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Un(n,((n,s)=>{let i;!1!==(i=t(n,s,e))&&(r[s]=i||n)})),Object.defineProperties(e,r)};const Jn=jn("AsyncFunction"),Zn=((e,t)=>{return e?setImmediate:t?(n=`axios@${Math.random()}`,r=[],Vn.addEventListener("message",(e=>{let{source:t,data:s}=e;t===Vn&&s===n&&r.length&&r.shift()()}),!1),e=>{r.push(e),Vn.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,Tn(Vn.postMessage)),$n="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Vn):"undefined"!==typeof process&&process.nextTick||Zn,er={isArray:Nn,isArrayBuffer:Cn,isBuffer:function(e){return null!==e&&!Sn(e)&&null!==e.constructor&&!Sn(e.constructor)&&Tn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Tn(e.append)&&("formdata"===(t=vn(e))||"object"===t&&Tn(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Cn(e.buffer),t},isString:An,isNumber:En,isBoolean:e=>!0===e||!1===e,isObject:Pn,isPlainObject:Fn,isReadableStream:Ln,isRequest:On,isResponse:zn,isHeaders:Bn,isUndefined:Sn,isDate:Rn,isFile:Dn,isBlob:Mn,isRegExp:Yn,isFunction:Tn,isStream:e=>Pn(e)&&Tn(e.pipe),isURLSearchParams:_n,isTypedArray:Hn,isFileList:In,forEach:Un,merge:function e(){const{caseless:t}=Wn(this)&&this||{},n={},r=(r,s)=>{const i=t&&qn(n,s)||s;Fn(n[i])&&Fn(r)?n[i]=e(n[i],r):Fn(r)?n[i]=e({},r):Nn(r)?n[i]=r.slice():n[i]=r};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Un(arguments[s],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Un(t,((t,r)=>{n&&Tn(t)?e[r]=fn(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let s,i,a;const o={};if(t=t||{},null==e)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)a=s[i],r&&!r(a,e,t)||o[a]||(t[a]=e[a],o[a]=!0);e=!1!==n&&xn(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:vn,kindOfTest:jn,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(Nn(e))return e;let t=e.length;if(!En(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[bn]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Kn,hasOwnProperty:Xn,hasOwnProp:Xn,reduceDescriptors:Qn,freezeMethods:e=>{Qn(e,((t,n)=>{if(Tn(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Tn(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return Nn(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:qn,global:Vn,isContextDefined:Wn,isSpecCompliantForm:function(e){return!!(e&&Tn(e.append)&&"FormData"===e[yn]&&e[bn])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Pn(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const s=Nn(e)?[]:{};return Un(e,((e,t)=>{const i=n(e,r+1);!Sn(i)&&(s[t]=i)})),t[r]=void 0,s}}return e};return n(e,0)},isAsyncFn:Jn,isThenable:e=>e&&(Pn(e)||Tn(e))&&Tn(e.then)&&Tn(e.catch),setImmediate:Zn,asap:$n,isIterable:e=>null!=e&&Tn(e[bn])};function tr(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}er.inherits(tr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:er.toJSONObject(this.config),code:this.code,status:this.status}}});const nr=tr.prototype,rr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{rr[e]={value:e}})),Object.defineProperties(tr,rr),Object.defineProperty(nr,"isAxiosError",{value:!0}),tr.from=(e,t,n,r,s,i)=>{const a=Object.create(nr);return er.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),tr.call(a,e.message,t,n,r,s),a.cause=e,a.name=e.name,i&&Object.assign(a,i),a};const sr=tr;function ir(e){return er.isPlainObject(e)||er.isArray(e)}function ar(e){return er.endsWith(e,"[]")?e.slice(0,-2):e}function or(e,t,n){return e?e.concat(t).map((function(e,t){return e=ar(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const lr=er.toFlatObject(er,{},null,(function(e){return/^is[A-Z]/.test(e)}));const cr=function(e,t,n){if(!er.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=er.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!er.isUndefined(t[e])}))).metaTokens,s=n.visitor||c,i=n.dots,a=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&er.isSpecCompliantForm(t);if(!er.isFunction(s))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(er.isDate(e))return e.toISOString();if(!o&&er.isBlob(e))throw new sr("Blob is not supported. Use a Buffer instead.");return er.isArrayBuffer(e)||er.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,s){let o=e;if(e&&!s&&"object"===typeof e)if(er.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(er.isArray(e)&&function(e){return er.isArray(e)&&!e.some(ir)}(e)||(er.isFileList(e)||er.endsWith(n,"[]"))&&(o=er.toArray(e)))return n=ar(n),o.forEach((function(e,r){!er.isUndefined(e)&&null!==e&&t.append(!0===a?or([n],r,i):null===a?n:n+"[]",l(e))})),!1;return!!ir(e)||(t.append(or(s,n,i),l(e)),!1)}const d=[],u=Object.assign(lr,{defaultVisitor:c,convertValue:l,isVisitable:ir});if(!er.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!er.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+r.join("."));d.push(n),er.forEach(n,(function(n,i){!0===(!(er.isUndefined(n)||null===n)&&s.call(t,n,er.isString(i)?i.trim():i,r,u))&&e(n,r?r.concat(i):[i])})),d.pop()}}(e),t};function dr(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function ur(e,t){this._pairs=[],e&&cr(e,this,t)}const hr=ur.prototype;hr.append=function(e,t){this._pairs.push([e,t])},hr.toString=function(e){const t=e?function(t){return e.call(this,t,dr)}:dr;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const pr=ur;function mr(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function fr(e,t,n){if(!t)return e;const r=n&&n.encode||mr;er.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(i=s?s(t,n):er.isURLSearchParams(t)?t.toString():new pr(t,n).toString(r),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const gr=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){er.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},xr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},br={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:pr,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},yr="undefined"!==typeof window&&"undefined"!==typeof document,vr="object"===typeof navigator&&navigator||void 0,wr=yr&&(!vr||["ReactNative","NativeScript","NS"].indexOf(vr.product)<0),jr="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,kr=yr&&window.location.href||"http://localhost",Nr={...e,...br};const Sr=function(e){function t(e,n,r,s){let i=e[s++];if("__proto__"===i)return!0;const a=Number.isFinite(+i),o=s>=e.length;if(i=!i&&er.isArray(r)?r.length:i,o)return er.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!a;r[i]&&er.isObject(r[i])||(r[i]=[]);return t(e,n,r[i],s)&&er.isArray(r[i])&&(r[i]=function(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}(r[i])),!a}if(er.isFormData(e)&&er.isFunction(e.entries)){const n={};return er.forEachEntry(e,((e,r)=>{t(function(e){return er.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const Cr={transitional:xr,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,s=er.isObject(e);s&&er.isHTMLForm(e)&&(e=new FormData(e));if(er.isFormData(e))return r?JSON.stringify(Sr(e)):e;if(er.isArrayBuffer(e)||er.isBuffer(e)||er.isStream(e)||er.isFile(e)||er.isBlob(e)||er.isReadableStream(e))return e;if(er.isArrayBufferView(e))return e.buffer;if(er.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return cr(e,new Nr.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return Nr.isNode&&er.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=er.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return cr(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||r?(t.setContentType("application/json",!1),function(e,t,n){if(er.isString(e))try{return(t||JSON.parse)(e),er.trim(e)}catch(EN){if("SyntaxError"!==EN.name)throw EN}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Cr.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(er.isResponse(e)||er.isReadableStream(e))return e;if(e&&er.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(EN){if(n){if("SyntaxError"===EN.name)throw sr.from(EN,sr.ERR_BAD_RESPONSE,this,null,this.response);throw EN}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Nr.classes.FormData,Blob:Nr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};er.forEach(["delete","get","head","post","put","patch"],(e=>{Cr.headers[e]={}}));const Ar=Cr,Tr=er.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Er=Symbol("internals");function Pr(e){return e&&String(e).trim().toLowerCase()}function Fr(e){return!1===e||null==e?e:er.isArray(e)?e.map(Fr):String(e)}function Rr(e,t,n,r,s){return er.isFunction(r)?r.call(this,t,n):(s&&(t=n),er.isString(t)?er.isString(r)?-1!==t.indexOf(r):er.isRegExp(r)?r.test(t):void 0:void 0)}class Dr{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function s(e,t,n){const s=Pr(t);if(!s)throw new Error("header name must be a non-empty string");const i=er.findKey(r,s);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||t]=Fr(e))}const i=(e,t)=>er.forEach(e,((e,n)=>s(e,n,t)));if(er.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(er.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const t={};let n,r,s;return e&&e.split("\n").forEach((function(e){s=e.indexOf(":"),n=e.substring(0,s).trim().toLowerCase(),r=e.substring(s+1).trim(),!n||t[n]&&Tr[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(er.isObject(e)&&er.isIterable(e)){let n,r,s={};for(const t of e){if(!er.isArray(t))throw TypeError("Object iterator must return a key-value pair");s[r=t[0]]=(n=s[r])?er.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}i(s,t)}else null!=e&&s(t,e,n);return this}get(e,t){if(e=Pr(e)){const n=er.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(er.isFunction(t))return t.call(this,e,n);if(er.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Pr(e)){const n=er.findKey(this,e);return!(!n||void 0===this[n]||t&&!Rr(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function s(e){if(e=Pr(e)){const s=er.findKey(n,e);!s||t&&!Rr(0,n[s],s,t)||(delete n[s],r=!0)}}return er.isArray(e)?e.forEach(s):s(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const s=t[n];e&&!Rr(0,this[s],s,e,!0)||(delete this[s],r=!0)}return r}normalize(e){const t=this,n={};return er.forEach(this,((r,s)=>{const i=er.findKey(n,s);if(i)return t[i]=Fr(r),void delete t[s];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(s):String(s).trim();a!==s&&delete t[s],t[a]=Fr(r),n[a]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return er.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&er.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[Er]=this[Er]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=Pr(e);t[r]||(!function(e,t){const n=er.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,s){return this[r].call(this,t,e,n,s)},configurable:!0})}))}(n,e),t[r]=!0)}return er.isArray(e)?e.forEach(r):r(e),this}}Dr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),er.reduceDescriptors(Dr.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),er.freezeMethods(Dr);const Mr=Dr;function Ir(e,t){const n=this||Ar,r=t||n,s=Mr.from(r.headers);let i=r.data;return er.forEach(e,(function(e){i=e.call(n,i,s.normalize(),t?t.status:void 0)})),s.normalize(),i}function _r(e){return!(!e||!e.__CANCEL__)}function Lr(e,t,n){sr.call(this,null==e?"canceled":e,sr.ERR_CANCELED,t,n),this.name="CanceledError"}er.inherits(Lr,sr,{__CANCEL__:!0});const Or=Lr;function zr(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new sr("Request failed with status code "+n.status,[sr.ERR_BAD_REQUEST,sr.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Br=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s,i=0,a=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=r[a];s||(s=l),n[i]=o,r[i]=l;let d=a,u=0;for(;d!==i;)u+=n[d++],d%=e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),l-s<t)return;const h=c&&l-c;return h?Math.round(1e3*u/h):void 0}};const Ur=function(e,t){let n,r,s=0,i=1e3/t;const a=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();s=i,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-s;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=i?a(l,e):(n=l,r||(r=setTimeout((()=>{r=null,a(n)}),i-t)))},()=>n&&a(n)]},qr=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const s=Br(50,250);return Ur((n=>{const i=n.loaded,a=n.lengthComputable?n.total:void 0,o=i-r,l=s(o);r=i;e({loaded:i,total:a,progress:a?i/a:void 0,bytes:o,rate:l||void 0,estimated:l&&a&&i<=a?(a-i)/l:void 0,event:n,lengthComputable:null!=a,[t?"download":"upload"]:!0})}),n)},Vr=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Wr=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return er.asap((()=>e(...n)))},Hr=Nr.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Nr.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Nr.origin),Nr.navigator&&/(msie|trident)/i.test(Nr.navigator.userAgent)):()=>!0,Gr=Nr.hasStandardBrowserEnv?{write(e,t,n,r,s,i){const a=[e+"="+encodeURIComponent(t)];er.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),er.isString(r)&&a.push("path="+r),er.isString(s)&&a.push("domain="+s),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Kr(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Xr=e=>e instanceof Mr?{...e}:e;function Yr(e,t){t=t||{};const n={};function r(e,t,n,r){return er.isPlainObject(e)&&er.isPlainObject(t)?er.merge.call({caseless:r},e,t):er.isPlainObject(t)?er.merge({},t):er.isArray(t)?t.slice():t}function s(e,t,n,s){return er.isUndefined(t)?er.isUndefined(e)?void 0:r(void 0,e,0,s):r(e,t,0,s)}function i(e,t){if(!er.isUndefined(t))return r(void 0,t)}function a(e,t){return er.isUndefined(t)?er.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function o(n,s,i){return i in t?r(n,s):i in e?r(void 0,n):void 0}const l={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(e,t,n)=>s(Xr(e),Xr(t),0,!0)};return er.forEach(Object.keys(Object.assign({},e,t)),(function(r){const i=l[r]||s,a=i(e[r],t[r],r);er.isUndefined(a)&&i!==o||(n[r]=a)})),n}const Qr=e=>{const t=Yr({},e);let n,{data:r,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:l}=t;if(t.headers=o=Mr.from(o),t.url=fr(Kr(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),er.isFormData(r))if(Nr.hasStandardBrowserEnv||Nr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(n=o.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}if(Nr.hasStandardBrowserEnv&&(s&&er.isFunction(s)&&(s=s(t)),s||!1!==s&&Hr(t.url))){const e=i&&a&&Gr.read(a);e&&o.set(i,e)}return t},Jr="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=Qr(e);let s=r.data;const i=Mr.from(r.headers).normalize();let a,o,l,c,d,{responseType:u,onUploadProgress:h,onDownloadProgress:p}=r;function m(){c&&c(),d&&d(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let f=new XMLHttpRequest;function g(){if(!f)return;const r=Mr.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());zr((function(e){t(e),m()}),(function(e){n(e),m()}),{data:u&&"text"!==u&&"json"!==u?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:r,config:e,request:f}),f=null}f.open(r.method.toUpperCase(),r.url,!0),f.timeout=r.timeout,"onloadend"in f?f.onloadend=g:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(g)},f.onabort=function(){f&&(n(new sr("Request aborted",sr.ECONNABORTED,e,f)),f=null)},f.onerror=function(){n(new sr("Network Error",sr.ERR_NETWORK,e,f)),f=null},f.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const s=r.transitional||xr;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new sr(t,s.clarifyTimeoutError?sr.ETIMEDOUT:sr.ECONNABORTED,e,f)),f=null},void 0===s&&i.setContentType(null),"setRequestHeader"in f&&er.forEach(i.toJSON(),(function(e,t){f.setRequestHeader(t,e)})),er.isUndefined(r.withCredentials)||(f.withCredentials=!!r.withCredentials),u&&"json"!==u&&(f.responseType=r.responseType),p&&([l,d]=qr(p,!0),f.addEventListener("progress",l)),h&&f.upload&&([o,c]=qr(h),f.upload.addEventListener("progress",o),f.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(a=t=>{f&&(n(!t||t.type?new Or(null,e,f):t),f.abort(),f=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const x=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);x&&-1===Nr.protocols.indexOf(x)?n(new sr("Unsupported protocol "+x+":",sr.ERR_BAD_REQUEST,e)):f.send(s||null)}))},Zr=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const s=function(e){if(!n){n=!0,a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof sr?t:new Or(t instanceof Error?t.message:t))}};let i=t&&setTimeout((()=>{i=null,s(new sr(`timeout ${t} of ms exceeded`,sr.ETIMEDOUT))}),t);const a=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(s):e.removeEventListener("abort",s)})),e=null)};e.forEach((e=>e.addEventListener("abort",s)));const{signal:o}=r;return o.unsubscribe=()=>er.asap(a),o}},$r=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,s=0;for(;s<n;)r=s+t,yield e.slice(s,r),s=r},es=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},ts=(e,t,n,r)=>{const s=async function*(e,t){for await(const n of es(e))yield*$r(n,t)}(e,t);let i,a=0,o=e=>{i||(i=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await s.next();if(t)return o(),void e.close();let i=r.byteLength;if(n){let e=a+=i;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw o(t),t}},cancel:e=>(o(e),s.return())},{highWaterMark:2})},ns="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,rs=ns&&"function"===typeof ReadableStream,ss=ns&&("function"===typeof TextEncoder?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),is=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(EN){return!1}},as=rs&&is((()=>{let e=!1;const t=new Request(Nr.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),os=rs&&is((()=>er.isReadableStream(new Response("").body))),ls={stream:os&&(e=>e.body)};var cs;ns&&(cs=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!ls[e]&&(ls[e]=er.isFunction(cs[e])?t=>t[e]():(t,n)=>{throw new sr(`Response type '${e}' is not supported`,sr.ERR_NOT_SUPPORT,n)})})));const ds=async(e,t)=>{const n=er.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(er.isBlob(e))return e.size;if(er.isSpecCompliantForm(e)){const t=new Request(Nr.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return er.isArrayBufferView(e)||er.isArrayBuffer(e)?e.byteLength:(er.isURLSearchParams(e)&&(e+=""),er.isString(e)?(await ss(e)).byteLength:void 0)})(t):n},us=ns&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:i,timeout:a,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:h}=Qr(e);c=c?(c+"").toLowerCase():"text";let p,m=Zr([s,i&&i.toAbortSignal()],a);const f=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let g;try{if(l&&as&&"get"!==n&&"head"!==n&&0!==(g=await ds(d,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(er.isFormData(r)&&(e=n.headers.get("content-type"))&&d.setContentType(e),n.body){const[e,t]=Vr(g,qr(Wr(l)));r=ts(n.body,65536,e,t)}}er.isString(u)||(u=u?"include":"omit");const s="credentials"in Request.prototype;p=new Request(t,{...h,signal:m,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:s?u:void 0});let i=await fetch(p);const a=os&&("stream"===c||"response"===c);if(os&&(o||a&&f)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=i[t]}));const t=er.toFiniteNumber(i.headers.get("content-length")),[n,r]=o&&Vr(t,qr(Wr(o),!0))||[];i=new Response(ts(i.body,65536,n,(()=>{r&&r(),f&&f()})),e)}c=c||"text";let x=await ls[er.findKey(ls,c)||"text"](i,e);return!a&&f&&f(),await new Promise(((t,n)=>{zr(t,n,{data:x,headers:Mr.from(i.headers),status:i.status,statusText:i.statusText,config:e,request:p})}))}catch(x){if(f&&f(),x&&"TypeError"===x.name&&/Load failed|fetch/i.test(x.message))throw Object.assign(new sr("Network Error",sr.ERR_NETWORK,e,p),{cause:x.cause||x});throw sr.from(x,x&&x.code,e,p)}}),hs={http:null,xhr:Jr,fetch:us};er.forEach(hs,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(EN){}Object.defineProperty(e,"adapterName",{value:t})}}));const ps=e=>`- ${e}`,ms=e=>er.isFunction(e)||null===e||!1===e,fs=e=>{e=er.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let i=0;i<t;i++){let t;if(n=e[i],r=n,!ms(n)&&(r=hs[(t=String(n)).toLowerCase()],void 0===r))throw new sr(`Unknown adapter '${t}'`);if(r)break;s[t||"#"+i]=r}if(!r){const e=Object.entries(s).map((e=>{let[t,n]=e;return`adapter ${t} `+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(ps).join("\n"):" "+ps(e[0]):"as no adapter specified";throw new sr("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function gs(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Or(null,e)}function xs(e){gs(e),e.headers=Mr.from(e.headers),e.data=Ir.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return fs(e.adapter||Ar.adapter)(e).then((function(t){return gs(e),t.data=Ir.call(e,e.transformResponse,t),t.headers=Mr.from(t.headers),t}),(function(t){return _r(t)||(gs(e),t&&t.response&&(t.response.data=Ir.call(e,e.transformResponse,t.response),t.response.headers=Mr.from(t.response.headers))),Promise.reject(t)}))}const bs="1.9.0",ys={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{ys[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const vs={};ys.transitional=function(e,t,n){function r(e,t){return"[Axios v1.9.0] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,s,i)=>{if(!1===e)throw new sr(r(s," has been removed"+(t?" in "+t:"")),sr.ERR_DEPRECATED);return t&&!vs[s]&&(vs[s]=!0,console.warn(r(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,s,i)}},ys.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const ws={assertOptions:function(e,t,n){if("object"!==typeof e)throw new sr("options must be an object",sr.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],a=t[i];if(a){const t=e[i],n=void 0===t||a(t,i,e);if(!0!==n)throw new sr("option "+i+" must be "+n,sr.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new sr("Unknown option "+i,sr.ERR_BAD_OPTION)}},validators:ys},js=ws.validators;class ks{constructor(e){this.defaults=e||{},this.interceptors={request:new gr,response:new gr}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(EN){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Yr(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:s}=t;void 0!==n&&ws.assertOptions(n,{silentJSONParsing:js.transitional(js.boolean),forcedJSONParsing:js.transitional(js.boolean),clarifyTimeoutError:js.transitional(js.boolean)},!1),null!=r&&(er.isFunction(r)?t.paramsSerializer={serialize:r}:ws.assertOptions(r,{encode:js.function,serialize:js.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),ws.assertOptions(t,{baseUrl:js.spelling("baseURL"),withXsrfToken:js.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=s&&er.merge(s.common,s[t.method]);s&&er.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete s[e]})),t.headers=Mr.concat(i,s);const a=[];let o=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let d,u=0;if(!o){const e=[xs.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=a.length;let h=t;for(u=0;u<d;){const e=a[u++],t=a[u++];try{h=e(h)}catch(hf){t.call(this,hf);break}}try{c=xs.call(this,h)}catch(hf){return Promise.reject(hf)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return fr(Kr((e=Yr(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}er.forEach(["delete","get","head","options"],(function(e){ks.prototype[e]=function(t,n){return this.request(Yr(n||{},{method:e,url:t,data:(n||{}).data}))}})),er.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,s){return this.request(Yr(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}ks.prototype[e]=t(),ks.prototype[e+"Form"]=t(!0)}));const Ns=ks;class Ss{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,s){n.reason||(n.reason=new Or(e,r,s),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Ss((function(t){e=t})),cancel:e}}}const Cs=Ss;const As={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(As).forEach((e=>{let[t,n]=e;As[n]=t}));const Ts=As;const Es=function e(t){const n=new Ns(t),r=fn(Ns.prototype.request,n);return er.extend(r,Ns.prototype,n,{allOwnKeys:!0}),er.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Yr(t,n))},r}(Ar);Es.Axios=Ns,Es.CanceledError=Or,Es.CancelToken=Cs,Es.isCancel=_r,Es.VERSION=bs,Es.toFormData=cr,Es.AxiosError=sr,Es.Cancel=Es.CanceledError,Es.all=function(e){return Promise.all(e)},Es.spread=function(e){return function(t){return e.apply(null,t)}},Es.isAxiosError=function(e){return er.isObject(e)&&!0===e.isAxiosError},Es.mergeConfig=Yr,Es.AxiosHeaders=Mr,Es.formToJSON=e=>Sr(er.isHTMLForm(e)?new FormData(e):e),Es.getAdapter=fs,Es.HttpStatusCode=Ts,Es.default=Es;const Ps=Es,Fs=vt("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Rs=vt("youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),Ds=vt("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),Ms=vt("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),Is=vt("file",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]),_s=vt("upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Ls=vt("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Os=vt("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),zs=vt("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Bs=vt("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Us=vt("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),qs=vt("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Vs=vt("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Ws=vt("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Hs=vt("layout-grid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),Gs=vt("list",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]),Ks=vt("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]),Xs=vt("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),Ys=e=>{let{children:t,className:n=""}=e;return(0,ht.jsx)("div",{className:`bg-white rounded-lg shadow-md hover:shadow-xl transition-all duration-300 ${n}`,children:t})},Qs=e=>{let{children:t,className:n=""}=e;return(0,ht.jsx)("div",{className:`p-6 border-gray-100 ${n}`,children:t})},Js=e=>{let{children:t,className:n=""}=e;return(0,ht.jsx)("h2",{className:`text-2xl font-semibold text-gray-900 ${n}`,children:t})},Zs=e=>{let{children:t,className:n=""}=e;return(0,ht.jsx)("div",{className:`p-6 pt-0 ${n}`,children:t})},$s=e=>{let{children:t,className:n=""}=e;return(0,ht.jsx)("div",{className:`p-6 pt-0 border-t border-gray-100 ${n}`,children:t})},ei=t.createContext({selectedTab:"",setSelectedTab:()=>{}}),ti=e=>{let{defaultValue:n,children:r,className:s,...i}=e;const[a,o]=t.useState(n),l=t.useMemo((()=>({selectedTab:a,setSelectedTab:o})),[a]);return(0,ht.jsx)(ei.Provider,{value:l,children:(0,ht.jsx)("div",{className:s,...i,children:r})})},ni=e=>{let{className:t,children:n,...r}=e;return(0,ht.jsx)("div",{role:"tablist",className:`flex space-x-2 p-1 rounded-lg bg-gray-100 ${t}`,...r,children:n})},ri=e=>{let{value:n,className:r,children:s,...i}=e;const{selectedTab:a,setSelectedTab:o}=t.useContext(ei),l=a===n;return(0,ht.jsx)("button",{role:"tab","aria-selected":l,"data-state":l?"active":"inactive",onClick:()=>o(n),className:`px-4 py-2 rounded-md text-sm font-medium transition-all ${l?"bg-purple-600 text-white":"text-gray-600 hover:text-gray-900 hover:bg-gray-200"} ${r}`,...i,children:s})},si=e=>{let{value:n,className:r,children:s,...i}=e;const{selectedTab:a}=t.useContext(ei),o=a===n;return o?(0,ht.jsx)("div",{role:"tabpanel","data-state":o?"active":"inactive",className:r,...i,children:s}):null},ii=e=>{let{open:t,onOpenChange:n,children:r}=e;return t?(0,ht.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:()=>n(!1)}),(0,ht.jsx)("div",{className:"relative z-50 w-full max-w-2xl rounded-lg shadow-xl",children:r})]}):null},ai=e=>{let{children:t,className:n=""}=e;return(0,ht.jsx)("div",{className:`p-6 space-y-6 bg-white text-gray-900 border border-gray-200 rounded-lg ${n}`,children:t})},oi=e=>{let{children:t,className:n=""}=e;return(0,ht.jsx)("div",{className:`pb-4 mb-6 border-b border-gray-200 ${n}`,children:t})},li=e=>{let{children:t,className:n=""}=e;return(0,ht.jsx)("h2",{className:`text-xl font-semibold text-gray-900 ${n}`,children:t})},ci=e=>{let{children:t,className:n=""}=e;return(0,ht.jsx)("div",{className:`flex justify-end space-x-4 mt-6 border-t border-gray-200 pt-6 ${n}`,children:t})},di=t.forwardRef(((e,t)=>{let{className:n,value:r=0,max:s=100,indicatorClassName:i,...a}=e;const o=null!=r?Math.min(Math.max(r,0),s):0;return(0,ht.jsx)("div",{ref:t,role:"progressbar","aria-valuemin":0,"aria-valuemax":s,"aria-valuenow":o,className:`relative h-4 w-full overflow-hidden rounded-full bg-gray-200 ${n}`,...a,children:(0,ht.jsx)("div",{className:`h-full w-full flex-1 transition-all ${i||"bg-purple-600"}`,style:{width:o/s*100+"%"}})})}));function ui(e){if("undefined"===typeof Proxy)return e;const t=new Map;return new Proxy((function(){return e(...arguments)}),{get:(n,r)=>"create"===r?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}function hi(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}function pi(e){const t=[{},{}];return e?.values.forEach(((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()})),t}function mi(e,t,n,r){if("function"===typeof t){const[s,i]=pi(r);t=t(void 0!==n?n:e.custom,s,i)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[s,i]=pi(r);t=t(void 0!==n?n:e.custom,s,i)}return t}function fi(e,t,n){const r=e.getProps();return mi(r,t,void 0!==n?n:r.custom,e)}function gi(e,t){return e?.[t]??e?.default??e}di.displayName="Progress";const xi=e=>e,bi={},yi=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],vi={value:null,addProjectionMetrics:null};function wi(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=yi.reduce(((e,n)=>(e[n]=function(e,t){let n=new Set,r=new Set,s=!1,i=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function c(t){a.has(t)&&(d.schedule(t),e()),l++,t(o)}const d={schedule:function(e){const t=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&s?n:r;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&a.add(e),t.has(e)||t.add(e),e},cancel:e=>{r.delete(e),a.delete(e)},process:e=>{o=e,s?i=!0:(s=!0,[n,r]=[r,n],n.forEach(c),t&&vi.value&&vi.value.frameloop[t].push(l),l=0,n.clear(),s=!1,i&&(i=!1,d.process(e)))}};return d}(i,t?n:void 0),e)),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:d,update:u,preRender:h,render:p,postRender:m}=a,f=()=>{const i=bi.useManualTiming?s.timestamp:performance.now();n=!1,bi.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(i-s.timestamp,40),1)),s.timestamp=i,s.isProcessing=!0,o.process(s),l.process(s),c.process(s),d.process(s),u.process(s),h.process(s),p.process(s),m.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(f))},g=yi.reduce(((t,i)=>{const o=a[i];return t[i]=function(t){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,s.isProcessing||e(f)),o.schedule(t,i,a)},t}),{});return{schedule:g,cancel:e=>{for(let t=0;t<yi.length;t++)a[yi[t]].cancel(e)},state:s,steps:a}}const{schedule:ji,cancel:ki,state:Ni,steps:Si}=wi("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:xi,!0),Ci=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ai=(()=>new Set(Ci))(),Ti=new Set(["width","height","top","left","right","bottom",...Ci]);function Ei(e,t){-1===e.indexOf(t)&&e.push(t)}function Pi(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Fi{constructor(){this.subscriptions=[]}add(e){return Ei(this.subscriptions,e),()=>Pi(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let s=0;s<r;s++){const r=this.subscriptions[s];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Ri(e,t){return t?e*(1e3/t):0}let Di;function Mi(){Di=void 0}const Ii={now:()=>(void 0===Di&&Ii.set(Ni.isProcessing||bi.useManualTiming?Ni.timestamp:performance.now()),Di),set:e=>{Di=e,queueMicrotask(Mi)}},_i={current:void 0};class Li{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.version="__VERSION__",this.canTrackVelocity=null,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=Ii.now();if(t.updatedAt!==r&&t.setPrevFrameValue(),t.prev=t.current,t.setCurrent(e),t.current!==t.prev&&(t.events.change?.notify(t.current),t.dependents))for(const s of t.dependents)s.dirty();n&&t.events.renderRequest?.notify(t.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){var t;this.current=e,this.updatedAt=Ii.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Fi);const n=this.events[e].add(t);return"change"===e?()=>{n(),ji.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return _i.current&&_i.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Ii.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return Ri(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Oi(e,t){return new Li(e,t)}const zi=e=>Array.isArray(e);function Bi(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Oi(n))}const Ui=e=>Boolean(e&&e.getVelocity);function qi(e,t){const n=e.getValue("willChange");if(r=n,Boolean(Ui(r)&&r.add))return n.add(t);if(!n&&bi.WillChange){const n=new bi.WillChange("auto");e.addValue("willChange",n),n.add(t)}var r}const Vi=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Wi="data-"+Vi("framerAppearId");function Hi(e){return e.props[Wi]}const Gi=(e,t)=>n=>t(e(n)),Ki=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(Gi)},Xi=(e,t,n)=>n>t?t:n<e?e:n,Yi=e=>1e3*e,Qi=e=>e/1e3,Ji={layout:0,mainThread:0,waapi:0};const Zi=e=>t=>"string"===typeof t&&t.startsWith(e),$i=Zi("--"),ea=Zi("var(--"),ta=e=>!!ea(e)&&na.test(e.split("/*")[0].trim()),na=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ra={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},sa={...ra,transform:e=>Xi(0,1,e)},ia={...ra,default:1},aa=e=>Math.round(1e5*e)/1e5,oa=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;const la=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ca=(e,t)=>n=>Boolean("string"===typeof n&&la.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),da=(e,t,n)=>r=>{if("string"!==typeof r)return r;const[s,i,a,o]=r.match(oa);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(a),alpha:void 0!==o?parseFloat(o):1}},ua={...ra,transform:e=>Math.round((e=>Xi(0,255,e))(e))},ha={test:ca("rgb","red"),parse:da("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:s=1}=e;return"rgba("+ua.transform(t)+", "+ua.transform(n)+", "+ua.transform(r)+", "+aa(sa.transform(s))+")"}};const pa={test:ca("#"),parse:function(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}},transform:ha.transform},ma=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),fa=ma("deg"),ga=ma("%"),xa=ma("px"),ba=ma("vh"),ya=ma("vw"),va=(()=>({...ga,parse:e=>ga.parse(e)/100,transform:e=>ga.transform(100*e)}))(),wa={test:ca("hsl","hue"),parse:da("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:s=1}=e;return"hsla("+Math.round(t)+", "+ga.transform(aa(n))+", "+ga.transform(aa(r))+", "+aa(sa.transform(s))+")"}},ja={test:e=>ha.test(e)||pa.test(e)||wa.test(e),parse:e=>ha.test(e)?ha.parse(e):wa.test(e)?wa.parse(e):pa.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?ha.transform(e):wa.transform(e)},ka=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;const Na="number",Sa="color",Ca=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Aa(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=t.replace(Ca,(e=>(ja.test(e)?(r.color.push(i),s.push(Sa),n.push(ja.parse(e))):e.startsWith("var(")?(r.var.push(i),s.push("var"),n.push(e)):(r.number.push(i),s.push(Na),n.push(parseFloat(e))),++i,"${}"))).split("${}");return{values:n,split:a,indexes:r,types:s}}function Ta(e){return Aa(e).values}function Ea(e){const{split:t,types:n}=Aa(e),r=t.length;return e=>{let s="";for(let i=0;i<r;i++)if(s+=t[i],void 0!==e[i]){const t=n[i];s+=t===Na?aa(e[i]):t===Sa?ja.transform(e[i]):e[i]}return s}}const Pa=e=>"number"===typeof e?0:e;const Fa={test:function(e){return isNaN(e)&&"string"===typeof e&&(e.match(oa)?.length||0)+(e.match(ka)?.length||0)>0},parse:Ta,createTransformer:Ea,getAnimatableNone:function(e){const t=Ta(e);return Ea(e)(t.map(Pa))}};function Ra(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Da(e,t){return n=>n>0?t:e}const Ma=(e,t,n)=>e+(t-e)*n,Ia=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},_a=[pa,ha,wa];function La(e){const t=(n=e,_a.find((e=>e.test(n))));var n;if(Boolean(t),!Boolean(t))return!1;let r=t.parse(e);return t===wa&&(r=function(e){let{hue:t,saturation:n,lightness:r,alpha:s}=e;t/=360,n/=100,r/=100;let i=0,a=0,o=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,s=2*r-e;i=Ra(s,e,t+1/3),a=Ra(s,e,t),o=Ra(s,e,t-1/3)}else i=a=o=r;return{red:Math.round(255*i),green:Math.round(255*a),blue:Math.round(255*o),alpha:s}}(r)),r}const Oa=(e,t)=>{const n=La(e),r=La(t);if(!n||!r)return Da(e,t);const s={...n};return e=>(s.red=Ia(n.red,r.red,e),s.green=Ia(n.green,r.green,e),s.blue=Ia(n.blue,r.blue,e),s.alpha=Ma(n.alpha,r.alpha,e),ha.transform(s))},za=new Set(["none","hidden"]);function Ba(e,t){return n=>Ma(e,t,n)}function Ua(e){return"number"===typeof e?Ba:"string"===typeof e?ta(e)?Da:ja.test(e)?Oa:Wa:Array.isArray(e)?qa:"object"===typeof e?ja.test(e)?Oa:Va:Da}function qa(e,t){const n=[...e],r=n.length,s=e.map(((e,n)=>Ua(e)(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=s[t](e);return n}}function Va(e,t){const n={...e,...t},r={};for(const s in n)void 0!==e[s]&&void 0!==t[s]&&(r[s]=Ua(e[s])(e[s],t[s]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const Wa=(e,t)=>{const n=Fa.createTransformer(t),r=Aa(e),s=Aa(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?za.has(e)&&!s.values.length||za.has(t)&&!r.values.length?function(e,t){return za.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):Ki(qa(function(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],a=e.indexes[i][r[i]],o=e.values[a]??0;n[s]=o,r[i]++}return n}(r,s),s.values),n):Da(e,t)};function Ha(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return Ma(e,t,n);return Ua(e)(e,t)}const Ga=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return ji.update(t,e)},stop:()=>ki(t),now:()=>Ni.isProcessing?Ni.timestamp:Ii.now()}},Ka=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=e(i/(s-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Xa=2e4;function Ya(e){let t=0;let n=e.next(t);for(;!n.done&&t<Xa;)t+=50,n=e.next(t);return t>=Xa?1/0:t}function Qa(e,t,n){const r=Math.max(t-5,0);return Ri(n-e(r),t-r)}const Ja={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Za=.001;function $a(e){let t,n,{duration:r=Ja.duration,bounce:s=Ja.bounce,velocity:i=Ja.velocity,mass:a=Ja.mass}=e;Yi(Ja.maxDuration);let o=1-s;o=Xi(Ja.minDamping,Ja.maxDamping,o),r=Xi(Ja.minDuration,Ja.maxDuration,Qi(r)),o<1?(t=e=>{const t=e*o,n=t*r,s=t-i,a=to(e,o),l=Math.exp(-n);return Za-s/a*l},n=e=>{const n=e*o*r,s=n*i+i,a=Math.pow(o,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=to(Math.pow(e,2),o);return(-t(e)+Za>0?-1:1)*((s-a)*l)/c}):(t=e=>Math.exp(-e*r)*((e-i)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(i-e)));const l=function(e,t,n){let r=n;for(let s=1;s<eo;s++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=Yi(r),isNaN(l))return{stiffness:Ja.stiffness,damping:Ja.damping,duration:r};{const e=Math.pow(l,2)*a;return{stiffness:e,damping:2*o*Math.sqrt(a*e),duration:r}}}const eo=12;function to(e,t){return e*Math.sqrt(1-t*t)}const no=["duration","bounce"],ro=["stiffness","damping","mass"];function so(e,t){return t.some((t=>void 0!==e[t]))}function io(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ja.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ja.bounce;const n="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:u,velocity:h,isResolvedFromDuration:p}=function(e){let t={velocity:Ja.velocity,stiffness:Ja.stiffness,damping:Ja.damping,mass:Ja.mass,isResolvedFromDuration:!1,...e};if(!so(e,ro)&&so(e,no))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),s=r*r,i=2*Xi(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Ja.mass,stiffness:s,damping:i}}else{const n=$a(e);t={...t,...n,mass:Ja.mass},t.isResolvedFromDuration=!0}return t}({...n,velocity:-Qi(n.velocity||0)}),m=h||0,f=c/(2*Math.sqrt(l*d)),g=a-i,x=Qi(Math.sqrt(l/d)),b=Math.abs(g)<5;let y;if(r||(r=b?Ja.restSpeed.granular:Ja.restSpeed.default),s||(s=b?Ja.restDelta.granular:Ja.restDelta.default),f<1){const e=to(x,f);y=t=>{const n=Math.exp(-f*x*t);return a-n*((m+f*x*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===f)y=e=>a-Math.exp(-x*e)*(g+(m+x*g)*e);else{const e=x*Math.sqrt(f*f-1);y=t=>{const n=Math.exp(-f*x*t),r=Math.min(e*t,300);return a-n*((m+f*x*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}const v={calculatedDuration:p&&u||null,next:e=>{const t=y(e);if(p)o.done=e>=u;else{let n=0===e?m:0;f<1&&(n=0===e?Yi(m):Qa(y,e,t));const i=Math.abs(n)<=r,l=Math.abs(a-t)<=s;o.done=i&&l}return o.value=o.done?a:t,o},toString:()=>{const e=Math.min(Ya(v),Xa),t=Ka((t=>v.next(e*t).value),e,30);return e+"ms "+t},toTransition:()=>{}};return v}function ao(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}=e;const h=t[0],p={done:!1,value:h},m=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let f=r*n;const g=h+f,x=void 0===o?g:o(g);x!==g&&(f=x-h);const b=e=>-f*Math.exp(-e/s),y=e=>x+b(e),v=e=>{const t=b(e),n=y(e);p.done=Math.abs(t)<=d,p.value=p.done?x:n};let w,j;const k=e=>{var t;(t=p.value,void 0!==l&&t<l||void 0!==c&&t>c)&&(w=e,j=io({keyframes:[p.value,m(p.value)],velocity:Qa(y,e,p.value),damping:i,stiffness:a,restDelta:d,restSpeed:u}))};return k(0),{calculatedDuration:null,next:e=>{let t=!1;return j||void 0!==w||(t=!0,v(e),k(e)),void 0!==w&&e>=w?j.next(e-w):(!t&&v(e),p)}}}io.applyToOptions=e=>{const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const n=(arguments.length>2?arguments[2]:void 0)({...e,keyframes:[0,t]}),r=Math.min(Ya(n),Xa);return{type:"keyframes",ease:e=>n.next(r*e).value/t,duration:Qi(r)}}(e,100,io);return e.ease=t.ease,e.duration=Yi(t.duration),e.type="keyframes",e};const oo=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function lo(e,t,n,r){if(e===t&&n===r)return xi;const s=t=>function(e,t,n,r,s){let i,a,o=0;do{a=t+(n-t)/2,i=oo(a,r,s)-e,i>0?n=a:t=a}while(Math.abs(i)>1e-7&&++o<12);return a}(t,0,1,e,n);return e=>0===e||1===e?e:oo(s(e),t,r)}const co=lo(.42,0,1,1),uo=lo(0,0,.58,1),ho=lo(.42,0,.58,1),po=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,mo=e=>t=>1-e(1-t),fo=lo(.33,1.53,.69,.99),go=mo(fo),xo=po(go),bo=e=>(e*=2)<1?.5*go(e):.5*(2-Math.pow(2,-10*(e-1))),yo=e=>1-Math.sin(Math.acos(e)),vo=mo(yo),wo=po(yo),jo=e=>Array.isArray(e)&&"number"===typeof e[0],ko={linear:xi,easeIn:co,easeInOut:ho,easeOut:uo,circIn:yo,circInOut:wo,circOut:vo,backIn:go,backInOut:xo,backOut:fo,anticipate:bo},No=e=>{if(jo(e)){e.length;const[t,n,r,s]=e;return lo(t,n,r,s)}return"string"===typeof e?ko[e]:e},So=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r};function Co(e,t){let{clamp:n=!0,ease:r,mixer:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=e.length;if(t.length,1===i)return()=>t[0];if(2===i&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=function(e,t,n){const r=[],s=n||bi.mix||Ha,i=e.length-1;for(let a=0;a<i;a++){let n=s(e[a],e[a+1]);if(t){const e=Array.isArray(t)?t[a]||xi:t;n=Ki(e,n)}r.push(n)}return r}(t,r,s),l=o.length,c=n=>{if(a&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const s=So(e[r],e[r+1],n);return o[r](s)};return n?t=>c(Xi(e[0],e[i-1],t)):c}function Ao(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=So(0,t,r);e.push(Ma(n,1,s))}}(t,e.length-1),t}function To(e){let{duration:t=300,keyframes:n,times:r,ease:s="easeInOut"}=e;const i=(e=>Array.isArray(e)&&"number"!==typeof e[0])(s)?s.map(No):No(s),a={done:!1,value:n[0]},o=function(e,t){return e.map((e=>e*t))}(r&&r.length===n.length?r:Ao(n),t),l=Co(o,n,{ease:Array.isArray(i)?i:(c=n,d=i,c.map((()=>d||ho)).splice(0,c.length-1))});var c,d;return{calculatedDuration:t,next:e=>(a.value=l(e),a.done=e>=t,a)}}const Eo=e=>null!==e;function Po(e,t,n){let{repeat:r,repeatType:s="loop"}=t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const a=e.filter(Eo),o=i<0||r&&"loop"!==s&&r%2===1?0:a.length-1;return o&&void 0!==n?n:a[o]}const Fo={decay:ao,inertia:ao,tween:To,keyframes:To,spring:io};function Ro(e){"string"===typeof e.type&&(e.type=Fo[e.type])}class Do{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise((e=>{this.resolve=e}))}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const Mo=e=>e/100;class Io extends Do{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;if(e&&e.updatedAt!==Ii.now()&&this.tick(Ii.now()),this.isStopped=!0,"idle"===this.state)return;this.teardown();const{onStop:t}=this.options;t&&t()},Ji.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;Ro(e);const{type:t=To,repeat:n=0,repeatDelay:r=0,repeatType:s,velocity:i=0}=e;let{keyframes:a}=e;const o=t||To;o!==To&&"number"!==typeof a[0]&&(this.mixKeyframes=Ki(Mo,Ha(a[0],a[1])),a=[0,100]);const l=o({...e,keyframes:a});"mirror"===s&&(this.mirroredGenerator=o({...e,keyframes:[...a].reverse(),velocity:-i})),null===l.calculatedDuration&&(l.calculatedDuration=Ya(l));const{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=l}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{generator:n,totalDuration:r,mixKeyframes:s,mirroredGenerator:i,resolvedDuration:a,calculatedDuration:o}=this;if(null===this.startTime)return n.next(0);const{delay:l=0,keyframes:c,repeat:d,repeatType:u,repeatDelay:h,type:p,onUpdate:m,finalKeyframe:f}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),x=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=r);let b=this.currentTime,y=n;if(d){const e=Math.min(this.currentTime,r)/a;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,d+1);Boolean(t%2)&&("reverse"===u?(n=1-n,h&&(n-=h/a)):"mirror"===u&&(y=i)),b=Xi(0,1,n)*a}const v=x?{done:!1,value:c[0]}:y.next(b);s&&(v.value=s(v.value));let{done:w}=v;x||null===o||(w=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const j=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return j&&p!==ao&&(v.value=Po(c,this.options,f,this.speed)),m&&m(v.value),j&&this.finish(),v}then(e,t){return this.finished.then(e,t)}get duration(){return Qi(this.calculatedDuration)}get time(){return Qi(this.currentTime)}set time(e){e=Yi(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ii.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Qi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Ga,onPlay:t,startTime:n}=this.options;this.driver||(this.driver=e((e=>this.tick(e)))),t&&t();const r=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=r):null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ii.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,Ji.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}const _o=e=>180*e/Math.PI,Lo=e=>{const t=_o(Math.atan2(e[1],e[0]));return zo(t)},Oo={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Lo,rotateZ:Lo,skewX:e=>_o(Math.atan(e[1])),skewY:e=>_o(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},zo=e=>((e%=360)<0&&(e+=360),e),Bo=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Uo=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),qo={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Bo,scaleY:Uo,scale:e=>(Bo(e)+Uo(e))/2,rotateX:e=>zo(_o(Math.atan2(e[6],e[5]))),rotateY:e=>zo(_o(Math.atan2(-e[2],e[0]))),rotateZ:Lo,rotate:Lo,skewX:e=>_o(Math.atan(e[4])),skewY:e=>_o(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Vo(e){return e.includes("scale")?1:0}function Wo(e,t){if(!e||"none"===e)return Vo(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=qo,s=n;else{const t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Oo,s=t}if(!s)return Vo(t);const i=r[t],a=s[1].split(",").map(Ho);return"function"===typeof i?i(a):a[i]}function Ho(e){return parseFloat(e.trim())}const Go=e=>e===ra||e===xa,Ko=new Set(["x","y","z"]),Xo=Ci.filter((e=>!Ko.has(e)));const Yo={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:s="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(s)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:s="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(s)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:(e,t)=>{let{transform:n}=t;return Wo(n,"x")},y:(e,t)=>{let{transform:n}=t;return Wo(n,"y")}};Yo.translateX=Yo.x,Yo.translateY=Yo.y;const Qo=new Set;let Jo=!1,Zo=!1,$o=!1;function el(){if(Zo){const e=Array.from(Qo).filter((e=>e.needsMeasurement)),t=new Set(e.map((e=>e.element))),n=new Map;t.forEach((e=>{const t=function(e){const t=[];return Xo.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t}(e);t.length&&(n.set(e,t),e.render())})),e.forEach((e=>e.measureInitialState())),t.forEach((e=>{e.render();const t=n.get(e);t&&t.forEach((t=>{let[n,r]=t;e.getValue(n)?.set(r)}))})),e.forEach((e=>e.measureEndState())),e.forEach((e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)}))}Zo=!1,Jo=!1,Qo.forEach((e=>e.complete($o))),Qo.clear()}function tl(){Qo.forEach((e=>{e.readKeyframes(),e.needsMeasurement&&(Zo=!0)}))}class nl{constructor(e,t,n,r,s){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=s,this.isAsync=i}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Qo.add(this),Jo||(Jo=!0,ji.read(tl),ji.resolveKeyframes(el))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(null===e[0]){const s=r?.get(),i=e[e.length-1];if(void 0!==s)e[0]=s;else if(n&&t){const r=n.readValue(t,i);void 0!==r&&null!==r&&(e[0]=r)}void 0===e[0]&&(e[0]=i),r&&void 0===s&&r.set(e[0])}!function(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Qo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Qo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}function rl(e){let t;return()=>(void 0===t&&(t=e()),t)}const sl=rl((()=>void 0!==window.ScrollTimeline)),il={};function al(e,t){const n=rl(e);return()=>il[t]??n()}const ol=al((()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(EN){return!1}return!0}),"linearEasing"),ll=e=>{let[t,n,r,s]=e;return`cubic-bezier(${t}, ${n}, ${r}, ${s})`},cl={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ll([0,.65,.55,1]),circOut:ll([.55,0,1,.45]),backIn:ll([.31,.01,.66,-.59]),backOut:ll([.33,1.53,.69,.99])};function dl(e,t){return e?"function"===typeof e?ol()?Ka(e,t):"ease-out":jo(e)?ll(e):Array.isArray(e)?e.map((e=>dl(e,t)||cl.easeOut)):cl[e]:void 0}function ul(e,t,n){let{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:o="easeOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const d={[t]:n};l&&(d.offset=l);const u=dl(o,s);Array.isArray(u)&&(d.easing=u),vi.value&&Ji.waapi++;const h={delay:r,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:"reverse"===a?"alternate":"normal"};c&&(h.pseudoElement=c);const p=e.animate(d,h);return vi.value&&p.finished.finally((()=>{Ji.waapi--})),p}function hl(e){return"function"===typeof e&&"applyToOptions"in e}class pl extends Do{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:r,pseudoElement:s,allowFlatten:i=!1,finalKeyframe:a,onComplete:o}=e;this.isPseudoElement=Boolean(s),this.allowFlatten=i,this.options=e,e.type;const l=function(e){let{type:t,...n}=e;return hl(t)&&ol()?t.applyToOptions(n):(n.duration??(n.duration=300),n.ease??(n.ease="easeOut"),n)}(e);this.animation=ul(t,n,r,l,s),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const e=Po(r,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,n){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,n):e.style[t]=n}(t,n,e),this.animation.cancel()}o?.(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch(EN){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Qi(Number(e))}get time(){return Qi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Yi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline(e){let{timeline:t,observe:n}=e;return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&sl()?(this.animation.timeline=t,xi):n(this)}}const ml={anticipate:bo,backInOut:xo,circInOut:wo};function fl(e){"string"===typeof e.ease&&e.ease in ml&&(e.ease=ml[e.ease])}class gl extends pl{constructor(e){fl(e),Ro(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:n,onComplete:r,element:s,...i}=this.options;if(!t)return;if(void 0!==e)return void t.set(e);const a=new Io({...i,autoplay:!1}),o=Yi(this.finishedTime??this.time);t.setWithVelocity(a.sample(o-10).value,a.sample(o).value,10),a.stop()}}const xl=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!Fa.test(e)&&"0"!==e||e.startsWith("url(")));const bl=new Set(["opacity","clipPath","filter","transform"]),yl=rl((()=>Object.hasOwnProperty.call(Element.prototype,"animate")));class vl extends Do{constructor(e){let{autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",keyframes:o,name:l,motionValue:c,element:d,...u}=e;super(),this.stop=()=>{this._animation?(this._animation.stop(),this.stopTimeline?.()):this.keyframeResolver?.cancel()},this.createdAt=Ii.now();const h={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,name:l,motionValue:c,element:d,...u},p=d?.KeyframeResolver||nl;this.keyframeResolver=new p(o,((e,t,n)=>this.onKeyframesResolved(e,t,h,!n)),l,c,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;const{name:s,type:i,velocity:a,delay:o,isHandoff:l,onUpdate:c}=n;this.resolvedAt=Ii.now(),function(e,t,n,r){const s=e[0];if(null===s)return!1;if("display"===t||"visibility"===t)return!0;const i=e[e.length-1],a=xl(s,t),o=xl(i,t);return!(!a||!o)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||hl(n))&&r)}(e,s,i,a)||(!bi.instantAnimations&&o||c?.(Po(e,n,t)),e[0]=e[e.length-1],n.duration=0,n.repeat=0);const d={startTime:r?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t,...n,keyframes:e},u=!l&&function(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:a}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:o,transformTemplate:l}=t.owner.getProps();return yl()&&n&&bl.has(n)&&("transform"!==n||!l)&&!o&&!r&&"mirror"!==s&&0!==i&&"inertia"!==a}(d)?new gl({...d,element:d.motionValue.owner.current}):new Io(d);u.finished.then((()=>this.notifyFinished())).catch(xi),this.pendingTimeline&&(this.stopTimeline=u.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=u}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then((()=>{}))}get animation(){return this._animation||($o=!0,tl(),el(),$o=!1),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}}const wl=e=>null!==e;const jl={type:"spring",stiffness:500,damping:25,restSpeed:10},kl={type:"keyframes",duration:.8},Nl={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Sl=(e,t)=>{let{keyframes:n}=t;return n.length>2?kl:Ai.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:jl:Nl};const Cl=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;return a=>{const o=gi(r,e)||{},l=o.delay||r.delay||0;let{elapsed:c=0}=r;c-=Yi(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:s};(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:s,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}=e;return!!Object.keys(u).length})(o)||Object.assign(d,Sl(e,d)),d.duration&&(d.duration=Yi(d.duration)),d.repeatDelay&&(d.repeatDelay=Yi(d.repeatDelay)),void 0!==d.from&&(d.keyframes[0]=d.from);let u=!1;if((!1===d.type||0===d.duration&&!d.repeatDelay)&&(d.duration=0,0===d.delay&&(u=!0)),(bi.instantAnimations||bi.skipAnimations)&&(u=!0,d.duration=0,d.delay=0),d.allowFlatten=!o.type&&!o.ease,u&&!i&&void 0!==t.get()){const e=function(e,t,n){let{repeat:r,repeatType:s="loop"}=t;const i=e.filter(wl),a=r&&"loop"!==s&&r%2===1?0:i.length-1;return a&&void 0!==n?n:i[a]}(d.keyframes,o);if(void 0!==e)return void ji.update((()=>{d.onUpdate(e),d.onComplete()}))}return new vl(d)}};function Al(e,t){let{protectedKeys:n,needsAnimating:r}=e;const s=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,s}function Tl(e,t){let{delay:n=0,transitionOverride:r,type:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:i=e.getDefaultTransition(),transitionEnd:a,...o}=t;r&&(i=r);const l=[],c=s&&e.animationState&&e.animationState.getState()[s];for(const d in o){const t=e.getValue(d,e.latestValues[d]??null),r=o[d];if(void 0===r||c&&Al(c,d))continue;const s={delay:n,...gi(i||{},d)},a=t.get();if(void 0!==a&&!t.isAnimating&&!Array.isArray(r)&&r===a&&!s.velocity)continue;let u=!1;if(window.MotionHandoffAnimation){const t=Hi(e);if(t){const e=window.MotionHandoffAnimation(t,d,ji);null!==e&&(s.startTime=e,u=!0)}}qi(e,d),t.start(Cl(d,t,r,e.shouldReduceMotion&&Ti.has(d)?{type:!1}:s,e,u));const h=t.animation;h&&l.push(h)}return a&&Promise.all(l).then((()=>{ji.update((()=>{a&&function(e,t){const n=fi(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i)Bi(e,o,(a=i[o],zi(a)?a[a.length-1]||0:a));var a}(e,a)}))})),l}function El(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=fi(e,t,"exit"===n.type?e.presenceContext?.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(Tl(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:i=0,staggerChildren:a,staggerDirection:o}=s;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,i=arguments.length>5?arguments[5]:void 0;const a=[],o=(e.variantChildren.size-1)*r,l=1===s?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return o-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(Pl).forEach(((e,r)=>{e.notify("AnimationStart",t),a.push(El(e,t,{...i,delay:n+l(r)}).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(a)}(e,t,i+r,a,o,n)}:()=>Promise.resolve(),{when:o}=s;if(o){const[e,t]="beforeChildren"===o?[i,a]:[a,i];return e().then((()=>t()))}return Promise.all([i(),a(n.delay)])}function Pl(e,t){return e.sortNodePosition(t)}function Fl(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Rl(e){return"string"===typeof e||Array.isArray(e)}const Dl=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ml=["initial",...Dl],Il=Ml.length;function _l(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&_l(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<Il;n++){const r=Ml[n],s=e.props[r];(Rl(s)||!1===s)&&(t[r]=s)}return t}const Ll=[...Dl].reverse(),Ol=Dl.length;function zl(e){return t=>Promise.all(t.map((t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const s=t.map((t=>El(e,t,r)));n=Promise.all(s)}else if("string"===typeof t)n=El(e,t,r);else{const s="function"===typeof t?fi(e,t,r.custom):t;n=Promise.all(Tl(e,s,r))}return n.then((()=>{e.notify("AnimationComplete",t)}))}(e,n,r)})))}function Bl(e){let t=zl(e),n=Vl(),r=!0;const s=t=>(n,r)=>{const s=fi(e,r,"exit"===t?e.presenceContext?.custom:void 0);if(s){const{transition:e,transitionEnd:t,...r}=s;n={...n,...r,...t}}return n};function i(i){const{props:a}=e,o=_l(e.parent)||{},l=[],c=new Set;let d={},u=1/0;for(let t=0;t<Ol;t++){const h=Ll[t],p=n[h],m=void 0!==a[h]?a[h]:o[h],f=Rl(m),g=h===i?p.isActive:null;!1===g&&(u=t);let x=m===o[h]&&m!==a[h]&&f;if(x&&r&&e.manuallyAnimateOnMount&&(x=!1),p.protectedKeys={...d},!p.isActive&&null===g||!m&&!p.prevProp||hi(m)||"boolean"===typeof m)continue;const b=Ul(p.prevProp,m);let y=b||h===i&&p.isActive&&!x&&f||t>u&&f,v=!1;const w=Array.isArray(m)?m:[m];let j=w.reduce(s(h),{});!1===g&&(j={});const{prevResolvedValues:k={}}=p,N={...k,...j},S=t=>{y=!0,c.has(t)&&(v=!0,c.delete(t)),p.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in N){const t=j[e],n=k[e];if(d.hasOwnProperty(e))continue;let r=!1;r=zi(t)&&zi(n)?!Fl(t,n):t!==n,r?void 0!==t&&null!==t?S(e):c.add(e):void 0!==t&&c.has(e)?S(e):p.protectedKeys[e]=!0}p.prevProp=m,p.prevResolvedValues=j,p.isActive&&(d={...d,...j}),r&&e.blockInitialAnimation&&(y=!1);y&&(!(x&&b)||v)&&l.push(...w.map((e=>({animation:e,options:{type:h}}))))}if(c.size){const t={};if("boolean"!==typeof a.initial){const n=fi(e,Array.isArray(a.initial)?a.initial[0]:a.initial);n&&n.transition&&(t.transition=n.transition)}c.forEach((n=>{const r=e.getBaseTarget(n),s=e.getValue(n);s&&(s.liveStyle=!0),t[n]=r??null})),l.push({animation:t})}let h=Boolean(l.length);return!r||!1!==a.initial&&a.initial!==a.animate||e.manuallyAnimateOnMount||(h=!1),r=!1,h?t(l):Promise.resolve()}return{animateChanges:i,setActive:function(t,r){if(n[t].isActive===r)return Promise.resolve();e.variantChildren?.forEach((e=>e.animationState?.setActive(t,r))),n[t].isActive=r;const s=i(t);for(const e in n)n[e].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=Vl(),r=!0}}}function Ul(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!Fl(t,e)}function ql(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Vl(){return{animate:ql(!0),whileInView:ql(),whileHover:ql(),whileTap:ql(),whileDrag:ql(),whileFocus:ql(),exit:ql()}}class Wl{constructor(e){this.isMounted=!1,this.node=e}update(){}}let Hl=0;const Gl={animation:{Feature:class extends Wl{constructor(e){super(e),e.animationState||(e.animationState=Bl(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();hi(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}},exit:{Feature:class extends Wl{constructor(){super(...arguments),this.id=Hl++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then((()=>{t(this.id)}))}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}},Kl={x:!1,y:!1};function Xl(){return Kl.x||Kl.y}function Yl(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const Ql=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function Jl(e){return{point:{x:e.pageX,y:e.pageY}}}function Zl(e,t,n,r){return Yl(e,t,(e=>t=>Ql(t)&&e(t,Jl(t)))(n),r)}function $l(e){let{top:t,left:n,right:r,bottom:s}=e;return{x:{min:n,max:r},y:{min:t,max:s}}}function ec(e){return e.max-e.min}function tc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=Ma(t.min,t.max,e.origin),e.scale=ec(n)/ec(t),e.translate=Ma(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function nc(e,t,n,r){tc(e.x,t.x,n.x,r?r.originX:void 0),tc(e.y,t.y,n.y,r?r.originY:void 0)}function rc(e,t,n){e.min=n.min+t.min,e.max=e.min+ec(t)}function sc(e,t,n){e.min=t.min-n.min,e.max=e.min+ec(t)}function ic(e,t,n){sc(e.x,t.x,n.x),sc(e.y,t.y,n.y)}const ac=()=>({x:{min:0,max:0},y:{min:0,max:0}});function oc(e){return[e("x"),e("y")]}function lc(e){return void 0===e||1===e}function cc(e){let{scale:t,scaleX:n,scaleY:r}=e;return!lc(t)||!lc(n)||!lc(r)}function dc(e){return cc(e)||uc(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function uc(e){return hc(e.x)||hc(e.y)}function hc(e){return e&&"0%"!==e}function pc(e,t,n){return n+t*(e-n)}function mc(e,t,n,r,s){return void 0!==s&&(e=pc(e,s,r)),pc(e,n,r)+t}function fc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;e.min=mc(e.min,t,n,r,s),e.max=mc(e.max,t,n,r,s)}function gc(e,t){let{x:n,y:r}=t;fc(e.x,n.translate,n.scale,n.originPoint),fc(e.y,r.translate,r.scale,r.originPoint)}const xc=.999999999999,bc=1.0000000000001;function yc(e,t){e.min=e.min+t,e.max=e.max+t}function vc(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;fc(e,t,n,Ma(e.min,e.max,s),r)}function wc(e,t){vc(e.x,t.x,t.scaleX,t.scale,t.originX),vc(e.y,t.y,t.scaleY,t.scale,t.originY)}function jc(e,t){return $l(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const kc=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null};function Nc(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}const Sc=(e,t)=>Math.abs(e-t);class Cc{constructor(e,t){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Ec(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=Sc(e.x,t.x),r=Sc(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:s}=Ni;this.history.push({...r,timestamp:s});const{onStart:i,onMove:a}=this.handlers;t||(i&&i(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=Ac(t,this.transformPagePoint),ji.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:s}=this.handlers;if(this.dragSnapToOrigin&&s&&s(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const i=Ec("pointercancel"===e.type?this.lastMoveEventInfo:Ac(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,i),r&&r(e,i)},!Ql(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const i=Ac(Jl(e),this.transformPagePoint),{point:a}=i,{timestamp:o}=Ni;this.history=[{...a,timestamp:o}];const{onSessionStart:l}=t;l&&l(e,Ec(i,this.history)),this.removeListeners=Ki(Zl(this.contextWindow,"pointermove",this.handlePointerMove),Zl(this.contextWindow,"pointerup",this.handlePointerUp),Zl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ki(this.updatePoint)}}function Ac(e,t){return t?{point:t(e.point)}:e}function Tc(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ec(e,t){let{point:n}=e;return{point:n,delta:Tc(n,Fc(t)),offset:Tc(n,Pc(t)),velocity:Rc(t,.1)}}function Pc(e){return e[0]}function Fc(e){return e[e.length-1]}function Rc(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=Fc(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Yi(t)));)n--;if(!r)return{x:0,y:0};const i=Qi(s.timestamp-r.timestamp);if(0===i)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Dc(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function Mc(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const Ic=.35;function _c(e,t,n){return{min:Lc(e,t),max:Lc(e,n)}}function Lc(e,t){return"number"===typeof e?e:e[t]||0}const Oc=new WeakMap;class zc{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new Cc(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Jl(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:s}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(i=n)||"y"===i?Kl[i]?null:(Kl[i]=!0,()=>{Kl[i]=!1}):Kl.x||Kl.y?null:(Kl.x=Kl.y=!0,()=>{Kl.x=Kl.y=!1}),!this.openDragLock))return;var i;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),oc((e=>{let t=this.getAxisMotionValue(e).get()||0;if(ga.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=ec(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),s&&ji.postRender((()=>s(e,t))),qi(this.visualElement,"transform");const{animationState:a}=this.visualElement;a&&a.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:s,onDrag:i}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:a}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(a),void(null!==this.currentDirection&&s&&s(this.currentDirection));this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),i&&i(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>oc((e=>"paused"===this.getAnimationState(e)&&this.getAxisMotionValue(e).animation?.play()))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:kc(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&ji.postRender((()=>s(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!Bc(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let i=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(i=function(e,t,n){let{min:r,max:s}=t;return void 0!==r&&e<r?e=n?Ma(r,e,n.min):Math.max(e,r):void 0!==s&&e>s&&(e=n?Ma(s,e,n.max):Math.min(e,s)),e}(i,this.constraints[e],this.elastic[e])),s.set(i)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&Nc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!e||!n)&&function(e,t){let{top:n,left:r,bottom:s,right:i}=t;return{x:Dc(e.x,r,i),y:Dc(e.y,n,s)}}(n.layoutBox,e),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ic;return!1===e?e=0:!0===e&&(e=Ic),{x:_c(e,"left","right"),y:_c(e,"top","bottom")}}(t),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&oc((e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(n.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Nc(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=function(e,t,n){const r=jc(e,n),{scroll:s}=t;return s&&(yc(r.x,s.offset.x),yc(r.y,s.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let i=function(e,t){return{x:Mc(e.x,t.x),y:Mc(e.y,t.y)}}(r.layout.layoutBox,s);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(i));this.hasMutatedConstraints=!!e,e&&(i=$l(e))}return i}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:s,dragSnapToOrigin:i,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{},l=oc((a=>{if(!Bc(a,t,this.currentDirection))return;let l=o&&o[a]||{};i&&(l={min:0,max:0});const c=r?200:1e6,d=r?40:1e7,u={type:"inertia",velocity:n?e[a]:0,bounceStiffness:c,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...s,...l};return this.startAxisValueAnimation(a,u)}));return Promise.all(l).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return qi(this.visualElement,e),n.start(Cl(e,n,0,t,this.visualElement,!1))}stopAnimation(){oc((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){oc((e=>this.getAxisMotionValue(e).animation?.pause()))}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){oc((t=>{const{drag:n}=this.getProps();if(!Bc(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:i}=r.layout.layoutBox[t];s.set(e[t]-Ma(n,i,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Nc(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};oc((e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=ec(e),s=ec(t);return s>r?n=So(t.min,t.max-r,e.min):r>s&&(n=So(e.min,e.max-s,t.min)),Xi(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),oc((t=>{if(!Bc(t,e,null))return;const n=this.getAxisMotionValue(t),{min:s,max:i}=this.constraints[t];n.set(Ma(s,i,r[t]))}))}addListeners(){if(!this.visualElement.current)return;Oc.set(this.visualElement,this);const e=Zl(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();Nc(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),ji.read(t);const s=Yl(window,"resize",(()=>this.scalePositionWithinConstraints())),i=n.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(oc((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.render())}));return()=>{s(),e(),r(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:i=Ic,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:s,dragElastic:i,dragMomentum:a}}}function Bc(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const Uc=e=>(t,n)=>{e&&ji.postRender((()=>e(t,n)))};const{schedule:qc,cancel:Vc}=wi(queueMicrotask,!1),Wc=(0,t.createContext)(null);const Hc=(0,t.createContext)({}),Gc=(0,t.createContext)({}),Kc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Xc(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Yc={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!xa.test(e))return e;e=parseFloat(e)}return`${Xc(e,t.target.x)}% ${Xc(e,t.target.y)}%`}},Qc={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const s=e,i=Fa.parse(e);if(i.length>5)return s;const a=Fa.createTransformer(e),o="number"!==typeof i[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;i[0+o]/=l,i[1+o]/=c;const d=Ma(l,c,.5);return"number"===typeof i[2+o]&&(i[2+o]/=d),"number"===typeof i[3+o]&&(i[3+o]/=d),a(i)}},Jc={};class Zc extends t.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:s}=e;!function(e){for(const t in e)Jc[t]=e[t],$i(t)&&(Jc[t].isCSSVariable=!0)}(ed),s&&(t.group&&t.group.add(s),n&&n.register&&r&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",(()=>{this.safeToRemove()})),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Kc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:s}=this.props,{projection:i}=n;return i?(i.isPresent=s,r||e.layoutDependency!==t||void 0===t||e.isPresent!==s?i.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?i.promote():i.relegate()||ji.postRender((()=>{const e=i.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),qc.postRender((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function $c(e){const[n,r]=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const n=(0,t.useContext)(Wc);if(null===n)return[!0,null];const{isPresent:r,onExitComplete:s,register:i}=n,a=(0,t.useId)();(0,t.useEffect)((()=>{if(e)return i(a)}),[e]);const o=(0,t.useCallback)((()=>e&&s&&s(a)),[a,s,e]);return!r&&s?[!1,o]:[!0]}(),s=(0,t.useContext)(Hc);return(0,ht.jsx)(Zc,{...e,layoutGroup:s,switchLayoutGroup:(0,t.useContext)(Gc),isPresent:n,safeToRemove:r})}const ed={borderRadius:{...Yc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Yc,borderTopRightRadius:Yc,borderBottomLeftRadius:Yc,borderBottomRightRadius:Yc,boxShadow:Qc};const td=(e,t)=>e.depth-t.depth;class nd{constructor(){this.children=[],this.isDirty=!1}add(e){Ei(this.children,e),this.isDirty=!0}remove(e){Pi(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(td),this.isDirty=!1,this.children.forEach(e)}}function rd(e,t){const n=Ii.now(),r=s=>{let{timestamp:i}=s;const a=i-n;a>=t&&(ki(r),e(a-t))};return ji.setup(r,!0),()=>ki(r)}function sd(e){return Ui(e)?e.get():e}const id=["TopLeft","TopRight","BottomLeft","BottomRight"],ad=id.length,od=e=>"string"===typeof e?parseFloat(e):e,ld=e=>"number"===typeof e||xa.test(e);function cd(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const dd=hd(0,.5,vo),ud=hd(.5,.95,xi);function hd(e,t,n){return r=>r<e?0:r>t?1:n(So(e,t,r))}function pd(e,t){e.min=t.min,e.max=t.max}function md(e,t){pd(e.x,t.x),pd(e.y,t.y)}function fd(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function gd(e,t,n,r,s){return e=pc(e-=t,1/n,r),void 0!==s&&(e=pc(e,1/s,r)),e}function xd(e,t,n,r,s){let[i,a,o]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,s=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;ga.test(t)&&(t=parseFloat(t),t=Ma(a.min,a.max,t/100)-a.min);if("number"!==typeof t)return;let o=Ma(i.min,i.max,r);e===i&&(o-=t),e.min=gd(e.min,t,n,o,s),e.max=gd(e.max,t,n,o,s)}(e,t[i],t[a],t[o],t.scale,r,s)}const bd=["x","scaleX","originX"],yd=["y","scaleY","originY"];function vd(e,t,n,r){xd(e.x,t,bd,n?n.x:void 0,r?r.x:void 0),xd(e.y,t,yd,n?n.y:void 0,r?r.y:void 0)}function wd(e){return 0===e.translate&&1===e.scale}function jd(e){return wd(e.x)&&wd(e.y)}function kd(e,t){return e.min===t.min&&e.max===t.max}function Nd(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Sd(e,t){return Nd(e.x,t.x)&&Nd(e.y,t.y)}function Cd(e){return ec(e.x)/ec(e.y)}function Ad(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Td{constructor(){this.members=[]}add(e){Ei(this.members,e),e.scheduleRender()}remove(e){if(Pi(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Ed={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},Pd=["","X","Y","Z"],Fd={visibility:"hidden"};let Rd=0;function Dd(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Md(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Hi(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ji,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Md(r)}function Id(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:s,resetTransform:i}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n?.();this.id=Rd++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,vi.value&&(Ed.nodes=Ed.calculatedTargetDeltas=Ed.calculatedProjections=0),this.nodes.forEach(Od),this.nodes.forEach(Hd),this.nodes.forEach(Gd),this.nodes.forEach(zd),vi.addProjectionMetrics&&vi.addProjectionMetrics(Ed)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new nd)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Fi),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){if(this.instance)return;var n;this.isSVG=(n=e)instanceof SVGElement&&"svg"!==n.tagName,this.instance=e;const{layoutId:r,layout:s,visualElement:i}=this.options;if(i&&!i.current&&i.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(s||r)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=rd(r,250),Kc.hasAnimatedSinceResize&&(Kc.hasAnimatedSinceResize=!1,this.nodes.forEach(Wd))}))}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&i&&(r||s)&&this.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n,hasRelativeLayoutChanged:r,layout:s}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const a=this.options.transition||i.getDefaultTransition()||Zd,{onLayoutAnimationStart:o,onLayoutAnimationComplete:l}=i.getProps(),c=!this.targetLayout||!Sd(this.targetLayout,s),d=!n&&r;if(this.options.layoutRoot||this.resumeFrom||d||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,d);const e={...gi(a,"layout"),onPlay:o,onComplete:l};(i.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||Wd(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=s}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ki(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Kd),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Md(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let s=0;s<this.path.length;s++){const e=this.path[s];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Ud);this.isUpdating||this.nodes.forEach(qd),this.isUpdating=!1,this.nodes.forEach(Vd),this.nodes.forEach(_d),this.nodes.forEach(Ld),this.clearAllSnapshots();const e=Ii.now();Ni.delta=Xi(0,1e3/60,e-Ni.timestamp),Ni.timestamp=e,Ni.isProcessing=!0,Si.update.process(Ni),Si.preRender.process(Ni),Si.render.process(Ni),Ni.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,qc.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Bd),this.sharedNodes.forEach(Xd)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ji.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ji.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||ec(this.snapshot.measuredBox.x)||ec(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=s(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!i)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!jd(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,s=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||dc(this.latestValues)||s)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),tu((r=n).x),tu(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(ru))){const{scroll:e}=this.root;e&&(yc(t.x,e.offset.x),yc(t.y,e.offset.y))}return t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};if(md(t,e),this.scroll?.wasRoot)return t;for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:s,options:i}=r;r!==this.root&&s&&i.layoutScroll&&(s.wasRoot&&md(t,e),yc(t.x,s.offset.x),yc(t.y,s.offset.y))}return t}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};md(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&wc(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),dc(e.latestValues)&&wc(n,e.latestValues)}return dc(this.latestValues)&&wc(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};md(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!dc(e.latestValues))continue;cc(e.latestValues)&&e.updateSnapshot();const r={x:{min:0,max:0},y:{min:0,max:0}};md(r,e.measurePageBox()),vd(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return dc(this.latestValues)&&vd(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ni.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=t.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=t.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=t.isSharedProjectionDirty);const n=Boolean(this.resumingFrom)||this!==t;if(!(e||n&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:r,layoutId:s}=this.options;if(this.layout&&(r||s)){if(this.resolvedRelativeTargetAt=Ni.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},ic(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),md(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var i,a,o;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),i=this.target,a=this.relativeTarget,o=this.relativeParent.target,rc(i.x,a.x,o.x),rc(i.y,a.y,o.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):md(this.target,this.layout.layoutBox),gc(this.target,this.targetDelta)):md(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},ic(this.relativeTargetOrigin,this.target,e.target),md(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}vi.value&&Ed.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!cc(this.parent.latestValues)&&!uc(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const e=this.getLead(),t=Boolean(this.resumingFrom)||this!==e;let n=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(n=!1),t&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(n=!1),this.resolvedRelativeTargetAt===Ni.timestamp&&(n=!1),n)return;const{layout:r,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!r&&!s)return;md(this.layoutCorrected,this.layout.layoutBox);const i=this.treeScale.x,a=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=n.length;if(!s)return;let i,a;t.x=t.y=1;for(let o=0;o<s;o++){i=n[o],a=i.projectionDelta;const{visualElement:s}=i.options;s&&s.props.style&&"contents"===s.props.style.display||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&wc(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,gc(e,a)),r&&dc(i.latestValues)&&wc(e,i.latestValues))}t.x<bc&&t.x>xc&&(t.x=1),t.y<bc&&t.y>xc&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,t),!e.layout||e.target||1===this.treeScale.x&&1===this.treeScale.y||(e.target=e.layout.layoutBox,e.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:o}=e;o?(this.projectionDelta&&this.prevProjectionDelta?(fd(this.prevProjectionDelta.x,this.projectionDelta.x),fd(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),nc(this.projectionDelta,this.layoutCorrected,o,this.latestValues),this.treeScale.x===i&&this.treeScale.y===a&&Ad(this.projectionDelta.x,this.prevProjectionDelta.x)&&Ad(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",o)),vi.value&&Ed.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.visualElement?.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},s={...this.latestValues},i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const a={x:{min:0,max:0},y:{min:0,max:0}},o=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,d=Boolean(o&&!c&&!0===this.options.crossfade&&!this.path.some(Jd));let u;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,h,p,m,f,g;Yd(i.x,e.x,n),Yd(i.y,e.y,n),this.setTargetDelta(i),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ic(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p=this.relativeTarget,m=this.relativeTargetOrigin,f=a,g=n,Qd(p.x,m.x,f.x,g),Qd(p.y,m.y,f.y,g),u&&(l=this.relativeTarget,h=u,kd(l.x,h.x)&&kd(l.y,h.y))&&(this.isProjectionDirty=!1),u||(u={x:{min:0,max:0},y:{min:0,max:0}}),md(u,this.relativeTarget)),o&&(this.animationValues=s,function(e,t,n,r,s,i){s?(e.opacity=Ma(0,n.opacity??1,dd(r)),e.opacityExit=Ma(t.opacity??1,0,ud(r))):i&&(e.opacity=Ma(t.opacity??1,n.opacity??1,r));for(let a=0;a<ad;a++){const s=`border${id[a]}Radius`;let i=cd(t,s),o=cd(n,s);void 0===i&&void 0===o||(i||(i=0),o||(o=0),0===i||0===o||ld(i)===ld(o)?(e[s]=Math.max(Ma(od(i),od(o),r),0),(ga.test(o)||ga.test(i))&&(e[s]+="%")):e[s]=o)}(t.rotate||n.rotate)&&(e.rotate=Ma(t.rotate||0,n.rotate||0,r))}(s,r,this.latestValues,n,d,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ki(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ji.update((()=>{Kc.hasAnimatedSinceResize=!0,Ji.layout++,this.currentAnimation=function(e,t,n){const r=Ui(e)?e:Oi(e);return r.start(Cl("",r,t,n)),r.animation}(0,1e3,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{Ji.layout--},onComplete:()=>{Ji.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:s}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&nu(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=ec(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=ec(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}md(t,n),wc(t,s),nc(this.projectionDeltaWithTransform,this.layoutCorrected,t,s)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new Td);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){const{layoutId:e}=this.options;return e&&this.getStack()?.lead||this}getPrevLead(){const{layoutId:e}=this.options;return e?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&Dd("z",e,r,this.animationValues);for(let s=0;s<Pd.length;s++)Dd(`rotate${Pd[s]}`,e,r,this.animationValues),Dd(`skew${Pd[s]}`,e,r,this.animationValues);e.render();for(const s in r)e.setStaticValue(s,r[s]),this.animationValues&&(this.animationValues[s]=r[s]);e.scheduleRender()}getProjectionStyles(e){if(!this.instance||this.isSVG)return;if(!this.isVisible)return Fd;const t={visibility:""},n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,t.opacity="",t.pointerEvents=sd(e?.pointerEvents)||"",t.transform=n?n(this.latestValues,""):"none",t;const r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=sd(e?.pointerEvents)||""),this.hasProjected&&!dc(this.latestValues)&&(t.transform=n?n({},""):"none",this.hasProjected=!1),t}const s=r.animationValues||r.latestValues;this.applyTransformsToTarget(),t.transform=function(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,a=n?.z||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),1===t.x&&1===t.y||(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:e,rotate:t,rotateX:s,rotateY:i,skewX:a,skewY:o}=n;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),s&&(r+=`rotateX(${s}deg) `),i&&(r+=`rotateY(${i}deg) `),a&&(r+=`skewX(${a}deg) `),o&&(r+=`skewY(${o}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return 1===o&&1===l||(r+=`scale(${o}, ${l})`),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,s),n&&(t.transform=n(s,t.transform));const{x:i,y:a}=this.projectionDelta;t.transformOrigin=`${100*i.origin}% ${100*a.origin}% 0`,r.animationValues?t.opacity=r===this?s.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:t.opacity=r===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0;for(const o in Jc){if(void 0===s[o])continue;const{correct:e,applyTo:n,isCSSVariable:i}=Jc[o],a="none"===t.transform?s[o]:e(s[o],r);if(n){const e=n.length;for(let r=0;r<e;r++)t[n[r]]=a}else i?this.options.visualElement.renderState.vars[o]=a:t[o]=a}return this.options.layoutId&&(t.pointerEvents=r===this?sd(e?.pointerEvents)||"":"none"),t}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>e.currentAnimation?.stop())),this.root.nodes.forEach(Ud),this.root.sharedNodes.clear()}}}function _d(e){e.updateLayout()}function Ld(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:s}=e.options,i=t.source!==e.layout.source;"size"===s?oc((e=>{const r=i?t.measuredBox[e]:t.layoutBox[e],s=ec(r);r.min=n[e].min,r.max=r.min+s})):nu(s,t.layoutBox,n)&&oc((r=>{const s=i?t.measuredBox[r]:t.layoutBox[r],a=ec(n[r]);s.max=s.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+a)}));const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};nc(a,n,t.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};i?nc(o,e.applyTransform(r,!0),t.measuredBox):nc(o,n,t.layoutBox);const l=!jd(a);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:s,layout:i}=r;if(s&&i){const a={x:{min:0,max:0},y:{min:0,max:0}};ic(a,t.layoutBox,s.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};ic(o,n,i.layoutBox),Sd(a,o)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=a,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Od(e){vi.value&&Ed.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function zd(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Bd(e){e.clearSnapshot()}function Ud(e){e.clearMeasurements()}function qd(e){e.isLayoutDirty=!1}function Vd(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Wd(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Hd(e){e.resolveTargetDelta()}function Gd(e){e.calcProjection()}function Kd(e){e.resetSkewAndRotation()}function Xd(e){e.removeLeadSnapshot()}function Yd(e,t,n){e.translate=Ma(t.translate,0,n),e.scale=Ma(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Qd(e,t,n,r){e.min=Ma(t.min,n.min,r),e.max=Ma(t.max,n.max,r)}function Jd(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const Zd={duration:.45,ease:[.4,0,.1,1]},$d=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),eu=$d("applewebkit/")&&!$d("chrome/")?Math.round:xi;function tu(e){e.min=eu(e.min),e.max=eu(e.max)}function nu(e,t,n){return"position"===e||"preserve-aspect"===e&&(r=Cd(t),s=Cd(n),i=.2,!(Math.abs(r-s)<=i));var r,s,i}function ru(e){return e!==e.root&&e.scroll?.wasRoot}const su=Id({attachResizeListener:(e,t)=>Yl(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),iu={current:void 0},au=Id({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!iu.current){const e=new su({});e.mount(window),e.setOptions({layoutScroll:!0}),iu.current=e}return iu.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),ou={pan:{Feature:class extends Wl{constructor(){super(...arguments),this.removePointerDownListener=xi}onPointerDown(e){this.session=new Cc(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:kc(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Uc(e),onStart:Uc(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&ji.postRender((()=>r(e,t)))}}}mount(){this.removePointerDownListener=Zl(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends Wl{constructor(e){super(e),this.removeGroupControls=xi,this.removeListeners=xi,this.controls=new zc(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||xi}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:au,MeasureLayout:$c}};function lu(e,t){const n=function(e,t,n){if(e instanceof EventTarget)return[e];if("string"===typeof e){let r=document;t&&(r=t.current);const s=n?.[e]??r.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}(e),r=new AbortController;return[n,{passive:!0,...t,signal:r.signal},()=>r.abort()]}function cu(e){return!("touch"===e.pointerType||Xl())}function du(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const s=r["onHover"+n];s&&ji.postRender((()=>s(t,Jl(t))))}const uu=(e,t)=>!!t&&(e===t||uu(e,t.parentElement)),hu=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const pu=new WeakSet;function mu(e){return t=>{"Enter"===t.key&&e(t)}}function fu(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function gu(e){return Ql(e)&&!Xl()}function xu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,s,i]=lu(e,n),a=e=>{const r=e.currentTarget;if(!gu(e)||pu.has(r))return;pu.add(r);const i=t(r,e),a=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),pu.has(r)&&pu.delete(r),gu(e)&&"function"===typeof i&&i(e,{success:t})},o=e=>{a(e,r===window||r===document||n.useGlobalTarget||uu(r,e.target))},l=e=>{a(e,!1)};window.addEventListener("pointerup",o,s),window.addEventListener("pointercancel",l,s)};return r.forEach((e=>{var t;(n.useGlobalTarget?window:e).addEventListener("pointerdown",a,s),e instanceof HTMLElement&&(e.addEventListener("focus",(e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=mu((()=>{if(pu.has(n))return;fu(n,"down");const e=mu((()=>{fu(n,"up")}));n.addEventListener("keyup",e,t),n.addEventListener("blur",(()=>fu(n,"cancel")),t)}));n.addEventListener("keydown",r,t),n.addEventListener("blur",(()=>n.removeEventListener("keydown",r)),t)})(e,s))),t=e,hu.has(t.tagName)||-1!==t.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))})),i}function bu(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const s=r["onTap"+("End"===n?"":n)];s&&ji.postRender((()=>s(t,Jl(t))))}const yu=new WeakMap,vu=new WeakMap,wu=e=>{const t=yu.get(e.target);t&&t(e)},ju=e=>{e.forEach(wu)};function ku(e,t,n){const r=function(e){let{root:t,...n}=e;const r=t||document;vu.has(r)||vu.set(r,{});const s=vu.get(r),i=JSON.stringify(n);return s[i]||(s[i]=new IntersectionObserver(ju,{root:t,...n})),s[i]}(t);return yu.set(e,n),r.observe(e),()=>{yu.delete(e),r.unobserve(e)}}const Nu={some:0,all:1};const Su={inView:{Feature:class extends Wl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:s}=e,i={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:Nu[r]};return ku(this.node.current,i,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,s&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),i=t?n:r;i&&i(e)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends Wl{mount(){const{current:e}=this.node;e&&(this.unmount=xu(e,((e,t)=>(bu(this.node,t,"Start"),(e,t)=>{let{success:n}=t;return bu(this.node,e,n?"End":"Cancel")})),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends Wl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(EN){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ki(Yl(this.node.current,"focus",(()=>this.onFocus())),Yl(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends Wl{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,s,i]=lu(e,n),a=e=>{if(!cu(e))return;const{target:n}=e,r=t(n,e);if("function"!==typeof r||!n)return;const i=e=>{cu(e)&&(r(e),n.removeEventListener("pointerleave",i))};n.addEventListener("pointerleave",i,s)};return r.forEach((e=>{e.addEventListener("pointerenter",a,s)})),i}(e,((e,t)=>(du(this.node,t,"Start"),e=>du(this.node,e,"End")))))}unmount(){}}}},Cu={layout:{ProjectionNode:au,MeasureLayout:$c}},Au=(0,t.createContext)({strict:!1}),Tu=(0,t.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Eu=(0,t.createContext)({});function Pu(e){return hi(e.animate)||Ml.some((t=>Rl(e[t])))}function Fu(e){return Boolean(Pu(e)||e.variants)}function Ru(e){const{initial:n,animate:r}=function(e,t){if(Pu(e)){const{initial:t,animate:n}=e;return{initial:!1===t||Rl(t)?t:void 0,animate:Rl(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,t.useContext)(Eu));return(0,t.useMemo)((()=>({initial:n,animate:r})),[Du(n),Du(r)])}function Du(e){return Array.isArray(e)?e.join(" "):e}const Mu="undefined"!==typeof window,Iu={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},_u={};for(const PN in Iu)_u[PN]={isEnabled:e=>Iu[PN].some((t=>!!e[t]))};const Lu=Symbol.for("motionComponentSymbol");function Ou(e,n,r){return(0,t.useCallback)((t=>{t&&e.onMount&&e.onMount(t),n&&(t?n.mount(t):n.unmount()),r&&("function"===typeof r?r(t):Nc(r)&&(r.current=t))}),[n])}const zu=Mu?t.useLayoutEffect:t.useEffect;function Bu(e,n,r,s,i){const{visualElement:a}=(0,t.useContext)(Eu),o=(0,t.useContext)(Au),l=(0,t.useContext)(Wc),c=(0,t.useContext)(Tu).reducedMotion,d=(0,t.useRef)(null);s=s||o.renderer,!d.current&&s&&(d.current=s(e,{visualState:n,parent:a,props:r,presenceContext:l,blockInitialAnimation:!!l&&!1===l.initial,reducedMotionConfig:c}));const u=d.current,h=(0,t.useContext)(Gc);!u||u.projection||!i||"html"!==u.type&&"svg"!==u.type||function(e,t,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Uu(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:Boolean(a)||o&&Nc(o),visualElement:e,animationType:"string"===typeof i?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:c})}(d.current,r,i,h);const p=(0,t.useRef)(!1);(0,t.useInsertionEffect)((()=>{u&&p.current&&u.update(r,l)}));const m=r[Wi],f=(0,t.useRef)(Boolean(m)&&!window.MotionHandoffIsComplete?.(m)&&window.MotionHasOptimisedAnimation?.(m));return zu((()=>{u&&(p.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),qc.render(u.render),f.current&&u.animationState&&u.animationState.animateChanges())})),(0,t.useEffect)((()=>{u&&(!f.current&&u.animationState&&u.animationState.animateChanges(),f.current&&(queueMicrotask((()=>{window.MotionHandoffMarkAsComplete?.(m)})),f.current=!1))})),u}function Uu(e){if(e)return!1!==e.options.allowProjection?e.projection:Uu(e.parent)}function qu(e){let{preloadedFeatures:n,createVisualElement:r,useRender:s,useVisualState:i,Component:a}=e;function o(e,n){let o;const l={...(0,t.useContext)(Tu),...e,layoutId:Vu(e)},{isStatic:c}=l,d=Ru(e),u=i(e,c);if(!c&&Mu){!function(){(0,t.useContext)(Au).strict;0}();const e=function(e){const{drag:t,layout:n}=_u;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(l);o=e.MeasureLayout,d.visualElement=Bu(a,u,l,r,e.ProjectionNode)}return(0,ht.jsxs)(Eu.Provider,{value:d,children:[o&&d.visualElement?(0,ht.jsx)(o,{visualElement:d.visualElement,...l}):null,s(a,e,Ou(u,d.visualElement,n),u,c,d.visualElement)]})}n&&function(e){for(const t in e)_u[t]={..._u[t],...e[t]}}(n),o.displayName=`motion.${"string"===typeof a?a:`create(${a.displayName??a.name??""})`}`;const l=(0,t.forwardRef)(o);return l[Lu]=a,l}function Vu(e){let{layoutId:n}=e;const r=(0,t.useContext)(Hc).id;return r&&void 0!==n?r+"-"+n:n}function Wu(e,t){let{layout:n,layoutId:r}=t;return Ai.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!Jc[e]||"opacity"===e)}const Hu=(e,t)=>t&&"number"===typeof e?t.transform(e):e,Gu={...ra,transform:Math.round},Ku={borderWidth:xa,borderTopWidth:xa,borderRightWidth:xa,borderBottomWidth:xa,borderLeftWidth:xa,borderRadius:xa,radius:xa,borderTopLeftRadius:xa,borderTopRightRadius:xa,borderBottomRightRadius:xa,borderBottomLeftRadius:xa,width:xa,maxWidth:xa,height:xa,maxHeight:xa,top:xa,right:xa,bottom:xa,left:xa,padding:xa,paddingTop:xa,paddingRight:xa,paddingBottom:xa,paddingLeft:xa,margin:xa,marginTop:xa,marginRight:xa,marginBottom:xa,marginLeft:xa,backgroundPositionX:xa,backgroundPositionY:xa,...{rotate:fa,rotateX:fa,rotateY:fa,rotateZ:fa,scale:ia,scaleX:ia,scaleY:ia,scaleZ:ia,skew:fa,skewX:fa,skewY:fa,distance:xa,translateX:xa,translateY:xa,translateZ:xa,x:xa,y:xa,z:xa,perspective:xa,transformPerspective:xa,opacity:sa,originX:va,originY:va,originZ:xa},zIndex:Gu,fillOpacity:sa,strokeOpacity:sa,numOctaves:Gu},Xu={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Yu=Ci.length;function Qu(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let a=!1,o=!1;for(const l in t){const e=t[l];if(Ai.has(l))a=!0;else if($i(l))s[l]=e;else{const t=Hu(e,Ku[l]);l.startsWith("origin")?(o=!0,i[l]=t):r[l]=t}}if(t.transform||(a||n?r.transform=function(e,t,n){let r="",s=!0;for(let i=0;i<Yu;i++){const a=Ci[i],o=e[a];if(void 0===o)continue;let l=!0;if(l="number"===typeof o?o===(a.startsWith("scale")?1:0):0===parseFloat(o),!l||n){const e=Hu(o,Ku[a]);l||(s=!1,r+=`${Xu[a]||a}(${e}) `),n&&(t[a]=e)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),o){const{originX:e="50%",originY:t="50%",originZ:n=0}=i;r.transformOrigin=`${e} ${t} ${n}`}}const Ju=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Zu(e,t,n){for(const r in t)Ui(t[r])||Wu(r,n)||(e[r]=t[r])}function $u(e,n){const r={};return Zu(r,e.style||{},e),Object.assign(r,function(e,n){let{transformTemplate:r}=e;return(0,t.useMemo)((()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return Qu(e,n,r),Object.assign({},e.vars,e.style)}),[n])}(e,n)),r}function eh(e,t){const n={},r=$u(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const th=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function nh(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||th.has(e)}let rh=e=>!nh(e);try{(sh=require("@emotion/is-prop-valid").default)&&(rh=e=>e.startsWith("on")?!nh(e):sh(e))}catch{}var sh;const ih=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ah(e){return"string"===typeof e&&!e.includes("-")&&!!(ih.indexOf(e)>-1||/[A-Z]/u.test(e))}const oh={offset:"stroke-dashoffset",array:"stroke-dasharray"},lh={offset:"strokeDashoffset",array:"strokeDasharray"};function ch(e,t,n,r,s){let{attrX:i,attrY:a,attrScale:o,pathLength:l,pathSpacing:c=1,pathOffset:d=0,...u}=t;if(Qu(e,u,r),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:h,style:p}=e;h.transform&&(p.transform=h.transform,delete h.transform),(p.transform||h.transformOrigin)&&(p.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),p.transform&&(p.transformBox=s?.transformBox??"fill-box",delete h.transformBox),void 0!==i&&(h.x=i),void 0!==a&&(h.y=a),void 0!==o&&(h.scale=o),void 0!==l&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const i=s?oh:lh;e[i.offset]=xa.transform(-r);const a=xa.transform(t),o=xa.transform(n);e[i.array]=`${a} ${o}`}(h,l,c,d,!1)}const dh=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),uh=e=>"string"===typeof e&&"svg"===e.toLowerCase();function hh(e,n,r,s){const i=(0,t.useMemo)((()=>{const t={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return ch(t,n,uh(s),e.transformTemplate,e.style),{...t.attrs,style:{...t.style}}}),[n]);if(e.style){const t={};Zu(t,e.style,e),i.style={...t,...i.style}}return i}function ph(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(n,r,s,i,a)=>{let{latestValues:o}=i;const l=(ah(n)?hh:eh)(r,o,a,n),c=function(e,t,n){const r={};for(const s in e)"values"===s&&"object"===typeof e.values||(rh(s)||!0===n&&nh(s)||!t&&!nh(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}(r,"string"===typeof n,e),d=n!==t.Fragment?{...c,...l,ref:s}:{},{children:u}=r,h=(0,t.useMemo)((()=>Ui(u)?u.get():u),[u]);return(0,t.createElement)(n,{...d,children:h})}}const mh=e=>(n,r)=>{const s=(0,t.useContext)(Eu),i=(0,t.useContext)(Wc),a=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:s,createRenderState:i}=e;return{latestValues:fh(t,n,r,s),renderState:i()}}(e,n,s,i);return r?a():function(e){const n=(0,t.useRef)(null);return null===n.current&&(n.current=e()),n.current}(a)};function fh(e,t,n,r){const s={},i=r(e,{});for(const h in i)s[h]=sd(i[h]);let{initial:a,animate:o}=e;const l=Pu(e),c=Fu(e);t&&c&&!l&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===o&&(o=t.animate));let d=!!n&&!1===n.initial;d=d||!1===a;const u=d?o:a;if(u&&"boolean"!==typeof u&&!hi(u)){const t=Array.isArray(u)?u:[u];for(let n=0;n<t.length;n++){const r=mi(e,t[n]);if(r){const{transitionEnd:e,transition:t,...n}=r;for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[d?e.length-1:0]}null!==e&&(s[r]=e)}for(const r in e)s[r]=e[r]}}}return s}function gh(e,t,n){const{style:r}=e,s={};for(const i in r)(Ui(r[i])||t.style&&Ui(t.style[i])||Wu(i,e)||void 0!==n?.getValue(i)?.liveStyle)&&(s[i]=r[i]);return s}const xh={useVisualState:mh({scrapeMotionValuesFromProps:gh,createRenderState:Ju})};function bh(e,t,n){const r=gh(e,t,n);for(const s in e)if(Ui(e[s])||Ui(t[s])){r[-1!==Ci.indexOf(s)?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s]=e[s]}return r}const yh={useVisualState:mh({scrapeMotionValuesFromProps:bh,createRenderState:dh})};function vh(e,t){return function(n){let{forwardMotionProps:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{forwardMotionProps:!1};return qu({...ah(n)?yh:xh,preloadedFeatures:e,useRender:ph(r),createVisualElement:t,Component:n})}}const wh=e=>t=>t.test(e),jh=[ra,xa,ga,fa,ya,ba,{test:e=>"auto"===e,parse:e=>e}],kh=e=>jh.find(wh(e)),Nh=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Sh=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Ch(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const[r,s]=function(e){const t=Sh.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const e=i.trim();return Nh(e)?parseFloat(e):e}return ta(s)?Ch(s,t,n+1):s}const Ah=e=>/^0[^.\s]+$/u.test(e);const Th=new Set(["brightness","contrast","saturate","opacity"]);function Eh(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(oa)||[];if(!r)return e;const s=n.replace(r,"");let i=Th.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const Ph=/\b([a-z-]*)\(.*?\)/gu,Fh={...Fa,getAnimatableNone:e=>{const t=e.match(Ph);return t?t.map(Eh).join(" "):e}},Rh={...Ku,color:ja,backgroundColor:ja,outlineColor:ja,fill:ja,stroke:ja,borderColor:ja,borderTopColor:ja,borderRightColor:ja,borderBottomColor:ja,borderLeftColor:ja,filter:Fh,WebkitFilter:Fh},Dh=e=>Rh[e];function Mh(e,t){let n=Dh(e);return n!==Fh&&(n=Fa),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Ih=new Set(["auto","none","0"]);class _h extends nl{constructor(e,t,n,r,s){super(e,t,n,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let o=0;o<e.length;o++){let n=e[o];if("string"===typeof n&&(n=n.trim(),ta(n))){const r=Ch(n,t.current);void 0!==r&&(e[o]=r),o===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!Ti.has(n)||2!==e.length)return;const[r,s]=e,i=kh(r),a=kh(s);if(i!==a)if(Go(i)&&Go(a))for(let o=0;o<e.length;o++){const t=e[o];"string"===typeof t&&(e[o]=parseFloat(t))}else Yo[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let s=0;s<e.length;s++)(null===e[s]||("number"===typeof(r=e[s])?0===r:null===r||"none"===r||"0"===r||Ah(r)))&&n.push(s);var r;n.length&&function(e,t,n){let r,s=0;for(;s<e.length&&!r;){const t=e[s];"string"===typeof t&&!Ih.has(t)&&Aa(t).values.length&&(r=e[s]),s++}if(r&&n)for(const i of t)e[i]=Mh(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Yo[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);const s=n.length-1,i=n[s];n[s]=Yo[t](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==i&&void 0===this.finalKeyframe&&(this.finalKeyframe=i),this.removedTransforms?.length&&this.removedTransforms.forEach((t=>{let[n,r]=t;e.getValue(n).set(r)})),this.resolveNoneKeyframes()}}const Lh=[...jh,ja,Fa],Oh={current:null},zh={current:!1};const Bh=new WeakMap;const Uh=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class qh{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a}=e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=nl,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=Ii.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,ji.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=Boolean(i),this.isControllingVariants=Pu(n),this.isVariantNode=Fu(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:d,...u}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in u){const e=u[h];void 0!==l[h]&&Ui(e)&&e.set(l[h],!1)}}mount(e){this.current=e,Bh.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),zh.current||function(){if(zh.current=!0,Mu)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Oh.current=e.matches;e.addListener(t),t()}else Oh.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Oh.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ki(this.notifyUpdate),ki(this.render),this.valueSubscriptions.forEach((e=>e())),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Ai.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&ji.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)})),s=t.on("renderRequest",this.scheduleRender);let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,(()=>{r(),s(),i&&i(),t.owner&&t.stop()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in _u){const t=_u[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<Uh.length;n++){const t=Uh[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const s=t[r],i=n[r];if(Ui(s))e.addValue(r,s);else if(Ui(i))e.addValue(r,Oi(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(s):t.hasAnimated||t.set(s)}else{const t=e.getStaticValue(r);e.addValue(r,Oi(void 0!==t?t:s,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=Oi(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=void 0===this.latestValues[e]&&this.current?this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var r;return void 0!==n&&null!==n&&("string"===typeof n&&(Nh(n)||Ah(n))?n=parseFloat(n):(r=n,!Lh.find(wh(r))&&Fa.test(t)&&(n=Mh(e,t))),this.setBaseTarget(e,Ui(n)?n.get():n)),Ui(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if("string"===typeof t||"object"===typeof t){const r=mi(this.props,t,this.presenceContext?.custom);r&&(n=r[e])}if(t&&void 0!==n)return n;const r=this.getBaseTargetFromProps(this.props,e);return void 0===r||Ui(r)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:r}on(e,t){return this.events[e]||(this.events[e]=new Fi),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}class Vh extends qh{constructor(){super(...arguments),this.KeyframeResolver=_h}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ui(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent=`${e}`)})))}}function Wh(e,t,n,r){let{style:s,vars:i}=t;Object.assign(e.style,s,r&&r.getProjectionStyles(n));for(const a in i)e.style.setProperty(a,i[a])}class Hh extends Vh{constructor(){super(...arguments),this.type="html",this.renderInstance=Wh}readValueFromInstance(e,t){if(Ai.has(t))return((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Wo(n,t)})(e,t);{const r=(n=e,window.getComputedStyle(n)),s=($i(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof s?s.trim():s}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return jc(e,n)}build(e,t,n){Qu(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return gh(e,t,n)}}const Gh=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);class Kh extends Vh{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ac}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Ai.has(t)){const e=Dh(t);return e&&e.default||0}return t=Gh.has(t)?t:Vi(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return bh(e,t,n)}build(e,t,n){ch(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){!function(e,t,n,r){Wh(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(Gh.has(s)?s:Vi(s),t.attrs[s])}(e,t,0,r)}mount(e){this.isSVGTag=uh(e.tagName),super.mount(e)}}const Xh=ui(vh({...Gl,...Su,...ou,...Cu},((e,n)=>ah(e)?new Kh(n):new Hh(n,{allowProjection:e!==t.Fragment})))),Yh=e=>{let{value:t,onValueChange:n,className:r,children:s}=e;return(0,ht.jsxs)("select",{value:t,onChange:e=>n(e.target.value),className:`w-full rounded-lg border px-3 py-2 transition-colors duration-300 ${r}`,children:[(0,ht.jsx)("option",{value:"All Types",children:"All Types"}),(0,ht.jsx)("option",{value:"Text",children:"Text"}),(0,ht.jsx)("option",{value:"Image",children:"Image"}),(0,ht.jsx)("option",{value:"Video",children:"Video"}),(0,ht.jsx)("option",{value:"Youtube",children:"YouTube"}),(0,ht.jsx)("option",{value:"Link",children:"Link"}),(0,ht.jsx)("option",{value:"Website",children:"Website"}),(0,ht.jsx)("option",{value:"Pdf",children:"PDF"})]})},Qh=()=>{const e="bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition-colors duration-200",n="bg-gray-200 hover:bg-gray-300 text-gray-800 px-4 py-2 rounded-lg transition-colors duration-200",r="block text-sm font-medium mb-1 text-gray-700",s="bg-red-100 text-red-800",i="text-gray-900",a="text-gray-600",o="text-gray-500",l="text-purple-600",[c,d]=(0,t.useState)([]),[u,h]=(0,t.useState)(!0),[p,m]=(0,t.useState)(null),[f,g]=(0,t.useState)(null),[x,b]=(0,t.useState)(""),[y,v]=(0,t.useState)("all"),[w,j]=(0,t.useState)(!1),[k,N]=(0,t.useState)("text"),[S,C]=(0,t.useState)({title:"",content:"",url:"",file:null,localFile:null,cloudinaryUrl:""}),[A,T]=(0,t.useState)(!1),[E,P]=(0,t.useState)(0),[F,R]=(0,t.useState)(null),[D,M]=(0,t.useState)(!1),[I,_]=(0,t.useState)(!1),[L,O]=(0,t.useState)("grid"),z=(0,t.useRef)(null),B=(0,t.useRef)(),U=(0,t.useRef)(),q=(0,t.useRef)(null);(0,t.useEffect)((()=>(K(),V(),()=>{q.current&&document.body.contains(q.current)&&document.body.removeChild(q.current)})),[]);const V=()=>{if(document.getElementById("cloudinary-widget-script"))return _(!0),void W();const e=document.createElement("script");e.id="cloudinary-widget-script",e.src="https://upload-widget.cloudinary.com/global/all.js",e.async=!0,e.onload=()=>{_(!0),W()},e.onerror=()=>{m("Failed to load Cloudinary script. File uploads may not work."),Z("Failed to load Cloudinary script. Please try refreshing the page.","error")},q.current=e,document.body.appendChild(e)},W=()=>{setTimeout((()=>{window.cloudinary?(B.current=window.cloudinary,H()):Z("Cloudinary initialization delayed. Please try again.","error")}),500)},H=()=>{if(!window.cloudinary)return;B.current=window.cloudinary;const e="dsbuzlxpw",t="post_blog";try{U.current=B.current.createUploadWidget({cloudName:e,uploadPreset:t,sources:["local","url","camera"],multiple:!1,maxFiles:1},((e,t)=>{if(e)Z("Failed to upload file: "+e.message,"error");else if(t&&"success"===t.event){const e=t.info.secure_url;C({...S,cloudinaryUrl:e,file:{name:t.info.original_filename}}),Z("File uploaded to Cloudinary successfully","success")}})),M(!0)}catch(n){m("Failed to initialize Cloudinary widget: "+n.message),Z("Cloudinary initialization error","error")}},G=()=>{if(!I)return V(),void Z("Attempting to load Cloudinary script...","info");window.cloudinary?(B.current=window.cloudinary,H(),Z("Cloudinary initialized successfully","success")):Z("Cloudinary script not found. Please ensure the Cloudinary script is loaded.","error")},K=async()=>{try{h(!0);const e=ut.get("usertoken");if(!e)throw new Error("Authentication token not found");const t=await Ps.get("https://aipbbackend.onrender.com/api/datastore",{headers:{Authorization:`Bearer ${e}`}});d(t.data.data),h(!1)}catch(e){m(e.message||"Failed to fetch datastore items"),h(!1)}},X=e=>{const t=e.target.files[0];if(!t)return;const n=URL.createObjectURL(t);C({...S,localFile:t,file:t,cloudinaryUrl:n}),Z(`File "${t.name}" selected. Click Save to upload to Cloudinary.`,"info")},Y=async e=>{try{const t=ut.get("usertoken");await Ps.delete(`https://aipbbackend.onrender.com/api/datastore/${e}`,{headers:{Authorization:`Bearer ${t}`}}),d(c.filter((t=>t._id!==e))),Z("Item deleted successfully","success")}catch(t){m(t.message||"Failed to delete datastore item"),Z("Failed to delete item","error")}},Q=()=>{S.cloudinaryUrl&&S.cloudinaryUrl.startsWith("blob:")&&URL.revokeObjectURL(S.cloudinaryUrl),C({title:"",content:"",url:"",file:null,localFile:null,cloudinaryUrl:""}),N("text"),z.current&&(z.current.value="")},J=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"text";N(e),Q(),j(!0),D||"image"!==e&&"video"!==e||(window.cloudinary?G():V())},Z=function(e){R({message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info"}),setTimeout((()=>R(null)),5e3)},$=c.filter((e=>{if("all"!==y&&e.type!==y)return!1;if(x){const t=x.toLowerCase();return e.title.toLowerCase().includes(t)||e.content&&e.content.toLowerCase().includes(t)}return!0})),ee=e=>{switch(e){case"text":default:return(0,ht.jsx)(Dt,{size:20});case"image":return(0,ht.jsx)(Fs,{size:20});case"video":return(0,ht.jsx)(Ft,{size:20});case"youtube":return(0,ht.jsx)(Rs,{size:20});case"link":return(0,ht.jsx)(Ds,{size:20});case"website":return(0,ht.jsx)(Ms,{size:20});case"pdf":return(0,ht.jsx)(Is,{size:20})}},te=e=>{const t="bg-opacity-10";switch(e){case"text":return`${t} bg-blue-500`;case"image":return`${t} bg-green-500`;case"video":return`${t} bg-red-500`;case"youtube":return`${t} bg-red-600`;case"link":return`${t} bg-purple-500`;case"website":return`${t} bg-sky-500`;case"pdf":return`${t} bg-orange-500`;default:return`${t} bg-gray-500`}},ne=e=>{switch(e){case"text":return"text-blue-500";case"image":return"text-green-500";case"video":return"text-red-500";case"youtube":return"text-red-600";case"link":return"text-purple-500";case"website":return"text-sky-500";case"pdf":return"text-orange-500";default:return"text-gray-500"}},re=e=>{switch(e){case"text":return"hover:shadow-blue-500/20";case"image":return"hover:shadow-green-500/20";case"video":return"hover:shadow-red-500/20";case"youtube":return"hover:shadow-red-600/20";case"link":return"hover:shadow-purple-500/20";case"website":return"hover:shadow-sky-500/20";case"pdf":return"hover:shadow-orange-500/20";default:return"hover:shadow-gray-500/20"}},se=e=>{const t="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium";switch(e){case"text":return`${t} bg-blue-100 text-blue-800`;case"image":return`${t} bg-green-100 text-green-800`;case"video":case"youtube":return`${t} bg-red-100 text-red-800`;case"link":return`${t} bg-purple-100 text-purple-800`;case"website":return`${t} bg-sky-100 text-sky-800`;case"pdf":return`${t} bg-orange-100 text-orange-800`;default:return`${t} bg-gray-100 text-gray-800`}},ie=()=>{const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}("w-full px-4 py-2 rounded-lg","bg-white border-gray-300 text-gray-900","focus:ring-purple-500 focus:border-purple-500 transition-colors duration-300");return(0,ht.jsxs)("div",{className:"space-y-4",children:[(0,ht.jsxs)("div",{children:[(0,ht.jsx)("label",{className:r,children:"Title"}),(0,ht.jsx)("input",{type:"text",className:`${e} border`,value:S.title,onChange:e=>C({...S,title:e.target.value}),placeholder:"Enter a title"})]}),"text"===k&&(0,ht.jsxs)("div",{children:[(0,ht.jsx)("label",{className:r,children:"Content"}),(0,ht.jsx)("textarea",{className:`${e} border min-h-32`,value:S.content,onChange:e=>C({...S,content:e.target.value}),placeholder:"Enter your text content",rows:6})]}),("link"===k||"website"===k||"youtube"===k)&&(0,ht.jsxs)("div",{children:[(0,ht.jsx)("label",{className:r,children:"URL"}),(0,ht.jsx)("input",{type:"url",className:`${e} border`,value:S.url,onChange:e=>C({...S,url:e.target.value}),placeholder:`Enter the ${"youtube"===k?"YouTube":"website"===k?"website":"link"} URL`})]}),("image"===k||"video"===k||"pdf"===k)&&(0,ht.jsxs)("div",{children:[(0,ht.jsx)("label",{className:r,children:"File"}),(0,ht.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,ht.jsx)("div",{children:(0,ht.jsxs)("label",{className:`${n} flex items-center justify-center cursor-pointer`,children:[(0,ht.jsx)(_s,{size:16,className:"mr-2"}),"Upload from your device",(0,ht.jsx)("input",{ref:z,type:"file",className:"hidden",accept:"image"===k?"image/*":"video"===k?"video/*":"application/pdf",onChange:X})]})}),S.cloudinaryUrl&&(0,ht.jsxs)("div",{className:"p-4 rounded-lg flex items-center justify-between bg-gray-100",children:[(0,ht.jsxs)("div",{className:"flex items-center overflow-hidden",children:["image"===k&&(0,ht.jsx)("img",{src:S.cloudinaryUrl,alt:"Preview",className:"h-10 w-10 rounded object-cover mr-3"}),("video"===k||"pdf"===k)&&(0,ht.jsx)("div",{className:"h-10 w-10 rounded flex items-center justify-center mr-3 "+("video"===k?"bg-gray-700":"bg-orange-500"),children:"video"===k?(0,ht.jsx)(Ft,{size:18,className:"text-white"}):(0,ht.jsx)(Is,{size:18,className:"text-white"})}),(0,ht.jsx)("span",{className:`${a} truncate max-w-xs`,children:S.file?S.file.name:"Uploaded file"})]}),(0,ht.jsx)("button",{onClick:()=>{S.cloudinaryUrl&&S.cloudinaryUrl.startsWith("blob:")&&URL.revokeObjectURL(S.cloudinaryUrl),C({...S,cloudinaryUrl:"",file:null,localFile:null})},className:"text-red-500 hover:text-red-700",children:(0,ht.jsx)(Ls,{size:18})})]})]})]})]})},ae=t=>{let{item:n}=t;return n?(0,ht.jsxs)("div",{className:"p-4",children:[(0,ht.jsx)("div",{className:"flex items-center space-x-2 mb-6",children:(0,ht.jsxs)("span",{className:se(n.type),children:[(0,ht.jsx)("span",{className:"mr-1",children:ee(n.type)}),(0,ht.jsx)("span",{children:n.type.charAt(0).toUpperCase()+n.type.slice(1)})]})}),(0,ht.jsx)("h3",{className:`text-2xl font-semibold mb-6 ${i}`,children:n.title}),"text"===n.type&&(0,ht.jsx)("div",{className:`${a} whitespace-pre-wrap p-4 rounded-lg bg-gray-50`,children:n.content}),"image"===n.type&&(0,ht.jsx)("div",{className:"mt-2 flex justify-center",children:(0,ht.jsx)("img",{src:n.url,alt:n.title,className:"max-w-full rounded-lg object-contain mx-auto shadow-lg"})}),"video"===n.type&&(0,ht.jsx)("div",{className:"mt-2",children:(0,ht.jsx)("video",{src:n.url,controls:!0,className:"max-w-full rounded-lg mx-auto shadow-lg",children:"Your browser does not support the video tag."})}),"pdf"===n.type&&(0,ht.jsxs)("div",{className:"mt-2",children:[(0,ht.jsx)("div",{className:"aspect-video bg-gray-100 rounded-lg overflow-hidden shadow-lg",children:(0,ht.jsx)("iframe",{src:n.url,title:n.title,className:"w-full h-full border-0",frameBorder:"0"})}),(0,ht.jsx)("div",{className:"mt-4 flex justify-center",children:(0,ht.jsxs)("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:e,children:[(0,ht.jsx)(Os,{size:16,className:"mr-2"})," Open PDF in new tab"]})})]}),"youtube"===n.type&&(0,ht.jsx)("div",{className:"mt-2 aspect-video",children:(0,ht.jsx)("iframe",{className:"w-full h-full rounded-lg shadow-lg",src:`https://www.youtube.com/embed/${oe(n.url)}`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),"website"===n.type&&(0,ht.jsx)("div",{className:"mt-2 aspect-video",children:(0,ht.jsx)("iframe",{src:n.url,className:"w-full h-full rounded-lg border shadow-lg",title:n.title})}),"link"===n.type&&(0,ht.jsxs)("div",{className:"mt-2 p-4 rounded-lg border flex flex-col items-center space-y-3 bg-white border-gray-200",children:[(0,ht.jsx)(Ms,{size:24,className:`${ne(n.type)}`}),(0,ht.jsx)("p",{className:a,children:n.url}),(0,ht.jsxs)("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:`${e} inline-flex items-center`,children:[(0,ht.jsx)(Os,{size:16,className:"mr-2"}),"Visit Link"]})]})]}):null},oe=e=>{const t=e?e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/):null;return t&&11===t[2].length?t[2]:null},le=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return(0,ht.jsxs)("div",{className:"container mx-auto px-4 py-6",children:[F&&(0,ht.jsxs)(Xh.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:`fixed top-4 right-4 p-4 rounded-lg ${(e=>{switch(e){case"success":return"bg-green-50 text-green-800 border-green-200";case"error":return"bg-red-50 text-red-800 border-red-200";default:return"bg-blue-50 text-blue-800 border-blue-200"}})(F.type)} shadow-lg z-50 flex items-center`,children:["success"===F.type?(0,ht.jsx)(Vs,{size:20,className:"mr-2"}):(0,ht.jsx)(Ws,{size:20,className:"mr-2"}),F.message]}),(0,ht.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-6",children:[(0,ht.jsx)("div",{className:"flex items-center",children:(0,ht.jsx)("h1",{className:`text-2xl font-bold ${i} mb-2`,children:"Datastore"})}),(0,ht.jsxs)("div",{className:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-3 mt-4 md:mt-0",children:[(0,ht.jsxs)("div",{className:"flex space-x-2",children:[(0,ht.jsx)("button",{onClick:()=>O("grid"),className:"p-2 rounded-lg "+("grid"===L?"bg-purple-100 text-purple-800":"bg-gray-100"),title:"Grid View",children:(0,ht.jsx)(Hs,{size:18})}),(0,ht.jsx)("button",{onClick:()=>O("list"),className:"p-2 rounded-lg "+("list"===L?"bg-purple-100 text-purple-800":"bg-gray-100"),title:"List View",children:(0,ht.jsx)(Gs,{size:18})})]}),(0,ht.jsxs)("button",{onClick:()=>J(),className:`${e} flex items-center justify-center`,children:[(0,ht.jsx)(zs,{size:18,className:"mr-2"})," Add Content"]})]})]}),(0,ht.jsxs)("div",{className:"flex flex-col md:flex-row space-y-3 md:space-y-0 md:space-x-4 mb-6",children:[(0,ht.jsx)("div",{className:"flex-1",children:(0,ht.jsxs)("div",{className:"relative",children:[(0,ht.jsx)("input",{type:"text",placeholder:"Search datastore...",value:x,onChange:e=>b(e.target.value),className:"w-full pl-10 pr-4 py-2 rounded-lg transition-colors duration-300 border bg-white border-gray-300 text-gray-900"}),(0,ht.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:(0,ht.jsx)("svg",{className:`w-5 h-5 ${o}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,ht.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}),(0,ht.jsx)("div",{className:"w-full md:w-48",children:(0,ht.jsx)(Yh,{value:"all"===y?"All Types":y.charAt(0).toUpperCase()+y.slice(1),onValueChange:e=>{v("All Types"===e?"all":e.toLowerCase())},className:"bg-white text-gray-900"})})]}),u&&(0,ht.jsx)("div",{className:"col-span-full flex justify-center py-12",children:(0,ht.jsxs)("div",{className:"flex flex-col items-center",children:[(0,ht.jsx)(Ks,{size:36,className:"animate-spin text-purple-500 mb-4"}),(0,ht.jsx)("p",{className:a,children:"Loading your content..."})]})}),p&&!u&&(0,ht.jsx)("div",{className:`col-span-full p-6 rounded-lg ${s} mb-6`,children:(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsx)(Ws,{size:24,className:"mr-3"}),(0,ht.jsxs)("p",{children:["Error: ",p]})]})}),!u&&!p&&0===$.length&&(0,ht.jsxs)("div",{className:"col-span-full py-12 text-center",children:[(0,ht.jsx)("div",{className:`text-xl ${a} mb-6`,children:x?"No items match your search":"No items in your datastore"}),(0,ht.jsxs)("button",{onClick:()=>J(),className:e,children:[(0,ht.jsx)(zs,{size:18,className:"mr-2"})," Add Content"]})]}),!u&&!p&&$.length>0&&("grid"===L?(0,ht.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:$.map((e=>(0,ht.jsx)(Xh.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},whileHover:{scale:1.02},className:"h-full",children:(0,ht.jsx)(Ys,{className:`h-full flex flex-col overflow-hidden transition-all duration-300 border \n                border-gray-200 hover:border-gray-300\n                ${te(e.type)} ${re(e.type)} hover:shadow-lg`,children:(0,ht.jsxs)("div",{className:"flex flex-col h-full",children:[(0,ht.jsxs)(Qs,{className:"pb-3",children:[(0,ht.jsxs)("div",{className:"flex justify-between items-start",children:[(0,ht.jsxs)("div",{className:`text-xs font-medium uppercase tracking-wider ${ne(e.type)} flex items-center p-1 rounded-full bg-white bg-opacity-60`,children:[ee(e.type),(0,ht.jsx)("span",{className:"ml-1",children:e.type})]}),(0,ht.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ht.jsx)("button",{onClick:()=>J(e.type),className:"p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",title:`Add new ${e.type}`,children:(0,ht.jsx)(zs,{size:14,className:i})}),(0,ht.jsx)("button",{onClick:()=>g(e),className:"p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",title:"View details",children:(0,ht.jsx)(Bs,{size:14,className:i})})]})]}),(0,ht.jsx)(Js,{className:"text-lg font-semibold line-clamp-2 mt-2",children:e.title})]}),(0,ht.jsxs)(Zs,{className:"pt-1 flex-1 text-sm",children:["text"===e.type&&(0,ht.jsx)("p",{className:`${a} line-clamp-2 text-xs bg-gray-50 p-2 rounded-lg`,children:e.content}),"image"===e.type&&(0,ht.jsx)("div",{className:"aspect-video bg-gray-100 rounded-lg overflow-hidden shadow-inner",children:(0,ht.jsx)("img",{src:e.url,alt:e.title,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105"})}),"video"===e.type&&(0,ht.jsxs)("div",{className:"aspect-video bg-gray-900 rounded-lg overflow-hidden flex items-center justify-center relative shadow-inner",children:[(0,ht.jsx)(Ft,{size:30,className:"text-gray-300 opacity-50"}),e.url&&(0,ht.jsx)("div",{className:"absolute inset-0 opacity-0 hover:opacity-100 transition-opacity duration-300 flex items-center justify-center bg-black bg-opacity-60",children:(0,ht.jsx)("button",{onClick:()=>g(e),className:"bg-white text-black px-3 py-1 rounded-full font-medium transform transition-transform hover:scale-105 text-xs",children:"Play Video"})})]}),"pdf"===e.type&&(0,ht.jsx)("div",{className:"aspect-video flex items-center justify-center p-3 bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg shadow-inner",children:(0,ht.jsx)(Is,{size:30,className:"text-orange-500 drop-shadow-md"})}),"youtube"===e.type&&(0,ht.jsxs)("div",{className:"aspect-video bg-gray-900 rounded-lg overflow-hidden relative shadow-inner",children:[(0,ht.jsx)("img",{src:`https://img.youtube.com/vi/${oe(e.url)}/0.jpg`,alt:e.title,className:"w-full h-full object-cover opacity-80 transition-transform duration-300 hover:scale-105"}),(0,ht.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,ht.jsx)("div",{className:"bg-red-600 rounded-full p-2 shadow-lg",children:(0,ht.jsx)(Rs,{size:20,className:"text-white"})})})]}),"website"===e.type&&(0,ht.jsx)("div",{className:"aspect-video bg-gradient-to-br from-blue-50 to-sky-100 rounded-lg overflow-hidden flex items-center justify-center shadow-inner",children:(0,ht.jsx)(Ms,{size:28,className:"text-blue-500 drop-shadow-md"})}),"link"===e.type&&(0,ht.jsx)("div",{className:"aspect-video flex items-center justify-center p-3 bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg shadow-inner",children:(0,ht.jsxs)("div",{className:"text-center",children:[(0,ht.jsx)(Ds,{size:28,className:`inline-block mb-1 ${l} drop-shadow-md`}),(0,ht.jsx)("span",{className:`${a} text-xs line-clamp-1`,children:e.url})]})})]}),(0,ht.jsxs)($s,{className:"flex justify-between gap-2 pt-4 border-t border-gray-200",children:[(0,ht.jsxs)("div",{className:"flex items-center text-xs text-gray-500",children:[(0,ht.jsx)(Us,{size:12,className:"mr-1"}),le(e.createdAt)]}),(0,ht.jsx)("button",{onClick:()=>Y(e._id),className:"p-1 rounded-full hover:bg-red-100 transition-colors duration-200",title:"Delete",children:(0,ht.jsx)(qs,{size:14,className:"text-red-500"})})]})]})})},e._id)))}):(0,ht.jsx)("div",{className:"overflow-x-auto",children:(0,ht.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ht.jsx)("thead",{className:"bg-gray-50",children:(0,ht.jsxs)("tr",{children:[(0,ht.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Type"}),(0,ht.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Title"}),(0,ht.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Content Preview"}),(0,ht.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"Date"}),(0,ht.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider",children:"Actions"})]})}),(0,ht.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:$.map((e=>(0,ht.jsxs)(Xh.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},whileHover:{backgroundColor:"rgba(243, 244, 246, 0.5)"},className:"hover:bg-opacity-50",children:[(0,ht.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsx)("div",{className:`p-2 rounded-lg ${te(e.type)}`,children:ee(e.type)}),(0,ht.jsx)("span",{className:"ml-3 text-sm font-medium",children:e.type.charAt(0).toUpperCase()+e.type.slice(1)})]})}),(0,ht.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ht.jsx)("div",{className:"text-sm font-medium",children:e.title})}),(0,ht.jsx)("td",{className:"px-6 py-4",children:(0,ht.jsxs)("div",{className:"text-sm max-w-xs truncate",children:["text"===e.type&&(0,ht.jsx)("span",{className:a,children:e.content}),"link"===e.type&&(0,ht.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:`${l} hover:underline`,children:e.url}),("image"===e.type||"video"===e.type||"pdf"===e.type)&&(0,ht.jsx)("span",{className:a,children:"Media file"}),"youtube"===e.type&&(0,ht.jsx)("span",{className:a,children:"YouTube video"}),"website"===e.type&&(0,ht.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:`${l} hover:underline`,children:e.url})]})}),(0,ht.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ht.jsx)("div",{className:"text-sm",children:le(e.createdAt)})}),(0,ht.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,ht.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,ht.jsx)("button",{onClick:()=>g(e),className:"p-1 rounded-full hover:bg-gray-100 transition-colors duration-200",title:"View details",children:(0,ht.jsx)(Bs,{size:16,className:i})}),(0,ht.jsx)("button",{onClick:()=>Y(e._id),className:"p-1 rounded-full hover:bg-red-100 transition-colors duration-200",title:"Delete",children:(0,ht.jsx)(qs,{size:16,className:"text-red-500"})})]})})]},e._id)))})]})})),(0,ht.jsx)(ii,{open:w,onOpenChange:j,children:(0,ht.jsxs)(ai,{className:"max-w-2xl w-full",children:[(0,ht.jsx)(oi,{children:(0,ht.jsxs)(li,{className:"flex items-center",children:[(0,ht.jsx)("span",{className:`p-2 rounded-full mr-2 ${te(k)}`,children:ee(k)}),"Add ",k.charAt(0).toUpperCase()+k.slice(1)," Content"]})}),(0,ht.jsxs)(ti,{defaultValue:k,value:k,className:"mt-4",children:[(0,ht.jsx)(ni,{className:"w-full flex justify-center space-x-2 mb-6",children:[{id:"text",icon:Dt,label:"Text",color:"blue"},{id:"image",icon:Fs,label:"Image",color:"green"},{id:"video",icon:Ft,label:"Video",color:"red"},{id:"youtube",icon:Rs,label:"YouTube",color:"red"},{id:"link",icon:Ds,label:"Link",color:"purple"},{id:"website",icon:Ms,label:"Website",color:"sky"},{id:"pdf",icon:Is,label:"PDF",color:"orange"}].map((e=>(0,ht.jsxs)(ri,{value:e.id,onClick:()=>N(e.id),className:"flex flex-col items-center p-2 transition-colors duration-200 "+(k===e.id?`${ne(e.id)} ${te(e.id)} border-b-2 border-${e.color}-500`:`${a} hover:bg-gray-100`),style:{backgroundColor:"transparent !important",color:"inherit","--tw-bg-opacity":k===e.id?void 0:"0","--override-bg":k===e.id?void 0:"transparent"},children:[(0,ht.jsx)(e.icon,{size:20,className:`mb-1 ${k===e.id?ne(e.id):a}`}),(0,ht.jsx)("span",{className:`text-xs ${k===e.id?ne(e.id):a}`,children:e.label})]},e.id)))}),(0,ht.jsxs)("div",{className:"p-6 space-y-6 bg-white text-gray-900 border border-gray-200 rounded-lg transition-colors duration-300",children:[(0,ht.jsx)(si,{value:"text",children:ie()}),(0,ht.jsx)(si,{value:"image",children:ie()}),(0,ht.jsx)(si,{value:"video",children:ie()}),(0,ht.jsx)(si,{value:"youtube",children:ie()}),(0,ht.jsx)(si,{value:"link",children:ie()}),(0,ht.jsx)(si,{value:"website",children:ie()}),(0,ht.jsx)(si,{value:"pdf",children:ie()})]})]}),A&&(0,ht.jsxs)("div",{className:"mt-4",children:[(0,ht.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,ht.jsx)("span",{className:a,children:"Uploading..."}),(0,ht.jsxs)("span",{className:a,children:[E,"%"]})]}),(0,ht.jsx)(di,{value:E,className:"h-2"})]}),(0,ht.jsxs)(ci,{className:"mt-6",children:[(0,ht.jsxs)("button",{type:"button",onClick:()=>j(!1),className:`${n} flex items-center`,disabled:A,children:[(0,ht.jsx)(Ls,{size:18,className:"mr-2"})," Cancel"]}),(0,ht.jsxs)("button",{type:"button",onClick:async()=>{try{T(!0);const e=ut.get("usertoken");if(!e)throw new Error("Authentication token not found");let t={title:S.title,type:k};if("image"!==k&&"video"!==k&&"pdf"!==k||!S.localFile)switch(k){case"text":t.content=S.content;break;case"link":case"website":case"youtube":t.url=S.url;break;case"image":case"video":case"pdf":t.url=S.cloudinaryUrl}else{const e=await(async e=>{try{T(!0),Z("Uploading to Cloudinary...","info");const t=new FormData;t.append("file",e),t.append("upload_preset","post_blog");let n="image";e.type.startsWith("video/")?n="video":"application/pdf"===e.type&&(n="raw");const r=await Ps.post(`https://api.cloudinary.com/v1_1/dsbuzlxpw/${n}/upload`,t,{onUploadProgress:e=>{const t=Math.round(100*e.loaded/e.total);P(t)}});if(T(!1),r.data&&r.data.secure_url)return S.cloudinaryUrl&&S.cloudinaryUrl.startsWith("blob:")&&URL.revokeObjectURL(S.cloudinaryUrl),C({...S,cloudinaryUrl:r.data.secure_url,localFile:null}),Z("File uploaded to Cloudinary successfully","success"),r.data.secure_url;throw new Error("No secure URL returned from Cloudinary")}catch(t){throw T(!1),Z("Failed to upload to Cloudinary: "+(t.message||"Unknown error"),"error"),t}})(S.localFile);t.url=e}const n=await Ps.post("https://aipbbackend.onrender.com/api/datastore",t,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},onUploadProgress:e=>{const t=Math.round(100*e.loaded/e.total);P(t)}});d([...c,n.data.data]),T(!1),P(0),j(!1),Q(),Z("Item added successfully","success")}catch(e){T(!1),m(e.message||"Failed to add datastore item"),Z("Failed to add item: "+e.message,"error")}},className:`${e} flex items-center`,disabled:A||!S.title||"text"===k&&!S.content||("link"===k||"website"===k||"youtube"===k)&&!S.url||("image"===k||"video"===k)&&!S.file,children:[(0,ht.jsx)(Xs,{size:18,className:"mr-2"})," Save Content"]})]})]})}),(0,ht.jsx)(ii,{open:!!f,onOpenChange:e=>!e&&g(null),children:(0,ht.jsxs)(ai,{className:"max-w-4xl",children:[(0,ht.jsx)(oi,{children:(0,ht.jsx)(li,{className:"flex items-center",children:f&&(0,ht.jsxs)(ht.Fragment,{children:[(0,ht.jsx)("span",{className:`p-2 rounded-full mr-3 ${te(f.type)}`,children:ee(f.type)}),(0,ht.jsx)("span",{className:"ml-2",children:null===f||void 0===f?void 0:f.title})]})})}),f&&(0,ht.jsx)(ae,{item:f}),(0,ht.jsx)(ci,{children:(0,ht.jsxs)("div",{className:"flex w-full justify-between",children:[(0,ht.jsx)("button",{onClick:()=>g(null),className:n,children:"Close"}),"link"===(null===f||void 0===f?void 0:f.type)||"website"===(null===f||void 0===f?void 0:f.type)||"youtube"===(null===f||void 0===f?void 0:f.type)?(0,ht.jsxs)("a",{href:f.url,target:"_blank",rel:"noopener noreferrer",className:e,children:[(0,ht.jsx)(Os,{size:18,className:"mr-2"})," Open in New Tab"]}):null,(0,ht.jsxs)("button",{onClick:()=>{Y(null===f||void 0===f?void 0:f._id),g(null)},className:"flex items-center justify-center px-4 py-2 rounded-lg \n                  bg-red-100 hover:bg-red-200 text-red-700 \n                  transition-colors duration-200",children:[(0,ht.jsx)(qs,{size:18,className:"mr-2"})," Delete"]})]})})]})})]})},Jh=vt("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),Zh=vt("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),$h=vt("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),ep=vt("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),tp=vt("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),np=vt("log-in",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),rp=vt("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),sp=vt("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),ip=vt("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),ap=vt("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),op=e=>{let{isOpen:n,onClose:r,onClientAdded:s}=e;const[i,a]=(0,t.useState)({businessName:"",businessOwnerName:"",email:"",businessNumber:"",businessGSTNumber:"",businessPANNumber:"",businessMobileNumber:"",businessCategory:"",businessAddress:"",city:"",pinCode:"",businessLogo:"",businessWebsite:"",businessYoutubeChannel:"",turnOverRange:""}),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)(""),[p,m]=(0,t.useState)(null),[f,g]=(0,t.useState)(!1),[x,b]=(0,t.useState)(!1),[y,v]=(0,t.useState)({userId:!1,password:!1}),[w,j]=(0,t.useState)(0),k=e=>{const{name:t,value:n}=e.target;a((e=>({...e,[t]:n}))),h("")},N=async(e,t)=>{try{await navigator.clipboard.writeText(e),v((e=>({...e,[t]:!0}))),setTimeout((()=>{v((e=>({...e,[t]:!1})))}),2e3)}catch(n){console.error("Failed to copy: ",n)}},S=()=>{a({businessName:"",businessOwnerName:"",email:"",businessNumber:"",businessGSTNumber:"",businessPANNumber:"",businessMobileNumber:"",businessCategory:"",businessAddress:"",city:"",pinCode:"",businessLogo:"",businessWebsite:"",businessYoutubeChannel:"",turnOverRange:""}),m(null),g(!1),b(!1),v({userId:!1,password:!1}),j(0),r()};return n?f&&p?(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ht.jsx)("div",{className:"bg-white rounded-lg p-8 max-w-lg w-full mx-4 shadow-2xl",children:(0,ht.jsxs)("div",{className:"text-center",children:[(0,ht.jsx)("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 mb-6",children:(0,ht.jsx)(Vs,{className:"h-8 w-8 text-green-600"})}),(0,ht.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Client Created Successfully!"}),(0,ht.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,ht.jsxs)("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-lg p-4",children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,ht.jsx)("p",{className:"text-sm font-semibold text-blue-800",children:"Client User ID:"}),(0,ht.jsx)("button",{onClick:()=>N(p.client.userId,"userId"),className:"text-blue-600 hover:text-blue-800 p-1 rounded",title:"Copy User ID",children:y.userId?(0,ht.jsx)(Vs,{size:16}):(0,ht.jsx)(sp,{size:16})})]}),(0,ht.jsx)("p",{className:"text-2xl font-bold text-blue-600 font-mono bg-white px-3 py-2 rounded border",children:p.client.userId})]}),(0,ht.jsxs)("div",{className:"bg-amber-50 border-2 border-amber-200 rounded-lg p-4",children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,ht.jsx)("p",{className:"text-sm font-semibold text-amber-800",children:"Temporary Password:"}),(0,ht.jsxs)("div",{className:"flex space-x-1",children:[(0,ht.jsx)("button",{onClick:()=>b(!x),className:"text-amber-600 hover:text-amber-800 p-1 rounded",title:x?"Hide Password":"Show Password",children:x?(0,ht.jsx)(ip,{size:16}):(0,ht.jsx)(Bs,{size:16})}),(0,ht.jsx)("button",{onClick:()=>N(p.client.tempPassword,"password"),className:"text-amber-600 hover:text-amber-800 p-1 rounded",title:"Copy Password",children:y.password?(0,ht.jsx)(Vs,{size:16}):(0,ht.jsx)(sp,{size:16})})]})]}),(0,ht.jsx)("p",{className:"text-xl font-bold text-amber-700 font-mono bg-white px-3 py-2 rounded border",children:x?p.client.tempPassword:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"})]})]}),(0,ht.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:(0,ht.jsxs)("div",{className:"flex items-start",children:[(0,ht.jsx)("div",{className:"flex-shrink-0",children:(0,ht.jsx)("svg",{className:"h-5 w-5 text-red-400 mt-0.5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ht.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,ht.jsxs)("div",{className:"ml-3",children:[(0,ht.jsx)("h4",{className:"text-sm font-bold text-red-800",children:"Important!"}),(0,ht.jsx)("p",{className:"text-sm text-red-700",children:"Save these credentials immediately. This is the only time they will be displayed. The client must change the password on first login."})]})]})}),(0,ht.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[(0,ht.jsx)("h4",{className:"font-semibold text-gray-800 mb-2",children:"Client Details:"}),(0,ht.jsxs)("div",{className:"text-left space-y-1 text-sm text-gray-600",children:[(0,ht.jsxs)("p",{children:[(0,ht.jsx)("span",{className:"font-medium",children:"Business:"})," ",p.client.businessName]}),(0,ht.jsxs)("p",{children:[(0,ht.jsx)("span",{className:"font-medium",children:"Owner:"})," ",p.client.businessOwnerName]}),(0,ht.jsxs)("p",{children:[(0,ht.jsx)("span",{className:"font-medium",children:"Email:"})," ",p.client.email]}),(0,ht.jsxs)("p",{children:[(0,ht.jsx)("span",{className:"font-medium",children:"Category:"})," ",p.client.businessCategory]})]})]}),(0,ht.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ht.jsxs)("p",{className:"text-sm text-gray-500",children:["Auto-closing in ",w," seconds..."]}),(0,ht.jsxs)("div",{className:"flex space-x-3",children:[(0,ht.jsx)("button",{onClick:S,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 transition-colors text-sm",children:"Close Now"}),(0,ht.jsx)("button",{onClick:()=>{j(0),g(!1),m(null)},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm",children:"Add Another Client"})]})]})]})})}):(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ht.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,ht.jsxs)("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center",children:[(0,ht.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Add New Client"}),(0,ht.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",disabled:o,children:(0,ht.jsx)(Ls,{size:24})})]}),(0,ht.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),console.log("Form submitted with data:",i),(()=>{const e=["businessName","businessOwnerName","email","businessNumber","businessGSTNumber","businessPANNumber","businessMobileNumber","businessCategory","businessAddress","city","pinCode"];for(let t of e)if(!i[t].trim())return h(`${t.replace(/([A-Z])/g," $1").replace(/^./,(e=>e.toUpperCase()))} is required`),!1;return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)?/^[0-9]{10}$/.test(i.businessMobileNumber)?!!/^[0-9]{6}$/.test(i.pinCode)||(h("Please enter a valid 6-digit PIN code"),!1):(h("Please enter a valid 10-digit mobile number"),!1):(h("Please enter a valid email address"),!1)})()){l(!0),h("");try{const e=ut.get("admintoken");console.log("Admin token:",e);const t=await fetch("https://aipbbackend.onrender.com/api/admin/clients",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(i)}),n=await t.json();console.log("API Response:",n),n.success?(m(n),g(!0),s&&s(),(()=>{j(10);const e=setInterval((()=>{j((t=>t<=1?(clearInterval(e),S(),0):t-1))}),1e3)})()):h(n.message||"Failed to create client")}catch(u){console.error("Create client error:",u),h(u.message||"Failed to create client")}finally{l(!1)}}},className:"p-6",children:[u&&(0,ht.jsx)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-6 rounded",children:u}),(0,ht.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ht.jsxs)("div",{children:[(0,ht.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Name *"}),(0,ht.jsx)("input",{type:"text",name:"businessName",value:i.businessName,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter business name",required:!0})]}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Owner Name *"}),(0,ht.jsx)("input",{type:"text",name:"businessOwnerName",value:i.businessOwnerName,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter owner name",required:!0})]}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Number *"}),(0,ht.jsx)("input",{type:"text",name:"businessNumber",value:i.businessNumber,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter business number",required:!0})]}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Email *"}),(0,ht.jsx)("input",{type:"email",name:"email",value:i.email,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter business email",required:!0})]}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business GST Number *"}),(0,ht.jsx)("input",{type:"text",name:"businessGSTNumber",value:i.businessGSTNumber,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter GST number",required:!0})]}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business PAN Number *"}),(0,ht.jsx)("input",{type:"text",name:"businessPANNumber",value:i.businessPANNumber,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter PAN number",required:!0})]}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Mobile Number *"}),(0,ht.jsx)("input",{type:"tel",name:"businessMobileNumber",value:i.businessMobileNumber,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter 10-digit mobile number",maxLength:"10",required:!0})]}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Category *"}),(0,ht.jsxs)("select",{name:"businessCategory",value:i.businessCategory,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,ht.jsx)("option",{value:"",children:"Select Category"}),["Technology","Healthcare","Education","Finance","Retail","Manufacturing","Real Estate","Food & Beverage","Transportation","Consulting","Marketing","Other"].map((e=>(0,ht.jsx)("option",{value:e,children:e},e)))]})]}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),(0,ht.jsx)("input",{type:"text",name:"city",value:i.city,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter city",required:!0})]}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pin Code *"}),(0,ht.jsx)("input",{type:"text",name:"pinCode",value:i.pinCode,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter 6-digit PIN code",maxLength:"6",required:!0})]})]}),(0,ht.jsxs)("div",{className:"mt-6",children:[(0,ht.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Address *"}),(0,ht.jsx)("textarea",{name:"businessAddress",value:i.businessAddress,onChange:k,rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter complete business address",required:!0})]}),(0,ht.jsxs)("div",{className:"mt-6",children:[(0,ht.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Logo"}),(0,ht.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ht.jsx)("div",{className:"flex-1",children:(0,ht.jsx)("input",{type:"file",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(t)if(t.type.startsWith("image/"))if(t.size>5242880)h("Image size should be less than 5MB");else{d(!0),h("");try{const e=new FormData;e.append("file",t),e.append("upload_preset","post_blog"),e.append("cloud_name","dsbuzlxpw");const n=await fetch("https://api.cloudinary.com/v1_1/dsbuzlxpw/image/upload",{method:"POST",body:e}).then((e=>e.json()));a((e=>({...e,businessLogo:n.secure_url})))}catch(u){console.error("Logo upload error:",u),h("Failed to upload logo. Please try again.")}finally{d(!1)}}else h("Please select a valid image file")},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:c})}),c&&(0,ht.jsxs)("div",{className:"flex items-center text-blue-600",children:[(0,ht.jsx)(ap,{className:"animate-spin h-4 w-4 mr-2"}),"Uploading..."]}),i.businessLogo&&(0,ht.jsxs)("div",{className:"flex items-center text-green-600",children:[(0,ht.jsx)(Vs,{className:"h-4 w-4 mr-2"}),"Uploaded"]})]}),i.businessLogo&&(0,ht.jsx)("div",{className:"mt-2",children:(0,ht.jsx)("img",{src:i.businessLogo,alt:"Business Logo",className:"h-16 w-16 object-cover rounded-md border"})})]}),(0,ht.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[(0,ht.jsxs)("div",{children:[(0,ht.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Website"}),(0,ht.jsx)("input",{type:"url",name:"businessWebsite",value:i.businessWebsite,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com"})]}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business YouTube Channel"}),(0,ht.jsx)("input",{type:"url",name:"businessYoutubeChannel",value:i.businessYoutubeChannel,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://youtube.com/channel/..."})]})]}),(0,ht.jsxs)("div",{className:"mt-6",children:[(0,ht.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Annual Turnover Range"}),(0,ht.jsxs)("select",{name:"turnOverRange",value:i.turnOverRange,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,ht.jsx)("option",{value:"",children:"Select Turnover Range"}),["Less than 1 Lakh","1-5 Lakhs","5-10 Lakhs","10-25 Lakhs","25-50 Lakhs","50 Lakhs - 1 Crore","1-5 Crores","5-10 Crores","Above 10 Crores"].map((e=>(0,ht.jsx)("option",{value:e,children:e},e)))]})]}),(0,ht.jsxs)("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t",children:[(0,ht.jsx)("button",{type:"button",onClick:r,className:"px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:o,children:"Cancel"}),(0,ht.jsx)("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",disabled:o||c,children:o?(0,ht.jsxs)(ht.Fragment,{children:[(0,ht.jsx)(ap,{className:"animate-spin h-4 w-4 mr-2"}),"Creating..."]}):"Create Client"})]})]})]})}):null},lp=()=>{const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)(!0),[i,a]=(0,t.useState)(null),[o,l]=(0,t.useState)(""),[c,d]=(0,t.useState)("name"),[u,h]=(0,t.useState)("asc"),[p,m]=(0,t.useState)(null),[f,g]=(0,t.useState)(null),[x,b]=(0,t.useState)(!1);(0,t.useEffect)((()=>{y()}),[]);const y=async()=>{try{s(!0);const e=ut.get("admintoken"),t=await Ps.get("https://aipbbackend.onrender.com/api/admin/clients",{headers:{Authorization:`Bearer ${e}`}});n(t.data.clients),a(null)}catch(e){a("Failed to fetch clients"),console.error("Error fetching clients:",e)}finally{s(!1)}},v=e=>{c===e?h("asc"===u?"desc":"asc"):(d(e),h("asc"))},w=e.filter((e=>e.name.toLowerCase().includes(o.toLowerCase())||e.email.toLowerCase().includes(o.toLowerCase()))).sort(((e,t)=>e[c]<t[c]?"asc"===u?-1:1:e[c]>t[c]?"asc"===u?1:-1:0)),j=e=>c!==e?null:"asc"===u?(0,ht.jsx)(Jh,{size:14}):(0,ht.jsx)(Zh,{size:14});return r?(0,ht.jsx)("div",{className:"flex justify-center p-8",children:"Loading clients..."}):(0,ht.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ht.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Client Management"}),(0,ht.jsxs)("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-md flex items-center hover:bg-blue-700 transition-colors",onClick:()=>b(!0),children:[(0,ht.jsx)($h,{size:16,className:"mr-2"}),"Add New Client"]})]}),i&&(0,ht.jsx)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-6",children:(0,ht.jsx)("p",{children:i})}),(0,ht.jsxs)("div",{className:"mb-6 relative",children:[(0,ht.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,ht.jsx)(ep,{size:18,className:"text-gray-400"})}),(0,ht.jsx)("input",{type:"text",placeholder:"Search clients by name or email",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-blue-500",value:o,onChange:e=>l(e.target.value)})]}),(0,ht.jsx)("div",{className:"overflow-x-auto",children:(0,ht.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ht.jsx)("thead",{className:"bg-gray-50",children:(0,ht.jsxs)("tr",{children:[(0,ht.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>v("name"),children:(0,ht.jsxs)("div",{className:"flex items-center",children:["Client Name ",j("name")]})}),(0,ht.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>v("email"),children:(0,ht.jsxs)("div",{className:"flex items-center",children:["Email ",j("email")]})}),(0,ht.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>v("createdAt"),children:(0,ht.jsxs)("div",{className:"flex items-center",children:["Created On ",j("createdAt")]})}),(0,ht.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>v("status"),children:(0,ht.jsxs)("div",{className:"flex items-center",children:["Status ",j("status")]})}),(0,ht.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,ht.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===w.length?(0,ht.jsx)("tr",{children:(0,ht.jsx)("td",{colSpan:"5",className:"px-6 py-4 text-center text-gray-500",children:"No clients found"})}):w.map((t=>(0,ht.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,ht.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsx)("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-medium",children:t.name.charAt(0).toUpperCase()}),(0,ht.jsx)("div",{className:"ml-4",children:(0,ht.jsx)("div",{className:"text-sm font-medium text-gray-900",children:t.name})})]})}),(0,ht.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.email}),(0,ht.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(t.createdAt).toLocaleDateString()}),(0,ht.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ht.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+("active"===t.status?"bg-green-100 text-green-800":"inactive"===t.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:t.status||"pending"})}),(0,ht.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,ht.jsx)("div",{className:"flex justify-end space-x-2",children:t._id===p?(0,ht.jsxs)(ht.Fragment,{children:[(0,ht.jsx)("button",{onClick:()=>(async t=>{try{const r=ut.get("admintoken");await Ps.delete(`https://aipbbackend.onrender.com/api/admin/clients/${t}`,{headers:{Authorization:`Bearer ${r}`}}),n(e.filter((e=>e._id!==t))),m(null)}catch(r){a("Failed to delete client"),console.error("Error deleting client:",r)}})(t._id),className:"text-red-600 hover:text-red-900 p-1",title:"Confirm delete",children:(0,ht.jsx)(Vs,{size:18})}),(0,ht.jsx)("button",{onClick:()=>m(null),className:"text-gray-600 hover:text-gray-900 p-1",title:"Cancel",children:(0,ht.jsx)(Ls,{size:18})})]}):(0,ht.jsxs)(ht.Fragment,{children:[(0,ht.jsx)("button",{className:"text-indigo-600 hover:text-indigo-900 p-1",title:"Edit client",children:(0,ht.jsx)(tp,{size:18})}),(0,ht.jsx)("button",{onClick:()=>(async e=>{try{g(e);const t=ut.get("admintoken"),n=await Ps.post(`https://aipbbackend.onrender.com/api/admin/clients/${e}/login-token`,{},{headers:{Authorization:`Bearer ${t}`}});if(n.data.success){const e=n.data.token,t={role:n.data.user.role,name:n.data.user.name},r=window.open("","_blank");r&&(r.document.write(`\n            <html>\n              <head>\n                <title>Redirecting to client dashboard...</title>\n              </head>\n              <body>\n                <p>Redirecting to client dashboard...</p>\n                <script>\n                  // Set cookies in the new tab\n                  document.cookie = "usertoken=${e}; path=/; max-age=3600";\n                  document.cookie = "user=${encodeURIComponent(JSON.stringify(t))}; path=/; max-age=3600";\n                  // Redirect to client dashboard\n                  window.location.href = 'https://www.ailisher.com/dashboard';\n                <\/script>\n              </body>\n            </html>\n          `),r.document.close())}}catch(t){a("Failed to login as client"),console.error("Error logging in as client:",t)}finally{g(null)}})(t._id),className:"text-green-600 hover:text-green-900 p-1",disabled:f===t._id,title:"Login as client",children:f===t._id?(0,ht.jsx)("span",{className:"animate-pulse",children:"..."}):(0,ht.jsx)(np,{size:18})}),(0,ht.jsx)("button",{onClick:()=>m(t._id),className:"text-red-600 hover:text-red-900 p-1",title:"Delete client",children:(0,ht.jsx)(qs,{size:18})}),(0,ht.jsx)("div",{className:"relative inline-block text-left",children:(0,ht.jsx)("button",{className:"text-gray-600 hover:text-gray-900 p-1",children:(0,ht.jsx)(rp,{size:18})})})]})})})]},t._id)))})]})}),(0,ht.jsx)(op,{isOpen:x,onClose:()=>b(!1),onClientAdded:()=>{y()}})]})},cp=()=>{const[e,n]=(0,t.useState)(!1),[r,s]=(0,t.useState)(!0),i=$();(0,t.useEffect)((()=>{(async()=>{const e=ut.get("admintoken"),t=ut.get("adminUser");if(e&&t)try{if("admin"===JSON.parse(t).role)return n(!0),void s(!1)}catch(hf){return console.error("Error parsing admin user data:",hf),void a()}s(!1),n(!1)})()}),[]);const a=()=>{ut.remove("admintoken",{path:"/"}),ut.remove("adminUser",{path:"/"}),n(!1),s(!1)},o=()=>{n(!0),console.log("Admin authentication successful")};return r?(0,ht.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,ht.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600"})}):(0,ht.jsx)("div",{className:"app-container",children:(0,ht.jsxs)(ve,{children:[(0,ht.jsx)(be,{path:"/login",element:e?(0,ht.jsx)(ge,{to:"/admin/dashboard",replace:!0}):(0,ht.jsx)(pt,{onAuthSuccess:o})}),(0,ht.jsx)(be,{path:"/register",element:e?(0,ht.jsx)(ge,{to:"/admin/dashboard",replace:!0}):(0,ht.jsx)(mt,{onAuthSuccess:o})}),e?(0,ht.jsxs)(be,{element:(0,ht.jsx)(Vt,{onLogout:()=>{a(),i("/admin/login")},userRole:"admin"}),children:[(0,ht.jsx)(be,{path:"/dashboard",element:(0,ht.jsx)(mn,{})}),(0,ht.jsx)(be,{path:"/datastore",element:(0,ht.jsx)(Qh,{})}),(0,ht.jsx)(be,{path:"/clients",element:(0,ht.jsx)(lp,{})})]}):(0,ht.jsx)(be,{path:"*",element:(0,ht.jsx)(ge,{to:"/admin/login",replace:!0})})]})})},dp=()=>(0,ht.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-blue-100",children:[(0,ht.jsx)("nav",{className:"bg-white shadow-sm",children:(0,ht.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,ht.jsxs)("div",{className:"flex justify-between h-16",children:[(0,ht.jsx)("div",{className:"flex items-center",children:(0,ht.jsxs)("div",{className:"flex-shrink-0 flex items-center",children:[(0,ht.jsx)("img",{src:"/logo.png",alt:"AILisher Logo",className:"h-8 w-auto mr-2",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="block"}}),(0,ht.jsx)("div",{className:"w-8 h-8 bg-blue-600 rounded-full hidden items-center justify-center mr-2",children:(0,ht.jsx)("span",{className:"text-white font-bold text-sm",children:"AI"})}),(0,ht.jsx)("span",{className:"text-2xl font-bold text-blue-600",children:"AILisher"})]})}),(0,ht.jsx)("div",{className:"flex items-center space-x-4",children:(0,ht.jsx)(rt,{to:"/auth",className:"px-4 py-2 rounded-md bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Sign In"})})]})})}),(0,ht.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,ht.jsx)("div",{className:"pt-20 pb-12 md:pt-28 md:pb-20",children:(0,ht.jsxs)("div",{className:"text-center",children:[(0,ht.jsxs)("div",{className:"flex justify-center mb-8",children:[(0,ht.jsx)("img",{src:"/logo.png",alt:"AILisher Logo",className:"h-24 w-auto",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}),(0,ht.jsx)("div",{className:"w-24 h-24 bg-blue-600 rounded-full hidden items-center justify-center",children:(0,ht.jsx)("span",{className:"text-white font-bold text-4xl",children:"AI"})})]}),(0,ht.jsxs)("h1",{className:"text-4xl tracking-tight font-extrabold text-gray-900 sm:text-5xl md:text-6xl",children:[(0,ht.jsx)("span",{className:"block text-blue-600 mb-2",children:"AILisher"}),(0,ht.jsx)("span",{className:"block",children:"Transform Education"}),(0,ht.jsx)("span",{className:"block text-blue-600",children:"with AI Publishing"})]}),(0,ht.jsx)("p",{className:"mt-3 max-w-md mx-auto text-base text-gray-500 sm:text-lg md:mt-5 md:text-xl md:max-w-3xl",children:"Create, manage, and distribute AI-powered educational content with our platform designed for educational institutions and learners."}),(0,ht.jsxs)("div",{className:"mt-10 sm:flex sm:justify-center",children:[(0,ht.jsx)("div",{className:"rounded-md shadow",children:(0,ht.jsx)(rt,{to:"/auth",className:"w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 md:py-4 md:text-lg md:px-10",children:"Get Started"})}),(0,ht.jsx)("div",{className:"mt-3 sm:mt-0 sm:ml-3",children:(0,ht.jsx)("a",{href:"#features",className:"w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-blue-600 bg-white hover:bg-gray-50 md:py-4 md:text-lg md:px-10",children:"Learn More"})})]})]})})}),(0,ht.jsx)("div",{id:"features",className:"py-16 bg-white",children:(0,ht.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,ht.jsxs)("div",{className:"text-center",children:[(0,ht.jsx)("h2",{className:"text-3xl font-extrabold text-gray-900 sm:text-4xl",children:"Features & Benefits"}),(0,ht.jsx)("p",{className:"mt-4 max-w-2xl mx-auto text-xl text-gray-500",children:"Everything you need to transform your educational content"})]}),(0,ht.jsx)("div",{className:"mt-16",children:(0,ht.jsxs)("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3",children:[(0,ht.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6 shadow-sm hover:shadow-md transition-shadow",children:[(0,ht.jsx)("div",{className:"w-12 h-12 rounded-md bg-blue-500 flex items-center justify-center",children:(0,ht.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,ht.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),(0,ht.jsx)("h3",{className:"mt-5 text-lg font-medium text-gray-900",children:"AI Books"}),(0,ht.jsx)("p",{className:"mt-2 text-base text-gray-500",children:"Create interactive educational books powered by artificial intelligence"})]}),(0,ht.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6 shadow-sm hover:shadow-md transition-shadow",children:[(0,ht.jsx)("div",{className:"w-12 h-12 rounded-md bg-blue-500 flex items-center justify-center",children:(0,ht.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,ht.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})})}),(0,ht.jsx)("h3",{className:"mt-5 text-lg font-medium text-gray-900",children:"AI Chats"}),(0,ht.jsx)("p",{className:"mt-2 text-base text-gray-500",children:"Engage with AI tutors to enhance learning and answer questions"})]}),(0,ht.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6 shadow-sm hover:shadow-md transition-shadow",children:[(0,ht.jsx)("div",{className:"w-12 h-12 rounded-md bg-blue-500 flex items-center justify-center",children:(0,ht.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,ht.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})}),(0,ht.jsx)("h3",{className:"mt-5 text-lg font-medium text-gray-900",children:"Assessment Tools"}),(0,ht.jsx)("p",{className:"mt-2 text-base text-gray-500",children:"Create and manage tests with automatic grading and personalized feedback"})]})]})})]})}),(0,ht.jsx)("div",{className:"bg-blue-600",children:(0,ht.jsxs)("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:py-16 lg:px-8 lg:flex lg:items-center lg:justify-between",children:[(0,ht.jsxs)("h2",{className:"text-3xl font-extrabold tracking-tight text-white sm:text-4xl",children:[(0,ht.jsx)("span",{className:"block",children:"Ready to get started?"}),(0,ht.jsx)("span",{className:"block text-blue-200",children:"Join AILisher today."})]}),(0,ht.jsx)("div",{className:"mt-8 flex lg:mt-0 lg:flex-shrink-0",children:(0,ht.jsx)("div",{className:"inline-flex rounded-md shadow",children:(0,ht.jsx)(rt,{to:"/auth",className:"inline-flex items-center justify-center px-5 py-3 border border-transparent text-base font-medium rounded-md text-blue-600 bg-white hover:bg-blue-50",children:"Sign Up"})})})]})}),(0,ht.jsx)("footer",{className:"bg-gray-800",children:(0,ht.jsx)("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:(0,ht.jsxs)("div",{className:"md:flex md:items-center md:justify-between",children:[(0,ht.jsxs)("div",{className:"flex justify-center md:justify-start items-center",children:[(0,ht.jsx)("img",{src:"/logo.png",alt:"AILisher Logo",className:"h-6 w-auto mr-2",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="block"}}),(0,ht.jsx)("div",{className:"w-6 h-6 bg-white rounded-full hidden items-center justify-center mr-2",children:(0,ht.jsx)("span",{className:"text-blue-600 font-bold text-xs",children:"AI"})}),(0,ht.jsx)("span",{className:"text-xl font-bold text-white",children:"AILisher"})]}),(0,ht.jsx)("div",{className:"mt-8 md:mt-0",children:(0,ht.jsxs)("p",{className:"text-center text-base text-gray-400",children:["\xa9 ",(new Date).getFullYear()," AILisher. All rights reserved."]})})]})})})]}),up=e=>{let{onLogin:n,isLoading:r}=e;const[s,i]=(0,t.useState)(""),[a,o]=(0,t.useState)("");return(0,ht.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:e=>{e.preventDefault(),n(s,a)},children:[(0,ht.jsxs)("div",{className:"space-y-4",children:[(0,ht.jsxs)("div",{children:[(0,ht.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),(0,ht.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:s,onChange:e=>i(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"you@example.com"})]}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,ht.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:a,onChange:e=>o(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"})]})]}),(0,ht.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,ht.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),(0,ht.jsx)("div",{className:"text-sm",children:(0,ht.jsx)("a",{href:"#",className:"font-medium text-blue-600 hover:text-blue-500",children:"Forgot your password?"})})]}),(0,ht.jsx)("div",{children:(0,ht.jsx)("button",{type:"submit",disabled:r,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-blue-400",children:r?(0,ht.jsxs)("span",{className:"flex items-center",children:[(0,ht.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,ht.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,ht.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})})]})},hp=e=>{let{onRegister:n,isLoading:r}=e;const[s,i]=(0,t.useState)(""),[a,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(""),[d,u]=(0,t.useState)(""),[h,p]=(0,t.useState)("");return(0,ht.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:e=>{e.preventDefault(),(l!==d?(p("Passwords do not match"),0):l.length<8?(p("Password must be at least 8 characters long"),0):(p(""),1))&&n(s,a,l)},children:[(0,ht.jsxs)("div",{className:"space-y-4",children:[(0,ht.jsxs)("div",{children:[(0,ht.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),(0,ht.jsx)("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,value:s,onChange:e=>i(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"John Doe"})]}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),(0,ht.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:a,onChange:e=>o(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"you@example.com"})]}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,ht.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:l,onChange:e=>c(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),(0,ht.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Password must be at least 8 characters long"})]}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),(0,ht.jsx)("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"new-password",required:!0,value:d,onChange:e=>u(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),h&&(0,ht.jsx)("p",{className:"mt-1 text-xs text-red-600",children:h})]})]}),(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsx)("input",{id:"terms",name:"terms",type:"checkbox",required:!0,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,ht.jsxs)("label",{htmlFor:"terms",className:"ml-2 block text-sm text-gray-900",children:["I agree to the ",(0,ht.jsx)("a",{href:"#",className:"text-blue-600 hover:text-blue-500",children:"Terms of Service"})," and ",(0,ht.jsx)("a",{href:"#",className:"text-blue-600 hover:text-blue-500",children:"Privacy Policy"})]})]}),(0,ht.jsx)("div",{children:(0,ht.jsx)("button",{type:"submit",disabled:r,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-blue-400",children:r?(0,ht.jsxs)("span",{className:"flex items-center",children:[(0,ht.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,ht.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,ht.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating account..."]}):"Sign up"})})]})},pp=e=>{let{onAuthSuccess:n}=e;const[r,s]=(0,t.useState)(!0),[i,a]=(0,t.useState)(!1),[o,l]=(0,t.useState)(""),c=$();return(0,ht.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,ht.jsxs)("div",{className:"w-full max-w-md p-8 space-y-8 bg-white rounded-lg shadow-md",children:[(0,ht.jsxs)("div",{className:"text-center",children:[(0,ht.jsxs)("div",{className:"flex justify-center mb-6",children:[(0,ht.jsx)("img",{src:"/logo.png",alt:"AILisher Logo",className:"h-16 w-auto",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="block"}}),(0,ht.jsx)("div",{className:"hidden",children:(0,ht.jsx)("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center",children:(0,ht.jsx)("span",{className:"text-white font-bold text-2xl",children:"AI"})})})]}),(0,ht.jsx)("h1",{className:"text-4xl font-extrabold tracking-tight text-gray-900 mb-2",children:"AILisher"}),(0,ht.jsx)("h2",{className:"text-2xl font-bold tracking-tight text-gray-700 mb-4",children:r?"Sign in to your account":"Create a new account"}),(0,ht.jsx)("p",{className:"text-sm text-gray-600",children:r?"Enter your credentials to access your account":"Fill in the details to create your account"})]}),o&&(0,ht.jsx)("div",{className:"bg-red-50 text-red-800 p-4 rounded-md",children:o}),r?(0,ht.jsx)(up,{onLogin:async(e,t)=>{a(!0),l("");try{const r=await fetch("https://aipbbackend.onrender.com/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}),s=await r.json();s.success?(ut.set("usertoken",s.token,{expires:7}),ut.set("user",JSON.stringify({id:s.user.id,name:s.user.name,email:s.user.email,role:s.user.role||"user"}),{expires:7}),"client"===s.user.role||"user"===s.user.role?(n(s.user.role),c("/dashboard")):c("/role-selection")):l(s.message||"Login failed. Please check your credentials.")}catch(o){console.error("Login error:",o),l("An error occurred during login. Please try again.")}finally{a(!1)}},isLoading:i}):(0,ht.jsx)(hp,{onRegister:async(e,t,n)=>{a(!0),l("");try{const r=await fetch("https://aipbbackend.onrender.com/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,email:t,password:n})}),s=await r.json();s.success?(ut.set("usertoken",s.token,{expires:7}),ut.set("user",JSON.stringify({id:s.user.id,name:s.user.name,email:s.user.email}),{expires:7}),c("/role-selection")):l(s.message||"Registration failed. Please try again.")}catch(o){console.error("Registration error:",o),l("An error occurred during registration. Please try again.")}finally{a(!1)}},isLoading:i}),(0,ht.jsx)("div",{className:"text-center",children:(0,ht.jsx)("button",{type:"button",onClick:()=>s(!r),className:"text-blue-600 hover:text-blue-800 font-medium",children:r?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})})},mp=e=>{let{onAuthSuccess:n}=e;const[r,s]=(0,t.useState)(!1),[i,a]=(0,t.useState)(""),o=$(),l=async e=>{s(!0),a("");try{const t=ut.get("user"),r=ut.get("usertoken");if(!t||!r)throw new Error("User data not found. Please login again.");const s=JSON.parse(t),i=await fetch("https://aipbbackend.onrender.com/api/auth/update-role",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({role:e})}),l=await i.json();l.success?(ut.set("user",JSON.stringify({...s,role:e}),{expires:7}),n(e),o("/dashboard")):a(l.message||"Failed to set role. Please try again.")}catch(i){console.error("Role selection error:",i),a(i.message||"An error occurred. Please try again.")}finally{s(!1)}};return(0,ht.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-[#f3f6f9]",children:(0,ht.jsxs)("div",{className:"max-w-md w-full p-8 bg-white rounded-lg shadow-md",children:[(0,ht.jsxs)("div",{className:"flex justify-center mb-6",children:[(0,ht.jsx)("img",{src:"/logo.png",alt:"AILisher Logo",className:"h-16 w-auto",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="block"}}),(0,ht.jsx)("div",{className:"hidden",children:(0,ht.jsx)("div",{className:"w-16 h-16 bg-[#112130] rounded-full flex items-center justify-center",children:(0,ht.jsx)("span",{className:"text-white font-bold text-2xl",children:"AI"})})})]}),(0,ht.jsx)("h1",{className:"text-3xl font-bold text-center mb-2 text-[#112130]",children:"AILisher"}),(0,ht.jsx)("h2",{className:"text-xl font-semibold text-center mb-8 text-[#112130]",children:"Select Your Role"}),i&&(0,ht.jsx)("div",{className:"mb-6 bg-red-50 text-red-800 p-4 rounded-md",children:i}),(0,ht.jsxs)("div",{className:"space-y-4",children:[(0,ht.jsx)("button",{onClick:()=>l("client"),disabled:r,className:"w-full p-6 bg-white border border-gray-200 rounded-lg shadow hover:bg-[#f0f4f8] transition-colors disabled:opacity-50",children:(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsx)("div",{className:"w-12 h-12 bg-[#112130] rounded-full flex items-center justify-center text-white",children:(0,ht.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,ht.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A9.001 9.001 0 0010.995 3.998C5.61 3.998 1.244 8.362 1.244 13.747c0 5.385 4.366 9.75 9.75 9.75 1.558 0 3.03-.368 4.338-1.016"}),(0,ht.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 13a3 3 0 100-6 3 3 0 000 6z"})]})}),(0,ht.jsxs)("div",{className:"ml-4 text-left",children:[(0,ht.jsx)("h3",{className:"text-xl font-semibold text-[#112130]",children:"Client"}),(0,ht.jsx)("p",{className:"text-gray-600",children:"Create and manage AI books, agents, and user access"})]})]})}),(0,ht.jsx)("button",{onClick:()=>l("user"),disabled:r,className:"w-full p-6 bg-white border border-gray-200 rounded-lg shadow hover:bg-[#f0f4f8] transition-colors disabled:opacity-50",children:(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsx)("div",{className:"w-12 h-12 bg-[#112130] rounded-full flex items-center justify-center text-white",children:(0,ht.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,ht.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),(0,ht.jsxs)("div",{className:"ml-4 text-left",children:[(0,ht.jsx)("h3",{className:"text-xl font-semibold text-[#112130]",children:"User"}),(0,ht.jsx)("p",{className:"text-gray-600",children:"Access AI books, take tests, and attend lectures"})]})]})})]})]})})},fp=()=>{const[e,n]=(0,t.useState)("week"),r=[{id:1,name:"Users",value:"12",icon:(0,ht.jsx)(pn,{className:"text-blue-500",size:24}),change:"+3",status:"increase"},{id:2,name:"AI Books",value:"5",icon:(0,ht.jsx)(sn,{className:"text-green-500",size:24}),change:"+1",status:"increase"},{id:3,name:"Conversations",value:"126",icon:(0,ht.jsx)(un,{className:"text-purple-500",size:24}),change:"+22",status:"increase"},{id:4,name:"Usage Minutes",value:"542",icon:(0,ht.jsx)(tn,{className:"text-red-500",size:24}),change:"-15",status:"decrease"}];return(0,ht.jsxs)("div",{className:"p-6",children:[(0,ht.jsxs)("div",{className:"mb-8",children:[(0,ht.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Client Dashboard"}),(0,ht.jsx)("p",{className:"text-gray-600",children:"Welcome back! Here's an overview of your learning platform."})]}),(0,ht.jsx)("div",{className:"mb-6 flex justify-end",children:(0,ht.jsxs)("div",{className:"inline-flex rounded-md shadow-sm",children:[(0,ht.jsx)("button",{onClick:()=>n("day"),className:`px-4 py-2 text-sm font-medium rounded-l-lg ${"day"===e?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"} border border-gray-300`,children:"Day"}),(0,ht.jsx)("button",{onClick:()=>n("week"),className:`px-4 py-2 text-sm font-medium ${"week"===e?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"} border-t border-b border-gray-300`,children:"Week"}),(0,ht.jsx)("button",{onClick:()=>n("month"),className:`px-4 py-2 text-sm font-medium rounded-r-lg ${"month"===e?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"} border border-gray-300`,children:"Month"})]})}),(0,ht.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:r.map((e=>(0,ht.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,ht.jsx)("div",{className:"p-3 rounded-full bg-gray-100",children:e.icon}),(0,ht.jsxs)("span",{className:"text-sm font-medium "+("increase"===e.status?"text-green-500":"text-red-500"),children:[e.change,"%"]})]}),(0,ht.jsx)("h3",{className:"text-gray-500 text-sm font-medium",children:e.name}),(0,ht.jsx)("p",{className:"text-3xl font-bold text-gray-800",children:e.value})]},e.id)))}),(0,ht.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,ht.jsxs)("div",{className:"lg:col-span-2 bg-white rounded-lg shadow p-6",children:[(0,ht.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Recent Activity"}),(0,ht.jsx)("div",{className:"space-y-4",children:[{id:1,user:"John Doe",action:"completed a test",time:"2 hours ago",resource:"Physics 101"},{id:2,user:"Jane Smith",action:"created a new AI book",time:"5 hours ago",resource:"Chemistry Basics"},{id:3,user:"Alex Johnson",action:"had a conversation",time:"Yesterday",resource:"Math AI Assistant"},{id:4,user:"Maria Garcia",action:"uploaded documents",time:"Yesterday",resource:"Biology Dataset"},{id:5,user:"Robert Brown",action:"invited a new user",time:"2 days ago",resource:"Team Member"}].map((e=>(0,ht.jsx)("div",{className:"border-b border-gray-100 pb-3 last:border-0",children:(0,ht.jsxs)("div",{className:"flex justify-between items-start",children:[(0,ht.jsxs)("div",{children:[(0,ht.jsxs)("p",{className:"font-medium text-gray-800",children:[e.user," ",(0,ht.jsx)("span",{className:"font-normal text-gray-600",children:e.action})]}),(0,ht.jsx)("p",{className:"text-sm text-gray-500",children:e.resource})]}),(0,ht.jsx)("span",{className:"text-xs text-gray-400",children:e.time})]})},e.id)))}),(0,ht.jsx)("div",{className:"mt-4 text-center",children:(0,ht.jsx)("button",{className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View All Activity"})})]}),(0,ht.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,ht.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Resource Usage"}),(0,ht.jsx)("div",{className:"space-y-4",children:[{category:"AI Books",percentage:35},{category:"Conversations",percentage:25},{category:"Workbooks",percentage:20},{category:"Tests",percentage:15},{category:"Other",percentage:5}].map((e=>(0,ht.jsxs)("div",{children:[(0,ht.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,ht.jsx)("span",{className:"text-gray-600",children:e.category}),(0,ht.jsxs)("span",{className:"font-medium text-gray-800",children:[e.percentage,"%"]})]}),(0,ht.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,ht.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${e.percentage}%`}})})]},e.category)))}),(0,ht.jsxs)("div",{className:"mt-8",children:[(0,ht.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Quick Access"}),(0,ht.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ht.jsxs)("button",{className:"p-4 bg-gray-50 hover:bg-gray-100 rounded-lg flex flex-col items-center justify-center transition-all",children:[(0,ht.jsx)(sn,{className:"text-blue-500 mb-2",size:20}),(0,ht.jsx)("span",{className:"text-sm text-gray-700",children:"AI Books"})]}),(0,ht.jsxs)("button",{className:"p-4 bg-gray-50 hover:bg-gray-100 rounded-lg flex flex-col items-center justify-center transition-all",children:[(0,ht.jsx)(cn,{className:"text-green-500 mb-2",size:20}),(0,ht.jsx)("span",{className:"text-sm text-gray-700",children:"Datastore"})]}),(0,ht.jsxs)("button",{className:"p-4 bg-gray-50 hover:bg-gray-100 rounded-lg flex flex-col items-center justify-center transition-all",children:[(0,ht.jsx)(ln,{className:"text-purple-500 mb-2",size:20}),(0,ht.jsx)("span",{className:"text-sm text-gray-700",children:"AI Agents"})]}),(0,ht.jsxs)("button",{className:"p-4 bg-gray-50 hover:bg-gray-100 rounded-lg flex flex-col items-center justify-center transition-all",children:[(0,ht.jsx)(pn,{className:"text-red-500 mb-2",size:20}),(0,ht.jsx)("span",{className:"text-sm text-gray-700",children:"Users"})]})]})]})]})]})]})},gp=vt("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);function xp(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=xp(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const bp=function(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=xp(e))&&(r&&(r+=" "),r+=t);return r};!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}(':root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\n');var yp=e=>"number"==typeof e&&!isNaN(e),vp=e=>"string"==typeof e,wp=e=>"function"==typeof e,jp=e=>vp(e)||wp(e)?e:null,kp=(e,t)=>!1===e||yp(e)&&e>0?e:t,Np=e=>(0,t.isValidElement)(e)||vp(e)||wp(e)||yp(e);function Sp(e){let{enter:n,exit:r,appendPosition:s=!1,collapse:i=!0,collapseDuration:a=300}=e;return function(e){let{children:o,position:l,preventExitTransition:c,done:d,nodeRef:u,isIn:h,playToast:p}=e,m=s?`${n}--${l}`:n,f=s?`${r}--${l}`:r,g=(0,t.useRef)(0);return(0,t.useLayoutEffect)((()=>{let e=u.current,t=m.split(" "),n=r=>{r.target===u.current&&(p(),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===g.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)}),[]),(0,t.useEffect)((()=>{let e=u.current,t=()=>{e.removeEventListener("animationend",t),i?function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,{scrollHeight:r,style:s}=e;requestAnimationFrame((()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${n}ms`,requestAnimationFrame((()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(t,n)}))}))}(e,d,a):d()};h||(c?t():(g.current=1,e.className+=` ${f}`,e.addEventListener("animationend",t)))}),[h]),t.createElement(t.Fragment,null,o)}}function Cp(e,t){return{content:Ap(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function Ap(e,n){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,t.isValidElement)(e)&&!vp(e.type)?(0,t.cloneElement)(e,{closeToast:n.closeToast,toastProps:n,data:n.data,isPaused:r}):wp(e)?e({closeToast:n.closeToast,toastProps:n,data:n.data,isPaused:r}):e}function Tp(e){let{delay:n,isRunning:r,closeToast:s,type:i="default",hide:a,className:o,controlledProgress:l,progress:c,rtl:d,isIn:u,theme:h}=e,p=a||l&&0===c,m={animationDuration:`${n}ms`,animationPlayState:r?"running":"paused"};l&&(m.transform=`scaleX(${c})`);let f=bp("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":d}),g=wp(o)?o({rtl:d,type:i,defaultClassName:f}):bp(f,o),x={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{u&&s()}};return t.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":p},t.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${h} Toastify__progress-bar--${i}`}),t.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:g,style:m,...x}))}var Ep=1,Pp=()=>""+Ep++;function Fp(e,t,n){let r=1,s=0,i=[],a=[],o=t,l=new Map,c=new Set,d=()=>{a=Array.from(l.values()),c.forEach((e=>e()))},u=e=>{var t,n;null==(n=null==(t=e.props)?void 0:t.onClose)||n.call(t,e.removalReason),e.isActive=!1},h=e=>{if(null==e)l.forEach(u);else{let t=l.get(e);t&&u(t)}d()},p=e=>{var t,r;let{toastId:s,updateId:i}=e.props,a=null==i;e.staleId&&l.delete(e.staleId),e.isActive=!0,l.set(s,e),d(),n(Cp(e,a?"added":"updated")),a&&(null==(r=(t=e.props).onOpen)||r.call(t))};return{id:e,props:o,observe:e=>(c.add(e),()=>c.delete(e)),toggle:(e,t)=>{l.forEach((n=>{var r;(null==t||t===n.props.toastId)&&(null==(r=n.toggle)||r.call(n,e))}))},removeToast:h,toasts:l,clearQueue:()=>{s-=i.length,i=[]},buildToast:(t,a)=>{if((t=>{let{containerId:n,toastId:r,updateId:s}=t,i=n?n!==e:1!==e,a=l.has(r)&&null==s;return i||a})(a))return;let{toastId:c,updateId:u,data:m,staleId:f,delay:g}=a,x=null==u;x&&s++;let b={...o,style:o.toastStyle,key:r++,...Object.fromEntries(Object.entries(a).filter((e=>{let[t,n]=e;return null!=n}))),toastId:c,updateId:u,data:m,isIn:!1,className:jp(a.className||o.toastClassName),progressClassName:jp(a.progressClassName||o.progressClassName),autoClose:!a.isLoading&&kp(a.autoClose,o.autoClose),closeToast(e){l.get(c).removalReason=e,h(c)},deleteToast(){let e=l.get(c);if(null!=e){if(n(Cp(e,"removed")),l.delete(c),s--,s<0&&(s=0),i.length>0)return void p(i.shift());d()}}};b.closeButton=o.closeButton,!1===a.closeButton||Np(a.closeButton)?b.closeButton=a.closeButton:!0===a.closeButton&&(b.closeButton=!Np(o.closeButton)||o.closeButton);let y={content:t,props:b,staleId:f};o.limit&&o.limit>0&&s>o.limit&&x?i.push(y):yp(g)?setTimeout((()=>{p(y)}),g):p(y)},setProps(e){o=e},setToggle:(e,t)=>{let n=l.get(e);n&&(n.toggle=t)},isToastActive:e=>{var t;return null==(t=l.get(e))?void 0:t.isActive},getSnapshot:()=>a}}var Rp=new Map,Dp=[],Mp=new Set,Ip=e=>Mp.forEach((t=>t(e))),_p=()=>Rp.size>0;function Lp(e,t){var n;if(t)return!(null==(n=Rp.get(t))||!n.isToastActive(e));let r=!1;return Rp.forEach((t=>{t.isToastActive(e)&&(r=!0)})),r}function Op(e){if(_p()){if(null==e||(e=>vp(e)||yp(e))(e))Rp.forEach((t=>{t.removeToast(e)}));else if(e&&("containerId"in e||"id"in e)){let t=Rp.get(e.containerId);t?t.removeToast(e.id):Rp.forEach((t=>{t.removeToast(e.id)}))}}else Dp=Dp.filter((t=>null!=e&&t.options.toastId!==e))}function zp(e,t){Np(e)&&(_p()||Dp.push({content:e,options:t}),Rp.forEach((n=>{n.buildToast(e,t)})))}function Bp(e,t){Rp.forEach((n=>{(null==t||null==t||!t.containerId||(null==t?void 0:t.containerId)===n.id)&&n.toggle(e,null==t?void 0:t.id)}))}function Up(e){let t=e.containerId||1;return{subscribe(n){let r=Fp(t,e,Ip);Rp.set(t,r);let s=r.observe(n);return Dp.forEach((e=>zp(e.content,e.options))),Dp=[],()=>{s(),Rp.delete(t)}},setProps(e){var n;null==(n=Rp.get(t))||n.setProps(e)},getSnapshot(){var e;return null==(e=Rp.get(t))?void 0:e.getSnapshot()}}}function qp(e){return e&&(vp(e.toastId)||yp(e.toastId))?e.toastId:Pp()}function Vp(e,t){return zp(e,t),t.toastId}function Wp(e,t){return{...t,type:t&&t.type||e,toastId:qp(t)}}function Hp(e){return(t,n)=>Vp(t,Wp(e,n))}function Gp(e,t){return Vp(e,Wp("default",t))}function Kp(e){let[n,r]=(0,t.useState)(!1),[s,i]=(0,t.useState)(!1),a=(0,t.useRef)(null),o=(0,t.useRef)({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:d,onClick:u,closeOnClick:h}=e;function p(){r(!0)}function m(){r(!1)}function f(t){let r=a.current;if(o.canDrag&&r){o.didMove=!0,n&&m(),"x"===e.draggableDirection?o.delta=t.clientX-o.start:o.delta=t.clientY-o.start,o.start!==t.clientX&&(o.canCloseOnClick=!1);let s="x"===e.draggableDirection?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;r.style.transform=`translate3d(${s},0)`,r.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance))}}function g(){document.removeEventListener("pointermove",f),document.removeEventListener("pointerup",g);let t=a.current;if(o.canDrag&&o.didMove&&t){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),e.closeToast(!0),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}(function(e){var t;null==(t=Rp.get(e.containerId||1))||t.setToggle(e.id,e.fn)})({id:e.toastId,containerId:e.containerId,fn:r}),(0,t.useEffect)((()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||m(),window.addEventListener("focus",p),window.addEventListener("blur",m),()=>{window.removeEventListener("focus",p),window.removeEventListener("blur",m)}}),[e.pauseOnFocusLoss]);let x={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){o.didMove=!1,document.addEventListener("pointermove",f),document.addEventListener("pointerup",g);let n=a.current;o.canCloseOnClick=!0,o.canDrag=!0,n.style.transition="none","x"===e.draggableDirection?(o.start=t.clientX,o.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(o.start=t.clientY,o.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){let{top:n,bottom:r,left:s,right:i}=a.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=s&&t.clientX<=i&&t.clientY>=n&&t.clientY<=r?m():p()}};return l&&c&&(x.onMouseEnter=m,e.stacked||(x.onMouseLeave=p)),h&&(x.onClick=e=>{u&&u(e),o.canCloseOnClick&&d(!0)}),{playToast:p,pauseToast:m,isRunning:n,preventExitTransition:s,toastRef:a,eventHandlers:x}}Gp.loading=(e,t)=>Vp(e,Wp("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),Gp.promise=function(e,t,n){let r,{pending:s,error:i,success:a}=t;s&&(r=vp(s)?Gp.loading(s,n):Gp.loading(s.render,{...n,...s}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,s)=>{if(null==t)return void Gp.dismiss(r);let i={type:e,...o,...n,data:s},a=vp(t)?{render:t}:t;return r?Gp.update(r,{...i,...a}):Gp(a.render,{...i,...a}),s},c=wp(e)?e():e;return c.then((e=>l("success",a,e))).catch((e=>l("error",i,e))),c},Gp.success=Hp("success"),Gp.info=Hp("info"),Gp.error=Hp("error"),Gp.warning=Hp("warning"),Gp.warn=Gp.warning,Gp.dark=(e,t)=>Vp(e,Wp("default",{theme:"dark",...t})),Gp.dismiss=function(e){Op(e)},Gp.clearWaitingQueue=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Rp.forEach((t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()}))},Gp.isActive=Lp,Gp.update=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=((e,t)=>{let{containerId:n}=t;var r;return null==(r=Rp.get(n||1))?void 0:r.toasts.get(e)})(e,t);if(n){let{props:r,content:s}=n,i={delay:100,...r,...t,toastId:t.toastId||e,updateId:Pp()};i.toastId!==e&&(i.staleId=e);let a=i.render||s;delete i.render,Vp(a,i)}},Gp.done=e=>{Gp.update(e,{progress:1})},Gp.onChange=function(e){return Mp.add(e),()=>{Mp.delete(e)}},Gp.play=e=>Bp(!0,e),Gp.pause=e=>Bp(!1,e);var Xp="undefined"!=typeof window?t.useLayoutEffect:t.useEffect,Yp=e=>{let{theme:n,type:r,isLoading:s,...i}=e;return t.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===n?"currentColor":`var(--toastify-icon-color-${r})`,...i})};var Qp={info:function(e){return t.createElement(Yp,{...e},t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return t.createElement(Yp,{...e},t.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return t.createElement(Yp,{...e},t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return t.createElement(Yp,{...e},t.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return t.createElement("div",{className:"Toastify__spinner"})}};function Jp(e){let{theme:n,type:r,isLoading:s,icon:i}=e,a=null,o={theme:n,type:r};return!1===i||(wp(i)?a=i({...o,isLoading:s}):(0,t.isValidElement)(i)?a=(0,t.cloneElement)(i,o):s?a=Qp.spinner():(e=>e in Qp)(r)&&(a=Qp[r](o))),a}var Zp=e=>{let{isRunning:n,preventExitTransition:r,toastRef:s,eventHandlers:i,playToast:a}=Kp(e),{closeButton:o,children:l,autoClose:c,onClick:d,type:u,hideProgressBar:h,closeToast:p,transition:m,position:f,className:g,style:x,progressClassName:b,updateId:y,role:v,progress:w,rtl:j,toastId:k,deleteToast:N,isIn:S,isLoading:C,closeOnClick:A,theme:T,ariaLabel:E}=e,P=bp("Toastify__toast",`Toastify__toast-theme--${T}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":j},{"Toastify__toast--close-on-click":A}),F=wp(g)?g({rtl:j,position:f,type:u,defaultClassName:P}):bp(P,g),R=Jp(e),D=!!w||!c,M={closeToast:p,type:u,theme:T},I=null;return!1===o||(I=wp(o)?o(M):(0,t.isValidElement)(o)?(0,t.cloneElement)(o,M):function(e){let{closeToast:n,theme:r,ariaLabel:s="close"}=e;return t.createElement("button",{className:`Toastify__close-button Toastify__close-button--${r}`,type:"button",onClick:e=>{e.stopPropagation(),n(!0)},"aria-label":s},t.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},t.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(M)),t.createElement(m,{isIn:S,done:N,position:f,preventExitTransition:r,nodeRef:s,playToast:a},t.createElement("div",{id:k,tabIndex:0,onClick:d,"data-in":S,className:F,...i,style:x,ref:s,...S&&{role:v,"aria-label":E}},null!=R&&t.createElement("div",{className:bp("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!C})},R),Ap(l,e,!n),I,!e.customProgressBar&&t.createElement(Tp,{...y&&!D?{key:`p-${y}`}:{},rtl:j,theme:T,delay:c,isRunning:n,isIn:S,closeToast:p,hide:h,type:u,className:b,controlledProgress:D,progress:w||0})))},$p=function(e){return{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:arguments.length>1&&void 0!==arguments[1]&&arguments[1]}},em=Sp($p("bounce",!0)),tm=(Sp($p("slide",!0)),Sp($p("zoom")),Sp($p("flip")),{position:"top-right",transition:em,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&"KeyT"===e.code});function nm(e){let n={...tm,...e},r=e.stacked,[s,i]=(0,t.useState)(!0),a=(0,t.useRef)(null),{getToastToRender:o,isToastActive:l,count:c}=function(e){var n;let{subscribe:r,getSnapshot:s,setProps:i}=(0,t.useRef)(Up(e)).current;i(e);let a=null==(n=(0,t.useSyncExternalStore)(r,s,s))?void 0:n.slice();return{getToastToRender:function(t){if(!a)return[];let n=new Map;return e.newestOnTop&&a.reverse(),a.forEach((e=>{let{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(e=>t(e[0],e[1])))},isToastActive:Lp,count:null==a?void 0:a.length}}(n),{className:d,style:u,rtl:h,containerId:p,hotKeys:m}=n;function f(e){let t=bp("Toastify__toast-container",`Toastify__toast-container--${e}`,{"Toastify__toast-container--rtl":h});return wp(d)?d({position:e,rtl:h,defaultClassName:t}):bp(t,jp(d))}function g(){r&&(i(!0),Gp.play())}return Xp((()=>{var e;if(r){let t=a.current.querySelectorAll('[data-in="true"]'),r=12,i=null==(e=n.position)?void 0:e.includes("top"),o=0,l=0;Array.from(t).reverse().forEach(((e,t)=>{let n=e;n.classList.add("Toastify__toast--stacked"),t>0&&(n.dataset.collapsed=`${s}`),n.dataset.pos||(n.dataset.pos=i?"top":"bot");let a=o*(s?.2:1)+(s?0:r*t);n.style.setProperty("--y",`${i?a:-1*a}px`),n.style.setProperty("--g",`${r}`),n.style.setProperty("--s",""+(1-(s?l:0))),o+=n.offsetHeight,l+=.025}))}}),[s,c,r]),(0,t.useEffect)((()=>{function e(e){var t;let n=a.current;m(e)&&(null==(t=n.querySelector('[tabIndex="0"]'))||t.focus(),i(!1),Gp.pause()),"Escape"===e.key&&(document.activeElement===n||null!=n&&n.contains(document.activeElement))&&(i(!0),Gp.play())}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[m]),t.createElement("section",{ref:a,className:"Toastify",id:p,onMouseEnter:()=>{r&&(i(!1),Gp.pause())},onMouseLeave:g,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":n["aria-label"]},o(((e,n)=>{let s=n.length?{...u}:{...u,pointerEvents:"none"};return t.createElement("div",{tabIndex:-1,className:f(e),"data-stacked":r,style:s,key:`c-${e}`},n.map((e=>{let{content:n,props:s}=e;return t.createElement(Zp,{...s,stacked:r,collapseAll:g,isIn:l(s.toastId,s.containerId),key:`t-${s.key}`},n)})))})))}const rm=e=>{let{book:t,onClick:n}=e;return(0,ht.jsxs)("div",{onClick:n,className:"bg-white p-6 rounded-xl shadow-md hover:shadow-xl transition-all duration-300 cursor-pointer flex flex-col h-full border border-gray-100",children:[(0,ht.jsx)("div",{className:"h-48 bg-gradient-to-br from-blue-50 to-indigo-100 mb-4 rounded-lg flex items-center justify-center overflow-hidden",children:t.coverImage?(0,ht.jsx)("img",{src:t.coverImage.startsWith("data:")?t.coverImage:`https://aipbbackend.onrender.com/${t.coverImage}`,alt:t.title,className:"h-full w-full object-cover rounded-lg"}):(0,ht.jsx)(Et,{size:64,className:"text-indigo-400"})}),(0,ht.jsx)("h3",{className:"text-xl font-semibold mb-2 text-gray-800",children:t.title}),(0,ht.jsx)("p",{className:"text-gray-600 text-sm flex-grow",children:t.description||"No description available"}),(0,ht.jsx)("div",{className:"flex justify-end mt-4",children:(0,ht.jsxs)("span",{className:"flex items-center text-indigo-600 font-medium text-sm",children:["View Details",(0,ht.jsx)(jt,{size:18,className:"ml-1"})]})})]})},sm=e=>{let{imagePreview:t,onRemove:n}=e;return t?(0,ht.jsxs)("div",{className:"relative mt-2 mb-4",children:[(0,ht.jsx)("div",{className:"h-48 w-full rounded-md overflow-hidden",children:(0,ht.jsx)("img",{src:t,alt:"Cover preview",className:"h-full w-full object-cover"})}),(0,ht.jsx)("button",{type:"button",onClick:n,className:"absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full hover:bg-red-600 transition-colors",children:(0,ht.jsx)(Ls,{size:16})})]}):null},im=e=>{let{isOpen:n,onClose:r,onAdd:s}=e;const[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)(""),[c,d]=(0,t.useState)(null),[u,h]=(0,t.useState)(""),[p,m]=(0,t.useState)(!1),f=(0,t.useRef)(null);if(!n)return null;return(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ht.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6",children:[(0,ht.jsx)("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Add New Book"}),(0,ht.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),m(!0);try{const e=ut.get("usertoken");if(!e)return Gp.error("Authentication required"),void r();const t=new FormData;t.append("title",i),t.append("description",o),c&&t.append("coverImage",c);const n=await fetch("https://aipbbackend.onrender.com/api/books",{method:"POST",headers:{Authorization:`Bearer ${e}`},body:t}),a=await n.json();a.success?(Gp.success("Book created successfully!"),s(a.book),r()):Gp.error(a.message||"Failed to create book")}catch(hf){console.error("Error creating book:",hf),Gp.error("An error occurred while creating the book")}finally{m(!1)}},children:[(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Title"}),(0,ht.jsx)("input",{type:"text",value:i,onChange:e=>a(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0})]}),(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Description"}),(0,ht.jsx)("textarea",{value:o,onChange:e=>l(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 h-32"})]}),(0,ht.jsxs)("div",{className:"mb-6",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Cover Image"}),(0,ht.jsx)(sm,{imagePreview:u,onRemove:()=>{d(null),h(""),f.current&&(f.current.value="")}}),(0,ht.jsx)("div",{className:"flex items-center justify-center w-full",children:(0,ht.jsxs)("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[(0,ht.jsxs)("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[(0,ht.jsx)(_s,{className:"w-8 h-8 mb-2 text-gray-500"}),(0,ht.jsxs)("p",{className:"mb-2 text-sm text-gray-500",children:[(0,ht.jsx)("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),(0,ht.jsx)("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF (Max: 5MB)"})]}),(0,ht.jsx)("input",{ref:f,type:"file",className:"hidden",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(!t)return;if(!t.type.match("image.*"))return void Gp.error("Please select an image file");if(t.size>5242880)return void Gp.error("Image size should be less than 5MB");d(t);const n=new FileReader;n.onloadend=()=>{h(n.result)},n.readAsDataURL(t)}})]})})]}),(0,ht.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ht.jsx)("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),(0,ht.jsx)("button",{type:"submit",disabled:p,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors flex items-center justify-center",children:p?(0,ht.jsx)("div",{className:"animate-spin h-5 w-5 border-2 border-white border-t-transparent rounded-full"}):"Create Book"})]})]})]})})},am=()=>{const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)(!0),[i,a]=(0,t.useState)(null),[o,l]=(0,t.useState)(!1),c=$();(0,t.useEffect)((()=>{(async()=>{s(!0);try{const e=ut.get("usertoken");if(!e)return a("Authentication required"),void c("/login");const t=await fetch("https://aipbbackend.onrender.com/api/books",{headers:{Authorization:`Bearer ${e}`}}),r=await t.json();r.success?n(r.books||[]):a(r.message||"Failed to fetch books")}catch(i){console.error("Error fetching books:",i),a("Failed to connect to the server")}finally{s(!1)}})()}),[c]);const d=()=>{l(!0)};return(0,ht.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,ht.jsx)(nm,{position:"top-right",autoClose:3e3}),(0,ht.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[(0,ht.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"My AI Books"}),(0,ht.jsx)("div",{className:"flex flex-wrap gap-3",children:(0,ht.jsxs)("button",{onClick:d,className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors shadow-sm",children:[(0,ht.jsx)(zs,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Add Book"})]})})]}),r?(0,ht.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,ht.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-indigo-600"})}):i?(0,ht.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start",children:[(0,ht.jsx)(gp,{className:"text-red-500 mr-3 flex-shrink-0 mt-0.5",size:20}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("h3",{className:"font-medium text-red-800",children:"Error"}),(0,ht.jsx)("p",{className:"text-red-700",children:i})]})]}):0===e.length?(0,ht.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-8 text-center",children:[(0,ht.jsx)(Et,{size:64,className:"mx-auto text-gray-400 mb-4"}),(0,ht.jsx)("h3",{className:"text-xl font-medium text-gray-800 mb-2",children:"No books yet"}),(0,ht.jsx)("p",{className:"text-gray-600 mb-6",children:"Create your first AI book to get started"}),(0,ht.jsxs)("button",{onClick:d,className:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors",children:[(0,ht.jsx)(zs,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Add Book"})]})]}):(0,ht.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.map((e=>(0,ht.jsx)(rm,{book:e,onClick:()=>{return t=e._id,void c(`/ai-books/${t}`);var t}},e._id)))}),(0,ht.jsx)(im,{isOpen:o,onClose:()=>l(!1),onAdd:t=>{n([...e,t])}})]})},om=e=>{let{workbook:t,onClick:n}=e;return(0,ht.jsxs)("div",{onClick:n,className:"bg-white p-6 rounded-xl shadow-md hover:shadow-xl transition-all duration-300 cursor-pointer flex flex-col h-full border border-gray-100",children:[(0,ht.jsx)("div",{className:"h-48 bg-gradient-to-br from-green-50 to-teal-100 mb-4 rounded-lg flex items-center justify-center overflow-hidden",children:t.coverImage?(0,ht.jsx)("img",{src:t.coverImage.startsWith("data:")?t.coverImage:`https://aipbbackend.onrender.com/${t.coverImage}`,alt:t.title,className:"h-full w-full object-cover rounded-lg"}):(0,ht.jsx)(Dt,{size:64,className:"text-teal-400"})}),(0,ht.jsx)("h3",{className:"text-xl font-semibold mb-2 text-gray-800",children:t.title}),(0,ht.jsx)("p",{className:"text-gray-600 text-sm flex-grow",children:t.description||"No description available"}),(0,ht.jsx)("div",{className:"flex justify-end mt-4",children:(0,ht.jsxs)("span",{className:"flex items-center text-teal-600 font-medium text-sm",children:["View Details",(0,ht.jsx)(jt,{size:18,className:"ml-1"})]})})]})},lm=e=>{let{imagePreview:t,onRemove:n}=e;return t?(0,ht.jsxs)("div",{className:"relative mt-2 mb-4",children:[(0,ht.jsx)("div",{className:"h-48 w-full rounded-md overflow-hidden",children:(0,ht.jsx)("img",{src:t,alt:"Cover preview",className:"h-full w-full object-cover"})}),(0,ht.jsx)("button",{type:"button",onClick:n,className:"absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full hover:bg-red-600 transition-colors",children:(0,ht.jsx)(Ls,{size:16})})]}):null},cm=e=>{let{isOpen:n,onClose:r,onAdd:s}=e;const[i,a]=(0,t.useState)(""),[o,l]=(0,t.useState)(""),[c,d]=(0,t.useState)(null),[u,h]=(0,t.useState)(""),[p,m]=(0,t.useState)(!1),f=(0,t.useRef)(null);if(!n)return null;return(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ht.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6",children:[(0,ht.jsx)("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Add New Workbook"}),(0,ht.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),m(!0);try{const e=ut.get("usertoken");if(!e)return Gp.error("Authentication required"),void r();const t=new FormData;t.append("title",i),t.append("description",o),c&&t.append("coverImage",c);const n=await fetch("https://aipbbackend.onrender.com/api/workbooks",{method:"POST",headers:{Authorization:`Bearer ${e}`},body:t}),a=await n.json();a.success?(Gp.success("Workbook created successfully!"),s(a.workbook),r()):Gp.error(a.message||"Failed to create workbook")}catch(hf){console.error("Error creating workbook:",hf),Gp.error("An error occurred while creating the workbook")}finally{m(!1)}},children:[(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Title"}),(0,ht.jsx)("input",{type:"text",value:i,onChange:e=>a(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",required:!0})]}),(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Description"}),(0,ht.jsx)("textarea",{value:o,onChange:e=>l(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 h-32"})]}),(0,ht.jsxs)("div",{className:"mb-6",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Cover Image"}),(0,ht.jsx)(lm,{imagePreview:u,onRemove:()=>{d(null),h(""),f.current&&(f.current.value="")}}),(0,ht.jsx)("div",{className:"flex items-center justify-center w-full",children:(0,ht.jsxs)("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[(0,ht.jsxs)("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[(0,ht.jsx)(_s,{className:"w-8 h-8 mb-2 text-gray-500"}),(0,ht.jsxs)("p",{className:"mb-2 text-sm text-gray-500",children:[(0,ht.jsx)("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),(0,ht.jsx)("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF (Max: 5MB)"})]}),(0,ht.jsx)("input",{ref:f,type:"file",className:"hidden",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(!t)return;if(!t.type.match("image.*"))return void Gp.error("Please select an image file");if(t.size>5242880)return void Gp.error("Image size should be less than 5MB");d(t);const n=new FileReader;n.onloadend=()=>{h(n.result)},n.readAsDataURL(t)}})]})})]}),(0,ht.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ht.jsx)("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),(0,ht.jsx)("button",{type:"submit",disabled:p,className:"px-4 py-2 bg-teal-600 text-white rounded-md hover:bg-teal-700 transition-colors flex items-center justify-center",children:p?(0,ht.jsx)("div",{className:"animate-spin h-5 w-5 border-2 border-white border-t-transparent rounded-full"}):"Create Workbook"})]})]})]})})},dm=()=>{const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)(!0),[i,a]=(0,t.useState)(null),[o,l]=(0,t.useState)(!1),c=$();(0,t.useEffect)((()=>{(async()=>{s(!0);try{const e=ut.get("usertoken");if(!e)return a("Authentication required"),void c("/login");const t=await fetch("https://aipbbackend.onrender.com/api/workbooks",{headers:{Authorization:`Bearer ${e}`}}),r=await t.json();r.success?n(r.workbooks||[]):a(r.message||"Failed to fetch workbooks")}catch(i){console.error("Error fetching workbooks:",i),a("Failed to connect to the server")}finally{s(!1)}})()}),[c]);const d=()=>{l(!0)};return(0,ht.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,ht.jsx)(nm,{position:"top-right",autoClose:3e3}),(0,ht.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[(0,ht.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"My AI Workbooks"}),(0,ht.jsx)("div",{className:"flex flex-wrap gap-3",children:(0,ht.jsxs)("button",{onClick:d,className:"flex items-center px-4 py-2 bg-teal-600 text-white rounded-md hover:bg-teal-700 transition-colors shadow-sm",children:[(0,ht.jsx)(zs,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Add Workbook"})]})})]}),r?(0,ht.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,ht.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-teal-600"})}):i?(0,ht.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start",children:[(0,ht.jsx)(gp,{className:"text-red-500 mr-3 flex-shrink-0 mt-0.5",size:20}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("h3",{className:"font-medium text-red-800",children:"Error"}),(0,ht.jsx)("p",{className:"text-red-700",children:i})]})]}):0===e.length?(0,ht.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-8 text-center",children:[(0,ht.jsx)(Dt,{size:64,className:"mx-auto text-gray-400 mb-4"}),(0,ht.jsx)("h3",{className:"text-xl font-medium text-gray-800 mb-2",children:"No workbooks yet"}),(0,ht.jsx)("p",{className:"text-gray-600 mb-6",children:"Create your first AI workbook to get started"}),(0,ht.jsxs)("button",{onClick:d,className:"inline-flex items-center px-4 py-2 bg-teal-600 text-white rounded-md hover:bg-teal-700 transition-colors",children:[(0,ht.jsx)(zs,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Add Workbook"})]})]}):(0,ht.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.map((e=>(0,ht.jsx)(om,{workbook:e,onClick:()=>{return t=e._id,void c(`/ai-workbook/${t}`);var t}},e._id)))}),(0,ht.jsx)(cm,{isOpen:o,onClose:()=>l(!1),onAdd:t=>{n([...e,t])}})]})},um=vt("qr-code",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),hm=vt("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),pm=vt("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),mm=vt("maximize-2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);var fm=__webpack_require__(749),gm=function(e,t){return gm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},gm(e,t)};function xm(e,t){function n(){this.constructor=e}gm(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var bm=function(){return bm=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},bm.apply(this,arguments)};function ym(e,t,n,r){return new(n||(n=Promise))((function(s,i){function a(e){try{l(r.next(e))}catch(EN){i(EN)}}function o(e){try{l(r.throw(e))}catch(EN){i(EN)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}l((r=r.apply(e,t||[])).next())}))}function vm(e,t){var n,r,s,i,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(s=(s=a.trys).length>0&&s[s.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){a.label=i[1];break}if(6===i[0]&&a.label<s[1]){a.label=s[1],s=i;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(i);break}s[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(EN){i=[6,EN],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}}function wm(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),s=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,o=i.length;a<o;a++,s++)r[s]=i[a];return r}for(var jm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",km=new Uint8Array(256),Nm=0;Nm<64;Nm++)km[jm.charCodeAt(Nm)]=Nm;var Sm,Cm=function(e){var t,n,r,s,i,a=.75*e.length,o=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var c=new Uint8Array(a);for(t=0;t<o;t+=4)n=km[e.charCodeAt(t)],r=km[e.charCodeAt(t+1)],s=km[e.charCodeAt(t+2)],i=km[e.charCodeAt(t+3)],c[l++]=n<<2|r>>4,c[l++]=(15&r)<<4|s>>2,c[l++]=(3&s)<<6|63&i;return c},Am=/^(data)?:?([\w\/\+]+)?;?(charset=[\w-]+|base64)?.*,/i,Tm=function(e){return e.charCodeAt(0)},Em=function(e,t){return Rm(e.toString(16),t,"0").toUpperCase()},Pm=function(e){return Em(e,2)},Fm=function(e){return String.fromCharCode(e)},Rm=function(e,t,n){for(var r="",s=0,i=t-e.length;s<i;s++)r+=n;return r+e},Dm=function(e,t,n){for(var r=e.length,s=0;s<r;s++)t[n++]=e.charCodeAt(s);return r},Mm=function(e){return e.replace(/\t|\u0085|\u2028|\u2029/g,"    ").replace(/[\b\v]/g,"")},Im=["\\n","\\f","\\r","\\u000B"],_m=function(e){return/^[\n\f\r\u000B]$/.test(e)},Lm=function(e){return e.split(/[\n\f\r\u000B]/)},Om=function(e){return e.replace(/[\n\f\r\u000B]/g," ")},zm=function(e,t){var n,r=e.charCodeAt(t),s=t+1,i=1;return r>=55296&&r<=56319&&e.length>s&&(n=e.charCodeAt(s))>=56320&&n<=57343&&(i=2),[e.slice(t,t+i),i]},Bm=function(e,t,n,r){for(var s=function(e){for(var t=Im.join("|"),n=["$"],r=0,s=e.length;r<s;r++){var i=e[r];if(_m(i))throw new TypeError("`wordBreak` must not include "+t);n.push(""===i?".":i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))}var a=n.join("|");return new RegExp("("+t+")|((.*?)("+a+"))","gm")}(t),i=Mm(e).match(s),a="",o=0,l=[],c=function(){""!==a&&l.push(a),a="",o=0},d=0,u=i.length;d<u;d++){var h=i[d];if(_m(h))c();else{var p=r(h);o+p>n&&c(),a+=h,o+=p}}return c(),l},Um=/^D:(\d\d\d\d)(\d\d)?(\d\d)?(\d\d)?(\d\d)?(\d\d)?([+\-Z])?(\d\d)?'?(\d\d)?'?$/,qm=function(e){var t=e.match(Um);if(t){var n=t[1],r=t[2],s=void 0===r?"01":r,i=t[3],a=void 0===i?"01":i,o=t[4],l=void 0===o?"00":o,c=t[5],d=void 0===c?"00":c,u=t[6],h=void 0===u?"00":u,p=t[7],m=void 0===p?"Z":p,f=t[8],g=void 0===f?"00":f,x=t[9];return new Date(n+"-"+s+"-"+a+"T"+l+":"+d+":"+h+("Z"===m?"Z":""+m+g+":"+(void 0===x?"00":x)))}},Vm=function(e,t){for(var n,r,s=0;s<e.length;){var i=e.substring(s).match(t);if(!i)return{match:r,pos:s};r=i,s+=(null!==(n=i.index)&&void 0!==n?n:0)+i[0].length}return{match:r,pos:s}},Wm=function(e){return e[e.length-1]},Hm=function(e){if(e instanceof Uint8Array)return e;for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n},Gm=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=e.length,r=[],s=0;s<n;s++){var i=e[s];r[s]=i instanceof Uint8Array?i:Hm(i)}var a=0;for(s=0;s<n;s++)a+=e[s].length;for(var o=new Uint8Array(a),l=0,c=0;c<n;c++)for(var d=r[c],u=0,h=d.length;u<h;u++)o[l++]=d[u];return o},Km=function(e){for(var t="",n=0,r=e.length;n<r;n++)t+=Fm(e[n]);return t},Xm=function(e,t){return e.id-t.id},Ym=function(e){for(var t=e.length,n=0,r=Math.floor(t/2);n<r;n++){var s=n,i=t-n-1,a=e[n];e[s]=e[i],e[i]=a}return e},Qm=function(e){if("string"===typeof e)return function(e){var t=e.trim(),n=t.substring(0,100).match(Am);if(!n)return Cm(t);var r=n[0],s=t.substring(r.length);return Cm(s)}(e);if(e instanceof ArrayBuffer)return new Uint8Array(e);if(e instanceof Uint8Array)return e;throw new TypeError("`input` must be one of `string | ArrayBuffer | Uint8Array`")},Jm=function(){return new Promise((function(e){setTimeout((function(){return e()}),0)}))},Zm=function(e){return Math.floor((e-65536)/1024)+55296},$m=function(e){return(e-65536)%1024+56320};!function(e){e.BigEndian="BigEndian",e.LittleEndian="LittleEndian"}(Sm||(Sm={}));for(var ef="\ufffd".codePointAt(0),tf=function(e,t){if(void 0===t&&(t=!0),e.length<=1)return String.fromCodePoint(ef);for(var n=t?af(e):Sm.BigEndian,r=t?2:0,s=[];e.length-r>=2;){var i=sf(e[r++],e[r++],n);if(nf(i))if(e.length-r<2)s.push(ef);else{var a=sf(e[r++],e[r++],n);rf(a)?s.push(i,a):s.push(ef)}else rf(i)?(r+=2,s.push(ef)):s.push(i)}return r<e.length&&s.push(ef),String.fromCodePoint.apply(String,s)},nf=function(e){return e>=55296&&e<=56319},rf=function(e){return e>=56320&&e<=57343},sf=function(e,t,n){if(n===Sm.LittleEndian)return t<<8|e;if(n===Sm.BigEndian)return e<<8|t;throw new Error("Invalid byteOrder: "+n)},af=function(e){return of(e)?Sm.BigEndian:lf(e)?Sm.LittleEndian:Sm.BigEndian},of=function(e){return 254===e[0]&&255===e[1]},lf=function(e){return 255===e[0]&&254===e[1]},cf=function(e){return of(e)||lf(e)},df=function(e){return Math.ceil(e.toString(2).length/8)},uf=function(e){for(var t=new Uint8Array(df(e)),n=1;n<=t.length;n++)t[n-1]=e>>8*(t.length-n);return t},hf=function(e){throw new Error(e)},pf=__webpack_require__(717),mf=__webpack_require__.n(pf),ff="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",gf=new Uint8Array(256),xf=0;xf<64;xf++)gf[ff.charCodeAt(xf)]=xf;var bf=function(e){return function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}(mf().inflate(function(e){var t,n,r,s,i,a=.75*e.length,o=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var c=new Uint8Array(a);for(t=0;t<o;t+=4)n=gf[e.charCodeAt(t)],r=gf[e.charCodeAt(t+1)],s=gf[e.charCodeAt(t+2)],i=gf[e.charCodeAt(t+3)],c[l++]=n<<2|r>>4,c[l++]=(15&r)<<4|s>>2,c[l++]=(3&s)<<6|63&i;return c}(e)))};var yf,vf={Courier:"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","Courier-Bold":"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","Courier-Oblique":"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","Courier-BoldOblique":"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",Helvetica:"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","Helvetica-Bold":"eJyNnVtzG0eyrf8KA0/7RMhzJJK6+U2+zMX2mJYsEuJMzANEtihsgYQMEITaO/Z/P41CV+bKlaug86JQf6uArsrKXNVX8H8m3y9vb7u7+8m3k4t/btazm+7o5PmTZy+PTl88eXk6eTT56/Lu/tfZbTc0+Hu3eOju51ezb75bLq532maxYO2oarPb+aJndRCm3fzm425/Y8N/3M8W86tXdzeLoeXjYXv91/mX7vq3+f3Vx8m396tN92jy/cfZanZ1361+73af/PHLfXd33V2/Wd7O7sY+fvfd8svk239/8+T540ffHB+/ePTk8eOTRy+fHf/n0eR8aLxazO+635br+f18eTf59ptBBuHtx/nVp7tuvZ58+3TgF91qXZpNHj8+/svjx4+Hnfy6HAawG8z3y8/9ajeGo/+6+j9HT16+ePpo9+/z8u/L3b8vH5d/nx+9ul6+745+79f33e366B93V8vV5+Vqdt9d/+Xo6NVicfRm9z3rozfduls9DNTDOF8fzY7uV7Pr7na2+nS0/HD0y/xued9/7r4ZGi2OXv3taHZ3/X+Xq6P58AXrzfv1/Ho+W8279V+Gzv447Op6fnfz+9XHrsxA6cnv98NHZqvrqg4Nv599/vs4Ic+fvHg0eVe3np4cP5q8Wl/tAr0axR862/7m+PHzR5Pf76//Pp18+2QnDv+/2P3/9PF+vv7Z3a/mV0NA//0/k+m7ybfHz4dGvw5dWX+eDXH830d7fHJyssfdl6vF7Nb46fPTPf9jsxzi9X5hytOnz/bK3eb2/W6ibu6ydr1cLGYr4y+GiSn8c7e62qV7FZ4fH++F2e0grYf4mGQdLj0oM557/Xm26u4W3YeWRB+r3Zitd9+4/uQdfzEO9/Nis85duBqqdJZ38bH//LG7y82HocyXYiTrxWz9MQfrz261zHR512V4vxUt7z+uOtH2w3KzEnT+INqu518E7B46MbddiKmnw/xOpNXVcrG8y3jd3c6jZDOw2NlAot0fm9ki45tVN5SzD/PZkyc1abp1sZqqvHz+dJx7kX2vMvouo+8z+sH3/Oz5Hv2YO/NX/2BNhb/l7/p7Tph/5DD/lD/4c97jL156NeT/zB/8NffrLA/ot9zqdf6uN/mDv+d+vc0fPM8fvPBZOx0neppbvcvoMu/xXzn53g+L2afuPtiGhfz9oMU65c9FT7FUnK2v5vOr+epqc5tnbbOz7fWw/nR5j8XfQmfsY7M8nve51VVudZ1bieL8kD94k9HH3OV5Rv+d9/gpt/IStiXhNu/xLqNlRp9F1WerFxa4zpG4z9+1yR98yJWwza2Ek/aOdsc9xfRzV3f5FRPh+MXjmpWrRvtD2Xg/X1w3l/rr5VaYe1idPWL35TjNk+NJrbgPuwND9Fkfs1o7PiyWq7ng667xLVeb1bCMX3kAj0+wbNbzcuCaoluPWnRZ3Wzmg3K7vNdHDju5fPFX5Bh6S5wPc8HE8dNwKCcPB65nNzedSNs9x0MxOuDYzV236kTtD8dCs5vV7DOY2tOaWcNJRCd80MP7frY+EOHD6kofK9gERH04KRg/Pxxizz+v52shDWO9/7jchGPFtOyH5PaZW80eRD3Mrjb36tClePmHRfcla43Kup1drdThzvtVp3Z8vbyfXYWKc2k+zCQGwJQV1qF3trseQqqOUTd3N7PV5nYx24jdLG+Gw8xP4utmOA6Yl9uQsy688sOek+cjW66uPwzHeeHA0I9Q4iLrByCR+x7OYA/Pntoebgen2yxwF7ayzMRie70r+vVaLGCLuGNfeSK3I5KlGNRQn8Mp8ZD34hziH2lK3QliBvryH/PGlyY5qf51cfb86Cj3oC4X1/OHOSS0fyT2zA+YRXF4txsfOj/0ob4Rg3U596IygaHmr/T9hVJx3J6IGdWDfyb2zmeCPuBnAWknfs4weASchBxXJ1YDfX7yvIrjVQ+xK3IdXztjHvgodVx+VR3w8mjlaDRVP9KXw7FTqda3RWOFcCarhAzRw1yzJ/rha9z76ct66rn8s7u7EZn7Ju7Cz+LUID05DhbJocx9xQuJHc02xnrFY/Xznxw5i+rbj8uVGNUZ7d3DQFVgJ3pU8Kd1EaOwWTXRDjxienErFzjWm3KUsxL9jSnoUWzxaKtmgrebxf3886IX/WqU/9s4QEuk4Xjrfj5bXM8/fMhz1bet4de4H09YkSxeGwfT7MCq05auGuO9a9lgK2N+jQHyxZDqHy+/DUcMeA3OToFWy0/dHZ4ImTmuupv5Oh76eonGyYblONdFPdRYb4aqDucjHmw6hrTCbERm2Ur1fzU+8C+q8NOX9di1XOmK18Eszj/ef8zw+6YBLpRv2VjuGybTNVfHlvCqdfhwICtjgP18uVUavG9zhdaMtJae1jK6bu0517Ht++BhCa+Y9bigW9wLA78PJu2euF0ecMTUNfu6240YSWMNX8rjTK8FPvixq0/xCOfFySn4+JDAqyGR1/n7fud8Pa2Tv2gsJD8fXH9/iRPnpxJ2X0eZYrIFt4wYJuetGv8ldtviMETt42wBS0Mt8t2pSaxwnwu1BJgvx8MmT7WvTGCjFLrWgG6imeKAxmlVs6rPRn6XB4iWwbLnlhDXg010KmMbS/731AlbuMhtTs3Or+dXymh/iF8EB2aHDnd/pcNa625j3t4czuuD+3rV+M5XTZOOpwM2A/F73IgPHFD+2Fruad9+iVie3dkBWTwSsG87WAo0QeaXB/e0WN7s5vtuKcK9bJvpJq9jNYOGr2pU8s3Bye1gJfeYN9L3Tq7jdnHnLh80u+e3lrsfN7u7kf95NPm5W939NpuvdveQ/z15tbtbPXn0zenj/zwat/buEdC+nxGNpo7wb8PWU9/au0pAODAUzsL3nOUu4NIbuE1VoPv6Dyg4T1DGkAW2vzoU0L5wEL0OW2+HrZe+VWOGKIzehfMQi/M6ekBh9MBh9EDr6AHR6EGx0QMb6zqwYidILoatF7Y1Hbae2dblsPXkiW/WISGDvgPeDJsnvlU/CCjEAjh8H9AaC0AUC1AsFsAsFsDGWDh5CJmwDVoft/KI+tzzsRGWpiEqDuNUpM65UqsC5WqIata4LNyqnuXv5hI2rurYxFzMJlFFG9dlbTLXtglU4Mapyit/nRHUuyEqeueq8qt6niPKHmBcGYGJ2Q1MIkswrn3BZDYHE9ghTIg2UTF4RUVgGBWhaxhj6zBB+EfVwEQMUd0ZV3ZiYrsy2ViMa3cxmS3GBPYZE6LZVPyQE3KbW/UCNQIhXGg0A3QhQ1TfxsmFnLMLVQVcyBC5kHHpQlU9y9/NLmRcuZCJ2YVMIhcyrl3IZHYhE8iFjJMLVf46I3AhQ+RCzpULVfU8R5RdyLhyIROzC5lELmRcu5DJ7EImsAuZEF2oYnChisCFKkIXMsYuZIJwoaqBCxmi4jOuXMjEdmWyCxnXLmQyu5AJ7EImRBeq+CEn5Da36gVqBEK4EIYGrShyqvQokimRyM4UZLCnyMmjoiiNKjQ5a+yPLSuKyrdii2xeUScHi6K2sdiGvSyqZGhRJFcL4usGB3+LnEyOROV0ocl5Y17Y86KojC+2yO4XdbLAKGofjG3YDKPKjhjVaItBA28MHAwycHTJKLBVRlX4ZWgAphk5GUYUlX3GFl/xFTbSKGo3jW3YUqPKvhrVaK5Be2jUxbbRvm/xQ/ETrusEPRcpGRVK5LdBYrcFEbwWKTktStJnocGZ3A97LErKYVHP/ooquStK2luxBTsrauSrKJGrgvRaUnBUpOSnQVJuCg3OZezZSVFSPop6dlFUyUNR0g6KLdg/UWP3RC16JyjgnEDBN4GiayJmz0RNOCbI4JdIqdpRUl6J+kEvYJ9ESbsktmCPRI0dErXoj6A8yAzfyra9pu1ICVccR4+WaIhMxTiZoXN2wqqADRoiDzQuDbCqZ/m72fqMK98zMZueSeR4xrXdmcxeZwIZnXFyucpfZwT+ZojMzblytqqe54iypxlXhmZidjOTyMqMax8zmU3MBHYwE6J9VQzeVREYV0XoWsbYskwQflU1MCtDVH/GlU2Z2K5MNijj2p1MZmsygX3JhGhKFT/khNzmVr1AjUAIF6p9RRtyRhXuAhkRCOxEJoEVOSMvckGakcln4vvZjlxQfuRqNiTXyJFc0JbkOnuSK2RKLpArmfBaMPAlZ2RMIChnMvlcxJe9yQVlTq5md3KN7MkF7U+us0G5wg7lSrQo4+BRxsCkjKFLOWSbckX4lIlgVM6oQF1QVuXqgfpls3JBu5XrbFeusF+5Eg3L+IPI1a1o1yvWiolwrdoxdC1nZAQukGuBwK5lEriWM3ItF6RrmXwmvp9dywXlWq5m13KNXMsF7Vqus2u5Qq7lArmWCa8FA9dyRq4FgnItk89FfNm1XFCu5Wp2LdfItVzQruU6u5Yr7FquRNcyDq5lDFzLGLqWQ3YtV4RrmQiu5Ywq1AXlWq4eqF92LRe0a7nOruUKu5Yr0bWMP4hc3Yp2vWKtmAjXWo2/6OG7q4RMoGLyK8PsVqMAXlUJOVXF0qdG8Sx9L3tUxcqhqpb9qSrkThVrb6oqO1Pl5EsVkyuN+HUi4EiVkB8ZVm40iucphuxEFSsfqlp2oaqQB1WsHaiq7D+Vs/tUHr1npOA8IwHfGQm6TkXsOZULxxkl8JtKqLIqVl5TtWbNsc9UrF2mquwxlbPDVB79ZaQPKeu2qU2fiR69cJUx19FWDFHhGidjcc7OUhWwFkPkLcaluVT1LH8324tx5S8mZoMxiRzGuLYYk9ljTCCTMU4uU/nrjMBnDJHROFdOU9XzHFH2GuPKbEzMbmMS2Y1x7Tcms+GYwI5jQrScisFzKgLTqQhdxxjbjgnCd6oGxmOIas+4sh4T25XJ5mNcu4/JbD8msP+YEA2o4oeckNvcqheoEYjsQt8N9FXcip8tqDoGIBHSwvUeYiALoiAVRvEpLISmkFq+jnbV9cS3LJ0che4CxwRzWrsLiKYcFBsIMBsIsHEge/LDGPdT34pu+gPGHZDw1h8o7kCjo/4Q4g7Mugts7C6QaJs/jCXvW9OwtSv0575VRwcIuux0/3tsdXJ3ZPzJNUOj/2L4DFEMjVMgjatomphDahLF1TgH1wSOsAkxzIYp1pVfZDTNCEJviOJvPE9ClWgmKk7TUV4IjNNREU9H5TwdlcvpqKKYjirxdFSepqMKaTqqQNNRMU/HyC8ymmaE01ERT0flYjpGiadjxDQdfx1n4oVv1V0BqvEHFEIPHDoEtAYckMUamIUZ2BhhIDW4jnbjPPatOgJAdQSAwgiAwwiA1hEAshEAsxEAG0cApI7AUZ2tJ48N2UyN7Kdxqo59Kw70J5wqQGKgP9FUAY0D/SlMFTAa6E8wVUDiQH+CgTqxcTraxK08zE1jTBs5pk0eEx+SgSJGuxGj3YTR/jzZn/Kc+FY8LipIHAQVng6CCo0HQQXJA8mi0OFRYfV8BlA8Ftqhctzy1LbsWMhRPYFBFA6PnOPhEVB7TTRgO2py5MdGzvzYyNhyNwLfskg7ipF2jpF2apF2xJF2xSPtzCLtyCJtaBPivsn5oc47fp6oU46fJ+ls42eR1aCI/ODTi58nfGaxI70tUGUrLtEFpYU2vIsf6oIECgGpKhrUJAeGGlCMSNXhokYcOZKpyEileosqJD8JVIWkUkGyKmqTmuQy5Qa5YqkFFS+pXMckc0lHGaqbBCp0UlXNU5Nc/tSAnIBUbQrUiP2BZLIKUsk1orppJRJ7CalfLyThMNTgYCE1fIcaHS6k5EYkR2OKIngUCWRXpCbn+mWC1/DKVrx8t0fiyt1O2B3ej5eddptTO0bdbZULWce+aSUODOvScfwFzUE6jZLgfo3nl0m6vPPLRF3Z+SW/o+qIgnDwHVVTMRz4BueLiDAw+Q1OFkSIqtaKU9BbYp8DwWFrv/X4S8wriCAJFEdWVTRjG4xpVCCyUcD4ksJRJlnEOrZoRVy0Otykb4WS56BdwGOD0V5xDgxR9J2ruFcVI14ZxLoijLIxjq8JIrJVa8U06C2xz4HgCBpPsRuO08oJ5lPfirccCop3gwoSNyAKT/ceCo23HQqiWwqF0d2EwsKNhELqeunorZn5Gc45ojDdLlyE75mGrXdhy6/QnE3SxZmzibous6P13Nd3aee+I6oWA9NgiObCOE2IcTUrJuapMYnmxzhPkgk8UybE6TJMc4brDoWBZ6+x7pB6kb97mtG7jGBa00LEPE9wlWiWK+apDi9TwXxHTpMeRZr5KKrpjy1yDkSdEiGKnA1R5ZSIasyLqFFypPc6VfQ4TQ6916maXDT2N23wdw0O+aNfb5RizqSgUzoFjXMKXkSBjEJK+YQSZRNKKpdQz5mEKuURSpxFqHEOoRYzCBXKH3qHLceJc6f9DltucCH3M5X0naSQMerVLiHlbAGVcgUUzpT6pgCkiSHKEeOUIMZVdpiYU8MkygvjnBQmcEaYENPBMOUCvuxDYeAsaLzsQ+pF/u5pRu8ygmlP78YwzxNeJZrtinmq47k5zjgrNPEs0/yzrNKA2+Rs4BaUFCxzbrDOKcJ6zBRWKWFIftuMKadPklUWUaOL5n6nTeVdU4EMY4USjeWcb9SC0o5Uzj57uh/yzhllnAuUay6oLHM155drlFkucE65wtnkSswj55RB4UUejghnTetFHpYvxPdPBXsnGORFft8lCTkXTKMsMM7zX083YfoN0ewbp8k3rubexDz1JtHMG+eJN4Hn3YQ47YZp1vEaBIWB57xxDYLUi/zd04zeZQTTnS5KMM+TXSWa64p5qutTYzDVhmiqjdNUG1dTbWKeapNoqo3zVJvAU21CnGrDNNX44CeFgae68eAnqRf5u6cZvcsIpjo9J8k8T3WVaKorpqn+bZzl8cmE33CGkdXZRUZP1rkQHq1z7M/WOYNH6BzCM3QO7SE6R3UGgflzMmUrXjErKD7RWJC4q1J4uq5WaLx/UhDdDymMboIUFu58FBLvKv4G8zZeTdyh2KDLg7L7iIj0oDo5qHCbEHAeayfG2omxLkOK2f0+QOKRr8LTrZxC44NeBcmHw4tCT38VFh8JLyg+2/UbVscY/dcTfMS0bMVHTAsSj5gWnh4xLTQ+YlqQfMS0KPSIaWH0iGlh4RHT155GPow6tD15M9nfzYet+GxOQeLZnMLTszmFxmdzCpLP5hSFns0prE4RoPjY0ZvRn2GrZj6i4MounMetPN7zxnjP5XjP83h5IkER4z2nZ5HewEQ68WXkzQQfMnwzrhSuXcal+Q2tDyOtVzFh9g1RSIyruJiYg2MSRci4DpPJHCsTKEGMU5bgdWhGlC+N69CkngvUiJXMIRPbseJsMn44VimvTODkMiFmWL7UbghyDa+rUyvOOnVdfZTqg8SQeoYonMZVOE3M4TSJwmlch9NkDqcJlHrGKfUqfysQpZ5zlXpVPReoESuZeia2Y8WpZ/xwrFLqmcCpZ0JMPXy0nTIEUg8fbadWnHrq0fYqpefYjqXAoT3wHJtuIsKsn2PTaiPkjefYtMypqp9jk+rbpsDJe+h5B9nmvCkcjLlO6tjkazFPCR7V/5+Y52SPckr5KFPipwdBZJZiEaTnQOQnUkE0nwLZNximu5z9vfSt+g2A6hkToDApwGEPQGv4AVk4gVkMgY2BA1Lz15G/oPoWSxiQONV4S8UKNJ5qvBVlCQqdarzFAgQUTzV2aHeO98K34rsaBcV3NQoS72oUnt7VKDS+q1EQvatRGL2rUVh4V6OQ+K7GDl0tFzTyeu7qbXafeOZbdZSAqrEgwlECh1EihVNXwHXwgGzwwGzwzj72nz925Zzr2NgyjGqZZ2vZmJqlnJplnho+nQVFTJqdzgLKM2Sns45WcSsPZBW93IV1dzvPU74JpbjJ9rFpeMVGesUmewU/kgqKcJGNcJFNcpFtmPA+buUk7XPm4buILwlRENK7iMxVhNS7iCxRrPK7iCxwbPhdRMbktXj8fkqIXFcfv7OY/TcdvzPXTpyP31kgT07H78TBxQxRrRgnnzauHMHEbAsmkTcYZxswgQ3chOjihsko/LXPhQodmXrFXa4Ftnfj5PHOhdGb2K45Zfmmke8bZ/M3gVeAKqRloArLHAxeEIwfygGxNJjUyIHGImFyK0V4uTDeSAVeOCpfCdQYul5HqioWkyrBimKo4ahybTGx7Zy8yhjXS43JLWNNi44J2li3Odt6gRrlpFajcKCPa1IUOI5R5fUpqjLWsYmIeGzAcY9qCm+UU5CjTKGOIq9k6XLAqRR4VTtwOUA3ESucvhyg1cZq17gcoGVe+fTlAKmi7UeBiz6qvCJGVXpibCKcMTZgf4xqssEop/UyyrRqRpENM6jsaCTGdTS+SNeq5bSmRpVXVlLV+hqbfM1L5FobW/CKG9W07kY5rb5BzmtwfMmuFc60Hkf16xmo1ubY4GAGttbp2OhwmqY1O6oHEzGt30FdNYWDYWus6KGNWtdDA1zdo3BwbdIrfWzytdUnrfpRbaz9sdHhJSofB0T50BK1bdVA3xQOWkM+Sjif4BM953g8ACg+x3OeVn7g6XriOa7xgOiZnfOwmgMLT+qc47rtqNroiRH6IZR6PRnH2nj1xjmN+tCrNy7m8TdevXHOkWi9euNCjEnj1RvjFJ30ysrIG6+sEKdgHXplhUQVtq+8skI6BfDgKyukcigPvLJCGgVVvr2hIsjhlW9vBEqhbb+9ESQV1oNvbwSVQnrg7Y2gcTibb28EhUIpXm3IseIw5lcbHFEAG682OFeha7/a4BIFrfVqgwscLv1qg2MKFL8SQKHgEDVfCUgKBezwKwFJVuH76isBqQUF8yuvBCSdQ3vwlYCkUqAbz8LruHLYxbPwwCjUrWfhQVDhPfAsPGgU0uaz8KBwGBvPwgOn0KVHxzkqHC77iW0IlzMKlwsULhdUuFzN4XKNwuUCh8sVDpcrMVzOKVwmULiMc7jGXw6GYFVCoaqYAlWxClPVcpCqQiGqmANUOYen8hicSik0I6bAjJTCcjGG5IVvxdOVCwwFIHG2d0EhABrP6y7C0IHRNYQLGDKQeJK2Q/6zzGUrzlxB8SzLhbO4FVOhIDHfhae5LjTOc0Hy94KLQrNfWD0/BRSnd4d20/rMt+IpS0E1BIDEdYvC0ylNofH6Q0F00aEwutJQ2DhjQOoIHMXT2YtJekR7h+Kguzw5dqUGkZ6vTs5XuBADOE9jJyarozLdMbu44tm5u6Dy0rfiKXlB4jy88HTyXWg84y5InmYXhc6tC6s5Biheyr2Y5Ke2dyxfiNjRTZjZTc7GTSP1NjL1Njn1+DICKCIpNyIpNyEpp6PrwVbs9RRdD5AYyJRcD2gcyDS4HjDq7hRcD0isoekEH7iboncBEo95Tcm7gMYHuqbCu0ChR7em6F2A4oNx09G7Tn0r3gyYoncBEjcFpuRdQOPl/2nwLmD0q7VT8C4g8Vr+FLzrCRC8Cj0drWv/I2VTtC5A9nYJoPwLbVOyLqT4donj+BNt02BdwPztEmNmXT7UZUi4ZS6SZaMilrIilrki2LpAEbVi1gUoFwZdqJ2Sc/m87Zzr1MZvzgUoJp5zTDynlniO+GaTK56SzjwlndWUNNKHeupz3fepvi9Hwxt/qekSHQ+ZvZEGLL6IAwK+iQPYXsUB5m/cAPRXbgDWd24A2RtpznbW99y34ot8l8n6gKd3+y7R+gDRxIFigwFW8xJQ7bajmS2wl2h9gOLN4stkfcDTscElWh8gOgK4DNYHLFxHv0Trc1RL6CmQW/xl5svR+174VjyfuETvQ5TPJy7J+5CC9wGOpxmXwfuA0WnG5Wh0MARzOmTq1cxL8jrE9GrmpXA7lPitzUv0O2T0hublJP8Y9iVZns/XJjbaiIFuWgPd6IFuxEDZ91BSA3XnQxhfT7206/RgBukmRBLY0/RtiKQKd0s3IpKQfC7fikgKOV66GcECeF96x4y5ckH1jhlL5Ietd8xYZmdM75gxJ4+sHIzSELmlcbJM48o3TczmaRI5qHG2URPYS02IhmqYXNVvMoVS5XtPXANgc4bIaY2T3ToXnmtiNl6XsvuaRhZsnH3YBDbjKizFoJMtmyAty1ThW6axeZnQcDDTk42ZwqZtAjt3upPIgvDwKm1E8+TmJhyMj/J101rxaTm86c34ZK83hQyfbvlVJ1T3/JTGzt+866caCP9X9/2UllYBeedPibQWqHt/QoMVASktCiipdQH1vDSgSqsDSnqBwBa8RqBGywRKtFKABIsFUlovUKIlAyW1aqCeFw5Uae1AiZcP1HgFQS0uIqjQOhJuBgfHELeJRYGBaSOlNQUlWlaCJFYW1PPiEtS8vqBMSwxKvMqgxgsNaEsdkrTcoCYdFRsIU0WZfRW1hrVik+SuKPIChBqvQepRAaGJlQjUjf5QWo9Q+1oA1aqE8oEAttYmbHIogHmFQjEuUkM5TfxXQsqW/66PoXj/yYXd3yTc/5WH3dY2bPl1nrIVr/MUlK7zVNfDHhmibhmXfasqdLCibUZ97gH313ju9Ngx7LQh6rRx2emqQqcr2mbU5x5wp43nTodnlaDnkVP3oyjHEJrAQALfNnjf6B+PK4p5cJDuMDSkNDCU5LCgAQwK6FbSXvaJh4NSHkx9zAdGYoiGYVyOoaowgIq2GfW5B9xv47nT9tgH9NoZddsF2W+ToePGtoL1oh/cdxdy5+0hDOi8M+q8C7Lz4c/Tjx0Nf56eWS/6wZ2Xf55+1MYHJaDrlVDHK5bdhr96PXYQ/up1JH3aN3dX/NXrUam/QAe9NUTdNS77i38kd+we/pFcQn3uAfdZ/ZHcvfR+oAvbc9ny4wRDqpdF8IObijbhq+nv4b1PxxrAZd/o7+G9FwcUoNCN0Pfh8AFY+LWK92OkfauPW3kMOY5XA/VA7LY+Be2T+gGRqzH4sBX3dZWDD0K8xXs1dtx70MeZvKKOj7QeC3zMCIZgSPamqguBaETGD38RjQ2PbaiTPEp1bDNK9uJrRjBUQ7KHVV0IREM1fviLaKj4viR1koeq3pes0nBat1jMaLAGcbgOdT9NX0jIg3bla1/HAzelV11Og3clD39/cjRZf55d7T5yOtJywp3/bM1xlhta/MLh9GxybTstW1f7v10LyE38Ovj3dR2ob9kIHeHQ9nTcA+7YEO298of86W1GvUDUI+OpW7uKG4O03zleSj028hA+sA1bX8JWH7diR1J97yldpx87whd2jyN+yJ/fZvQlo14g6qb0or1EPz4w9pVfTz+O+CF/fpvRl4x6gaiv0kxGSbwmUjus3hI5FtpD4+u2Df6lwfsW5+G0zqpGPV+IG0ckrsEcJ+VBftFW0i+S9prSKBonU1X1a3M8CFB4FCA96O/aavxF476BeSio5bHQayHjOPitkOOIH/Lntxl9yagXiPqrzgdHiV8PGDub3g44Jv4gvmIr2BfBesWoy/I0cNT4Gf2xz+kR/WPiD+IrtoJ9EaxXjPosz/722ocJXiSvpItb8aigoHotHFH+AePC05HDnuKflHUcf9e4IPr14sLo14t3bGlHOWUrHjIVJE6KCk8nGoXGk6KC5ElRUeikqLB46FVQfDr0wyRcgq6IDp1OohDozX6unvjGOGwg40whgTgA9jAg9GkCOsYGSA0AoDpHjvykXVxeaF5aqO1gpEbicA3HMTvOAzctjd6VFAKTYhwMUzCMU0TyZeCbxmXgm4OXgSOEMOkfgdBiDNmBn4DQLVL42j8AoRvEUDZ+/kGrFNao3rTCxCEmVQW6/knNY9+KNsN/SHNPP43utHfcT+hOgKJ9Ok+W/QndCRDfA3LFHdSZXVVyZHfK9ij/SoYWaCyHfiVDN8kjbPxKhlb1uFu/kqFlikbjVzL26iKszouwBi/y6ruQ6+4inwct8knPonHSs2if9MQrAvj1+QchtEC7av8gxNig/v2XbUa9QPT16u/P7qXbCV7pLFux2goSi3rhqQoLjYt6QXJRLwot6oXRlc7CwpXO2wn+2d1bHDEg6N2e3k3qTWXbikddd2mwwNMh1t0k3DA2JP9GxN0k3h42RkdZdxO8GVzJ7uD11LbcHsU9FH335C4+4RURBaH1fFcUczjE012R68CoZ7uiwCHKT3YFDMHKt5LvUrUzz7HD37t7Qohip3/vjsUcu/R7d8x17PLv3bHAsePfuyMMscNLLhQIjp265FKl9JtCT6TAcTzwm0K6iYip/k0hrTbi2/hNIS2nWMvfFJIixj0tITKUaQ6aS8jYoN47gzkwRNE3ruJuYo64SRRr4zrKJnN8TeDImhBjivcbTyPqcyA4gu2bi8sJ3llbhnV4t+V/uGkZdrXMe1nqHaB3EYJd4UXck9iqzx/kPbcdbpmucCoOHUlXOE9E+77xPdyvrzw3Aoeu2DV5uRIpdEs++xEodengsx9LvGpHCLqCV+1OYqs+f5B70H6Kg47FsRekQGdIgT6R0je/jXvIcu5ouF7IDDoXrheeULtefJa7cuCxkXrWgX3IB9OGoAd4fE0f5P2r4+tRQksiBLuvCHafjWvZMK5l27g+T/D84DN+FlA6K6gXzFp3GKPeEuM9RvoqU1+4uug+3Ncv3f//m9NnptYPXscPGa73DIXmN3wjjnGMmrrpG1vEa49BC3ERY1jFsBiuHVJavRostdBZ0WI3t88ErjtUWvzFUtLqTWuthu6oFnnyq+SFMgRp96wHbsUJK6j2EpF1DuB4/f2ZkeugW/o4urF6KFt2KcsRXb8ywV569y9bxq08EHXlvPBU1IXGk+yC5El2Uegku7CYvQXFK+c7ZFfOPWx/hAbrMO51NJcVZhEimx+EjVje11s5ZSO0cv5QL0yu9oYHG+GC7Cra3QjtdrsPzRBNlHFKO+ece3Qvv0ay4uvcklPRnqn2uBiipDQuo2lPSFF6Vr4UqDF+ma0m5pQ1ifLWuE5ekzmDTaA0Nk65zM9O8DT8kZuuc+A4v41TkjvnTHfl0AR5bhtRiQ8nDZTJfSaxDsS5wKjY8xweEUOUDMapGJxzMfBfqngW8XVuycVQORSDISoG4zLW6Y9H0A6WAjXGL4tB/e0IlqgYWn87gmUuhvS3I5hTMaS/HUHT8Eduus6B42IwTsXgnIvBlUMT5PluRBUDXMGiTO4zicUgLl9VJVxUwZKIAidGVLk8SE1FEnUqlSBetz6Vyibfr3uqBC6hg/frVJtUTukGlxYORlAXWPMGl27AxXbwBpdulApP3+DSKhdhUFMpBvWP1sfWrWlIxRlVLlFSU6GS/vU0gLqMXJYuXwqV1de3OBVz6zroXo/Xi2qYEOUHEj0gATbuAcJLjXQKPG6Vv905vuhnyJ/1IU63yIN6YadQlUwT2f0JyvHM3JAlB3G8EBClevY+npa/yOKo7PN3mMOJO1rZigVeUDUbQKLQC0/VXWgs6YKoRAuj+4mFhfuJhcT6fADrfWFk518nvhVvOj4kpwKebkY+oCcBIiMCxX9xzVm1HEB1HI7op8u2MLRTI27N2+zH24YJb6XzbrPdbpseuxXGus1uus0WusWh7Qeyu4Ls9x3KVry1UVB8rm6P8o2OwtM9jj1Nz9UVHO96FER3NAqjmxn9WCsnvhXzqsdaASRSradaARpTrQ+1Asx/ws/ZWCtAYo71qVb6MA99noc+z0PfmIdezkOv56HP89CLeegb81CK4KltWRE4ikXgHIvAqRWBIy4CV7wInFkROLIiMET1XRdEzCpDlFrGKb+MqyQzMWeaSZRuxjnnTODEMyFmn2FKQb7MQqGAdDBEGWmc0tK5yE0Tc4K6lLPUNEpV45yvJnDShms3TyOi9G1cuyExJ3K+dkNcp7S4dkMCJXe+dhM5pzncpINMR0rJjhLlO0oq5VHPWY8qJT5KnPuocfqjFisAFSqC/C6IiBWkG1KqBpSoIIIkagL1XBZBzZWBMhUHSlwfqHGJgAZVgpQKBSVVK6jnckGVKgYlXTTYgusGNSodlKh6xGtAY1L8OYHnmP+EHAASnlj+k2ccMJ9n/UnzCzQ8hfwnziag+Lzxn+DjTGKn2cUTzt0XHp6UNBB2cMY0pOTfI68nm10mcVyG47gc53GZlsblShqXSXFchmlcxmlc+JJUp2kcX5DiGKOUxxn0NNaopvEGOY45SDTuoMHY//O//w/7Vd1G","Helvetica-Oblique":"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","Helvetica-BoldOblique":"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","Times-Roman":"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","Times-Bold":"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","Times-Italic":"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","Times-BoldItalic":"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",Symbol:"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",ZapfDingbats:"eJxtmNtu20YQhl+F4FULyMGeD7pz3AY1ChtG7NpFA18w1NomIlECSRcxgrx7SVk7+wOdG8H5OJydf2Z2d5gf9cV+t0v9VK/r+6vXsXlOlbHe28paq229qj/t++m62aXZ4J/m8PRb1z9/baZxefK63Z6eXN5dVMvTCh83u277xr/6kLrnl2XNq7TpXnczuZyabdee98/b2VzM/x4/dd/T5qab2pd6PQ2vaVVfvDRD005puE3Lu7eH1HbN9hTjx4/77/X6y5lcnUmjVzHIVVDicVX/1W/SsO36dLMfu6nb9/X6TAoBD+5euvZbn8axXtuZ36dhPJrVQqgPQoh5hev91LWLkIv94W1Ygq9+aX+tZAx2tfz64284/sblN/rqfLP/mqrbt3FKu7G67Nv9cNgPzZQ2H6rz7bb6vLgZq89pTMO/M/xfEqturJpqSM/d7GJIm2oamk3aNcO3av80O5xh3yyKmm1193ZIT02bqovTKjP+MAf++7zsZvZ3276kYyWWXB0z99S18/PbafPHQ71W4fjn/fxnFO+ZvkrT0LVzTr78qB/+nk38bHM9exgP8zr1z9U7jt6840YW5uSJKcZOCaBBnKgm5mU8MVNYyMwWFvO7Ukagkmgg6sDWQ5yFFqjzUrLEaQ3BEmiwNsMSaZS0vgWfOkPHWQowNeTUc0kumnxZvsgPxlGai6VTGUqAVCTQ6QkWnc77DKEiLktSUBJKqHIQZ86d8gCpHYoiEzMsb1ubYy8vW50DChB5ZhGqrijD0EqUIeiaEHIfCg5Kpuu0ApiToaGPSY0uaQsyr65L2oKi1yFt1PLaQ3lzfXTgXodGoJYzglndSLDMPg1sTPJpQJHJigw0QrGERqD9YhyTOgONQDUyuF1zaxuokc/BW2ztXCMrGZ9WMW1oQZHIXWNBkSCfRZEL5BMUiZw6CzVSFCfUSGZFNjIldoKDkonTKQiJIGzWmFd3BizJJ9SINoLDriOfUCOZS+zg+KGD1qGiLNMLxtJD1/ns00ON6EzyUCM6vbxhoBKaqbG3DFQCNiL1iHccBPV0DHhQH/JW8EW90dkyFKGywCJU0WkVSvSGeiSUODWFFD0HYdPQVoiRgfPMA+/nnRgiAyNYSjpWNQcNSMrtFCUH4ZIRpSCWocFCSuhCEY6hoUClc0WC52BJlCYYLQdhN+hygRRRlo5BKRRLS6oihSqh+ZzzRGG1Mo4Iz1LoP0qsxDGFzk0JE42ji0jCPejomJKCuwil4m5CiRMEUMVSzVLDUstSx1Juc0oVWMpqY295qVltmtWmWW2a1aZZbZrVplltmtWmWW2G1WZYbYbVZlhthtVmWG2G1WZYbYbVZlhtltVmWW2W1WZZbZbVZlltltVmWW2W1QYjQCh7E2aAQHeGhCFgPoNoy8KNb2wxBhmGKBxoUZXlLGsLI6AsftEDHV0wIURVbANLcTKlGGBIKPOAxCmhePCKUwFzAmpDFRQvjA9R06Hq8TONvshgKDCuRAZTXigUxjxNFfKRo3CLhnIJBMFRvMZpqpNBMlQJzGT5WFQMVQI/AikPMIhEU1aDjqJvQwmjSHB05cC9jbYwc5UtAHNLhDw41ha+lEqF4JaH3gmB61SYcqInxTDmQK8v08vjqv4zDf1N0w3Lf4A8/vwPpfK11w=="};!function(e){e.Courier="Courier",e.CourierBold="Courier-Bold",e.CourierOblique="Courier-Oblique",e.CourierBoldOblique="Courier-BoldOblique",e.Helvetica="Helvetica",e.HelveticaBold="Helvetica-Bold",e.HelveticaOblique="Helvetica-Oblique",e.HelveticaBoldOblique="Helvetica-BoldOblique",e.TimesRoman="Times-Roman",e.TimesRomanBold="Times-Bold",e.TimesRomanItalic="Times-Italic",e.TimesRomanBoldItalic="Times-BoldItalic",e.Symbol="Symbol",e.ZapfDingbats="ZapfDingbats"}(yf||(yf={}));var wf={},jf=function(){function e(){var e=this;this.getWidthOfGlyph=function(t){return e.CharWidths[t]},this.getXAxisKerningForPair=function(t,n){return(e.KernPairXAmounts[t]||{})[n]}}return e.load=function(t){var n=wf[t];if(n)return n;var r=bf(vf[t]),s=Object.assign(new e,JSON.parse(r));return s.CharWidths=s.CharMetrics.reduce((function(e,t){return e[t.N]=t.WX,e}),{}),s.KernPairXAmounts=s.KernPairs.reduce((function(e,t){var n=t[0],r=t[1],s=t[2];return e[n]||(e[n]={}),e[n][r]=s,e}),{}),wf[t]=s,s},e}();for(var kf=bf("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"),Nf=JSON.parse(kf),Sf=function(e,t){var n=this;this.canEncodeUnicodeCodePoint=function(e){return e in n.unicodeMappings},this.encodeUnicodeCodePoint=function(e){var t=n.unicodeMappings[e];if(!t){var r=String.fromCharCode(e),s="0x"+function(e,t,n){for(var r="",s=0,i=t-e.length;s<i;s++)r+=n;return r+e}(e.toString(16),4,"0"),i=n.name+' cannot encode "'+r+'" ('+s+")";throw new Error(i)}return{code:t[0],name:t[1]}},this.name=e,this.supportedCodePoints=Object.keys(t).map(Number).sort((function(e,t){return e-t})),this.unicodeMappings=t},Cf={Symbol:new Sf("Symbol",Nf.symbol),ZapfDingbats:new Sf("ZapfDingbats",Nf.zapfdingbats),WinAnsi:new Sf("WinAnsi",Nf.win1252)},Af=function(e){return Object.keys(e).map((function(t){return e[t]}))},Tf=Af(yf),Ef=function(e){return Tf.includes(e)},Pf=function(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height},Ff=function(e){return"`"+e+"`"},Rf=function(e){var t=typeof e;return"string"===t?"'"+e+"'":"undefined"===t?Ff(e):e},Df=function(e,t,n){Array.isArray(n)||(n=Af(n));for(var r=0,s=n.length;r<s;r++)if(e===n[r])return;throw new TypeError(function(e,t,n){for(var r=new Array(n.length),s=0,i=n.length;s<i;s++){var a=n[s];r[s]=Rf(a)}var o=r.join(" or ");return Ff(t)+" must be one of "+o+", but was actually "+Rf(e)}(e,t,n))},Mf=function(e,t,n){Array.isArray(n)||(n=Af(n)),Df(e,t,n.concat(void 0))},If=function(e,t){return"null"===t?null===e:"undefined"===t?void 0===e:"string"===t?"string"===typeof e:"number"===t?"number"===typeof e&&!isNaN(e):"boolean"===t?"boolean"===typeof e:"symbol"===t?"symbol"===typeof e:"bigint"===t?"bigint"===typeof e:t===Date?e instanceof Date:t===Array?e instanceof Array:t===Uint8Array?e instanceof Uint8Array:t===ArrayBuffer?e instanceof ArrayBuffer:t===Function?e instanceof Function:e instanceof t[0]},_f=function(e,t,n){for(var r=new Array(n.length),s=0,i=n.length;s<i;s++){var a=n[s];"null"===a&&(r[s]=Ff("null")),"undefined"===a&&(r[s]=Ff("undefined")),"string"===a?r[s]=Ff("string"):"number"===a?r[s]=Ff("number"):"boolean"===a?r[s]=Ff("boolean"):"symbol"===a?r[s]=Ff("symbol"):"bigint"===a?r[s]=Ff("bigint"):a===Array?r[s]=Ff("Array"):a===Uint8Array?r[s]=Ff("Uint8Array"):a===ArrayBuffer?r[s]=Ff("ArrayBuffer"):r[s]=Ff(a[1])}var o,l=r.join(" or ");return Ff(t)+" must be of type "+l+", but was actually of type "+Ff(null===(o=e)?"null":void 0===o?"undefined":"string"===typeof o?"string":isNaN(o)?"NaN":"number"===typeof o?"number":"boolean"===typeof o?"boolean":"symbol"===typeof o?"symbol":"bigint"===typeof o?"bigint":o.constructor&&o.constructor.name?o.constructor.name:o.name?o.name:o.constructor?String(o.constructor):String(o))},Lf=function(e,t,n){for(var r=0,s=n.length;r<s;r++)if(If(e,n[r]))return;throw new TypeError(_f(e,t,n))},Of=function(e,t,n){Lf(e,t,n.concat("undefined"))},zf=function(e,t,n){for(var r=0,s=e.length;r<s;r++)Lf(e[r],t,n)},Bf=function(e,t,n,r){if(Lf(e,t,["number"]),Lf(n,"min",["number"]),Lf(r,"max",["number"]),r=Math.max(n,r),e<n||e>r)throw new Error(Ff(t)+" must be at least "+n+" and at most "+r+", but was actually "+e)},Uf=function(e,t,n,r){Lf(e,t,["number","undefined"]),"number"===typeof e&&Bf(e,t,n,r)},qf=function(e,t,n){if(Lf(e,t,["number"]),e%n!==0)throw new Error(Ff(t)+" must be a multiple of "+n+", but was actually "+e)},Vf=function(e,t){if(![1,0].includes(Math.sign(e)))throw new Error(Ff(t)+" must be a positive number or 0, but was actually "+e)},Wf=new Uint16Array(256),Hf=0;Hf<256;Hf++)Wf[Hf]=Hf;Wf[22]=Tm("\x17"),Wf[24]=Tm("\u02d8"),Wf[25]=Tm("\u02c7"),Wf[26]=Tm("\u02c6"),Wf[27]=Tm("\u02d9"),Wf[28]=Tm("\u02dd"),Wf[29]=Tm("\u02db"),Wf[30]=Tm("\u02da"),Wf[31]=Tm("\u02dc"),Wf[127]=Tm("\ufffd"),Wf[128]=Tm("\u2022"),Wf[129]=Tm("\u2020"),Wf[130]=Tm("\u2021"),Wf[131]=Tm("\u2026"),Wf[132]=Tm("\u2014"),Wf[133]=Tm("\u2013"),Wf[134]=Tm("\u0192"),Wf[135]=Tm("\u2044"),Wf[136]=Tm("\u2039"),Wf[137]=Tm("\u203a"),Wf[138]=Tm("\u2212"),Wf[139]=Tm("\u2030"),Wf[140]=Tm("\u201e"),Wf[141]=Tm("\u201c"),Wf[142]=Tm("\u201d"),Wf[143]=Tm("\u2018"),Wf[144]=Tm("\u2019"),Wf[145]=Tm("\u201a"),Wf[146]=Tm("\u2122"),Wf[147]=Tm("\ufb01"),Wf[148]=Tm("\ufb02"),Wf[149]=Tm("\u0141"),Wf[150]=Tm("\u0152"),Wf[151]=Tm("\u0160"),Wf[152]=Tm("\u0178"),Wf[153]=Tm("\u017d"),Wf[154]=Tm("\u0131"),Wf[155]=Tm("\u0142"),Wf[156]=Tm("\u0153"),Wf[157]=Tm("\u0161"),Wf[158]=Tm("\u017e"),Wf[159]=Tm("\ufffd"),Wf[160]=Tm("\u20ac"),Wf[173]=Tm("\ufffd");var Gf=function(e){for(var t=new Array(e.length),n=0,r=e.length;n<r;n++)t[n]=Wf[e[n]];return String.fromCodePoint.apply(String,t)};const Kf=function(){function e(e){this.populate=e,this.value=void 0}return e.prototype.getValue=function(){return this.value},e.prototype.access=function(){return this.value||(this.value=this.populate()),this.value},e.prototype.invalidate=function(){this.value=void 0},e.populatedBy=function(t){return new e(t)},e}();var Xf,Yf=function(e){function t(t,n){var r="Method "+t+"."+n+"() not implemented";return e.call(this,r)||this}return xm(t,e),t}(Error),Qf=function(e){function t(t){var n="Cannot construct "+t+" - it has a private constructor";return e.call(this,n)||this}return xm(t,e),t}(Error),Jf=function(e){function t(t,n){var r=function(e){var t,n;return null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:null===(n=null===e||void 0===e?void 0:e.constructor)||void 0===n?void 0:n.name},s="Expected instance of "+(Array.isArray(t)?t.map(r):[r(t)]).join(" or ")+", but got instance of "+(n?r(n):n);return e.call(this,s)||this}return xm(t,e),t}(Error),Zf=function(e){function t(t){var n=t+" stream encoding not supported";return e.call(this,n)||this}return xm(t,e),t}(Error),$f=function(e){function t(t,n){var r="Cannot call "+t+"."+n+"() more than once";return e.call(this,r)||this}return xm(t,e),t}(Error),eg=(function(e){function t(t){var n="Missing catalog (ref="+t+")";return e.call(this,n)||this}xm(t,e)}(Error),function(e){function t(){return e.call(this,"Can't embed page with missing Contents")||this}return xm(t,e),t}(Error)),tg=function(e){function t(t){var n,r,s,i="Unrecognized stream type: "+(null!==(s=null!==(r=null===(n=null===t||void 0===t?void 0:t.contructor)||void 0===n?void 0:n.name)&&void 0!==r?r:null===t||void 0===t?void 0:t.name)&&void 0!==s?s:t);return e.call(this,i)||this}return xm(t,e),t}(Error),ng=function(e){function t(){return e.call(this,"Found mismatched contexts while embedding pages. All pages in the array passed to `PDFDocument.embedPages()` must be from the same document.")||this}return xm(t,e),t}(Error),rg=function(e){function t(t){var n="Attempted to convert PDFArray with "+t+" elements to rectangle, but must have exactly 4 elements.";return e.call(this,n)||this}return xm(t,e),t}(Error),sg=function(e){function t(t){var n='Attempted to convert "'+t+'" to a date, but it does not match the PDF date string format.';return e.call(this,n)||this}return xm(t,e),t}(Error),ig=function(e){function t(t,n){var r="Invalid targetIndex specified: targetIndex="+t+" must be less than Count="+n;return e.call(this,r)||this}return xm(t,e),t}(Error),ag=function(e){function t(t,n){var r="Failed to "+n+" at targetIndex="+t+" due to corrupt page tree: It is likely that one or more 'Count' entries are invalid";return e.call(this,r)||this}return xm(t,e),t}(Error),og=function(e){function t(t,n,r){var s="index should be at least "+n+" and at most "+r+", but was actually "+t;return e.call(this,s)||this}return xm(t,e),t}(Error),lg=function(e){function t(){return e.call(this,"Attempted to set invalid field value")||this}return xm(t,e),t}(Error),cg=function(e){function t(){return e.call(this,"Attempted to select multiple values for single-select field")||this}return xm(t,e),t}(Error),dg=function(e){function t(t){var n="No /DA (default appearance) entry found for field: "+t;return e.call(this,n)||this}return xm(t,e),t}(Error),ug=function(e){function t(t){var n="No Tf operator found for DA of field: "+t;return e.call(this,n)||this}return xm(t,e),t}(Error),hg=function(e){function t(t,n){var r="Failed to parse number (line:"+t.line+" col:"+t.column+" offset="+t.offset+'): "'+n+'"';return e.call(this,r)||this}return xm(t,e),t}(Error),pg=function(e){function t(t,n){var r="Failed to parse PDF document (line:"+t.line+" col:"+t.column+" offset="+t.offset+"): "+n;return e.call(this,r)||this}return xm(t,e),t}(Error),mg=function(e){function t(t,n,r){var s="Expected next byte to be "+n+" but it was actually "+r;return e.call(this,t,s)||this}return xm(t,e),t}(pg),fg=function(e){function t(t,n){var r="Failed to parse PDF object starting with the following byte: "+n;return e.call(this,t,r)||this}return xm(t,e),t}(pg),gg=function(e){function t(t){return e.call(this,t,"Failed to parse invalid PDF object")||this}return xm(t,e),t}(pg),xg=function(e){function t(t){return e.call(this,t,"Failed to parse PDF stream")||this}return xm(t,e),t}(pg),bg=function(e){function t(t){return e.call(this,t,"Failed to parse PDF literal string due to unbalanced parenthesis")||this}return xm(t,e),t}(pg),yg=function(e){function t(t){return e.call(this,t,"Parser stalled")||this}return xm(t,e),t}(pg),vg=function(e){function t(t){return e.call(this,t,"No PDF header found")||this}return xm(t,e),t}(pg),wg=function(e){function t(t,n){var r="Did not find expected keyword '"+Km(n)+"'";return e.call(this,t,r)||this}return xm(t,e),t}(pg);!function(e){e[e.Null=0]="Null",e[e.Backspace=8]="Backspace",e[e.Tab=9]="Tab",e[e.Newline=10]="Newline",e[e.FormFeed=12]="FormFeed",e[e.CarriageReturn=13]="CarriageReturn",e[e.Space=32]="Space",e[e.ExclamationPoint=33]="ExclamationPoint",e[e.Hash=35]="Hash",e[e.Percent=37]="Percent",e[e.LeftParen=40]="LeftParen",e[e.RightParen=41]="RightParen",e[e.Plus=43]="Plus",e[e.Minus=45]="Minus",e[e.Dash=45]="Dash",e[e.Period=46]="Period",e[e.ForwardSlash=47]="ForwardSlash",e[e.Zero=48]="Zero",e[e.One=49]="One",e[e.Two=50]="Two",e[e.Three=51]="Three",e[e.Four=52]="Four",e[e.Five=53]="Five",e[e.Six=54]="Six",e[e.Seven=55]="Seven",e[e.Eight=56]="Eight",e[e.Nine=57]="Nine",e[e.LessThan=60]="LessThan",e[e.GreaterThan=62]="GreaterThan",e[e.A=65]="A",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.O=79]="O",e[e.P=80]="P",e[e.R=82]="R",e[e.LeftSquareBracket=91]="LeftSquareBracket",e[e.BackSlash=92]="BackSlash",e[e.RightSquareBracket=93]="RightSquareBracket",e[e.a=97]="a",e[e.b=98]="b",e[e.d=100]="d",e[e.e=101]="e",e[e.f=102]="f",e[e.i=105]="i",e[e.j=106]="j",e[e.l=108]="l",e[e.m=109]="m",e[e.n=110]="n",e[e.o=111]="o",e[e.r=114]="r",e[e.s=115]="s",e[e.t=116]="t",e[e.u=117]="u",e[e.x=120]="x",e[e.LeftCurly=123]="LeftCurly",e[e.RightCurly=125]="RightCurly",e[e.Tilde=126]="Tilde"}(Xf||(Xf={}));const jg=Xf;const kg=function(){function e(e,t){this.major=String(e),this.minor=String(t)}return e.prototype.toString=function(){var e=Fm(129);return"%PDF-"+this.major+"."+this.minor+"\n%"+e+e+e+e},e.prototype.sizeInBytes=function(){return 12+this.major.length+this.minor.length},e.prototype.copyBytesInto=function(e,t){var n=t;return e[t++]=jg.Percent,e[t++]=jg.P,e[t++]=jg.D,e[t++]=jg.F,e[t++]=jg.Dash,t+=Dm(this.major,e,t),e[t++]=jg.Period,t+=Dm(this.minor,e,t),e[t++]=jg.Newline,e[t++]=jg.Percent,e[t++]=129,e[t++]=129,e[t++]=129,e[t++]=129,t-n},e.forVersion=function(t,n){return new e(t,n)},e}();const Ng=function(){function e(){}return e.prototype.clone=function(e){throw new Yf(this.constructor.name,"clone")},e.prototype.toString=function(){throw new Yf(this.constructor.name,"toString")},e.prototype.sizeInBytes=function(){throw new Yf(this.constructor.name,"sizeInBytes")},e.prototype.copyBytesInto=function(e,t){throw new Yf(this.constructor.name,"copyBytesInto")},e}();const Sg=function(e){function t(t){var n=e.call(this)||this;return n.numberValue=t,n.stringValue=function(e){var t,n=String(e);if(Math.abs(e)<1){if(t=parseInt(e.toString().split("e-")[1])){var r=e<0;r&&(e*=-1),e*=Math.pow(10,t-1),n="0."+new Array(t).join("0")+e.toString().substring(2),r&&(n="-"+n)}}else(t=parseInt(e.toString().split("+")[1]))>20&&(t-=20,n=(e/=Math.pow(10,t)).toString()+new Array(t+1).join("0"));return n}(t),n}return xm(t,e),t.prototype.asNumber=function(){return this.numberValue},t.prototype.value=function(){return this.numberValue},t.prototype.clone=function(){return t.of(this.numberValue)},t.prototype.toString=function(){return this.stringValue},t.prototype.sizeInBytes=function(){return this.stringValue.length},t.prototype.copyBytesInto=function(e,t){return t+=Dm(this.stringValue,e,t),this.stringValue.length},t.of=function(e){return new t(e)},t}(Ng);var Cg=function(e){function t(t){var n=e.call(this)||this;return n.array=[],n.context=t,n}return xm(t,e),t.prototype.size=function(){return this.array.length},t.prototype.push=function(e){this.array.push(e)},t.prototype.insert=function(e,t){this.array.splice(e,0,t)},t.prototype.indexOf=function(e){var t=this.array.indexOf(e);return-1===t?void 0:t},t.prototype.remove=function(e){this.array.splice(e,1)},t.prototype.set=function(e,t){this.array[e]=t},t.prototype.get=function(e){return this.array[e]},t.prototype.lookupMaybe=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return(t=this.context).lookupMaybe.apply(t,wm([this.get(e)],n))},t.prototype.lookup=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return(t=this.context).lookup.apply(t,wm([this.get(e)],n))},t.prototype.asRectangle=function(){if(4!==this.size())throw new rg(this.size());var e=this.lookup(0,Sg).asNumber(),t=this.lookup(1,Sg).asNumber();return{x:e,y:t,width:this.lookup(2,Sg).asNumber()-e,height:this.lookup(3,Sg).asNumber()-t}},t.prototype.asArray=function(){return this.array.slice()},t.prototype.clone=function(e){for(var n=t.withContext(e||this.context),r=0,s=this.size();r<s;r++)n.push(this.array[r]);return n},t.prototype.toString=function(){for(var e="[ ",t=0,n=this.size();t<n;t++)e+=this.get(t).toString(),e+=" ";return e+="]"},t.prototype.sizeInBytes=function(){for(var e=3,t=0,n=this.size();t<n;t++)e+=this.get(t).sizeInBytes()+1;return e},t.prototype.copyBytesInto=function(e,t){var n=t;e[t++]=jg.LeftSquareBracket,e[t++]=jg.Space;for(var r=0,s=this.size();r<s;r++)t+=this.get(r).copyBytesInto(e,t),e[t++]=jg.Space;return e[t++]=jg.RightSquareBracket,t-n},t.prototype.scalePDFNumbers=function(e,t){for(var n=0,r=this.size();n<r;n++){var s=this.lookup(n);if(s instanceof Sg){var i=n%2===0?e:t;this.set(n,Sg.of(s.asNumber()*i))}}},t.withContext=function(e){return new t(e)},t}(Ng);const Ag=Cg;var Tg={};const Eg=function(e){function t(t,n){var r=this;if(t!==Tg)throw new Qf("PDFBool");return(r=e.call(this)||this).value=n,r}return xm(t,e),t.prototype.asBoolean=function(){return this.value},t.prototype.clone=function(){return this},t.prototype.toString=function(){return String(this.value)},t.prototype.sizeInBytes=function(){return this.value?4:5},t.prototype.copyBytesInto=function(e,t){return this.value?(e[t++]=jg.t,e[t++]=jg.r,e[t++]=jg.u,e[t++]=jg.e,4):(e[t++]=jg.f,e[t++]=jg.a,e[t++]=jg.l,e[t++]=jg.s,e[t++]=jg.e,5)},t.True=new t(Tg,!0),t.False=new t(Tg,!1),t}(Ng);var Pg=new Uint8Array(256);Pg[jg.LeftParen]=1,Pg[jg.RightParen]=1,Pg[jg.LessThan]=1,Pg[jg.GreaterThan]=1,Pg[jg.LeftSquareBracket]=1,Pg[jg.RightSquareBracket]=1,Pg[jg.LeftCurly]=1,Pg[jg.RightCurly]=1,Pg[jg.ForwardSlash]=1,Pg[jg.Percent]=1;var Fg=new Uint8Array(256);Fg[jg.Null]=1,Fg[jg.Tab]=1,Fg[jg.Newline]=1,Fg[jg.FormFeed]=1,Fg[jg.CarriageReturn]=1,Fg[jg.Space]=1;for(var Rg=new Uint8Array(256),Dg=0;Dg<256;Dg++)Rg[Dg]=Fg[Dg]||Pg[Dg]?1:0;Rg[jg.Hash]=1;var Mg=function(e){return e.replace(/#([\dABCDEF]{2})/g,(function(e,t){return function(e){return Fm(parseInt(e,16))}(t)}))},Ig={},_g=new Map,Lg=function(e){function t(t,n){var r=this;if(t!==Ig)throw new Qf("PDFName");r=e.call(this)||this;for(var s,i="/",a=0,o=n.length;a<o;a++){var l=n[a],c=Tm(l);i+=(s=c)>=jg.ExclamationPoint&&s<=jg.Tilde&&!Rg[s]?l:"#"+Pm(c)}return r.encodedName=i,r}return xm(t,e),t.prototype.asBytes=function(){for(var e=[],t="",n=!1,r=function(t){void 0!==t&&e.push(t),n=!1},s=1,i=this.encodedName.length;s<i;s++){var a=this.encodedName[s],o=Tm(a),l=this.encodedName[s+1];n?o>=jg.Zero&&o<=jg.Nine||o>=jg.a&&o<=jg.f||o>=jg.A&&o<=jg.F?2!==(t+=a).length&&(l>="0"&&l<="9"||l>="a"&&l<="f"||l>="A"&&l<="F")||(r(parseInt(t,16)),t=""):r(o):o===jg.Hash?n=!0:r(o)}return new Uint8Array(e)},t.prototype.decodeText=function(){var e=this.asBytes();return String.fromCharCode.apply(String,Array.from(e))},t.prototype.asString=function(){return this.encodedName},t.prototype.value=function(){return this.encodedName},t.prototype.clone=function(){return this},t.prototype.toString=function(){return this.encodedName},t.prototype.sizeInBytes=function(){return this.encodedName.length},t.prototype.copyBytesInto=function(e,t){return t+=Dm(this.encodedName,e,t),this.encodedName.length},t.of=function(e){var n=Mg(e),r=_g.get(n);return r||(r=new t(Ig,n),_g.set(n,r)),r},t.Length=t.of("Length"),t.FlateDecode=t.of("FlateDecode"),t.Resources=t.of("Resources"),t.Font=t.of("Font"),t.XObject=t.of("XObject"),t.ExtGState=t.of("ExtGState"),t.Contents=t.of("Contents"),t.Type=t.of("Type"),t.Parent=t.of("Parent"),t.MediaBox=t.of("MediaBox"),t.Page=t.of("Page"),t.Annots=t.of("Annots"),t.TrimBox=t.of("TrimBox"),t.ArtBox=t.of("ArtBox"),t.BleedBox=t.of("BleedBox"),t.CropBox=t.of("CropBox"),t.Rotate=t.of("Rotate"),t.Title=t.of("Title"),t.Author=t.of("Author"),t.Subject=t.of("Subject"),t.Creator=t.of("Creator"),t.Keywords=t.of("Keywords"),t.Producer=t.of("Producer"),t.CreationDate=t.of("CreationDate"),t.ModDate=t.of("ModDate"),t}(Ng);const Og=Lg;const zg=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xm(t,e),t.prototype.asNull=function(){return null},t.prototype.clone=function(){return this},t.prototype.toString=function(){return"null"},t.prototype.sizeInBytes=function(){return 4},t.prototype.copyBytesInto=function(e,t){return e[t++]=jg.n,e[t++]=jg.u,e[t++]=jg.l,e[t++]=jg.l,4},t}(Ng));var Bg=function(e){function t(t,n){var r=e.call(this)||this;return r.dict=t,r.context=n,r}return xm(t,e),t.prototype.keys=function(){return Array.from(this.dict.keys())},t.prototype.values=function(){return Array.from(this.dict.values())},t.prototype.entries=function(){return Array.from(this.dict.entries())},t.prototype.set=function(e,t){this.dict.set(e,t)},t.prototype.get=function(e,t){void 0===t&&(t=!1);var n=this.dict.get(e);if(n!==zg||t)return n},t.prototype.has=function(e){var t=this.dict.get(e);return void 0!==t&&t!==zg},t.prototype.lookupMaybe=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var s=n.includes(zg),i=(t=this.context).lookupMaybe.apply(t,wm([this.get(e,s)],n));if(i!==zg||s)return i},t.prototype.lookup=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var s=n.includes(zg),i=(t=this.context).lookup.apply(t,wm([this.get(e,s)],n));if(i!==zg||s)return i},t.prototype.delete=function(e){return this.dict.delete(e)},t.prototype.asMap=function(){return new Map(this.dict)},t.prototype.uniqueKey=function(e){void 0===e&&(e="");for(var t=this.keys(),n=Og.of(this.context.addRandomSuffix(e,10));t.includes(n);)n=Og.of(this.context.addRandomSuffix(e,10));return n},t.prototype.clone=function(e){for(var n=t.withContext(e||this.context),r=this.entries(),s=0,i=r.length;s<i;s++){var a=r[s],o=a[0],l=a[1];n.set(o,l)}return n},t.prototype.toString=function(){for(var e="<<\n",t=this.entries(),n=0,r=t.length;n<r;n++){var s=t[n],i=s[0],a=s[1];e+=i.toString()+" "+a.toString()+"\n"}return e+=">>"},t.prototype.sizeInBytes=function(){for(var e=5,t=this.entries(),n=0,r=t.length;n<r;n++){var s=t[n],i=s[0],a=s[1];e+=i.sizeInBytes()+a.sizeInBytes()+2}return e},t.prototype.copyBytesInto=function(e,t){var n=t;e[t++]=jg.LessThan,e[t++]=jg.LessThan,e[t++]=jg.Newline;for(var r=this.entries(),s=0,i=r.length;s<i;s++){var a=r[s],o=a[0],l=a[1];t+=o.copyBytesInto(e,t),e[t++]=jg.Space,t+=l.copyBytesInto(e,t),e[t++]=jg.Newline}return e[t++]=jg.GreaterThan,e[t++]=jg.GreaterThan,t-n},t.withContext=function(e){return new t(new Map,e)},t.fromMapWithContext=function(e,n){return new t(e,n)},t}(Ng);const Ug=Bg;var qg=function(e){function t(t){var n=e.call(this)||this;return n.dict=t,n}return xm(t,e),t.prototype.clone=function(e){throw new Yf(this.constructor.name,"clone")},t.prototype.getContentsString=function(){throw new Yf(this.constructor.name,"getContentsString")},t.prototype.getContents=function(){throw new Yf(this.constructor.name,"getContents")},t.prototype.getContentsSize=function(){throw new Yf(this.constructor.name,"getContentsSize")},t.prototype.updateDict=function(){var e=this.getContentsSize();this.dict.set(Og.Length,Sg.of(e))},t.prototype.sizeInBytes=function(){return this.updateDict(),this.dict.sizeInBytes()+this.getContentsSize()+18},t.prototype.toString=function(){this.updateDict();var e=this.dict.toString();return e+="\nstream\n",e+=this.getContentsString(),e+="\nendstream"},t.prototype.copyBytesInto=function(e,t){this.updateDict();var n=t;t+=this.dict.copyBytesInto(e,t),e[t++]=jg.Newline,e[t++]=jg.s,e[t++]=jg.t,e[t++]=jg.r,e[t++]=jg.e,e[t++]=jg.a,e[t++]=jg.m,e[t++]=jg.Newline;for(var r=this.getContents(),s=0,i=r.length;s<i;s++)e[t++]=r[s];return e[t++]=jg.Newline,e[t++]=jg.e,e[t++]=jg.n,e[t++]=jg.d,e[t++]=jg.s,e[t++]=jg.t,e[t++]=jg.r,e[t++]=jg.e,e[t++]=jg.a,e[t++]=jg.m,t-n},t}(Ng);const Vg=qg;const Wg=function(e){function t(t,n){var r=e.call(this,t)||this;return r.contents=n,r}return xm(t,e),t.prototype.asUint8Array=function(){return this.contents.slice()},t.prototype.clone=function(e){return t.of(this.dict.clone(e),this.contents.slice())},t.prototype.getContentsString=function(){return Km(this.contents)},t.prototype.getContents=function(){return this.contents},t.prototype.getContentsSize=function(){return this.contents.length},t.of=function(e,n){return new t(e,n)},t}(Vg);var Hg={},Gg=new Map;const Kg=function(e){function t(t,n,r){var s=this;if(t!==Hg)throw new Qf("PDFRef");return(s=e.call(this)||this).objectNumber=n,s.generationNumber=r,s.tag=n+" "+r+" R",s}return xm(t,e),t.prototype.clone=function(){return this},t.prototype.toString=function(){return this.tag},t.prototype.sizeInBytes=function(){return this.tag.length},t.prototype.copyBytesInto=function(e,t){return t+=Dm(this.tag,e,t),this.tag.length},t.of=function(e,n){void 0===n&&(n=0);var r=e+" "+n+" R",s=Gg.get(r);return s||(s=new t(Hg,e,n),Gg.set(r,s)),s},t}(Ng);var Xg=function(){function e(e,t){this.name=e,this.args=t||[]}return e.prototype.clone=function(t){for(var n=new Array(this.args.length),r=0,s=n.length;r<s;r++){var i=this.args[r];n[r]=i instanceof Ng?i.clone(t):i}return e.of(this.name,n)},e.prototype.toString=function(){for(var e="",t=0,n=this.args.length;t<n;t++)e+=String(this.args[t])+" ";return e+=this.name},e.prototype.sizeInBytes=function(){for(var e=0,t=0,n=this.args.length;t<n;t++){var r=this.args[t];e+=(r instanceof Ng?r.sizeInBytes():r.length)+1}return e+=this.name.length},e.prototype.copyBytesInto=function(e,t){for(var n=t,r=0,s=this.args.length;r<s;r++){var i=this.args[r];t+=i instanceof Ng?i.copyBytesInto(e,t):Dm(i,e,t),e[t++]=jg.Space}return(t+=Dm(this.name,e,t))-n},e.of=function(t,n){return new e(t,n)},e}();const Yg=Xg;var Qg;!function(e){e.NonStrokingColor="sc",e.NonStrokingColorN="scn",e.NonStrokingColorRgb="rg",e.NonStrokingColorGray="g",e.NonStrokingColorCmyk="k",e.NonStrokingColorspace="cs",e.StrokingColor="SC",e.StrokingColorN="SCN",e.StrokingColorRgb="RG",e.StrokingColorGray="G",e.StrokingColorCmyk="K",e.StrokingColorspace="CS",e.BeginMarkedContentSequence="BDC",e.BeginMarkedContent="BMC",e.EndMarkedContent="EMC",e.MarkedContentPointWithProps="DP",e.MarkedContentPoint="MP",e.DrawObject="Do",e.ConcatTransformationMatrix="cm",e.PopGraphicsState="Q",e.PushGraphicsState="q",e.SetFlatness="i",e.SetGraphicsStateParams="gs",e.SetLineCapStyle="J",e.SetLineDashPattern="d",e.SetLineJoinStyle="j",e.SetLineMiterLimit="M",e.SetLineWidth="w",e.SetTextMatrix="Tm",e.SetRenderingIntent="ri",e.AppendRectangle="re",e.BeginInlineImage="BI",e.BeginInlineImageData="ID",e.EndInlineImage="EI",e.ClipEvenOdd="W*",e.ClipNonZero="W",e.CloseAndStroke="s",e.CloseFillEvenOddAndStroke="b*",e.CloseFillNonZeroAndStroke="b",e.ClosePath="h",e.AppendBezierCurve="c",e.CurveToReplicateFinalPoint="y",e.CurveToReplicateInitialPoint="v",e.EndPath="n",e.FillEvenOddAndStroke="B*",e.FillEvenOdd="f*",e.FillNonZeroAndStroke="B",e.FillNonZero="f",e.LegacyFillNonZero="F",e.LineTo="l",e.MoveTo="m",e.ShadingFill="sh",e.StrokePath="S",e.BeginText="BT",e.EndText="ET",e.MoveText="Td",e.MoveTextSetLeading="TD",e.NextLine="T*",e.SetCharacterSpacing="Tc",e.SetFontAndSize="Tf",e.SetTextHorizontalScaling="Tz",e.SetTextLineHeight="TL",e.SetTextRenderingMode="Tr",e.SetTextRise="Ts",e.SetWordSpacing="Tw",e.ShowText="Tj",e.ShowTextAdjusted="TJ",e.ShowTextLine="'",e.ShowTextLineAndSpace='"',e.Type3D0="d0",e.Type3D1="d1",e.BeginCompatibilitySection="BX",e.EndCompatibilitySection="EX"}(Qg||(Qg={}));const Jg=Qg;const Zg=function(e){function t(t,n){var r=e.call(this,t)||this;return r.computeContents=function(){var e=r.getUnencodedContents();return r.encode?mf().deflate(e):e},r.encode=n,n&&t.set(Og.of("Filter"),Og.of("FlateDecode")),r.contentsCache=Kf.populatedBy(r.computeContents),r}return xm(t,e),t.prototype.getContents=function(){return this.contentsCache.access()},t.prototype.getContentsSize=function(){return this.contentsCache.access().length},t.prototype.getUnencodedContents=function(){throw new Yf(this.constructor.name,"getUnencodedContents")},t}(Vg);var $g=function(e){function t(t,n,r){void 0===r&&(r=!0);var s=e.call(this,t,r)||this;return s.operators=n,s}return xm(t,e),t.prototype.push=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=this.operators).push.apply(e,t)},t.prototype.clone=function(e){for(var n=new Array(this.operators.length),r=0,s=this.operators.length;r<s;r++)n[r]=this.operators[r].clone(e);var i=this.dict,a=this.encode;return t.of(i.clone(e),n,a)},t.prototype.getContentsString=function(){for(var e="",t=0,n=this.operators.length;t<n;t++)e+=this.operators[t]+"\n";return e},t.prototype.getUnencodedContents=function(){for(var e=new Uint8Array(this.getUnencodedContentsSize()),t=0,n=0,r=this.operators.length;n<r;n++)t+=this.operators[n].copyBytesInto(e,t),e[t++]=jg.Newline;return e},t.prototype.getUnencodedContentsSize=function(){for(var e=0,t=0,n=this.operators.length;t<n;t++)e+=this.operators[t].sizeInBytes()+1;return e},t.of=function(e,n,r){return void 0===r&&(r=!0),new t(e,n,r)},t}(Zg);const ex=$g;var tx=function(){function e(e){this.seed=e}return e.prototype.nextInt=function(){var e=1e4*Math.sin(this.seed++);return e-Math.floor(e)},e.withSeed=function(t){return new e(t)},e}(),nx=function(e,t){var n=e[0],r=t[0];return n.objectNumber-r.objectNumber},rx=function(){function e(){this.largestObjectNumber=0,this.header=kg.forVersion(1,7),this.trailerInfo={},this.indirectObjects=new Map,this.rng=tx.withSeed(1)}return e.prototype.assign=function(e,t){this.indirectObjects.set(e,t),e.objectNumber>this.largestObjectNumber&&(this.largestObjectNumber=e.objectNumber)},e.prototype.nextRef=function(){return this.largestObjectNumber+=1,Kg.of(this.largestObjectNumber)},e.prototype.register=function(e){var t=this.nextRef();return this.assign(t,e),t},e.prototype.delete=function(e){return this.indirectObjects.delete(e)},e.prototype.lookupMaybe=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t.includes(zg),s=e instanceof Kg?this.indirectObjects.get(e):e;if(s&&(s!==zg||r)){for(var i=0,a=t.length;i<a;i++){var o=t[i];if(o===zg){if(s===zg)return s}else if(s instanceof o)return s}throw new Jf(t,s)}},e.prototype.lookup=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=e instanceof Kg?this.indirectObjects.get(e):e;if(0===t.length)return r;for(var s=0,i=t.length;s<i;s++){var a=t[s];if(a===zg){if(r===zg)return r}else if(r instanceof a)return r}throw new Jf(t,r)},e.prototype.getObjectRef=function(e){for(var t=Array.from(this.indirectObjects.entries()),n=0,r=t.length;n<r;n++){var s=t[n],i=s[0];if(s[1]===e)return i}},e.prototype.enumerateIndirectObjects=function(){return Array.from(this.indirectObjects.entries()).sort(nx)},e.prototype.obj=function(e){if(e instanceof Ng)return e;if(null===e||void 0===e)return zg;if("string"===typeof e)return Og.of(e);if("number"===typeof e)return Sg.of(e);if("boolean"===typeof e)return e?Eg.True:Eg.False;if(Array.isArray(e)){for(var t=Ag.withContext(this),n=0,r=e.length;n<r;n++)t.push(this.obj(e[n]));return t}var s=Ug.withContext(this),i=Object.keys(e);for(n=0,r=i.length;n<r;n++){var a=i[n],o=e[a];void 0!==o&&s.set(Og.of(a),this.obj(o))}return s},e.prototype.stream=function(e,t){return void 0===t&&(t={}),Wg.of(this.obj(t),Hm(e))},e.prototype.flateStream=function(e,t){return void 0===t&&(t={}),this.stream(mf().deflate(Hm(e)),bm(bm({},t),{Filter:"FlateDecode"}))},e.prototype.contentStream=function(e,t){return void 0===t&&(t={}),ex.of(this.obj(t),e)},e.prototype.formXObject=function(e,t){return void 0===t&&(t={}),this.contentStream(e,bm(bm({BBox:this.obj([0,0,0,0]),Matrix:this.obj([1,0,0,1,0,0])},t),{Type:"XObject",Subtype:"Form"}))},e.prototype.getPushGraphicsStateContentStream=function(){if(this.pushGraphicsStateContentStreamRef)return this.pushGraphicsStateContentStreamRef;var e=this.obj({}),t=Yg.of(Jg.PushGraphicsState),n=ex.of(e,[t]);return this.pushGraphicsStateContentStreamRef=this.register(n),this.pushGraphicsStateContentStreamRef},e.prototype.getPopGraphicsStateContentStream=function(){if(this.popGraphicsStateContentStreamRef)return this.popGraphicsStateContentStreamRef;var e=this.obj({}),t=Yg.of(Jg.PopGraphicsState),n=ex.of(e,[t]);return this.popGraphicsStateContentStreamRef=this.register(n),this.popGraphicsStateContentStreamRef},e.prototype.addRandomSuffix=function(e,t){return void 0===t&&(t=4),e+"-"+Math.floor(this.rng.nextInt()*Math.pow(10,t))},e.create=function(){return new e},e}();const sx=rx;var ix=function(e){function t(t,n,r){void 0===r&&(r=!0);var s=e.call(this,t,n)||this;return s.normalized=!1,s.autoNormalizeCTM=r,s}return xm(t,e),t.prototype.clone=function(e){for(var n=t.fromMapWithContext(new Map,e||this.context,this.autoNormalizeCTM),r=this.entries(),s=0,i=r.length;s<i;s++){var a=r[s],o=a[0],l=a[1];n.set(o,l)}return n},t.prototype.Parent=function(){return this.lookupMaybe(Og.Parent,Ug)},t.prototype.Contents=function(){return this.lookup(Og.of("Contents"))},t.prototype.Annots=function(){return this.lookupMaybe(Og.Annots,Ag)},t.prototype.BleedBox=function(){return this.lookupMaybe(Og.BleedBox,Ag)},t.prototype.TrimBox=function(){return this.lookupMaybe(Og.TrimBox,Ag)},t.prototype.ArtBox=function(){return this.lookupMaybe(Og.ArtBox,Ag)},t.prototype.Resources=function(){var e=this.getInheritableAttribute(Og.Resources);return this.context.lookupMaybe(e,Ug)},t.prototype.MediaBox=function(){var e=this.getInheritableAttribute(Og.MediaBox);return this.context.lookup(e,Ag)},t.prototype.CropBox=function(){var e=this.getInheritableAttribute(Og.CropBox);return this.context.lookupMaybe(e,Ag)},t.prototype.Rotate=function(){var e=this.getInheritableAttribute(Og.Rotate);return this.context.lookupMaybe(e,Sg)},t.prototype.getInheritableAttribute=function(e){var t;return this.ascend((function(n){t||(t=n.get(e))})),t},t.prototype.setParent=function(e){this.set(Og.Parent,e)},t.prototype.addContentStream=function(e){var t=this.normalizedEntries().Contents||this.context.obj([]);this.set(Og.Contents,t),t.push(e)},t.prototype.wrapContentStreams=function(e,t){var n=this.Contents();return n instanceof Ag&&(n.insert(0,e),n.push(t),!0)},t.prototype.addAnnot=function(e){this.normalizedEntries().Annots.push(e)},t.prototype.removeAnnot=function(e){var t=this.normalizedEntries().Annots,n=t.indexOf(e);void 0!==n&&t.remove(n)},t.prototype.setFontDictionary=function(e,t){this.normalizedEntries().Font.set(e,t)},t.prototype.newFontDictionaryKey=function(e){return this.normalizedEntries().Font.uniqueKey(e)},t.prototype.newFontDictionary=function(e,t){var n=this.newFontDictionaryKey(e);return this.setFontDictionary(n,t),n},t.prototype.setXObject=function(e,t){this.normalizedEntries().XObject.set(e,t)},t.prototype.newXObjectKey=function(e){return this.normalizedEntries().XObject.uniqueKey(e)},t.prototype.newXObject=function(e,t){var n=this.newXObjectKey(e);return this.setXObject(n,t),n},t.prototype.setExtGState=function(e,t){this.normalizedEntries().ExtGState.set(e,t)},t.prototype.newExtGStateKey=function(e){return this.normalizedEntries().ExtGState.uniqueKey(e)},t.prototype.newExtGState=function(e,t){var n=this.newExtGStateKey(e);return this.setExtGState(n,t),n},t.prototype.ascend=function(e){e(this);var t=this.Parent();t&&t.ascend(e)},t.prototype.normalize=function(){if(!this.normalized){var e=this.context,t=this.get(Og.Contents);this.context.lookup(t)instanceof Vg&&this.set(Og.Contents,e.obj([t])),this.autoNormalizeCTM&&this.wrapContentStreams(this.context.getPushGraphicsStateContentStream(),this.context.getPopGraphicsStateContentStream());var n=this.getInheritableAttribute(Og.Resources),r=e.lookupMaybe(n,Ug)||e.obj({});this.set(Og.Resources,r);var s=r.lookupMaybe(Og.Font,Ug)||e.obj({});r.set(Og.Font,s);var i=r.lookupMaybe(Og.XObject,Ug)||e.obj({});r.set(Og.XObject,i);var a=r.lookupMaybe(Og.ExtGState,Ug)||e.obj({});r.set(Og.ExtGState,a);var o=this.Annots()||e.obj([]);this.set(Og.Annots,o),this.normalized=!0}},t.prototype.normalizedEntries=function(){this.normalize();var e=this.Annots(),t=this.Resources();return{Annots:e,Resources:t,Contents:this.Contents(),Font:t.lookup(Og.Font,Ug),XObject:t.lookup(Og.XObject,Ug),ExtGState:t.lookup(Og.ExtGState,Ug)}},t.InheritableEntries=["Resources","MediaBox","CropBox","Rotate"],t.withContextAndParent=function(e,n){var r=new Map;return r.set(Og.Type,Og.Page),r.set(Og.Parent,n),r.set(Og.Resources,e.obj({})),r.set(Og.MediaBox,e.obj([0,0,612,792])),new t(r,e,!1)},t.fromMapWithContext=function(e,n,r){return void 0===r&&(r=!0),new t(e,n,r)},t}(Ug);const ax=ix;var ox=function(){function e(e,t){var n=this;this.traversedObjects=new Map,this.copy=function(e){return e instanceof ax?n.copyPDFPage(e):e instanceof Ug?n.copyPDFDict(e):e instanceof Ag?n.copyPDFArray(e):e instanceof Vg?n.copyPDFStream(e):e instanceof Kg?n.copyPDFIndirectObject(e):e.clone()},this.copyPDFPage=function(e){for(var t=e.clone(),r=ax.InheritableEntries,s=0,i=r.length;s<i;s++){var a=Og.of(r[s]),o=t.getInheritableAttribute(a);!t.get(a)&&o&&t.set(a,o)}return t.delete(Og.of("Parent")),n.copyPDFDict(t)},this.copyPDFDict=function(e){if(n.traversedObjects.has(e))return n.traversedObjects.get(e);var t=e.clone(n.dest);n.traversedObjects.set(e,t);for(var r=e.entries(),s=0,i=r.length;s<i;s++){var a=r[s],o=a[0],l=a[1];t.set(o,n.copy(l))}return t},this.copyPDFArray=function(e){if(n.traversedObjects.has(e))return n.traversedObjects.get(e);var t=e.clone(n.dest);n.traversedObjects.set(e,t);for(var r=0,s=e.size();r<s;r++){var i=e.get(r);t.set(r,n.copy(i))}return t},this.copyPDFStream=function(e){if(n.traversedObjects.has(e))return n.traversedObjects.get(e);var t=e.clone(n.dest);n.traversedObjects.set(e,t);for(var r=e.dict.entries(),s=0,i=r.length;s<i;s++){var a=r[s],o=a[0],l=a[1];t.dict.set(o,n.copy(l))}return t},this.copyPDFIndirectObject=function(e){if(!n.traversedObjects.has(e)){var t=n.dest.nextRef();n.traversedObjects.set(e,t);var r=n.src.lookup(e);if(r){var s=n.copy(r);n.dest.assign(t,s)}}return n.traversedObjects.get(e)},this.src=e,this.dest=t}return e.for=function(t,n){return new e(t,n)},e}();const lx=ox;var cx=function(){function e(e){this.subsections=e?[[e]]:[],this.chunkIdx=0,this.chunkLength=e?1:0}return e.prototype.addEntry=function(e,t){this.append({ref:e,offset:t,deleted:!1})},e.prototype.addDeletedEntry=function(e,t){this.append({ref:e,offset:t,deleted:!0})},e.prototype.toString=function(){for(var e="xref\n",t=0,n=this.subsections.length;t<n;t++){var r=this.subsections[t];e+=r[0].ref.objectNumber+" "+r.length+"\n";for(var s=0,i=r.length;s<i;s++){var a=r[s];e+=Rm(String(a.offset),10,"0"),e+=" ",e+=Rm(String(a.ref.generationNumber),5,"0"),e+=" ",e+=a.deleted?"f":"n",e+=" \n"}}return e},e.prototype.sizeInBytes=function(){for(var e=5,t=0,n=this.subsections.length;t<n;t++){var r=this.subsections[t],s=r.length,i=r[0];e+=2,e+=String(i.ref.objectNumber).length,e+=String(s).length,e+=20*s}return e},e.prototype.copyBytesInto=function(e,t){var n=t;return e[t++]=jg.x,e[t++]=jg.r,e[t++]=jg.e,e[t++]=jg.f,e[t++]=jg.Newline,(t+=this.copySubsectionsIntoBuffer(this.subsections,e,t))-n},e.prototype.copySubsectionsIntoBuffer=function(e,t,n){for(var r=n,s=e.length,i=0;i<s;i++){var a=this.subsections[i],o=String(a[0].ref.objectNumber);n+=Dm(o,t,n),t[n++]=jg.Space;var l=String(a.length);n+=Dm(l,t,n),t[n++]=jg.Newline,n+=this.copyEntriesIntoBuffer(a,t,n)}return n-r},e.prototype.copyEntriesIntoBuffer=function(e,t,n){for(var r=e.length,s=0;s<r;s++){var i=e[s],a=Rm(String(i.offset),10,"0");n+=Dm(a,t,n),t[n++]=jg.Space;var o=Rm(String(i.ref.generationNumber),5,"0");n+=Dm(o,t,n),t[n++]=jg.Space,t[n++]=i.deleted?jg.f:jg.n,t[n++]=jg.Space,t[n++]=jg.Newline}return 20*r},e.prototype.append=function(e){if(0===this.chunkLength)return this.subsections.push([e]),this.chunkIdx=0,void(this.chunkLength=1);var t=this.subsections[this.chunkIdx],n=t[this.chunkLength-1];e.ref.objectNumber-n.ref.objectNumber>1?(this.subsections.push([e]),this.chunkIdx+=1,this.chunkLength=1):(t.push(e),this.chunkLength+=1)},e.create=function(){return new e({ref:Kg.of(0,65535),offset:0,deleted:!0})},e.createEmpty=function(){return new e},e}();const dx=cx;const ux=function(){function e(e){this.lastXRefOffset=String(e)}return e.prototype.toString=function(){return"startxref\n"+this.lastXRefOffset+"\n%%EOF"},e.prototype.sizeInBytes=function(){return 16+this.lastXRefOffset.length},e.prototype.copyBytesInto=function(e,t){var n=t;return e[t++]=jg.s,e[t++]=jg.t,e[t++]=jg.a,e[t++]=jg.r,e[t++]=jg.t,e[t++]=jg.x,e[t++]=jg.r,e[t++]=jg.e,e[t++]=jg.f,e[t++]=jg.Newline,t+=Dm(this.lastXRefOffset,e,t),e[t++]=jg.Newline,e[t++]=jg.Percent,e[t++]=jg.Percent,e[t++]=jg.E,e[t++]=jg.O,e[t++]=jg.F,t-n},e.forLastCrossRefSectionOffset=function(t){return new e(t)},e}();const hx=function(){function e(e){this.dict=e}return e.prototype.toString=function(){return"trailer\n"+this.dict.toString()},e.prototype.sizeInBytes=function(){return 8+this.dict.sizeInBytes()},e.prototype.copyBytesInto=function(e,t){var n=t;return e[t++]=jg.t,e[t++]=jg.r,e[t++]=jg.a,e[t++]=jg.i,e[t++]=jg.l,e[t++]=jg.e,e[t++]=jg.r,e[t++]=jg.Newline,(t+=this.dict.copyBytesInto(e,t))-n},e.of=function(t){return new e(t)},e}();var px=function(e){function t(t,n,r){void 0===r&&(r=!0);var s=e.call(this,t.obj({}),r)||this;return s.objects=n,s.offsets=s.computeObjectOffsets(),s.offsetsString=s.computeOffsetsString(),s.dict.set(Og.of("Type"),Og.of("ObjStm")),s.dict.set(Og.of("N"),Sg.of(s.objects.length)),s.dict.set(Og.of("First"),Sg.of(s.offsetsString.length)),s}return xm(t,e),t.prototype.getObjectsCount=function(){return this.objects.length},t.prototype.clone=function(e){return t.withContextAndObjects(e||this.dict.context,this.objects.slice(),this.encode)},t.prototype.getContentsString=function(){for(var e=this.offsetsString,t=0,n=this.objects.length;t<n;t++){e+=this.objects[t][1]+"\n"}return e},t.prototype.getUnencodedContents=function(){for(var e=new Uint8Array(this.getUnencodedContentsSize()),t=Dm(this.offsetsString,e,0),n=0,r=this.objects.length;n<r;n++){t+=this.objects[n][1].copyBytesInto(e,t),e[t++]=jg.Newline}return e},t.prototype.getUnencodedContentsSize=function(){return this.offsetsString.length+Wm(this.offsets)[1]+Wm(this.objects)[1].sizeInBytes()+1},t.prototype.computeOffsetsString=function(){for(var e="",t=0,n=this.offsets.length;t<n;t++){var r=this.offsets[t];e+=r[0]+" "+r[1]+" "}return e},t.prototype.computeObjectOffsets=function(){for(var e=0,t=new Array(this.objects.length),n=0,r=this.objects.length;n<r;n++){var s=this.objects[n],i=s[0],a=s[1];t[n]=[i.objectNumber,e],e+=a.sizeInBytes()+1}return t},t.withContextAndObjects=function(e,n,r){return void 0===r&&(r=!0),new t(e,n,r)},t}(Zg);const mx=px;var fx=function(){function e(e,t){var n=this;this.parsedObjects=0,this.shouldWaitForTick=function(e){return n.parsedObjects+=e,n.parsedObjects%n.objectsPerTick===0},this.context=e,this.objectsPerTick=t}return e.prototype.serializeToBuffer=function(){return ym(this,void 0,void 0,(function(){var e,t,n,r,s,i,a,o,l,c,d,u,h,p,m,f,g;return vm(this,(function(x){switch(x.label){case 0:return[4,this.computeBufferSize()];case 1:e=x.sent(),t=e.size,n=e.header,r=e.indirectObjects,s=e.xref,i=e.trailerDict,a=e.trailer,o=0,l=new Uint8Array(t),o+=n.copyBytesInto(l,o),l[o++]=jg.Newline,l[o++]=jg.Newline,c=0,d=r.length,x.label=2;case 2:return c<d?(u=r[c],h=u[0],p=u[1],m=String(h.objectNumber),o+=Dm(m,l,o),l[o++]=jg.Space,f=String(h.generationNumber),o+=Dm(f,l,o),l[o++]=jg.Space,l[o++]=jg.o,l[o++]=jg.b,l[o++]=jg.j,l[o++]=jg.Newline,o+=p.copyBytesInto(l,o),l[o++]=jg.Newline,l[o++]=jg.e,l[o++]=jg.n,l[o++]=jg.d,l[o++]=jg.o,l[o++]=jg.b,l[o++]=jg.j,l[o++]=jg.Newline,l[o++]=jg.Newline,g=p instanceof mx?p.getObjectsCount():1,this.shouldWaitForTick(g)?[4,Jm()]:[3,4]):[3,5];case 3:x.sent(),x.label=4;case 4:return c++,[3,2];case 5:return s&&(o+=s.copyBytesInto(l,o),l[o++]=jg.Newline),i&&(o+=i.copyBytesInto(l,o),l[o++]=jg.Newline,l[o++]=jg.Newline),o+=a.copyBytesInto(l,o),[2,l]}}))}))},e.prototype.computeIndirectObjectSize=function(e){var t=e[0],n=e[1];return t.sizeInBytes()+3+(n.sizeInBytes()+9)},e.prototype.createTrailerDict=function(){return this.context.obj({Size:this.context.largestObjectNumber+1,Root:this.context.trailerInfo.Root,Encrypt:this.context.trailerInfo.Encrypt,Info:this.context.trailerInfo.Info,ID:this.context.trailerInfo.ID})},e.prototype.computeBufferSize=function(){return ym(this,void 0,void 0,(function(){var e,t,n,r,s,i,a,o,l,c,d;return vm(this,(function(u){switch(u.label){case 0:e=kg.forVersion(1,7),t=e.sizeInBytes()+2,n=dx.create(),r=this.context.enumerateIndirectObjects(),s=0,i=r.length,u.label=1;case 1:return s<i?(a=r[s],o=a[0],n.addEntry(o,t),t+=this.computeIndirectObjectSize(a),this.shouldWaitForTick(1)?[4,Jm()]:[3,3]):[3,4];case 2:u.sent(),u.label=3;case 3:return s++,[3,1];case 4:return l=t,t+=n.sizeInBytes()+1,c=hx.of(this.createTrailerDict()),t+=c.sizeInBytes()+2,d=ux.forLastCrossRefSectionOffset(l),[2,{size:t+=d.sizeInBytes(),header:e,indirectObjects:r,xref:n,trailerDict:c,trailer:d}]}}))}))},e.forContext=function(t,n){return new e(t,n)},e}();const gx=fx;var xx=function(e){function t(t){var n=e.call(this)||this;return n.data=t,n}return xm(t,e),t.prototype.clone=function(){return t.of(this.data.slice())},t.prototype.toString=function(){return"PDFInvalidObject("+this.data.length+" bytes)"},t.prototype.sizeInBytes=function(){return this.data.length},t.prototype.copyBytesInto=function(e,t){for(var n=this.data.length,r=0;r<n;r++)e[t++]=this.data[r];return n},t.of=function(e){return new t(e)},t}(Ng);const bx=xx;var yx;!function(e){e[e.Deleted=0]="Deleted",e[e.Uncompressed=1]="Uncompressed",e[e.Compressed=2]="Compressed"}(yx||(yx={}));var vx=function(e){function t(t,n,r){void 0===r&&(r=!0);var s=e.call(this,t,r)||this;return s.computeIndex=function(){for(var e=[],t=0,n=0,r=s.entries.length;n<r;n++){var i=s.entries[n],a=s.entries[n-1];0===n?e.push(i.ref.objectNumber):i.ref.objectNumber-a.ref.objectNumber>1&&(e.push(t),e.push(i.ref.objectNumber),t=0),t+=1}return e.push(t),e},s.computeEntryTuples=function(){for(var e=new Array(s.entries.length),t=0,n=s.entries.length;t<n;t++){var r=s.entries[t];if(r.type===yx.Deleted){var i=r.type,a=r.nextFreeObjectNumber,o=r.ref;e[t]=[i,a,o.generationNumber]}if(r.type===yx.Uncompressed){i=r.type;var l=r.offset;o=r.ref;e[t]=[i,l,o.generationNumber]}if(r.type===yx.Compressed){i=r.type;var c=r.objectStreamRef,d=r.index;e[t]=[i,c.objectNumber,d]}}return e},s.computeMaxEntryByteWidths=function(){for(var e=s.entryTuplesCache.access(),t=[0,0,0],n=0,r=e.length;n<r;n++){var i=e[n],a=i[0],o=i[1],l=i[2],c=df(a),d=df(o),u=df(l);c>t[0]&&(t[0]=c),d>t[1]&&(t[1]=d),u>t[2]&&(t[2]=u)}return t},s.entries=n||[],s.entryTuplesCache=Kf.populatedBy(s.computeEntryTuples),s.maxByteWidthsCache=Kf.populatedBy(s.computeMaxEntryByteWidths),s.indexCache=Kf.populatedBy(s.computeIndex),t.set(Og.of("Type"),Og.of("XRef")),s}return xm(t,e),t.prototype.addDeletedEntry=function(e,t){var n=yx.Deleted;this.entries.push({type:n,ref:e,nextFreeObjectNumber:t}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},t.prototype.addUncompressedEntry=function(e,t){var n=yx.Uncompressed;this.entries.push({type:n,ref:e,offset:t}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},t.prototype.addCompressedEntry=function(e,t,n){var r=yx.Compressed;this.entries.push({type:r,ref:e,objectStreamRef:t,index:n}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},t.prototype.clone=function(e){var n=this,r=n.dict,s=n.entries,i=n.encode;return t.of(r.clone(e),s.slice(),i)},t.prototype.getContentsString=function(){for(var e=this.entryTuplesCache.access(),t=this.maxByteWidthsCache.access(),n="",r=0,s=e.length;r<s;r++){for(var i=e[r],a=i[0],o=i[1],l=i[2],c=Ym(uf(a)),d=Ym(uf(o)),u=Ym(uf(l)),h=t[0]-1;h>=0;h--)n+=(c[h]||0).toString(2);for(h=t[1]-1;h>=0;h--)n+=(d[h]||0).toString(2);for(h=t[2]-1;h>=0;h--)n+=(u[h]||0).toString(2)}return n},t.prototype.getUnencodedContents=function(){for(var e=this.entryTuplesCache.access(),t=this.maxByteWidthsCache.access(),n=new Uint8Array(this.getUnencodedContentsSize()),r=0,s=0,i=e.length;s<i;s++){for(var a=e[s],o=a[0],l=a[1],c=a[2],d=Ym(uf(o)),u=Ym(uf(l)),h=Ym(uf(c)),p=t[0]-1;p>=0;p--)n[r++]=d[p]||0;for(p=t[1]-1;p>=0;p--)n[r++]=u[p]||0;for(p=t[2]-1;p>=0;p--)n[r++]=h[p]||0}return n},t.prototype.getUnencodedContentsSize=function(){var e=function(e){for(var t=0,n=0,r=e.length;n<r;n++)t+=e[n];return t}(this.maxByteWidthsCache.access());return e*this.entries.length},t.prototype.updateDict=function(){e.prototype.updateDict.call(this);var t=this.maxByteWidthsCache.access(),n=this.indexCache.access(),r=this.dict.context;this.dict.set(Og.of("W"),r.obj(t)),this.dict.set(Og.of("Index"),r.obj(n))},t.create=function(e,n){void 0===n&&(n=!0);var r=new t(e,[],n);return r.addDeletedEntry(Kg.of(0,65535),0),r},t.of=function(e,n,r){return void 0===r&&(r=!0),new t(e,n,r)},t}(Zg);const wx=vx;var jx=function(e){function t(t,n,r,s){var i=e.call(this,t,n)||this;return i.encodeStreams=r,i.objectsPerStream=s,i}return xm(t,e),t.prototype.computeBufferSize=function(){return ym(this,void 0,void 0,(function(){var e,t,n,r,s,i,a,o,l,c,d,u,h,p,m,f,g,x,b;return vm(this,(function(y){switch(y.label){case 0:e=this.context.largestObjectNumber+1,t=kg.forVersion(1,7),n=t.sizeInBytes()+2,r=wx.create(this.createTrailerDict(),this.encodeStreams),s=[],i=[],a=[],o=this.context.enumerateIndirectObjects(),u=0,h=o.length,y.label=1;case 1:return u<h?(l=o[u],m=l[0],c=l[1],m===this.context.trailerInfo.Encrypt||c instanceof Vg||c instanceof bx||0!==m.generationNumber?(s.push(l),r.addUncompressedEntry(m,n),n+=this.computeIndirectObjectSize(l),this.shouldWaitForTick(1)?[4,Jm()]:[3,3]):[3,4]):[3,6];case 2:y.sent(),y.label=3;case 3:return[3,5];case 4:p=Wm(i),d=Wm(a),p&&p.length%this.objectsPerStream!==0||(p=[],i.push(p),d=Kg.of(e++),a.push(d)),r.addCompressedEntry(m,d,p.length),p.push(l),y.label=5;case 5:return u++,[3,1];case 6:u=0,h=i.length,y.label=7;case 7:return u<h?(p=i[u],m=a[u],f=mx.withContextAndObjects(this.context,p,this.encodeStreams),r.addUncompressedEntry(m,n),n+=this.computeIndirectObjectSize([m,f]),s.push([m,f]),this.shouldWaitForTick(p.length)?[4,Jm()]:[3,9]):[3,10];case 8:y.sent(),y.label=9;case 9:return u++,[3,7];case 10:return g=Kg.of(e++),r.dict.set(Og.of("Size"),Sg.of(e)),r.addUncompressedEntry(g,n),x=n,n+=this.computeIndirectObjectSize([g,r]),s.push([g,r]),b=ux.forLastCrossRefSectionOffset(x),[2,{size:n+=b.sizeInBytes(),header:t,indirectObjects:s,trailer:b}]}}))}))},t.forContext=function(e,n,r,s){return void 0===r&&(r=!0),void 0===s&&(s=50),new t(e,n,r,s)},t}(gx);const kx=jx;var Nx=function(e){function t(t){var n=e.call(this)||this;return n.value=t,n}return xm(t,e),t.prototype.asBytes=function(){for(var e=this.value+(this.value.length%2===1?"0":""),t=e.length,n=new Uint8Array(e.length/2),r=0,s=0;r<t;){var i=parseInt(e.substring(r,r+2),16);n[s]=i,r+=2,s+=1}return n},t.prototype.decodeText=function(){var e=this.asBytes();return cf(e)?tf(e):Gf(e)},t.prototype.decodeDate=function(){var e=this.decodeText(),t=qm(e);if(!t)throw new sg(e);return t},t.prototype.asString=function(){return this.value},t.prototype.clone=function(){return t.of(this.value)},t.prototype.toString=function(){return"<"+this.value+">"},t.prototype.sizeInBytes=function(){return this.value.length+2},t.prototype.copyBytesInto=function(e,t){return e[t++]=jg.LessThan,t+=Dm(this.value,e,t),e[t++]=jg.GreaterThan,this.value.length+2},t.of=function(e){return new t(e)},t.fromText=function(e){for(var n=function(e,t){void 0===t&&(t=!0);var n=[];t&&n.push(65279);for(var r=0,s=e.length;r<s;){var i=e.codePointAt(r);if(i<65536)n.push(i),r+=1;else{if(!(i<1114112))throw new Error("Invalid code point: 0x"+Pm(i));n.push(Zm(i),$m(i)),r+=2}}return new Uint16Array(n)}(e),r="",s=0,i=n.length;s<i;s++)r+=Em(n[s],4);return new t(r)},t}(Ng);const Sx=Nx;var Cx=function(){function e(e,t){this.encoding=e===yf.ZapfDingbats?Cf.ZapfDingbats:e===yf.Symbol?Cf.Symbol:Cf.WinAnsi,this.font=jf.load(e),this.fontName=this.font.FontName,this.customName=t}return e.prototype.encodeText=function(e){for(var t=this.encodeTextAsGlyphs(e),n=new Array(t.length),r=0,s=t.length;r<s;r++)n[r]=Pm(t[r].code);return Sx.of(n.join(""))},e.prototype.widthOfTextAtSize=function(e,t){for(var n=this.encodeTextAsGlyphs(e),r=0,s=0,i=n.length;s<i;s++){var a=n[s].name,o=(n[s+1]||{}).name,l=this.font.getXAxisKerningForPair(a,o)||0;r+=this.widthOfGlyph(a)+l}return r*(t/1e3)},e.prototype.heightOfFontAtSize=function(e,t){void 0===t&&(t={});var n=t.descender,r=void 0===n||n,s=this.font,i=s.Ascender,a=s.Descender,o=s.FontBBox,l=(i||o[3])-(a||o[1]);return r||(l+=a||0),l/1e3*e},e.prototype.sizeOfFontAtHeight=function(e){var t=this.font,n=t.Ascender,r=t.Descender,s=t.FontBBox;return 1e3*e/((n||s[3])-(r||s[1]))},e.prototype.embedIntoContext=function(e,t){var n=e.obj({Type:"Font",Subtype:"Type1",BaseFont:this.customName||this.fontName,Encoding:this.encoding===Cf.WinAnsi?"WinAnsiEncoding":void 0});return t?(e.assign(t,n),t):e.register(n)},e.prototype.widthOfGlyph=function(e){return this.font.getWidthOfGlyph(e)||250},e.prototype.encodeTextAsGlyphs=function(e){for(var t=Array.from(e),n=new Array(t.length),r=0,s=t.length;r<s;r++){var i=t[r].codePointAt(0);n[r]=this.encoding.encodeUnicodeCodePoint(i)}return n},e.for=function(t,n){return new e(t,n)},e}();const Ax=Cx;var Tx=function(e){return"/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange\n"+e.length+" beginbfchar\n"+e.map((function(e){return e[0]+" "+e[1]})).join("\n")+"\nendbfchar\nendcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"},Ex=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"<"+e.join("")+">"},Px=function(e){return Em(e,4)},Fx=function(e){if(function(e){return e>=0&&e<=65535}(e))return Px(e);if(function(e){return e>=65536&&e<=1114111}(e)){var t=Zm(e),n=$m(e);return""+Px(t)+Px(n)}var r=Pm(e);throw new Error("0x"+r+" is not a valid UTF-8 or UTF-16 codepoint.")},Rx=function(e){var t=e["OS/2"]?e["OS/2"].sFamilyClass:0;return function(e){var t=0,n=function(e){t|=1<<e-1};return e.fixedPitch&&n(1),e.serif&&n(2),e.symbolic&&n(3),e.script&&n(4),e.nonsymbolic&&n(6),e.italic&&n(7),e.allCap&&n(17),e.smallCap&&n(18),e.forceBold&&n(19),t}({fixedPitch:e.post.isFixedPitch,serif:1<=t&&t<=7,symbolic:!0,script:10===t,italic:e.head.macStyle.italic})},Dx=function(e){function t(t){var n=e.call(this)||this;return n.value=t,n}return xm(t,e),t.prototype.asBytes=function(){for(var e=[],t="",n=!1,r=function(t){void 0!==t&&e.push(t),n=!1},s=0,i=this.value.length;s<i;s++){var a=this.value[s],o=Tm(a),l=this.value[s+1];n?o===jg.Newline||o===jg.CarriageReturn?r():o===jg.n?r(jg.Newline):o===jg.r?r(jg.CarriageReturn):o===jg.t?r(jg.Tab):o===jg.b?r(jg.Backspace):o===jg.f?r(jg.FormFeed):o===jg.LeftParen?r(jg.LeftParen):o===jg.RightParen?r(jg.RightParen):o===jg.Backspace?r(jg.BackSlash):o>=jg.Zero&&o<=jg.Seven?3!==(t+=a).length&&l>="0"&&l<="7"||(r(parseInt(t,8)),t=""):r(o):o===jg.BackSlash?n=!0:r(o)}return new Uint8Array(e)},t.prototype.decodeText=function(){var e=this.asBytes();return cf(e)?tf(e):Gf(e)},t.prototype.decodeDate=function(){var e=this.decodeText(),t=qm(e);if(!t)throw new sg(e);return t},t.prototype.asString=function(){return this.value},t.prototype.clone=function(){return t.of(this.value)},t.prototype.toString=function(){return"("+this.value+")"},t.prototype.sizeInBytes=function(){return this.value.length+2},t.prototype.copyBytesInto=function(e,t){return e[t++]=jg.LeftParen,t+=Dm(this.value,e,t),e[t++]=jg.RightParen,this.value.length+2},t.of=function(e){return new t(e)},t.fromDate=function(e){return new t("D:"+Rm(String(e.getUTCFullYear()),4,"0")+Rm(String(e.getUTCMonth()+1),2,"0")+Rm(String(e.getUTCDate()),2,"0")+Rm(String(e.getUTCHours()),2,"0")+Rm(String(e.getUTCMinutes()),2,"0")+Rm(String(e.getUTCSeconds()),2,"0")+"Z")},t}(Ng);const Mx=Dx;var Ix=function(){function e(e,t,n,r){var s=this;this.allGlyphsInFontSortedById=function(){for(var e=new Array(s.font.characterSet.length),t=0,n=e.length;t<n;t++){var r=s.font.characterSet[t];e[t]=s.font.glyphForCodePoint(r)}return function(e,t){for(var n=[],r=0,s=e.length;r<s;r++){var i=e[r],a=e[r-1];0!==r&&t(i)===t(a)||n.push(i)}return n}(e.sort(Xm),(function(e){return e.id}))},this.font=e,this.scale=1e3/this.font.unitsPerEm,this.fontData=t,this.fontName=this.font.postscriptName||"Font",this.customName=n,this.fontFeatures=r,this.baseFontName="",this.glyphCache=Kf.populatedBy(this.allGlyphsInFontSortedById)}return e.for=function(t,n,r,s){return ym(this,void 0,void 0,(function(){return vm(this,(function(i){switch(i.label){case 0:return[4,t.create(n)];case 1:return[2,new e(i.sent(),n,r,s)]}}))}))},e.prototype.encodeText=function(e){for(var t=this.font.layout(e,this.fontFeatures).glyphs,n=new Array(t.length),r=0,s=t.length;r<s;r++)n[r]=Em(t[r].id,4);return Sx.of(n.join(""))},e.prototype.widthOfTextAtSize=function(e,t){for(var n=this.font.layout(e,this.fontFeatures).glyphs,r=0,s=0,i=n.length;s<i;s++)r+=n[s].advanceWidth*this.scale;return r*(t/1e3)},e.prototype.heightOfFontAtSize=function(e,t){void 0===t&&(t={});var n=t.descender,r=void 0===n||n,s=this.font,i=s.ascent,a=s.descent,o=s.bbox,l=(i||o.maxY)*this.scale-(a||o.minY)*this.scale;return r||(l-=Math.abs(a)||0),l/1e3*e},e.prototype.sizeOfFontAtHeight=function(e){var t=this.font,n=t.ascent,r=t.descent,s=t.bbox;return 1e3*e/((n||s.maxY)*this.scale-(r||s.minY)*this.scale)},e.prototype.embedIntoContext=function(e,t){return this.baseFontName=this.customName||e.addRandomSuffix(this.fontName),this.embedFontDict(e,t)},e.prototype.embedFontDict=function(e,t){return ym(this,void 0,void 0,(function(){var n,r,s;return vm(this,(function(i){switch(i.label){case 0:return[4,this.embedCIDFontDict(e)];case 1:return n=i.sent(),r=this.embedUnicodeCmap(e),s=e.obj({Type:"Font",Subtype:"Type0",BaseFont:this.baseFontName,Encoding:"Identity-H",DescendantFonts:[n],ToUnicode:r}),t?(e.assign(t,s),[2,t]):[2,e.register(s)]}}))}))},e.prototype.isCFF=function(){return this.font.cff},e.prototype.embedCIDFontDict=function(e){return ym(this,void 0,void 0,(function(){var t,n;return vm(this,(function(r){switch(r.label){case 0:return[4,this.embedFontDescriptor(e)];case 1:return t=r.sent(),n=e.obj({Type:"Font",Subtype:this.isCFF()?"CIDFontType0":"CIDFontType2",CIDToGIDMap:"Identity",BaseFont:this.baseFontName,CIDSystemInfo:{Registry:Mx.of("Adobe"),Ordering:Mx.of("Identity"),Supplement:0},FontDescriptor:t,W:this.computeWidths()}),[2,e.register(n)]}}))}))},e.prototype.embedFontDescriptor=function(e){return ym(this,void 0,void 0,(function(){var t,n,r,s,i,a,o,l,c,d,u,h,p,m,f;return vm(this,(function(g){switch(g.label){case 0:return[4,this.embedFontStream(e)];case 1:return t=g.sent(),n=this.scale,r=this.font,s=r.italicAngle,i=r.ascent,a=r.descent,o=r.capHeight,l=r.xHeight,c=this.font.bbox,d=c.minX,u=c.minY,h=c.maxX,p=c.maxY,m=e.obj(((f={Type:"FontDescriptor",FontName:this.baseFontName,Flags:Rx(this.font),FontBBox:[d*n,u*n,h*n,p*n],ItalicAngle:s,Ascent:i*n,Descent:a*n,CapHeight:(o||i)*n,XHeight:(l||0)*n,StemV:0})[this.isCFF()?"FontFile3":"FontFile2"]=t,f)),[2,e.register(m)]}}))}))},e.prototype.serializeFont=function(){return ym(this,void 0,void 0,(function(){return vm(this,(function(e){return[2,this.fontData]}))}))},e.prototype.embedFontStream=function(e){return ym(this,void 0,void 0,(function(){var t,n,r;return vm(this,(function(s){switch(s.label){case 0:return r=(n=e).flateStream,[4,this.serializeFont()];case 1:return t=r.apply(n,[s.sent(),{Subtype:this.isCFF()?"CIDFontType0C":void 0}]),[2,e.register(t)]}}))}))},e.prototype.embedUnicodeCmap=function(e){var t=function(e,t){for(var n=new Array(e.length),r=0,s=e.length;r<s;r++){var i=e[r],a=Ex(Px(t(i))),o=Ex.apply(void 0,i.codePoints.map(Fx));n[r]=[a,o]}return Tx(n)}(this.glyphCache.access(),this.glyphId.bind(this)),n=e.flateStream(t);return e.register(n)},e.prototype.glyphId=function(e){return e?e.id:-1},e.prototype.computeWidths=function(){for(var e=this.glyphCache.access(),t=[],n=[],r=0,s=e.length;r<s;r++){var i=e[r],a=e[r-1],o=this.glyphId(i),l=this.glyphId(a);0===r?t.push(o):o-l!==1&&(t.push(n),t.push(o),n=[]),n.push(i.advanceWidth*this.scale)}return t.push(n),t},e}();const _x=Ix;var Lx=function(e){function t(t,n,r,s){var i=e.call(this,t,n,r,s)||this;return i.subset=i.font.createSubset(),i.glyphs=[],i.glyphCache=Kf.populatedBy((function(){return i.glyphs})),i.glyphIdMap=new Map,i}return xm(t,e),t.for=function(e,n,r,s){return ym(this,void 0,void 0,(function(){return vm(this,(function(i){switch(i.label){case 0:return[4,e.create(n)];case 1:return[2,new t(i.sent(),n,r,s)]}}))}))},t.prototype.encodeText=function(e){for(var t=this.font.layout(e,this.fontFeatures).glyphs,n=new Array(t.length),r=0,s=t.length;r<s;r++){var i=t[r],a=this.subset.includeGlyph(i);this.glyphs[a-1]=i,this.glyphIdMap.set(i.id,a),n[r]=Em(a,4)}return this.glyphCache.invalidate(),Sx.of(n.join(""))},t.prototype.isCFF=function(){return this.subset.cff},t.prototype.glyphId=function(e){return e?this.glyphIdMap.get(e.id):-1},t.prototype.serializeFont=function(){var e=this;return new Promise((function(t,n){var r=[];e.subset.encodeStream().on("data",(function(e){return r.push(e)})).on("end",(function(){return t(function(e){for(var t=0,n=0,r=e.length;n<r;n++)t+=e[n].length;var s=new Uint8Array(t),i=0;for(n=0,r=e.length;n<r;n++){var a=e[n];s.set(a,i),i+=a.length}return s}(r))})).on("error",(function(e){return n(e)}))}))},t}(_x);const Ox=Lx;var zx;!function(e){e.Source="Source",e.Data="Data",e.Alternative="Alternative",e.Supplement="Supplement",e.EncryptedPayload="EncryptedPayload",e.FormData="EncryptedPayload",e.Schema="Schema",e.Unspecified="Unspecified"}(zx||(zx={}));const Bx=function(){function e(e,t,n){void 0===n&&(n={}),this.fileData=e,this.fileName=t,this.options=n}return e.for=function(t,n,r){return void 0===r&&(r={}),new e(t,n,r)},e.prototype.embedIntoContext=function(e,t){return ym(this,void 0,void 0,(function(){var n,r,s,i,a,o,l,c,d;return vm(this,(function(u){return n=this.options,r=n.mimeType,s=n.description,i=n.creationDate,a=n.modificationDate,o=n.afRelationship,l=e.flateStream(this.fileData,{Type:"EmbeddedFile",Subtype:null!==r&&void 0!==r?r:void 0,Params:{Size:this.fileData.length,CreationDate:i?Mx.fromDate(i):void 0,ModDate:a?Mx.fromDate(a):void 0}}),c=e.register(l),d=e.obj({Type:"Filespec",F:Mx.of(this.fileName),UF:Sx.fromText(this.fileName),EF:{F:c},Desc:s?Sx.fromText(s):void 0,AFRelationship:null!==o&&void 0!==o?o:void 0}),t?(e.assign(t,d),[2,t]):[2,e.register(d)]}))}))},e}();var Ux,qx=[65472,65473,65474,65475,65477,65478,65479,65480,65481,65482,65483,65484,65485,65486,65487];!function(e){e.DeviceGray="DeviceGray",e.DeviceRGB="DeviceRGB",e.DeviceCMYK="DeviceCMYK"}(Ux||(Ux={}));var Vx={1:Ux.DeviceGray,3:Ux.DeviceRGB,4:Ux.DeviceCMYK};const Wx=function(){function e(e,t,n,r,s){this.imageData=e,this.bitsPerComponent=t,this.width=n,this.height=r,this.colorSpace=s}return e.for=function(t){return ym(this,void 0,void 0,(function(){var n,r,s,i,a,o,l,c;return vm(this,(function(d){if(n=new DataView(t.buffer),65496!==n.getUint16(0))throw new Error("SOI not found in JPEG");for(r=2;r<n.byteLength&&(s=n.getUint16(r),r+=2,!qx.includes(s));)r+=n.getUint16(r);if(!qx.includes(s))throw new Error("Invalid JPEG");if(r+=2,i=n.getUint8(r++),a=n.getUint16(r),r+=2,o=n.getUint16(r),r+=2,l=n.getUint8(r++),!(c=Vx[l]))throw new Error("Unknown JPEG channel.");return[2,new e(t,i,o,a,c)]}))}))},e.prototype.embedIntoContext=function(e,t){return ym(this,void 0,void 0,(function(){var n;return vm(this,(function(r){return n=e.stream(this.imageData,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.bitsPerComponent,Width:this.width,Height:this.height,ColorSpace:this.colorSpace,Filter:"DCTDecode",Decode:this.colorSpace===Ux.DeviceCMYK?[1,0,1,0,1,0,1,0]:void 0}),t?(e.assign(t,n),[2,t]):[2,e.register(n)]}))}))},e}();var Hx={toRGBA8:function(e){var t=e.width,n=e.height;if(null==e.tabs.acTL)return[Hx.toRGBA8.decodeImage(e.data,t,n,e).buffer];var r=[];null==e.frames[0].data&&(e.frames[0].data=e.data);for(var s=t*n*4,i=new Uint8Array(s),a=new Uint8Array(s),o=new Uint8Array(s),l=0;l<e.frames.length;l++){var c=e.frames[l],d=c.rect.x,u=c.rect.y,h=c.rect.width,p=c.rect.height,m=Hx.toRGBA8.decodeImage(c.data,h,p,e);if(0!=l)for(var f=0;f<s;f++)o[f]=i[f];if(0==c.blend?Hx._copyTile(m,h,p,i,t,n,d,u,0):1==c.blend&&Hx._copyTile(m,h,p,i,t,n,d,u,1),r.push(i.buffer.slice(0)),0==c.dispose);else if(1==c.dispose)Hx._copyTile(a,h,p,i,t,n,d,u,0);else if(2==c.dispose)for(f=0;f<s;f++)i[f]=o[f]}return r}};Hx.toRGBA8.decodeImage=function(e,t,n,r){var s=t*n,i=Hx.decode._getBPP(r),a=Math.ceil(t*i/8),o=new Uint8Array(4*s),l=new Uint32Array(o.buffer),c=r.ctype,d=r.depth,u=Hx._bin.readUshort;Date.now();if(6==c){var h=s<<2;if(8==d)for(var p=0;p<h;p+=4)o[p]=e[p],o[p+1]=e[p+1],o[p+2]=e[p+2],o[p+3]=e[p+3];if(16==d)for(p=0;p<h;p++)o[p]=e[p<<1]}else if(2==c){var m=r.tabs.tRNS;if(null==m){if(8==d)for(p=0;p<s;p++){var f=3*p;l[p]=255<<24|e[f+2]<<16|e[f+1]<<8|e[f]}if(16==d)for(p=0;p<s;p++){f=6*p;l[p]=255<<24|e[f+4]<<16|e[f+2]<<8|e[f]}}else{var g=m[0],x=m[1],b=m[2];if(8==d)for(p=0;p<s;p++){var y=p<<2;f=3*p;l[p]=255<<24|e[f+2]<<16|e[f+1]<<8|e[f],e[f]==g&&e[f+1]==x&&e[f+2]==b&&(o[y+3]=0)}if(16==d)for(p=0;p<s;p++){y=p<<2,f=6*p;l[p]=255<<24|e[f+4]<<16|e[f+2]<<8|e[f],u(e,f)==g&&u(e,f+2)==x&&u(e,f+4)==b&&(o[y+3]=0)}}}else if(3==c){var v=r.tabs.PLTE,w=r.tabs.tRNS,j=w?w.length:0;if(1==d)for(var k=0;k<n;k++){var N=k*a,S=k*t;for(p=0;p<t;p++){y=S+p<<2;var C=3*(A=e[N+(p>>3)]>>7-(7&p)&1);o[y]=v[C],o[y+1]=v[C+1],o[y+2]=v[C+2],o[y+3]=A<j?w[A]:255}}if(2==d)for(k=0;k<n;k++)for(N=k*a,S=k*t,p=0;p<t;p++){y=S+p<<2,C=3*(A=e[N+(p>>2)]>>6-((3&p)<<1)&3);o[y]=v[C],o[y+1]=v[C+1],o[y+2]=v[C+2],o[y+3]=A<j?w[A]:255}if(4==d)for(k=0;k<n;k++)for(N=k*a,S=k*t,p=0;p<t;p++){y=S+p<<2,C=3*(A=e[N+(p>>1)]>>4-((1&p)<<2)&15);o[y]=v[C],o[y+1]=v[C+1],o[y+2]=v[C+2],o[y+3]=A<j?w[A]:255}if(8==d)for(p=0;p<s;p++){var A;y=p<<2,C=3*(A=e[p]);o[y]=v[C],o[y+1]=v[C+1],o[y+2]=v[C+2],o[y+3]=A<j?w[A]:255}}else if(4==c){if(8==d)for(p=0;p<s;p++){y=p<<2;var T=e[E=p<<1];o[y]=T,o[y+1]=T,o[y+2]=T,o[y+3]=e[E+1]}if(16==d)for(p=0;p<s;p++){var E;y=p<<2,T=e[E=p<<2];o[y]=T,o[y+1]=T,o[y+2]=T,o[y+3]=e[E+2]}}else if(0==c)for(g=r.tabs.tRNS?r.tabs.tRNS:-1,k=0;k<n;k++){var P=k*a,F=k*t;if(1==d)for(var R=0;R<t;R++){var D=(T=255*(e[P+(R>>>3)]>>>7-(7&R)&1))==255*g?0:255;l[F+R]=D<<24|T<<16|T<<8|T}else if(2==d)for(R=0;R<t;R++){D=(T=85*(e[P+(R>>>2)]>>>6-((3&R)<<1)&3))==85*g?0:255;l[F+R]=D<<24|T<<16|T<<8|T}else if(4==d)for(R=0;R<t;R++){D=(T=17*(e[P+(R>>>1)]>>>4-((1&R)<<2)&15))==17*g?0:255;l[F+R]=D<<24|T<<16|T<<8|T}else if(8==d)for(R=0;R<t;R++){D=(T=e[P+R])==g?0:255;l[F+R]=D<<24|T<<16|T<<8|T}else if(16==d)for(R=0;R<t;R++){T=e[P+(R<<1)],D=u(e,P+(R<<p))==g?0:255;l[F+R]=D<<24|T<<16|T<<8|T}}return o},Hx.decode=function(e){for(var t,n=new Uint8Array(e),r=8,s=Hx._bin,i=s.readUshort,a=s.readUint,o={tabs:{},frames:[]},l=new Uint8Array(n.length),c=0,d=0,u=[137,80,78,71,13,10,26,10],h=0;h<8;h++)if(n[h]!=u[h])throw"The input is not a PNG file!";for(;r<n.length;){var p=s.readUint(n,r);r+=4;var m=s.readASCII(n,r,4);if(r+=4,"IHDR"==m)Hx.decode._IHDR(n,r,o);else if("IDAT"==m){for(h=0;h<p;h++)l[c+h]=n[r+h];c+=p}else if("acTL"==m)o.tabs[m]={num_frames:a(n,r),num_plays:a(n,r+4)},t=new Uint8Array(n.length);else if("fcTL"==m){var f;if(0!=d)(f=o.frames[o.frames.length-1]).data=Hx.decode._decompress(o,t.slice(0,d),f.rect.width,f.rect.height),d=0;var g={x:a(n,r+12),y:a(n,r+16),width:a(n,r+4),height:a(n,r+8)},x=i(n,r+22);x=i(n,r+20)/(0==x?100:x);var b={rect:g,delay:Math.round(1e3*x),dispose:n[r+24],blend:n[r+25]};o.frames.push(b)}else if("fdAT"==m){for(h=0;h<p-4;h++)t[d+h]=n[r+h+4];d+=p-4}else if("pHYs"==m)o.tabs[m]=[s.readUint(n,r),s.readUint(n,r+4),n[r+8]];else if("cHRM"==m){o.tabs[m]=[];for(h=0;h<8;h++)o.tabs[m].push(s.readUint(n,r+4*h))}else if("tEXt"==m){null==o.tabs[m]&&(o.tabs[m]={});var y=s.nextZero(n,r),v=s.readASCII(n,r,y-r),w=s.readASCII(n,y+1,r+p-y-1);o.tabs[m][v]=w}else if("iTXt"==m){null==o.tabs[m]&&(o.tabs[m]={});y=0;var j=r;y=s.nextZero(n,j);v=s.readASCII(n,j,y-j),n[j=y+1],n[j+1];j+=2,y=s.nextZero(n,j);s.readASCII(n,j,y-j);j=y+1,y=s.nextZero(n,j);s.readUTF8(n,j,y-j);j=y+1;w=s.readUTF8(n,j,p-(j-r));o.tabs[m][v]=w}else if("PLTE"==m)o.tabs[m]=s.readBytes(n,r,p);else if("hIST"==m){var k=o.tabs.PLTE.length/3;o.tabs[m]=[];for(h=0;h<k;h++)o.tabs[m].push(i(n,r+2*h))}else if("tRNS"==m)3==o.ctype?o.tabs[m]=s.readBytes(n,r,p):0==o.ctype?o.tabs[m]=i(n,r):2==o.ctype&&(o.tabs[m]=[i(n,r),i(n,r+2),i(n,r+4)]);else if("gAMA"==m)o.tabs[m]=s.readUint(n,r)/1e5;else if("sRGB"==m)o.tabs[m]=n[r];else if("bKGD"==m)0==o.ctype||4==o.ctype?o.tabs[m]=[i(n,r)]:2==o.ctype||6==o.ctype?o.tabs[m]=[i(n,r),i(n,r+2),i(n,r+4)]:3==o.ctype&&(o.tabs[m]=n[r]);else if("IEND"==m)break;r+=p;s.readUint(n,r);r+=4}0!=d&&((f=o.frames[o.frames.length-1]).data=Hx.decode._decompress(o,t.slice(0,d),f.rect.width,f.rect.height),d=0);return o.data=Hx.decode._decompress(o,l,o.width,o.height),delete o.compress,delete o.interlace,delete o.filter,o},Hx.decode._decompress=function(e,t,n,r){Date.now();var s=Hx.decode._getBPP(e),i=Math.ceil(n*s/8),a=new Uint8Array((i+1+e.interlace)*r);t=Hx.decode._inflate(t,a);Date.now();return 0==e.interlace?t=Hx.decode._filterZero(t,e,0,n,r):1==e.interlace&&(t=Hx.decode._readInterlace(t,e)),t},Hx.decode._inflate=function(e,t){return Hx.inflateRaw(new Uint8Array(e.buffer,2,e.length-6),t)},Hx.inflateRaw=function(){var e={H:{}};return e.H.N=function(t,n){var r,s,i=Uint8Array,a=0,o=0,l=0,c=0,d=0,u=0,h=0,p=0,m=0;if(3==t[0]&&0==t[1])return n||new i(0);var f=e.H,g=f.b,x=f.e,b=f.R,y=f.n,v=f.A,w=f.Z,j=f.m,k=null==n;for(k&&(n=new i(t.length>>>2<<3));0==a;)if(a=g(t,m,1),o=g(t,m+1,2),m+=3,0!=o){if(k&&(n=e.H.W(n,p+(1<<17))),1==o&&(r=j.J,s=j.h,u=511,h=31),2==o){l=x(t,m,5)+257,c=x(t,m+5,5)+1,d=x(t,m+10,4)+4;m+=14;for(var N=1,S=0;S<38;S+=2)j.Q[S]=0,j.Q[S+1]=0;for(S=0;S<d;S++){var C=x(t,m+3*S,3);j.Q[1+(j.X[S]<<1)]=C,C>N&&(N=C)}m+=3*d,y(j.Q,N),v(j.Q,N,j.u),r=j.w,s=j.d,m=b(j.u,(1<<N)-1,l+c,t,m,j.v);var A=f.V(j.v,0,l,j.C);u=(1<<A)-1;var T=f.V(j.v,l,c,j.D);h=(1<<T)-1,y(j.C,A),v(j.C,A,r),y(j.D,T),v(j.D,T,s)}for(;;){var E=r[w(t,m)&u];m+=15&E;var P=E>>>4;if(P>>>8==0)n[p++]=P;else{if(256==P)break;var F=p+P-254;if(P>264){var R=j.q[P-257];F=p+(R>>>3)+x(t,m,7&R),m+=7&R}var D=s[w(t,m)&h];m+=15&D;var M=D>>>4,I=j.c[M],_=(I>>>4)+g(t,m,15&I);for(m+=15&I;p<F;)n[p]=n[p++-_],n[p]=n[p++-_],n[p]=n[p++-_],n[p]=n[p++-_];p=F}}}else{0!=(7&m)&&(m+=8-(7&m));var L=4+(m>>>3),O=t[L-4]|t[L-3]<<8;k&&(n=e.H.W(n,p+O)),n.set(new i(t.buffer,t.byteOffset+L,O),p),m=L+O<<3,p+=O}return n.length==p?n:n.slice(0,p)},e.H.W=function(e,t){var n=e.length;if(t<=n)return e;var r=new Uint8Array(n<<1);return r.set(e,0),r},e.H.R=function(t,n,r,s,i,a){for(var o=e.H.e,l=e.H.Z,c=0;c<r;){var d=t[l(s,i)&n];i+=15&d;var u=d>>>4;if(u<=15)a[c]=u,c++;else{var h=0,p=0;16==u?(p=3+o(s,i,2),i+=2,h=a[c-1]):17==u?(p=3+o(s,i,3),i+=3):18==u&&(p=11+o(s,i,7),i+=7);for(var m=c+p;c<m;)a[c]=h,c++}}return i},e.H.V=function(e,t,n,r){for(var s=0,i=0,a=r.length>>>1;i<n;){var o=e[i+t];r[i<<1]=0,r[1+(i<<1)]=o,o>s&&(s=o),i++}for(;i<a;)r[i<<1]=0,r[1+(i<<1)]=0,i++;return s},e.H.n=function(t,n){for(var r,s,i,a,o=e.H.m,l=t.length,c=o.j,d=0;d<=n;d++)c[d]=0;for(d=1;d<l;d+=2)c[t[d]]++;var u=o.K;for(r=0,c[0]=0,s=1;s<=n;s++)r=r+c[s-1]<<1,u[s]=r;for(i=0;i<l;i+=2)0!=(a=t[i+1])&&(t[i]=u[a],u[a]++)},e.H.A=function(t,n,r){for(var s=t.length,i=e.H.m.r,a=0;a<s;a+=2)if(0!=t[a+1])for(var o=a>>1,l=t[a+1],c=o<<4|l,d=n-l,u=t[a]<<d,h=u+(1<<d);u!=h;){r[i[u]>>>15-n]=c,u++}},e.H.l=function(t,n){for(var r=e.H.m.r,s=15-n,i=0;i<t.length;i+=2){var a=t[i]<<n-t[i+1];t[i]=r[a]>>>s}},e.H.M=function(e,t,n){n<<=7&t;var r=t>>>3;e[r]|=n,e[r+1]|=n>>>8},e.H.I=function(e,t,n){n<<=7&t;var r=t>>>3;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},e.H.e=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<n)-1},e.H.b=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<n)-1},e.H.Z=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},e.H.i=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},e.H.m=function(){var e=Uint16Array,t=Uint32Array;return{K:new e(16),j:new e(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new e(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new t(32),J:new e(512),_:[],h:new e(32),$:[],w:new e(32768),C:[],v:[],d:new e(32768),D:[],u:new e(512),Q:[],r:new e(32768),s:new t(286),Y:new t(30),a:new t(19),t:new t(15e3),k:new e(65536),g:new e(32768)}}(),function(){for(var t=e.H.m,n=0;n<32768;n++){var r=n;r=(4278255360&(r=(4042322160&(r=(3435973836&(r=(2863311530&r)>>>1|(1431655765&r)<<1))>>>2|(858993459&r)<<2))>>>4|(252645135&r)<<4))>>>8|(16711935&r)<<8,t.r[n]=(r>>>16|r<<16)>>>17}function s(e,t,n){for(;0!=t--;)e.push(0,n)}for(n=0;n<32;n++)t.q[n]=t.S[n]<<3|t.T[n],t.c[n]=t.p[n]<<4|t.z[n];s(t._,144,8),s(t._,112,9),s(t._,24,7),s(t._,8,8),e.H.n(t._,9),e.H.A(t._,9,t.J),e.H.l(t._,9),s(t.$,32,5),e.H.n(t.$,5),e.H.A(t.$,5,t.h),e.H.l(t.$,5),s(t.Q,19,0),s(t.C,286,0),s(t.D,30,0),s(t.v,320,0)}(),e.H.N}(),Hx.decode._readInterlace=function(e,t){for(var n=t.width,r=t.height,s=Hx.decode._getBPP(t),i=s>>3,a=Math.ceil(n*s/8),o=new Uint8Array(r*a),l=0,c=[0,0,4,0,2,0,1],d=[0,4,0,2,0,1,0],u=[8,8,8,4,4,2,2],h=[8,8,4,4,2,2,1],p=0;p<7;){for(var m=u[p],f=h[p],g=0,x=0,b=c[p];b<r;)b+=m,x++;for(var y=d[p];y<n;)y+=f,g++;var v=Math.ceil(g*s/8);Hx.decode._filterZero(e,t,l,g,x);for(var w=0,j=c[p];j<r;){for(var k=d[p],N=l+w*v<<3;k<n;){var S;if(1==s)S=(S=e[N>>3])>>7-(7&N)&1,o[j*a+(k>>3)]|=S<<7-(7&k);if(2==s)S=(S=e[N>>3])>>6-(7&N)&3,o[j*a+(k>>2)]|=S<<6-((3&k)<<1);if(4==s)S=(S=e[N>>3])>>4-(7&N)&15,o[j*a+(k>>1)]|=S<<4-((1&k)<<2);if(s>=8)for(var C=j*a+k*i,A=0;A<i;A++)o[C+A]=e[(N>>3)+A];N+=s,k+=f}w++,j+=m}g*x!=0&&(l+=x*(1+v)),p+=1}return o},Hx.decode._getBPP=function(e){return[1,null,3,1,2,null,4][e.ctype]*e.depth},Hx.decode._filterZero=function(e,t,n,r,s){var i=Hx.decode._getBPP(t),a=Math.ceil(r*i/8),o=Hx.decode._paeth;i=Math.ceil(i/8);var l=0,c=1,d=e[n],u=0;if(d>1&&(e[n]=[0,0,1][d-2]),3==d)for(u=i;u<a;u++)e[u+1]=e[u+1]+(e[u+1-i]>>>1)&255;for(var h=0;h<s;h++)if(u=0,0==(d=e[(c=(l=n+h*a)+h+1)-1]))for(;u<a;u++)e[l+u]=e[c+u];else if(1==d){for(;u<i;u++)e[l+u]=e[c+u];for(;u<a;u++)e[l+u]=e[c+u]+e[l+u-i]}else if(2==d)for(;u<a;u++)e[l+u]=e[c+u]+e[l+u-a];else if(3==d){for(;u<i;u++)e[l+u]=e[c+u]+(e[l+u-a]>>>1);for(;u<a;u++)e[l+u]=e[c+u]+(e[l+u-a]+e[l+u-i]>>>1)}else{for(;u<i;u++)e[l+u]=e[c+u]+o(0,e[l+u-a],0);for(;u<a;u++)e[l+u]=e[c+u]+o(e[l+u-i],e[l+u-a],e[l+u-i-a])}return e},Hx.decode._paeth=function(e,t,n){var r=e+t-n,s=r-e,i=r-t,a=r-n;return s*s<=i*i&&s*s<=a*a?e:i*i<=a*a?t:n},Hx.decode._IHDR=function(e,t,n){var r=Hx._bin;n.width=r.readUint(e,t),t+=4,n.height=r.readUint(e,t),t+=4,n.depth=e[t],t++,n.ctype=e[t],t++,n.compress=e[t],t++,n.filter=e[t],t++,n.interlace=e[t],t++},Hx._bin={nextZero:function(e,t){for(;0!=e[t];)t++;return t},readUshort:function(e,t){return e[t]<<8|e[t+1]},writeUshort:function(e,t,n){e[t]=n>>8&255,e[t+1]=255&n},readUint:function(e,t){return 16777216*e[t]+(e[t+1]<<16|e[t+2]<<8|e[t+3])},writeUint:function(e,t,n){e[t]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n},readASCII:function(e,t,n){for(var r="",s=0;s<n;s++)r+=String.fromCharCode(e[t+s]);return r},writeASCII:function(e,t,n){for(var r=0;r<n.length;r++)e[t+r]=n.charCodeAt(r)},readBytes:function(e,t,n){for(var r=[],s=0;s<n;s++)r.push(e[t+s]);return r},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,n){for(var r,s="",i=0;i<n;i++)s+="%"+Hx._bin.pad(e[t+i].toString(16));try{r=decodeURIComponent(s)}catch(EN){return Hx._bin.readASCII(e,t,n)}return r}},Hx._copyTile=function(e,t,n,r,s,i,a,o,l){for(var c=Math.min(t,s),d=Math.min(n,i),u=0,h=0,p=0;p<d;p++)for(var m=0;m<c;m++)if(a>=0&&o>=0?(u=p*t+m<<2,h=(o+p)*s+a+m<<2):(u=(-o+p)*t-a+m<<2,h=p*s+m<<2),0==l)r[h]=e[u],r[h+1]=e[u+1],r[h+2]=e[u+2],r[h+3]=e[u+3];else if(1==l){var f=e[u+3]*(1/255),g=e[u]*f,x=e[u+1]*f,b=e[u+2]*f,y=r[h+3]*(1/255),v=r[h]*y,w=r[h+1]*y,j=r[h+2]*y,k=1-f,N=f+y*k,S=0==N?0:1/N;r[h+3]=255*N,r[h+0]=(g+v*k)*S,r[h+1]=(x+w*k)*S,r[h+2]=(b+j*k)*S}else if(2==l){f=e[u+3],g=e[u],x=e[u+1],b=e[u+2],y=r[h+3],v=r[h],w=r[h+1],j=r[h+2];f==y&&g==v&&x==w&&b==j?(r[h]=0,r[h+1]=0,r[h+2]=0,r[h+3]=0):(r[h]=g,r[h+1]=x,r[h+2]=b,r[h+3]=f)}else if(3==l){f=e[u+3],g=e[u],x=e[u+1],b=e[u+2],y=r[h+3],v=r[h],w=r[h+1],j=r[h+2];if(f==y&&g==v&&x==w&&b==j)continue;if(f<220&&y>20)return!1}return!0},Hx.encode=function(e,t,n,r,s,i,a){null==r&&(r=0),null==a&&(a=!1);var o=Hx.encode.compress(e,t,n,r,[!1,!1,!1,0,a]);return Hx.encode.compressPNG(o,-1),Hx.encode._main(o,t,n,s,i)},Hx.encodeLL=function(e,t,n,r,s,i,a,o){for(var l={ctype:0+(1==r?0:2)+(0==s?0:4),depth:i,frames:[]},c=(Date.now(),(r+s)*i),d=c*t,u=0;u<e.length;u++)l.frames.push({rect:{x:0,y:0,width:t,height:n},img:new Uint8Array(e[u]),blend:0,dispose:1,bpp:Math.ceil(c/8),bpl:Math.ceil(d/8)});return Hx.encode.compressPNG(l,0,!0),Hx.encode._main(l,t,n,a,o)},Hx.encode._main=function(e,t,n,r,s){null==s&&(s={});var i=Hx.crc.crc,a=Hx._bin.writeUint,o=Hx._bin.writeUshort,l=Hx._bin.writeASCII,c=8,d=e.frames.length>1,u=!1,h=33+(d?20:0);if(null!=s.sRGB&&(h+=13),null!=s.pHYs&&(h+=21),3==e.ctype){for(var p=e.plte.length,m=0;m<p;m++)e.plte[m]>>>24!=255&&(u=!0);h+=8+3*p+4+(u?8+1*p+4:0)}for(var f=0;f<e.frames.length;f++){d&&(h+=38),h+=(N=e.frames[f]).cimg.length+12,0!=f&&(h+=4)}h+=12;var g=new Uint8Array(h),x=[137,80,78,71,13,10,26,10];for(m=0;m<8;m++)g[m]=x[m];if(a(g,c,13),l(g,c+=4,"IHDR"),a(g,c+=4,t),a(g,c+=4,n),g[c+=4]=e.depth,g[++c]=e.ctype,g[++c]=0,g[++c]=0,g[++c]=0,a(g,++c,i(g,c-17,17)),c+=4,null!=s.sRGB&&(a(g,c,1),l(g,c+=4,"sRGB"),g[c+=4]=s.sRGB,a(g,++c,i(g,c-5,5)),c+=4),null!=s.pHYs&&(a(g,c,9),l(g,c+=4,"pHYs"),a(g,c+=4,s.pHYs[0]),a(g,c+=4,s.pHYs[1]),g[c+=4]=s.pHYs[2],a(g,++c,i(g,c-13,13)),c+=4),d&&(a(g,c,8),l(g,c+=4,"acTL"),a(g,c+=4,e.frames.length),a(g,c+=4,null!=s.loop?s.loop:0),a(g,c+=4,i(g,c-12,12)),c+=4),3==e.ctype){a(g,c,3*(p=e.plte.length)),l(g,c+=4,"PLTE"),c+=4;for(m=0;m<p;m++){var b=3*m,y=e.plte[m],v=255&y,w=y>>>8&255,j=y>>>16&255;g[c+b+0]=v,g[c+b+1]=w,g[c+b+2]=j}if(a(g,c+=3*p,i(g,c-3*p-4,3*p+4)),c+=4,u){a(g,c,p),l(g,c+=4,"tRNS"),c+=4;for(m=0;m<p;m++)g[c+m]=e.plte[m]>>>24&255;a(g,c+=p,i(g,c-p-4,p+4)),c+=4}}var k=0;for(f=0;f<e.frames.length;f++){var N=e.frames[f];d&&(a(g,c,26),l(g,c+=4,"fcTL"),a(g,c+=4,k++),a(g,c+=4,N.rect.width),a(g,c+=4,N.rect.height),a(g,c+=4,N.rect.x),a(g,c+=4,N.rect.y),o(g,c+=4,r[f]),o(g,c+=2,1e3),g[c+=2]=N.dispose,g[++c]=N.blend,a(g,++c,i(g,c-30,30)),c+=4);var S=N.cimg;a(g,c,(p=S.length)+(0==f?0:4));var C=c+=4;l(g,c,0==f?"IDAT":"fdAT"),c+=4,0!=f&&(a(g,c,k++),c+=4),g.set(S,c),a(g,c+=p,i(g,C,c-C)),c+=4}return a(g,c,0),l(g,c+=4,"IEND"),a(g,c+=4,i(g,c-4,4)),c+=4,g.buffer},Hx.encode.compressPNG=function(e,t,n){for(var r=0;r<e.frames.length;r++){var s=e.frames[r],i=(s.rect.width,s.rect.height),a=new Uint8Array(i*s.bpl+i);s.cimg=Hx.encode._filterZero(s.img,i,s.bpp,s.bpl,a,t,n)}},Hx.encode.compress=function(e,t,n,r,s){for(var i=s[0],a=s[1],o=s[2],l=s[3],c=s[4],d=6,u=8,h=255,p=0;p<e.length;p++)for(var m=new Uint8Array(e[p]),f=m.length,g=0;g<f;g+=4)h&=m[g+3];var x=255!=h,b=Hx.encode.framize(e,t,n,i,a,o),y={},v=[],w=[];if(0!=r){var j=[];for(g=0;g<b.length;g++)j.push(b[g].img.buffer);var k=Hx.encode.concatRGBA(j),N=Hx.quantize(k,r),S=0,C=new Uint8Array(N.abuf);for(g=0;g<b.length;g++){var A=(H=b[g].img).length;w.push(new Uint8Array(N.inds.buffer,S>>2,A>>2));for(p=0;p<A;p+=4)H[p]=C[S+p],H[p+1]=C[S+p+1],H[p+2]=C[S+p+2],H[p+3]=C[S+p+3];S+=A}for(g=0;g<N.plte.length;g++)v.push(N.plte[g].est.rgba)}else for(p=0;p<b.length;p++){var T=b[p],E=new Uint32Array(T.img.buffer),P=T.rect.width,F=(f=E.length,new Uint8Array(f));w.push(F);for(g=0;g<f;g++){var R=E[g];if(0!=g&&R==E[g-1])F[g]=F[g-1];else if(g>P&&R==E[g-P])F[g]=F[g-P];else{var D=y[R];if(null==D&&(y[R]=D=v.length,v.push(R),v.length>=300))break;F[g]=D}}}var M=v.length;M<=256&&0==c&&(u=M<=2?1:M<=4?2:M<=16?4:8,u=Math.max(u,l));for(p=0;p<b.length;p++){(T=b[p]).rect.x,T.rect.y,P=T.rect.width;var I=T.rect.height,_=T.img,L=(new Uint32Array(_.buffer),4*P),O=4;if(M<=256&&0==c){L=Math.ceil(u*P/8);for(var z=new Uint8Array(L*I),B=w[p],U=0;U<I;U++){g=U*L;var q=U*P;if(8==u)for(var V=0;V<P;V++)z[g+V]=B[q+V];else if(4==u)for(V=0;V<P;V++)z[g+(V>>1)]|=B[q+V]<<4-4*(1&V);else if(2==u)for(V=0;V<P;V++)z[g+(V>>2)]|=B[q+V]<<6-2*(3&V);else if(1==u)for(V=0;V<P;V++)z[g+(V>>3)]|=B[q+V]<<7-1*(7&V)}_=z,d=3,O=1}else if(0==x&&1==b.length){z=new Uint8Array(P*I*3);var W=P*I;for(g=0;g<W;g++){var H,G=4*g;z[H=3*g]=_[G],z[H+1]=_[G+1],z[H+2]=_[G+2]}_=z,d=2,O=3,L=3*P}T.img=_,T.bpl=L,T.bpp=O}return{ctype:d,depth:u,plte:v,frames:b}},Hx.encode.framize=function(e,t,n,r,s,i){for(var a=[],o=0;o<e.length;o++){var l,c=new Uint8Array(e[o]),d=new Uint32Array(c.buffer),u=0,h=0,p=t,m=n,f=r?1:0;if(0!=o){for(var g=i||r||1==o||0!=a[o-2].dispose?1:2,x=0,b=1e9,y=0;y<g;y++){for(var v=new Uint8Array(e[o-1-y]),w=new Uint32Array(e[o-1-y]),j=t,k=n,N=-1,S=-1,C=0;C<n;C++)for(var A=0;A<t;A++){d[M=C*t+A]!=w[M]&&(A<j&&(j=A),A>N&&(N=A),C<k&&(k=C),C>S&&(S=C))}-1==N&&(j=k=N=S=0),s&&(1==(1&j)&&j--,1==(1&k)&&k--);var T=(N-j+1)*(S-k+1);T<b&&(b=T,x=y,u=j,h=k,p=N-j+1,m=S-k+1)}v=new Uint8Array(e[o-1-x]);1==x&&(a[o-1].dispose=2),l=new Uint8Array(p*m*4),Hx._copyTile(v,t,n,l,p,m,-u,-h,0),1==(f=Hx._copyTile(c,t,n,l,p,m,-u,-h,3)?1:0)?Hx.encode._prepareDiff(c,t,n,l,{x:u,y:h,width:p,height:m}):Hx._copyTile(c,t,n,l,p,m,-u,-h,0)}else l=c.slice(0);a.push({rect:{x:u,y:h,width:p,height:m},img:l,blend:f,dispose:0})}if(r)for(o=0;o<a.length;o++){if(1!=(I=a[o]).blend){var E=I.rect,P=a[o-1].rect,F=Math.min(E.x,P.x),R=Math.min(E.y,P.y),D={x:F,y:R,width:Math.max(E.x+E.width,P.x+P.width)-F,height:Math.max(E.y+E.height,P.y+P.height)-R};a[o-1].dispose=1,o-1!=0&&Hx.encode._updateFrame(e,t,n,a,o-1,D,s),Hx.encode._updateFrame(e,t,n,a,o,D,s)}}if(1!=e.length)for(var M=0;M<a.length;M++){var I;(I=a[M]).rect.width*I.rect.height}return a},Hx.encode._updateFrame=function(e,t,n,r,s,i,a){for(var o=Uint8Array,l=Uint32Array,c=new o(e[s-1]),d=new l(e[s-1]),u=s+1<e.length?new o(e[s+1]):null,h=new o(e[s]),p=new l(h.buffer),m=t,f=n,g=-1,x=-1,b=0;b<i.height;b++)for(var y=0;y<i.width;y++){var v=i.x+y,w=i.y+b,j=w*t+v,k=p[j];0==k||0==r[s-1].dispose&&d[j]==k&&(null==u||0!=u[4*j+3])||(v<m&&(m=v),v>g&&(g=v),w<f&&(f=w),w>x&&(x=w))}-1==g&&(m=f=g=x=0),a&&(1==(1&m)&&m--,1==(1&f)&&f--),i={x:m,y:f,width:g-m+1,height:x-f+1};var N=r[s];N.rect=i,N.blend=1,N.img=new Uint8Array(i.width*i.height*4),0==r[s-1].dispose?(Hx._copyTile(c,t,n,N.img,i.width,i.height,-i.x,-i.y,0),Hx.encode._prepareDiff(h,t,n,N.img,i)):Hx._copyTile(h,t,n,N.img,i.width,i.height,-i.x,-i.y,0)},Hx.encode._prepareDiff=function(e,t,n,r,s){Hx._copyTile(e,t,n,r,s.width,s.height,-s.x,-s.y,2)},Hx.encode._filterZero=function(e,t,n,r,s,i,a){var o,l=[],c=[0,1,2,3,4];-1!=i?c=[i]:(t*r>5e5||1==n)&&(c=[0]),a&&(o={level:0});for(var d=a&&null!=UZIP?UZIP:mf(),u=0;u<c.length;u++){for(var h=0;h<t;h++)Hx.encode._filterLine(s,e,h,r,n,c[u]);l.push(d.deflate(s,o))}var p,m=1e9;for(u=0;u<l.length;u++)l[u].length<m&&(p=u,m=l[u].length);return l[p]},Hx.encode._filterLine=function(e,t,n,r,s,i){var a=n*r,o=a+n,l=Hx.decode._paeth;if(e[o]=i,o++,0==i)if(r<500)for(var c=0;c<r;c++)e[o+c]=t[a+c];else e.set(new Uint8Array(t.buffer,a,r),o);else if(1==i){for(c=0;c<s;c++)e[o+c]=t[a+c];for(c=s;c<r;c++)e[o+c]=t[a+c]-t[a+c-s]+256&255}else if(0==n){for(c=0;c<s;c++)e[o+c]=t[a+c];if(2==i)for(c=s;c<r;c++)e[o+c]=t[a+c];if(3==i)for(c=s;c<r;c++)e[o+c]=t[a+c]-(t[a+c-s]>>1)+256&255;if(4==i)for(c=s;c<r;c++)e[o+c]=t[a+c]-l(t[a+c-s],0,0)+256&255}else{if(2==i)for(c=0;c<r;c++)e[o+c]=t[a+c]+256-t[a+c-r]&255;if(3==i){for(c=0;c<s;c++)e[o+c]=t[a+c]+256-(t[a+c-r]>>1)&255;for(c=s;c<r;c++)e[o+c]=t[a+c]+256-(t[a+c-r]+t[a+c-s]>>1)&255}if(4==i){for(c=0;c<s;c++)e[o+c]=t[a+c]+256-l(0,t[a+c-r],0)&255;for(c=s;c<r;c++)e[o+c]=t[a+c]+256-l(t[a+c-s],t[a+c-r],t[a+c-s-r])&255}}},Hx.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var n=t,r=0;r<8;r++)1&n?n=3988292384^n>>>1:n>>>=1;e[t]=n}return e}(),update:function(e,t,n,r){for(var s=0;s<r;s++)e=Hx.crc.table[255&(e^t[n+s])]^e>>>8;return e},crc:function(e,t,n){return 4294967295^Hx.crc.update(4294967295,e,t,n)}},Hx.quantize=function(e,t){for(var n=new Uint8Array(e),r=n.slice(0),s=new Uint32Array(r.buffer),i=Hx.quantize.getKDtree(r,t),a=i[0],o=i[1],l=(Hx.quantize.planeDst,n),c=s,d=l.length,u=new Uint8Array(n.length>>2),h=0;h<d;h+=4){var p=l[h]*(1/255),m=l[h+1]*(1/255),f=l[h+2]*(1/255),g=l[h+3]*(1/255),x=Hx.quantize.getNearest(a,p,m,f,g);u[h>>2]=x.ind,c[h>>2]=x.est.rgba}return{abuf:r.buffer,inds:u,plte:o}},Hx.quantize.getKDtree=function(e,t,n){null==n&&(n=1e-4);var r=new Uint32Array(e.buffer),s={i0:0,i1:e.length,bst:null,est:null,tdst:0,left:null,right:null};s.bst=Hx.quantize.stats(e,s.i0,s.i1),s.est=Hx.quantize.estats(s.bst);for(var i=[s];i.length<t;){for(var a=0,o=0,l=0;l<i.length;l++)i[l].est.L>a&&(a=i[l].est.L,o=l);if(a<n)break;var c=i[o],d=Hx.quantize.splitPixels(e,r,c.i0,c.i1,c.est.e,c.est.eMq255);if(c.i0>=d||c.i1<=d)c.est.L=0;else{var u={i0:c.i0,i1:d,bst:null,est:null,tdst:0,left:null,right:null};u.bst=Hx.quantize.stats(e,u.i0,u.i1),u.est=Hx.quantize.estats(u.bst);var h={i0:d,i1:c.i1,bst:null,est:null,tdst:0,left:null,right:null};h.bst={R:[],m:[],N:c.bst.N-u.bst.N};for(l=0;l<16;l++)h.bst.R[l]=c.bst.R[l]-u.bst.R[l];for(l=0;l<4;l++)h.bst.m[l]=c.bst.m[l]-u.bst.m[l];h.est=Hx.quantize.estats(h.bst),c.left=u,c.right=h,i[o]=u,i.push(h)}}i.sort((function(e,t){return t.bst.N-e.bst.N}));for(l=0;l<i.length;l++)i[l].ind=l;return[s,i]},Hx.quantize.getNearest=function(e,t,n,r,s){if(null==e.left)return e.tdst=Hx.quantize.dist(e.est.q,t,n,r,s),e;var i=Hx.quantize.planeDst(e.est,t,n,r,s),a=e.left,o=e.right;i>0&&(a=e.right,o=e.left);var l=Hx.quantize.getNearest(a,t,n,r,s);if(l.tdst<=i*i)return l;var c=Hx.quantize.getNearest(o,t,n,r,s);return c.tdst<l.tdst?c:l},Hx.quantize.planeDst=function(e,t,n,r,s){var i=e.e;return i[0]*t+i[1]*n+i[2]*r+i[3]*s-e.eMq},Hx.quantize.dist=function(e,t,n,r,s){var i=t-e[0],a=n-e[1],o=r-e[2],l=s-e[3];return i*i+a*a+o*o+l*l},Hx.quantize.splitPixels=function(e,t,n,r,s,i){var a=Hx.quantize.vecDot;r-=4;for(;n<r;){for(;a(e,n,s)<=i;)n+=4;for(;a(e,r,s)>i;)r-=4;if(n>=r)break;var o=t[n>>2];t[n>>2]=t[r>>2],t[r>>2]=o,n+=4,r-=4}for(;a(e,n,s)>i;)n-=4;return n+4},Hx.quantize.vecDot=function(e,t,n){return e[t]*n[0]+e[t+1]*n[1]+e[t+2]*n[2]+e[t+3]*n[3]},Hx.quantize.stats=function(e,t,n){for(var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],s=[0,0,0,0],i=n-t>>2,a=t;a<n;a+=4){var o=e[a]*(1/255),l=e[a+1]*(1/255),c=e[a+2]*(1/255),d=e[a+3]*(1/255);s[0]+=o,s[1]+=l,s[2]+=c,s[3]+=d,r[0]+=o*o,r[1]+=o*l,r[2]+=o*c,r[3]+=o*d,r[5]+=l*l,r[6]+=l*c,r[7]+=l*d,r[10]+=c*c,r[11]+=c*d,r[15]+=d*d}return r[4]=r[1],r[8]=r[2],r[9]=r[6],r[12]=r[3],r[13]=r[7],r[14]=r[11],{R:r,m:s,N:i}},Hx.quantize.estats=function(e){var t=e.R,n=e.m,r=e.N,s=n[0],i=n[1],a=n[2],o=n[3],l=0==r?0:1/r,c=[t[0]-s*s*l,t[1]-s*i*l,t[2]-s*a*l,t[3]-s*o*l,t[4]-i*s*l,t[5]-i*i*l,t[6]-i*a*l,t[7]-i*o*l,t[8]-a*s*l,t[9]-a*i*l,t[10]-a*a*l,t[11]-a*o*l,t[12]-o*s*l,t[13]-o*i*l,t[14]-o*a*l,t[15]-o*o*l],d=c,u=Hx.M4,h=[.5,.5,.5,.5],p=0,m=0;if(0!=r)for(var f=0;f<10&&(h=u.multVec(d,h),m=Math.sqrt(u.dot(h,h)),h=u.sml(1/m,h),!(Math.abs(m-p)<1e-9));f++)p=m;var g=[s*l,i*l,a*l,o*l];return{Cov:c,q:g,e:h,L:p,eMq255:u.dot(u.sml(255,g),h),eMq:u.dot(h,g),rgba:(Math.round(255*g[3])<<24|Math.round(255*g[2])<<16|Math.round(255*g[1])<<8|Math.round(255*g[0]))>>>0}},Hx.M4={multVec:function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3],e[4]*t[0]+e[5]*t[1]+e[6]*t[2]+e[7]*t[3],e[8]*t[0]+e[9]*t[1]+e[10]*t[2]+e[11]*t[3],e[12]*t[0]+e[13]*t[1]+e[14]*t[2]+e[15]*t[3]]},dot:function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},sml:function(e,t){return[e*t[0],e*t[1],e*t[2],e*t[3]]}},Hx.encode.concatRGBA=function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n].byteLength;var r=new Uint8Array(t),s=0;for(n=0;n<e.length;n++){for(var i=new Uint8Array(e[n]),a=i.length,o=0;o<a;o+=4){var l=i[o],c=i[o+1],d=i[o+2],u=i[o+3];0==u&&(l=c=d=0),r[s+o]=l,r[s+o+1]=c,r[s+o+2]=d,r[s+o+3]=u}s+=a}return r.buffer};const Gx=Hx;var Kx;!function(e){e.Greyscale="Greyscale",e.Truecolour="Truecolour",e.IndexedColour="IndexedColour",e.GreyscaleWithAlpha="GreyscaleWithAlpha",e.TruecolourWithAlpha="TruecolourWithAlpha"}(Kx||(Kx={}));var Xx=function(){function e(e){var t=Gx.decode(e),n=Gx.toRGBA8(t);if(n.length>1)throw new Error("Animated PNGs are not supported");var r=function(e){for(var t=Math.floor(e.length/4),n=new Uint8Array(3*t),r=new Uint8Array(1*t),s=0,i=0,a=0;s<e.length;)n[i++]=e[s++],n[i++]=e[s++],n[i++]=e[s++],r[a++]=e[s++];return{rgbChannel:n,alphaChannel:r}}(new Uint8Array(n[0])),s=r.rgbChannel,i=r.alphaChannel;this.rgbChannel=s,i.some((function(e){return e<255}))&&(this.alphaChannel=i),this.type=function(e){if(0===e)return Kx.Greyscale;if(2===e)return Kx.Truecolour;if(3===e)return Kx.IndexedColour;if(4===e)return Kx.GreyscaleWithAlpha;if(6===e)return Kx.TruecolourWithAlpha;throw new Error("Unknown color type: "+e)}(t.ctype),this.width=t.width,this.height=t.height,this.bitsPerComponent=8}return e.load=function(t){return new e(t)},e}();const Yx=function(){function e(e){this.image=e,this.bitsPerComponent=e.bitsPerComponent,this.width=e.width,this.height=e.height,this.colorSpace="DeviceRGB"}return e.for=function(t){return ym(this,void 0,void 0,(function(){return vm(this,(function(n){return[2,new e(Xx.load(t))]}))}))},e.prototype.embedIntoContext=function(e,t){return ym(this,void 0,void 0,(function(){var n,r;return vm(this,(function(s){return n=this.embedAlphaChannel(e),r=e.flateStream(this.image.rgbChannel,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.image.bitsPerComponent,Width:this.image.width,Height:this.image.height,ColorSpace:this.colorSpace,SMask:n}),t?(e.assign(t,r),[2,t]):[2,e.register(r)]}))}))},e.prototype.embedAlphaChannel=function(e){if(this.image.alphaChannel){var t=e.flateStream(this.image.alphaChannel,{Type:"XObject",Subtype:"Image",Height:this.image.height,Width:this.image.width,BitsPerComponent:this.image.bitsPerComponent,ColorSpace:"DeviceGray",Decode:[0,1]});return e.register(t)}},e}();const Qx=function(){function e(e,t,n){this.bytes=e,this.start=t||0,this.pos=this.start,this.end=t&&n?t+n:this.bytes.length}return Object.defineProperty(e.prototype,"length",{get:function(){return this.end-this.start},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this.length},enumerable:!1,configurable:!0}),e.prototype.getByte=function(){return this.pos>=this.end?-1:this.bytes[this.pos++]},e.prototype.getUint16=function(){var e=this.getByte(),t=this.getByte();return-1===e||-1===t?-1:(e<<8)+t},e.prototype.getInt32=function(){return(this.getByte()<<24)+(this.getByte()<<16)+(this.getByte()<<8)+this.getByte()},e.prototype.getBytes=function(e,t){void 0===t&&(t=!1);var n=this.bytes,r=this.pos,s=this.end;if(e){var i=r+e;i>s&&(i=s),this.pos=i;a=n.subarray(r,i);return t?new Uint8ClampedArray(a):a}var a=n.subarray(r,s);return t?new Uint8ClampedArray(a):a},e.prototype.peekByte=function(){var e=this.getByte();return this.pos--,e},e.prototype.peekBytes=function(e,t){void 0===t&&(t=!1);var n=this.getBytes(e,t);return this.pos-=n.length,n},e.prototype.skip=function(e){e||(e=1),this.pos+=e},e.prototype.reset=function(){this.pos=this.start},e.prototype.moveStart=function(){this.start=this.pos},e.prototype.makeSubStream=function(t,n){return new e(this.bytes,t,n)},e.prototype.decode=function(){return this.bytes},e}();var Jx=new Uint8Array(0);const Zx=function(){function e(e){if(this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=Jx,this.minBufferLength=512,e)for(;this.minBufferLength<e;)this.minBufferLength*=2}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){for(;!this.eof&&0===this.bufferLength;)this.readBlock();return 0===this.bufferLength},enumerable:!1,configurable:!0}),e.prototype.getByte=function(){for(var e=this.pos;this.bufferLength<=e;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]},e.prototype.getUint16=function(){var e=this.getByte(),t=this.getByte();return-1===e||-1===t?-1:(e<<8)+t},e.prototype.getInt32=function(){return(this.getByte()<<24)+(this.getByte()<<16)+(this.getByte()<<8)+this.getByte()},e.prototype.getBytes=function(e,t){var n;void 0===t&&(t=!1);var r=this.pos;if(e){for(this.ensureBuffer(r+e),n=r+e;!this.eof&&this.bufferLength<n;)this.readBlock();var s=this.bufferLength;n>s&&(n=s)}else{for(;!this.eof;)this.readBlock();n=this.bufferLength}this.pos=n;var i=this.buffer.subarray(r,n);return!t||i instanceof Uint8ClampedArray?i:new Uint8ClampedArray(i)},e.prototype.peekByte=function(){var e=this.getByte();return this.pos--,e},e.prototype.peekBytes=function(e,t){void 0===t&&(t=!1);var n=this.getBytes(e,t);return this.pos-=n.length,n},e.prototype.skip=function(e){e||(e=1),this.pos+=e},e.prototype.reset=function(){this.pos=0},e.prototype.makeSubStream=function(e,t){for(var n=e+t;this.bufferLength<=n&&!this.eof;)this.readBlock();return new Qx(this.buffer,e,t)},e.prototype.decode=function(){for(;!this.eof;)this.readBlock();return this.buffer.subarray(0,this.bufferLength)},e.prototype.readBlock=function(){throw new Yf(this.constructor.name,"readBlock")},e.prototype.ensureBuffer=function(e){var t=this.buffer;if(e<=t.byteLength)return t;for(var n=this.minBufferLength;n<e;)n*=2;var r=new Uint8Array(n);return r.set(t),this.buffer=r},e}();var $x=function(e){return 32===e||9===e||13===e||10===e},eb=function(e){function t(t,n){var r=e.call(this,n)||this;return r.stream=t,r.input=new Uint8Array(5),n&&(n*=.8),r}return xm(t,e),t.prototype.readBlock=function(){for(var e=this.stream,t=e.getByte();$x(t);)t=e.getByte();if(-1!==t&&126!==t){var n,r,s=this.bufferLength;if(122===t){for(n=this.ensureBuffer(s+4),r=0;r<4;++r)n[s+r]=0;this.bufferLength+=4}else{var i=this.input;for(i[0]=t,r=1;r<5;++r){for(t=e.getByte();$x(t);)t=e.getByte();if(i[r]=t,-1===t||126===t)break}if(n=this.ensureBuffer(s+r-1),this.bufferLength+=r-1,r<5){for(;r<5;++r)i[r]=117;this.eof=!0}var a=0;for(r=0;r<5;++r)a=85*a+(i[r]-33);for(r=3;r>=0;--r)n[s+r]=255&a,a>>=8}}else this.eof=!0},t}(Zx);const tb=eb;var nb=function(e){function t(t,n){var r=e.call(this,n)||this;return r.stream=t,r.firstDigit=-1,n&&(n*=.5),r}return xm(t,e),t.prototype.readBlock=function(){var e=this.stream.getBytes(8e3);if(e.length){for(var t=e.length+1>>1,n=this.ensureBuffer(this.bufferLength+t),r=this.bufferLength,s=this.firstDigit,i=0,a=e.length;i<a;i++){var o=e[i],l=void 0;if(o>=48&&o<=57)l=15&o;else{if(!(o>=65&&o<=70||o>=97&&o<=102)){if(62===o){this.eof=!0;break}continue}l=9+(15&o)}s<0?s=l:(n[r++]=s<<4|l,s=-1)}s>=0&&this.eof&&(n[r++]=s<<4,s=-1),this.firstDigit=s,this.bufferLength=r}else this.eof=!0},t}(Zx);const rb=nb;var sb=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ib=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),ab=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),ob=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],lb=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5],cb=function(e){function t(t,n){var r=e.call(this,n)||this;r.stream=t;var s=t.getByte(),i=t.getByte();if(-1===s||-1===i)throw new Error("Invalid header in flate stream: "+s+", "+i);if(8!==(15&s))throw new Error("Unknown compression method in flate stream: "+s+", "+i);if(((s<<8)+i)%31!==0)throw new Error("Bad FCHECK in flate stream: "+s+", "+i);if(32&i)throw new Error("FDICT bit set in flate stream: "+s+", "+i);return r.codeSize=0,r.codeBuf=0,r}return xm(t,e),t.prototype.readBlock=function(){var e,t,n=this.stream,r=this.getBits(3);if(1&r&&(this.eof=!0),0!==(r>>=1)){var s,i;if(1===r)s=ob,i=lb;else{if(2!==r)throw new Error("Unknown block type in flate stream");var a=this.getBits(5)+257,o=this.getBits(5)+1,l=this.getBits(4)+4,c=new Uint8Array(sb.length),d=void 0;for(d=0;d<l;++d)c[sb[d]]=this.getBits(3);var u=this.generateHuffmanTable(c);t=0,d=0;for(var h=a+o,p=new Uint8Array(h),m=void 0,f=void 0,g=void 0;d<h;){var x=this.getCode(u);if(16===x)m=2,f=3,g=t;else if(17===x)m=3,f=3,g=t=0;else{if(18!==x){p[d++]=t=x;continue}m=7,f=11,g=t=0}for(var b=this.getBits(m)+f;b-- >0;)p[d++]=g}s=this.generateHuffmanTable(p.subarray(0,a)),i=this.generateHuffmanTable(p.subarray(a,h))}for(var y=(e=this.buffer)?e.length:0,v=this.bufferLength;;){var w=this.getCode(s);if(w<256)v+1>=y&&(y=(e=this.ensureBuffer(v+1)).length),e[v++]=w;else{if(256===w)return void(this.bufferLength=v);var j=(w=ib[w-=257])>>16;j>0&&(j=this.getBits(j)),t=(65535&w)+j,w=this.getCode(i),(j=(w=ab[w])>>16)>0&&(j=this.getBits(j));var k=(65535&w)+j;v+t>=y&&(y=(e=this.ensureBuffer(v+t)).length);for(var N=0;N<t;++N,++v)e[v]=e[v-k]}}}else{var S=void 0;if(-1===(S=n.getByte()))throw new Error("Bad block header in flate stream");var C=S;if(-1===(S=n.getByte()))throw new Error("Bad block header in flate stream");if(C|=S<<8,-1===(S=n.getByte()))throw new Error("Bad block header in flate stream");var A=S;if(-1===(S=n.getByte()))throw new Error("Bad block header in flate stream");if((A|=S<<8)!==(65535&~C)&&(0!==C||0!==A))throw new Error("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;var T=this.bufferLength;e=this.ensureBuffer(T+C);var E=T+C;if(this.bufferLength=E,0===C)-1===n.peekByte()&&(this.eof=!0);else for(var P=T;P<E;++P){if(-1===(S=n.getByte())){this.eof=!0;break}e[P]=S}}},t.prototype.getBits=function(e){for(var t,n=this.stream,r=this.codeSize,s=this.codeBuf;r<e;){if(-1===(t=n.getByte()))throw new Error("Bad encoding in flate stream");s|=t<<r,r+=8}return t=s&(1<<e)-1,this.codeBuf=s>>e,this.codeSize=r-=e,t},t.prototype.getCode=function(e){for(var t,n=this.stream,r=e[0],s=e[1],i=this.codeSize,a=this.codeBuf;i<s&&-1!==(t=n.getByte());)a|=t<<i,i+=8;var o=r[a&(1<<s)-1];"number"===typeof r&&console.log("FLATE:",o);var l=o>>16,c=65535&o;if(l<1||i<l)throw new Error("Bad encoding in flate stream");return this.codeBuf=a>>l,this.codeSize=i-l,c},t.prototype.generateHuffmanTable=function(e){var t,n=e.length,r=0;for(t=0;t<n;++t)e[t]>r&&(r=e[t]);for(var s=1<<r,i=new Int32Array(s),a=1,o=0,l=2;a<=r;++a,o<<=1,l<<=1)for(var c=0;c<n;++c)if(e[c]===a){var d=0,u=o;for(t=0;t<a;++t)d=d<<1|1&u,u>>=1;for(t=d;t<s;t+=l)i[t]=a<<16|c;++o}return[i,r]},t}(Zx);const db=cb;var ub=function(e){function t(t,n,r){var s=e.call(this,n)||this;s.stream=t,s.cachedData=0,s.bitsCached=0;for(var i=4096,a={earlyChange:r,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(i),dictionaryLengths:new Uint16Array(i),dictionaryPrevCodes:new Uint16Array(i),currentSequence:new Uint8Array(i),currentSequenceLength:0},o=0;o<256;++o)a.dictionaryValues[o]=o,a.dictionaryLengths[o]=1;return s.lzwState=a,s}return xm(t,e),t.prototype.readBlock=function(){var e,t,n,r=1024,s=this.lzwState;if(s){var i=s.earlyChange,a=s.nextCode,o=s.dictionaryValues,l=s.dictionaryLengths,c=s.dictionaryPrevCodes,d=s.codeLength,u=s.prevCode,h=s.currentSequence,p=s.currentSequenceLength,m=0,f=this.bufferLength,g=this.ensureBuffer(this.bufferLength+r);for(e=0;e<512;e++){var x=this.readBits(d),b=p>0;if(!x||x<256)h[0]=x,p=1;else{if(!(x>=258)){if(256===x){d=9,a=258,p=0;continue}this.eof=!0,delete this.lzwState;break}if(x<a)for(t=(p=l[x])-1,n=x;t>=0;t--)h[t]=o[n],n=c[n];else h[p++]=h[0]}if(b&&(c[a]=u,l[a]=l[u]+1,o[a]=h[0],d=++a+i&a+i-1?d:0|Math.min(Math.log(a+i)/.6931471805599453+1,12)),u=x,r<(m+=p)){do{r+=512}while(r<m);g=this.ensureBuffer(this.bufferLength+r)}for(t=0;t<p;t++)g[f++]=h[t]}s.nextCode=a,s.codeLength=d,s.prevCode=u,s.currentSequenceLength=p,this.bufferLength=f}},t.prototype.readBits=function(e){for(var t=this.bitsCached,n=this.cachedData;t<e;){var r=this.stream.getByte();if(-1===r)return this.eof=!0,null;n=n<<8|r,t+=8}return this.bitsCached=t-=e,this.cachedData=n,n>>>t&(1<<e)-1},t}(Zx);const hb=ub;var pb=function(e){function t(t,n){var r=e.call(this,n)||this;return r.stream=t,r}return xm(t,e),t.prototype.readBlock=function(){var e=this.stream.getBytes(2);if(!e||e.length<2||128===e[0])this.eof=!0;else{var t,n=this.bufferLength,r=e[0];if(r<128){if((t=this.ensureBuffer(n+r+1))[n++]=e[1],r>0){var s=this.stream.getBytes(r);t.set(s,n),n+=r}}else{r=257-r;var i=e[1];t=this.ensureBuffer(n+r+1);for(var a=0;a<r;a++)t[n++]=i}this.bufferLength=n}},t}(Zx);const mb=pb;var fb=function(e,t,n){if(t===Og.of("FlateDecode"))return new db(e);if(t===Og.of("LZWDecode")){var r=1;if(n instanceof Ug){var s=n.lookup(Og.of("EarlyChange"));s instanceof Sg&&(r=s.asNumber())}return new hb(e,void 0,r)}if(t===Og.of("ASCII85Decode"))return new tb(e);if(t===Og.of("ASCIIHexDecode"))return new rb(e);if(t===Og.of("RunLengthDecode"))return new mb(e);throw new Zf(t.asString())},gb=function(e){var t=e.dict,n=e.contents,r=new Qx(n),s=t.lookup(Og.of("Filter")),i=t.lookup(Og.of("DecodeParms"));if(s instanceof Og)r=fb(r,s,i);else if(s instanceof Ag)for(var a=0,o=s.size();a<o;a++)r=fb(r,s.lookup(a,Og),i&&i.lookupMaybe(a,Ug));else if(s)throw new Jf([Og,Ag],s);return r},xb=function(){function e(e,t,n){this.page=e;var r=null!==t&&void 0!==t?t:function(e){var t=e.MediaBox();return{left:0,bottom:0,right:t.lookup(2,Sg).asNumber()-t.lookup(0,Sg).asNumber(),top:t.lookup(3,Sg).asNumber()-t.lookup(1,Sg).asNumber()}}(e);this.width=r.right-r.left,this.height=r.top-r.bottom,this.boundingBox=r,this.transformationMatrix=null!==n&&void 0!==n?n:function(e){return[1,0,0,1,-e.left,-e.bottom]}(r)}return e.for=function(t,n,r){return ym(this,void 0,void 0,(function(){return vm(this,(function(s){return[2,new e(t,n,r)]}))}))},e.prototype.embedIntoContext=function(e,t){return ym(this,void 0,void 0,(function(){var n,r,s,i,a,o,l,c,d,u;return vm(this,(function(h){if(n=this.page.normalizedEntries(),r=n.Contents,s=n.Resources,!r)throw new eg;return i=this.decodeContents(r),a=this.boundingBox,o=a.left,l=a.bottom,c=a.right,d=a.top,u=e.flateStream(i,{Type:"XObject",Subtype:"Form",FormType:1,BBox:[o,l,c,d],Matrix:this.transformationMatrix,Resources:s}),t?(e.assign(t,u),[2,t]):[2,e.register(u)]}))}))},e.prototype.decodeContents=function(e){for(var t=Uint8Array.of(jg.Newline),n=[],r=0,s=e.size();r<s;r++){var i=e.lookup(r,Vg),a=void 0;if(i instanceof Wg)a=gb(i).decode();else{if(!(i instanceof ex))throw new tg(i);a=i.getUnencodedContents()}n.push(a,t)}return Gm.apply(void 0,n)},e}();const bb=xb;var yb,vb,wb,jb,kb=function(e,t){if(void 0!==e)return t[e]};!function(e){e.UseNone="UseNone",e.UseOutlines="UseOutlines",e.UseThumbs="UseThumbs",e.UseOC="UseOC"}(yb||(yb={})),function(e){e.L2R="L2R",e.R2L="R2L"}(vb||(vb={})),function(e){e.None="None",e.AppDefault="AppDefault"}(wb||(wb={})),function(e){e.Simplex="Simplex",e.DuplexFlipShortEdge="DuplexFlipShortEdge",e.DuplexFlipLongEdge="DuplexFlipLongEdge"}(jb||(jb={}));var Nb=function(){function e(e){this.dict=e}return e.prototype.lookupBool=function(e){var t=this.dict.lookup(Og.of(e));if(t instanceof Eg)return t},e.prototype.lookupName=function(e){var t=this.dict.lookup(Og.of(e));if(t instanceof Og)return t},e.prototype.HideToolbar=function(){return this.lookupBool("HideToolbar")},e.prototype.HideMenubar=function(){return this.lookupBool("HideMenubar")},e.prototype.HideWindowUI=function(){return this.lookupBool("HideWindowUI")},e.prototype.FitWindow=function(){return this.lookupBool("FitWindow")},e.prototype.CenterWindow=function(){return this.lookupBool("CenterWindow")},e.prototype.DisplayDocTitle=function(){return this.lookupBool("DisplayDocTitle")},e.prototype.NonFullScreenPageMode=function(){return this.lookupName("NonFullScreenPageMode")},e.prototype.Direction=function(){return this.lookupName("Direction")},e.prototype.PrintScaling=function(){return this.lookupName("PrintScaling")},e.prototype.Duplex=function(){return this.lookupName("Duplex")},e.prototype.PickTrayByPDFSize=function(){return this.lookupBool("PickTrayByPDFSize")},e.prototype.PrintPageRange=function(){var e=this.dict.lookup(Og.of("PrintPageRange"));if(e instanceof Ag)return e},e.prototype.NumCopies=function(){var e=this.dict.lookup(Og.of("NumCopies"));if(e instanceof Sg)return e},e.prototype.getHideToolbar=function(){var e,t;return null!==(t=null===(e=this.HideToolbar())||void 0===e?void 0:e.asBoolean())&&void 0!==t&&t},e.prototype.getHideMenubar=function(){var e,t;return null!==(t=null===(e=this.HideMenubar())||void 0===e?void 0:e.asBoolean())&&void 0!==t&&t},e.prototype.getHideWindowUI=function(){var e,t;return null!==(t=null===(e=this.HideWindowUI())||void 0===e?void 0:e.asBoolean())&&void 0!==t&&t},e.prototype.getFitWindow=function(){var e,t;return null!==(t=null===(e=this.FitWindow())||void 0===e?void 0:e.asBoolean())&&void 0!==t&&t},e.prototype.getCenterWindow=function(){var e,t;return null!==(t=null===(e=this.CenterWindow())||void 0===e?void 0:e.asBoolean())&&void 0!==t&&t},e.prototype.getDisplayDocTitle=function(){var e,t;return null!==(t=null===(e=this.DisplayDocTitle())||void 0===e?void 0:e.asBoolean())&&void 0!==t&&t},e.prototype.getNonFullScreenPageMode=function(){var e,t,n=null===(e=this.NonFullScreenPageMode())||void 0===e?void 0:e.decodeText();return null!==(t=kb(n,yb))&&void 0!==t?t:yb.UseNone},e.prototype.getReadingDirection=function(){var e,t,n=null===(e=this.Direction())||void 0===e?void 0:e.decodeText();return null!==(t=kb(n,vb))&&void 0!==t?t:vb.L2R},e.prototype.getPrintScaling=function(){var e,t,n=null===(e=this.PrintScaling())||void 0===e?void 0:e.decodeText();return null!==(t=kb(n,wb))&&void 0!==t?t:wb.AppDefault},e.prototype.getDuplex=function(){var e,t=null===(e=this.Duplex())||void 0===e?void 0:e.decodeText();return kb(t,jb)},e.prototype.getPickTrayByPDFSize=function(){var e;return null===(e=this.PickTrayByPDFSize())||void 0===e?void 0:e.asBoolean()},e.prototype.getPrintPageRange=function(){var e=this.PrintPageRange();if(!e)return[];for(var t=[],n=0;n<e.size();n+=2){var r=e.lookup(n,Sg).asNumber(),s=e.lookup(n+1,Sg).asNumber();t.push({start:r,end:s})}return t},e.prototype.getNumCopies=function(){var e,t;return null!==(t=null===(e=this.NumCopies())||void 0===e?void 0:e.asNumber())&&void 0!==t?t:1},e.prototype.setHideToolbar=function(e){var t=this.dict.context.obj(e);this.dict.set(Og.of("HideToolbar"),t)},e.prototype.setHideMenubar=function(e){var t=this.dict.context.obj(e);this.dict.set(Og.of("HideMenubar"),t)},e.prototype.setHideWindowUI=function(e){var t=this.dict.context.obj(e);this.dict.set(Og.of("HideWindowUI"),t)},e.prototype.setFitWindow=function(e){var t=this.dict.context.obj(e);this.dict.set(Og.of("FitWindow"),t)},e.prototype.setCenterWindow=function(e){var t=this.dict.context.obj(e);this.dict.set(Og.of("CenterWindow"),t)},e.prototype.setDisplayDocTitle=function(e){var t=this.dict.context.obj(e);this.dict.set(Og.of("DisplayDocTitle"),t)},e.prototype.setNonFullScreenPageMode=function(e){Df(e,"nonFullScreenPageMode",yb);var t=Og.of(e);this.dict.set(Og.of("NonFullScreenPageMode"),t)},e.prototype.setReadingDirection=function(e){Df(e,"readingDirection",vb);var t=Og.of(e);this.dict.set(Og.of("Direction"),t)},e.prototype.setPrintScaling=function(e){Df(e,"printScaling",wb);var t=Og.of(e);this.dict.set(Og.of("PrintScaling"),t)},e.prototype.setDuplex=function(e){Df(e,"duplex",jb);var t=Og.of(e);this.dict.set(Og.of("Duplex"),t)},e.prototype.setPickTrayByPDFSize=function(e){var t=this.dict.context.obj(e);this.dict.set(Og.of("PickTrayByPDFSize"),t)},e.prototype.setPrintPageRange=function(e){Array.isArray(e)||(e=[e]);for(var t=[],n=0,r=e.length;n<r;n++)t.push(e[n].start),t.push(e[n].end);zf(t,"printPageRange",["number"]);var s=this.dict.context.obj(t);this.dict.set(Og.of("PrintPageRange"),s)},e.prototype.setNumCopies=function(e){Bf(e,"numCopies",1,Number.MAX_VALUE),function(e,t){if(!Number.isInteger(e))throw new Error(Ff(t)+" must be an integer, but was actually "+e)}(e,"numCopies");var t=this.dict.context.obj(e);this.dict.set(Og.of("NumCopies"),t)},e.fromDict=function(t){return new e(t)},e.create=function(t){return new e(t.obj({}))},e}();const Sb=Nb;var Cb=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+Tf/,Ab=function(){function e(e,t){this.dict=e,this.ref=t}return e.prototype.T=function(){return this.dict.lookupMaybe(Og.of("T"),Mx,Sx)},e.prototype.Ff=function(){var e=this.getInheritableAttribute(Og.of("Ff"));return this.dict.context.lookupMaybe(e,Sg)},e.prototype.V=function(){var e=this.getInheritableAttribute(Og.of("V"));return this.dict.context.lookup(e)},e.prototype.Kids=function(){return this.dict.lookupMaybe(Og.of("Kids"),Ag)},e.prototype.DA=function(){var e=this.dict.lookup(Og.of("DA"));if(e instanceof Mx||e instanceof Sx)return e},e.prototype.setKids=function(e){this.dict.set(Og.of("Kids"),this.dict.context.obj(e))},e.prototype.getParent=function(){var t=this.dict.get(Og.of("Parent"));if(t instanceof Kg)return new e(this.dict.lookup(Og.of("Parent"),Ug),t)},e.prototype.setParent=function(e){e?this.dict.set(Og.of("Parent"),e):this.dict.delete(Og.of("Parent"))},e.prototype.getFullyQualifiedName=function(){var e=this.getParent();return e?e.getFullyQualifiedName()+"."+this.getPartialName():this.getPartialName()},e.prototype.getPartialName=function(){var e;return null===(e=this.T())||void 0===e?void 0:e.decodeText()},e.prototype.setPartialName=function(e){e?this.dict.set(Og.of("T"),Sx.fromText(e)):this.dict.delete(Og.of("T"))},e.prototype.setDefaultAppearance=function(e){this.dict.set(Og.of("DA"),Mx.of(e))},e.prototype.getDefaultAppearance=function(){var e=this.DA();return e instanceof Sx?e.decodeText():null===e||void 0===e?void 0:e.asString()},e.prototype.setFontSize=function(e){var t,n=null!==(t=this.getFullyQualifiedName())&&void 0!==t?t:"",r=this.getDefaultAppearance();if(!r)throw new dg(n);var s=Vm(r,Cb);if(!s.match)throw new ug(n);var i=r.slice(0,s.pos-s.match[0].length),a=s.pos<=r.length?r.slice(s.pos):"",o=i+" /"+s.match[1]+" "+e+" Tf "+a;this.setDefaultAppearance(o)},e.prototype.getFlags=function(){var e,t;return null!==(t=null===(e=this.Ff())||void 0===e?void 0:e.asNumber())&&void 0!==t?t:0},e.prototype.setFlags=function(e){this.dict.set(Og.of("Ff"),Sg.of(e))},e.prototype.hasFlag=function(e){return 0!==(this.getFlags()&e)},e.prototype.setFlag=function(e){var t=this.getFlags();this.setFlags(t|e)},e.prototype.clearFlag=function(e){var t=this.getFlags();this.setFlags(t&~e)},e.prototype.setFlagTo=function(e,t){t?this.setFlag(e):this.clearFlag(e)},e.prototype.getInheritableAttribute=function(e){var t;return this.ascend((function(n){t||(t=n.dict.get(e))})),t},e.prototype.ascend=function(e){e(this);var t=this.getParent();t&&t.ascend(e)},e}();const Tb=Ab;var Eb=function(){function e(e){this.dict=e}return e.prototype.W=function(){var e=this.dict.lookup(Og.of("W"));if(e instanceof Sg)return e},e.prototype.getWidth=function(){var e,t;return null!==(t=null===(e=this.W())||void 0===e?void 0:e.asNumber())&&void 0!==t?t:1},e.prototype.setWidth=function(e){var t=this.dict.context.obj(e);this.dict.set(Og.of("W"),t)},e.fromDict=function(t){return new e(t)},e}();const Pb=Eb;var Fb=function(){function e(e){this.dict=e}return e.prototype.Rect=function(){return this.dict.lookup(Og.of("Rect"),Ag)},e.prototype.AP=function(){return this.dict.lookupMaybe(Og.of("AP"),Ug)},e.prototype.F=function(){var e=this.dict.lookup(Og.of("F"));return this.dict.context.lookupMaybe(e,Sg)},e.prototype.getRectangle=function(){var e,t=this.Rect();return null!==(e=null===t||void 0===t?void 0:t.asRectangle())&&void 0!==e?e:{x:0,y:0,width:0,height:0}},e.prototype.setRectangle=function(e){var t=e.x,n=e.y,r=e.width,s=e.height,i=this.dict.context.obj([t,n,t+r,n+s]);this.dict.set(Og.of("Rect"),i)},e.prototype.getAppearanceState=function(){var e=this.dict.lookup(Og.of("AS"));if(e instanceof Og)return e},e.prototype.setAppearanceState=function(e){this.dict.set(Og.of("AS"),e)},e.prototype.setAppearances=function(e){this.dict.set(Og.of("AP"),e)},e.prototype.ensureAP=function(){var e=this.AP();return e||(e=this.dict.context.obj({}),this.dict.set(Og.of("AP"),e)),e},e.prototype.getNormalAppearance=function(){var e=this.ensureAP().get(Og.of("N"));if(e instanceof Kg||e instanceof Ug)return e;throw new Error("Unexpected N type: "+(null===e||void 0===e?void 0:e.constructor.name))},e.prototype.setNormalAppearance=function(e){this.ensureAP().set(Og.of("N"),e)},e.prototype.setRolloverAppearance=function(e){this.ensureAP().set(Og.of("R"),e)},e.prototype.setDownAppearance=function(e){this.ensureAP().set(Og.of("D"),e)},e.prototype.removeRolloverAppearance=function(){var e=this.AP();null===e||void 0===e||e.delete(Og.of("R"))},e.prototype.removeDownAppearance=function(){var e=this.AP();null===e||void 0===e||e.delete(Og.of("D"))},e.prototype.getAppearances=function(){var e=this.AP();if(e)return{normal:e.lookup(Og.of("N"),Ug,Vg),rollover:e.lookupMaybe(Og.of("R"),Ug,Vg),down:e.lookupMaybe(Og.of("D"),Ug,Vg)}},e.prototype.getFlags=function(){var e,t;return null!==(t=null===(e=this.F())||void 0===e?void 0:e.asNumber())&&void 0!==t?t:0},e.prototype.setFlags=function(e){this.dict.set(Og.of("F"),Sg.of(e))},e.prototype.hasFlag=function(e){return 0!==(this.getFlags()&e)},e.prototype.setFlag=function(e){var t=this.getFlags();this.setFlags(t|e)},e.prototype.clearFlag=function(e){var t=this.getFlags();this.setFlags(t&~e)},e.prototype.setFlagTo=function(e,t){t?this.setFlag(e):this.clearFlag(e)},e.fromDict=function(t){return new e(t)},e}();const Rb=Fb;var Db=function(){function e(e){this.dict=e}return e.prototype.R=function(){var e=this.dict.lookup(Og.of("R"));if(e instanceof Sg)return e},e.prototype.BC=function(){var e=this.dict.lookup(Og.of("BC"));if(e instanceof Ag)return e},e.prototype.BG=function(){var e=this.dict.lookup(Og.of("BG"));if(e instanceof Ag)return e},e.prototype.CA=function(){var e=this.dict.lookup(Og.of("CA"));if(e instanceof Sx||e instanceof Mx)return e},e.prototype.RC=function(){var e=this.dict.lookup(Og.of("RC"));if(e instanceof Sx||e instanceof Mx)return e},e.prototype.AC=function(){var e=this.dict.lookup(Og.of("AC"));if(e instanceof Sx||e instanceof Mx)return e},e.prototype.getRotation=function(){var e;return null===(e=this.R())||void 0===e?void 0:e.asNumber()},e.prototype.getBorderColor=function(){var e=this.BC();if(e){for(var t=[],n=0,r=null===e||void 0===e?void 0:e.size();n<r;n++){var s=e.get(n);s instanceof Sg&&t.push(s.asNumber())}return t}},e.prototype.getBackgroundColor=function(){var e=this.BG();if(e){for(var t=[],n=0,r=null===e||void 0===e?void 0:e.size();n<r;n++){var s=e.get(n);s instanceof Sg&&t.push(s.asNumber())}return t}},e.prototype.getCaptions=function(){var e=this.CA(),t=this.RC(),n=this.AC();return{normal:null===e||void 0===e?void 0:e.decodeText(),rollover:null===t||void 0===t?void 0:t.decodeText(),down:null===n||void 0===n?void 0:n.decodeText()}},e.prototype.setRotation=function(e){var t=this.dict.context.obj(e);this.dict.set(Og.of("R"),t)},e.prototype.setBorderColor=function(e){var t=this.dict.context.obj(e);this.dict.set(Og.of("BC"),t)},e.prototype.setBackgroundColor=function(e){var t=this.dict.context.obj(e);this.dict.set(Og.of("BG"),t)},e.prototype.setCaptions=function(e){var t=Sx.fromText(e.normal);if(this.dict.set(Og.of("CA"),t),e.rollover){var n=Sx.fromText(e.rollover);this.dict.set(Og.of("RC"),n)}else this.dict.delete(Og.of("RC"));if(e.down){var r=Sx.fromText(e.down);this.dict.set(Og.of("AC"),r)}else this.dict.delete(Og.of("AC"))},e.fromDict=function(t){return new e(t)},e}();const Mb=Db;var Ib=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xm(t,e),t.prototype.MK=function(){var e=this.dict.lookup(Og.of("MK"));if(e instanceof Ug)return e},t.prototype.BS=function(){var e=this.dict.lookup(Og.of("BS"));if(e instanceof Ug)return e},t.prototype.DA=function(){var e=this.dict.lookup(Og.of("DA"));if(e instanceof Mx||e instanceof Sx)return e},t.prototype.P=function(){var e=this.dict.get(Og.of("P"));if(e instanceof Kg)return e},t.prototype.setP=function(e){this.dict.set(Og.of("P"),e)},t.prototype.setDefaultAppearance=function(e){this.dict.set(Og.of("DA"),Mx.of(e))},t.prototype.getDefaultAppearance=function(){var e=this.DA();return e instanceof Sx?e.decodeText():null===e||void 0===e?void 0:e.asString()},t.prototype.getAppearanceCharacteristics=function(){var e=this.MK();if(e)return Mb.fromDict(e)},t.prototype.getOrCreateAppearanceCharacteristics=function(){var e=this.MK();if(e)return Mb.fromDict(e);var t=Mb.fromDict(this.dict.context.obj({}));return this.dict.set(Og.of("MK"),t.dict),t},t.prototype.getBorderStyle=function(){var e=this.BS();if(e)return Pb.fromDict(e)},t.prototype.getOrCreateBorderStyle=function(){var e=this.BS();if(e)return Pb.fromDict(e);var t=Pb.fromDict(this.dict.context.obj({}));return this.dict.set(Og.of("BS"),t.dict),t},t.prototype.getOnValue=function(){var e,t=null===(e=this.getAppearances())||void 0===e?void 0:e.normal;if(t instanceof Ug)for(var n=t.keys(),r=0,s=n.length;r<s;r++){var i=n[r];if(i!==Og.of("Off"))return i}},t.fromDict=function(e){return new t(e)},t.create=function(e,n){return new t(e.obj({Type:"Annot",Subtype:"Widget",Rect:[0,0,0,0],Parent:n}))},t}(Rb);const _b=Ib;var Lb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xm(t,e),t.prototype.FT=function(){var e=this.getInheritableAttribute(Og.of("FT"));return this.dict.context.lookup(e,Og)},t.prototype.getWidgets=function(){var e=this.Kids();if(!e)return[_b.fromDict(this.dict)];for(var t=new Array(e.size()),n=0,r=e.size();n<r;n++){var s=e.lookup(n,Ug);t[n]=_b.fromDict(s)}return t},t.prototype.addWidget=function(e){this.normalizedEntries().Kids.push(e)},t.prototype.removeWidget=function(e){var t=this.Kids();if(t){if(e<0||e>t.size())throw new og(e,0,t.size());t.remove(e)}else{if(0!==e)throw new og(e,0,0);this.setKids([])}},t.prototype.normalizedEntries=function(){var e=this.Kids();return e||(e=this.dict.context.obj([this.ref]),this.dict.set(Og.of("Kids"),e)),{Kids:e}},t.fromDict=function(e,n){return new t(e,n)},t}(Tb);const Ob=Lb;var zb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xm(t,e),t.prototype.Opt=function(){return this.dict.lookupMaybe(Og.of("Opt"),Mx,Sx,Ag)},t.prototype.setOpt=function(e){this.dict.set(Og.of("Opt"),this.dict.context.obj(e))},t.prototype.getExportValues=function(){var e=this.Opt();if(e){if(e instanceof Mx||e instanceof Sx)return[e];for(var t=[],n=0,r=e.size();n<r;n++){var s=e.lookup(n);(s instanceof Mx||s instanceof Sx)&&t.push(s)}return t}},t.prototype.removeExportValue=function(e){var t=this.Opt();if(t)if(t instanceof Mx||t instanceof Sx){if(0!==e)throw new og(e,0,0);this.setOpt([])}else{if(e<0||e>t.size())throw new og(e,0,t.size());t.remove(e)}},t.prototype.normalizeExportValues=function(){for(var e,t,n,r,s=null!==(e=this.getExportValues())&&void 0!==e?e:[],i=[],a=this.getWidgets(),o=0,l=a.length;o<l;o++){var c=a[o],d=null!==(t=s[o])&&void 0!==t?t:Sx.fromText(null!==(r=null===(n=c.getOnValue())||void 0===n?void 0:n.decodeText())&&void 0!==r?r:"");i.push(d)}this.setOpt(i)},t.prototype.addOpt=function(e,t){var n;this.normalizeExportValues();var r,s=e.decodeText();if(t)for(var i=null!==(n=this.getExportValues())&&void 0!==n?n:[],a=0,o=i.length;a<o;a++){i[a].decodeText()===s&&(r=a)}var l=this.Opt();return l.push(e),null!==r&&void 0!==r?r:l.size()-1},t.prototype.addWidgetWithOpt=function(e,t,n){var r=this.addOpt(t,n),s=Og.of(String(r));return this.addWidget(e),s},t}(Ob);const Bb=zb;var Ub=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xm(t,e),t.prototype.setValue=function(e){var t;if(e!==(null!==(t=this.getOnValue())&&void 0!==t?t:Og.of("Yes"))&&e!==Og.of("Off"))throw new lg;this.dict.set(Og.of("V"),e);for(var n=this.getWidgets(),r=0,s=n.length;r<s;r++){var i=n[r],a=i.getOnValue()===e?e:Og.of("Off");i.setAppearanceState(a)}},t.prototype.getValue=function(){var e=this.V();return e instanceof Og?e:Og.of("Off")},t.prototype.getOnValue=function(){var e=this.getWidgets()[0];return null===e||void 0===e?void 0:e.getOnValue()},t.fromDict=function(e,n){return new t(e,n)},t.create=function(e){var n=e.obj({FT:"Btn",Kids:[]});return new t(n,e.register(n))},t}(Bb);const qb=Ub;var Vb,Wb,Hb,Gb,Kb=function(e){return 1<<e};!function(e){e[e.ReadOnly=Kb(0)]="ReadOnly",e[e.Required=Kb(1)]="Required",e[e.NoExport=Kb(2)]="NoExport"}(Vb||(Vb={})),function(e){e[e.NoToggleToOff=Kb(14)]="NoToggleToOff",e[e.Radio=Kb(15)]="Radio",e[e.PushButton=Kb(16)]="PushButton",e[e.RadiosInUnison=Kb(25)]="RadiosInUnison"}(Wb||(Wb={})),function(e){e[e.Multiline=Kb(12)]="Multiline",e[e.Password=Kb(13)]="Password",e[e.FileSelect=Kb(20)]="FileSelect",e[e.DoNotSpellCheck=Kb(22)]="DoNotSpellCheck",e[e.DoNotScroll=Kb(23)]="DoNotScroll",e[e.Comb=Kb(24)]="Comb",e[e.RichText=Kb(25)]="RichText"}(Hb||(Hb={})),function(e){e[e.Combo=Kb(17)]="Combo",e[e.Edit=Kb(18)]="Edit",e[e.Sort=Kb(19)]="Sort",e[e.MultiSelect=Kb(21)]="MultiSelect",e[e.DoNotSpellCheck=Kb(22)]="DoNotSpellCheck",e[e.CommitOnSelChange=Kb(26)]="CommitOnSelChange"}(Gb||(Gb={}));var Xb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xm(t,e),t.prototype.setValues=function(e){if(this.hasFlag(Gb.Combo)&&!this.hasFlag(Gb.Edit)&&!this.valuesAreValid(e))throw new lg;if(0===e.length&&this.dict.delete(Og.of("V")),1===e.length&&this.dict.set(Og.of("V"),e[0]),e.length>1){if(!this.hasFlag(Gb.MultiSelect))throw new cg;this.dict.set(Og.of("V"),this.dict.context.obj(e))}this.updateSelectedIndices(e)},t.prototype.valuesAreValid=function(e){for(var t=this.getOptions(),n=function(n,r){var s=e[n].decodeText();if(!t.find((function(e){return s===(e.display||e.value).decodeText()})))return{value:!1}},r=0,s=e.length;r<s;r++){var i=n(r);if("object"===typeof i)return i.value}return!0},t.prototype.updateSelectedIndices=function(e){if(e.length>1){for(var t=new Array(e.length),n=this.getOptions(),r=function(r,s){var i=e[r].decodeText();t[r]=n.findIndex((function(e){return i===(e.display||e.value).decodeText()}))},s=0,i=e.length;s<i;s++)r(s);this.dict.set(Og.of("I"),this.dict.context.obj(t.sort()))}else this.dict.delete(Og.of("I"))},t.prototype.getValues=function(){var e=this.V();if(e instanceof Mx||e instanceof Sx)return[e];if(e instanceof Ag){for(var t=[],n=0,r=e.size();n<r;n++){var s=e.lookup(n);(s instanceof Mx||s instanceof Sx)&&t.push(s)}return t}return[]},t.prototype.Opt=function(){return this.dict.lookupMaybe(Og.of("Opt"),Mx,Sx,Ag)},t.prototype.setOptions=function(e){for(var t=new Array(e.length),n=0,r=e.length;n<r;n++){var s=e[n],i=s.value,a=s.display;t[n]=this.dict.context.obj([i,a||i])}this.dict.set(Og.of("Opt"),this.dict.context.obj(t))},t.prototype.getOptions=function(){var e=this.Opt();if(e instanceof Mx||e instanceof Sx)return[{value:e,display:e}];if(e instanceof Ag){for(var t=[],n=0,r=e.size();n<r;n++){var s=e.lookup(n);if((s instanceof Mx||s instanceof Sx)&&t.push({value:s,display:s}),s instanceof Ag&&s.size()>0){var i=s.lookup(0,Mx,Sx),a=s.lookupMaybe(1,Mx,Sx);t.push({value:i,display:a||i})}}return t}return[]},t}(Ob);const Yb=Xb;const Qb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xm(t,e),t.fromDict=function(e,n){return new t(e,n)},t.create=function(e){var n=e.obj({FT:"Ch",Ff:Gb.Combo,Kids:[]});return new t(n,e.register(n))},t}(Yb);const Jb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xm(t,e),t.prototype.addField=function(e){var t=this.normalizedEntries().Kids;null===t||void 0===t||t.push(e)},t.prototype.normalizedEntries=function(){var e=this.Kids();return e||(e=this.dict.context.obj([]),this.dict.set(Og.of("Kids"),e)),{Kids:e}},t.fromDict=function(e,n){return new t(e,n)},t.create=function(e){var n=e.obj({});return new t(n,e.register(n))},t}(Tb);const Zb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xm(t,e),t.fromDict=function(e,n){return new t(e,n)},t}(Ob);const $b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xm(t,e),t.prototype.MaxLen=function(){var e=this.dict.lookup(Og.of("MaxLen"));if(e instanceof Sg)return e},t.prototype.Q=function(){var e=this.dict.lookup(Og.of("Q"));if(e instanceof Sg)return e},t.prototype.setMaxLength=function(e){this.dict.set(Og.of("MaxLen"),Sg.of(e))},t.prototype.removeMaxLength=function(){this.dict.delete(Og.of("MaxLen"))},t.prototype.getMaxLength=function(){var e;return null===(e=this.MaxLen())||void 0===e?void 0:e.asNumber()},t.prototype.setQuadding=function(e){this.dict.set(Og.of("Q"),Sg.of(e))},t.prototype.getQuadding=function(){var e;return null===(e=this.Q())||void 0===e?void 0:e.asNumber()},t.prototype.setValue=function(e){this.dict.set(Og.of("V"),e)},t.prototype.removeValue=function(){this.dict.delete(Og.of("V"))},t.prototype.getValue=function(){var e=this.V();if(e instanceof Mx||e instanceof Sx)return e},t.fromDict=function(e,n){return new t(e,n)},t.create=function(e){var n=e.obj({FT:"Tx",Kids:[]});return new t(n,e.register(n))},t}(Ob);const ey=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xm(t,e),t.fromDict=function(e,n){return new t(e,n)},t.create=function(e){var n=e.obj({FT:"Btn",Ff:Wb.PushButton,Kids:[]});return new t(n,e.register(n))},t}(Bb);var ty=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xm(t,e),t.prototype.setValue=function(e){if(!this.getOnValues().includes(e)&&e!==Og.of("Off"))throw new lg;this.dict.set(Og.of("V"),e);for(var t=this.getWidgets(),n=0,r=t.length;n<r;n++){var s=t[n],i=s.getOnValue()===e?e:Og.of("Off");s.setAppearanceState(i)}},t.prototype.getValue=function(){var e=this.V();return e instanceof Og?e:Og.of("Off")},t.prototype.getOnValues=function(){for(var e=this.getWidgets(),t=[],n=0,r=e.length;n<r;n++){var s=e[n].getOnValue();s&&t.push(s)}return t},t.fromDict=function(e,n){return new t(e,n)},t.create=function(e){var n=e.obj({FT:"Btn",Ff:Wb.Radio,Kids:[]});return new t(n,e.register(n))},t}(Bb);const ny=ty;const ry=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xm(t,e),t.fromDict=function(e,n){return new t(e,n)},t.create=function(e){var n=e.obj({FT:"Ch",Kids:[]});return new t(n,e.register(n))},t}(Yb);var sy=function(e){if(!e)return[];for(var t=[],n=0,r=e.size();n<r;n++){var s=e.get(n),i=e.lookup(n);s instanceof Kg&&i instanceof Ug&&t.push([iy(i,s),s])}return t},iy=function(e,t){return ay(e)?Jb.fromDict(e,t):oy(e,t)},ay=function(e){var t=e.lookup(Og.of("Kids"));if(t instanceof Ag)for(var n=0,r=t.size();n<r;n++){var s=t.lookup(n);if(s instanceof Ug&&s.has(Og.of("T")))return!0}return!1},oy=function(e,t){var n=uy(e,Og.of("FT")),r=e.context.lookup(n,Og);return r===Og.of("Btn")?ly(e,t):r===Og.of("Ch")?cy(e,t):r===Og.of("Tx")?$b.fromDict(e,t):r===Og.of("Sig")?Zb.fromDict(e,t):Ob.fromDict(e,t)},ly=function(e,t){var n,r=uy(e,Og.of("Ff")),s=e.context.lookupMaybe(r,Sg),i=null!==(n=null===s||void 0===s?void 0:s.asNumber())&&void 0!==n?n:0;return dy(i,Wb.PushButton)?ey.fromDict(e,t):dy(i,Wb.Radio)?ny.fromDict(e,t):qb.fromDict(e,t)},cy=function(e,t){var n,r=uy(e,Og.of("Ff")),s=e.context.lookupMaybe(r,Sg),i=null!==(n=null===s||void 0===s?void 0:s.asNumber())&&void 0!==n?n:0;return dy(i,Gb.Combo)?Qb.fromDict(e,t):ry.fromDict(e,t)},dy=function(e,t){return 0!==(e&t)},uy=function(e,t){var n;return hy(e,(function(e){n||(n=e.get(t))})),n},hy=function(e,t){t(e);var n=e.lookupMaybe(Og.of("Parent"),Ug);n&&hy(n,t)},py=function(){function e(e){this.dict=e}return e.prototype.Fields=function(){var e=this.dict.lookup(Og.of("Fields"));if(e instanceof Ag)return e},e.prototype.getFields=function(){for(var e=this.normalizedEntries().Fields,t=new Array(e.size()),n=0,r=e.size();n<r;n++){var s=e.get(n),i=e.lookup(n,Ug);t[n]=[iy(i,s),s]}return t},e.prototype.getAllFields=function(){var e=[],t=function(n){if(n)for(var r=0,s=n.length;r<s;r++){var i=n[r];e.push(i);var a=i[0];a instanceof Jb&&t(sy(a.Kids()))}};return t(this.getFields()),e},e.prototype.addField=function(e){var t=this.normalizedEntries().Fields;null===t||void 0===t||t.push(e)},e.prototype.removeField=function(e){var t=e.getParent(),n=void 0===t?this.normalizedEntries().Fields:t.Kids(),r=null===n||void 0===n?void 0:n.indexOf(e.ref);if(void 0===n||void 0===r)throw new Error("Tried to remove inexistent field "+e.getFullyQualifiedName());n.remove(r),void 0!==t&&0===n.size()&&this.removeField(t)},e.prototype.normalizedEntries=function(){var e=this.Fields();return e||(e=this.dict.context.obj([]),this.dict.set(Og.of("Fields"),e)),{Fields:e}},e.fromDict=function(t){return new e(t)},e.create=function(t){return new e(t.obj({Fields:[]}))},e}();const my=py;const fy=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xm(t,e),t.prototype.Pages=function(){return this.lookup(Og.of("Pages"),Ug)},t.prototype.AcroForm=function(){return this.lookupMaybe(Og.of("AcroForm"),Ug)},t.prototype.getAcroForm=function(){var e=this.AcroForm();if(e)return my.fromDict(e)},t.prototype.getOrCreateAcroForm=function(){var e=this.getAcroForm();if(!e){e=my.create(this.context);var t=this.context.register(e.dict);this.set(Og.of("AcroForm"),t)}return e},t.prototype.ViewerPreferences=function(){return this.lookupMaybe(Og.of("ViewerPreferences"),Ug)},t.prototype.getViewerPreferences=function(){var e=this.ViewerPreferences();if(e)return Sb.fromDict(e)},t.prototype.getOrCreateViewerPreferences=function(){var e=this.getViewerPreferences();if(!e){e=Sb.create(this.context);var t=this.context.register(e.dict);this.set(Og.of("ViewerPreferences"),t)}return e},t.prototype.insertLeafNode=function(e,t){var n=this.get(Og.of("Pages"));return this.Pages().insertLeafNode(e,t)||n},t.prototype.removeLeafNode=function(e){this.Pages().removeLeafNode(e)},t.withContextAndPages=function(e,n){var r=new Map;return r.set(Og.of("Type"),Og.of("Catalog")),r.set(Og.of("Pages"),n),new t(r,e)},t.fromMapWithContext=function(e,n){return new t(e,n)},t}(Ug);var gy=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xm(t,e),t.prototype.Parent=function(){return this.lookup(Og.of("Parent"))},t.prototype.Kids=function(){return this.lookup(Og.of("Kids"),Ag)},t.prototype.Count=function(){return this.lookup(Og.of("Count"),Sg)},t.prototype.pushTreeNode=function(e){this.Kids().push(e)},t.prototype.pushLeafNode=function(e){var t=this.Kids();this.insertLeafKid(t.size(),e)},t.prototype.insertLeafNode=function(e,n){var r=this.Kids(),s=this.Count().asNumber();if(n>s)throw new ig(n,s);for(var i=n,a=0,o=r.size();a<o;a++){if(0===i)return void this.insertLeafKid(a,e);var l=r.get(a),c=this.context.lookup(l);if(c instanceof t){if(c.Count().asNumber()>i)return c.insertLeafNode(e,i)||l;i-=c.Count().asNumber()}c instanceof ax&&(i-=1)}if(0!==i)throw new ag(n,"insertLeafNode");this.insertLeafKid(r.size(),e)},t.prototype.removeLeafNode=function(e,n){void 0===n&&(n=!0);var r=this.Kids(),s=this.Count().asNumber();if(e>=s)throw new ig(e,s);for(var i=e,a=0,o=r.size();a<o;a++){var l=r.get(a),c=this.context.lookup(l);if(c instanceof t){if(c.Count().asNumber()>i)return c.removeLeafNode(i,n),void(n&&0===c.Kids().size()&&r.remove(a));i-=c.Count().asNumber()}if(c instanceof ax){if(0===i)return void this.removeKid(a);i-=1}}throw new ag(e,"removeLeafNode")},t.prototype.ascend=function(e){e(this);var t=this.Parent();t&&t.ascend(e)},t.prototype.traverse=function(e){for(var n=this.Kids(),r=0,s=n.size();r<s;r++){var i=n.get(r),a=this.context.lookup(i);a instanceof t&&a.traverse(e),e(a,i)}},t.prototype.insertLeafKid=function(e,t){var n=this.Kids();this.ascend((function(e){var t=e.Count().asNumber()+1;e.set(Og.of("Count"),Sg.of(t))})),n.insert(e,t)},t.prototype.removeKid=function(e){var t=this.Kids();t.lookup(e)instanceof ax&&this.ascend((function(e){var t=e.Count().asNumber()-1;e.set(Og.of("Count"),Sg.of(t))})),t.remove(e)},t.withContext=function(e,n){var r=new Map;return r.set(Og.of("Type"),Og.of("Pages")),r.set(Og.of("Kids"),e.obj([])),r.set(Og.of("Count"),e.obj(0)),n&&r.set(Og.of("Parent"),n),new t(r,e)},t.fromMapWithContext=function(e,n){return new t(e,n)},t}(Ug);const xy=gy;var by=new Uint8Array(256);by[jg.Zero]=1,by[jg.One]=1,by[jg.Two]=1,by[jg.Three]=1,by[jg.Four]=1,by[jg.Five]=1,by[jg.Six]=1,by[jg.Seven]=1,by[jg.Eight]=1,by[jg.Nine]=1;var yy=new Uint8Array(256);yy[jg.Period]=1,yy[jg.Plus]=1,yy[jg.Minus]=1;for(var vy=new Uint8Array(256),wy=0;wy<256;wy++)vy[wy]=by[wy]||yy[wy]?1:0;var jy=jg.Newline,ky=jg.CarriageReturn,Ny=function(){function e(e,t){void 0===t&&(t=!1),this.bytes=e,this.capNumbers=t}return e.prototype.parseRawInt=function(){for(var e="";!this.bytes.done();){var t=this.bytes.peek();if(!by[t])break;e+=Fm(this.bytes.next())}var n=Number(e);if(!e||!isFinite(n))throw new hg(this.bytes.position(),e);return n},e.prototype.parseRawNumber=function(){for(var e="";!this.bytes.done();){var t=this.bytes.peek();if(!vy[t])break;if(e+=Fm(this.bytes.next()),t===jg.Period)break}for(;!this.bytes.done();){t=this.bytes.peek();if(!by[t])break;e+=Fm(this.bytes.next())}var n=Number(e);if(!e||!isFinite(n))throw new hg(this.bytes.position(),e);if(n>Number.MAX_SAFE_INTEGER){if(this.capNumbers){var r="Parsed number that is too large for some PDF readers: "+e+", using Number.MAX_SAFE_INTEGER instead.";return console.warn(r),Number.MAX_SAFE_INTEGER}r="Parsed number that is too large for some PDF readers: "+e+", not capping.";console.warn(r)}return n},e.prototype.skipWhitespace=function(){for(;!this.bytes.done()&&Fg[this.bytes.peek()];)this.bytes.next()},e.prototype.skipLine=function(){for(;!this.bytes.done();){var e=this.bytes.peek();if(e===jy||e===ky)return;this.bytes.next()}},e.prototype.skipComment=function(){if(this.bytes.peek()!==jg.Percent)return!1;for(;!this.bytes.done();){var e=this.bytes.peek();if(e===jy||e===ky)return!0;this.bytes.next()}return!0},e.prototype.skipWhitespaceAndComments=function(){for(this.skipWhitespace();this.skipComment();)this.skipWhitespace()},e.prototype.matchKeyword=function(e){for(var t=this.bytes.offset(),n=0,r=e.length;n<r;n++)if(this.bytes.done()||this.bytes.next()!==e[n])return this.bytes.moveTo(t),!1;return!0},e}();const Sy=Ny;const Cy=function(){function e(e){this.idx=0,this.line=0,this.column=0,this.bytes=e,this.length=this.bytes.length}return e.prototype.moveTo=function(e){this.idx=e},e.prototype.next=function(){var e=this.bytes[this.idx++];return e===jg.Newline?(this.line+=1,this.column=0):this.column+=1,e},e.prototype.assertNext=function(e){if(this.peek()!==e)throw new mg(this.position(),e,this.peek());return this.next()},e.prototype.peek=function(){return this.bytes[this.idx]},e.prototype.peekAhead=function(e){return this.bytes[this.idx+e]},e.prototype.peekAt=function(e){return this.bytes[e]},e.prototype.done=function(){return this.idx>=this.length},e.prototype.offset=function(){return this.idx},e.prototype.slice=function(e,t){return this.bytes.slice(e,t)},e.prototype.position=function(){return{line:this.line,column:this.column,offset:this.idx}},e.of=function(t){return new e(t)},e.fromPDFRawStream=function(t){return e.of(gb(t).decode())},e}();var Ay=jg.Space,Ty=jg.CarriageReturn,Ey=jg.Newline,Py=[jg.s,jg.t,jg.r,jg.e,jg.a,jg.m],Fy=[jg.e,jg.n,jg.d,jg.s,jg.t,jg.r,jg.e,jg.a,jg.m],Ry={header:[jg.Percent,jg.P,jg.D,jg.F,jg.Dash],eof:[jg.Percent,jg.Percent,jg.E,jg.O,jg.F],obj:[jg.o,jg.b,jg.j],endobj:[jg.e,jg.n,jg.d,jg.o,jg.b,jg.j],xref:[jg.x,jg.r,jg.e,jg.f],trailer:[jg.t,jg.r,jg.a,jg.i,jg.l,jg.e,jg.r],startxref:[jg.s,jg.t,jg.a,jg.r,jg.t,jg.x,jg.r,jg.e,jg.f],true:[jg.t,jg.r,jg.u,jg.e],false:[jg.f,jg.a,jg.l,jg.s,jg.e],null:[jg.n,jg.u,jg.l,jg.l],stream:Py,streamEOF1:wm(Py,[Ay,Ty,Ey]),streamEOF2:wm(Py,[Ty,Ey]),streamEOF3:wm(Py,[Ty]),streamEOF4:wm(Py,[Ey]),endstream:Fy,EOF1endstream:wm([Ty,Ey],Fy),EOF2endstream:wm([Ty],Fy),EOF3endstream:wm([Ey],Fy)};const Dy=function(e){function t(t,n,r){void 0===r&&(r=!1);var s=e.call(this,t,r)||this;return s.context=n,s}return xm(t,e),t.prototype.parseObject=function(){if(this.skipWhitespaceAndComments(),this.matchKeyword(Ry.true))return Eg.True;if(this.matchKeyword(Ry.false))return Eg.False;if(this.matchKeyword(Ry.null))return zg;var e=this.bytes.peek();if(e===jg.LessThan&&this.bytes.peekAhead(1)===jg.LessThan)return this.parseDictOrStream();if(e===jg.LessThan)return this.parseHexString();if(e===jg.LeftParen)return this.parseString();if(e===jg.ForwardSlash)return this.parseName();if(e===jg.LeftSquareBracket)return this.parseArray();if(vy[e])return this.parseNumberOrRef();throw new fg(this.bytes.position(),e)},t.prototype.parseNumberOrRef=function(){var e=this.parseRawNumber();this.skipWhitespaceAndComments();var t=this.bytes.offset();if(by[this.bytes.peek()]){var n=this.parseRawNumber();if(this.skipWhitespaceAndComments(),this.bytes.peek()===jg.R)return this.bytes.assertNext(jg.R),Kg.of(e,n)}return this.bytes.moveTo(t),Sg.of(e)},t.prototype.parseHexString=function(){var e="";for(this.bytes.assertNext(jg.LessThan);!this.bytes.done()&&this.bytes.peek()!==jg.GreaterThan;)e+=Fm(this.bytes.next());return this.bytes.assertNext(jg.GreaterThan),Sx.of(e)},t.prototype.parseString=function(){for(var e=0,t=!1,n="";!this.bytes.done();){var r=this.bytes.next();if(n+=Fm(r),t||(r===jg.LeftParen&&(e+=1),r===jg.RightParen&&(e-=1)),r===jg.BackSlash?t=!t:t&&(t=!1),0===e)return Mx.of(n.substring(1,n.length-1))}throw new bg(this.bytes.position())},t.prototype.parseName=function(){this.bytes.assertNext(jg.ForwardSlash);for(var e="";!this.bytes.done();){var t=this.bytes.peek();if(Fg[t]||Pg[t])break;e+=Fm(t),this.bytes.next()}return Og.of(e)},t.prototype.parseArray=function(){this.bytes.assertNext(jg.LeftSquareBracket),this.skipWhitespaceAndComments();for(var e=Ag.withContext(this.context);this.bytes.peek()!==jg.RightSquareBracket;){var t=this.parseObject();e.push(t),this.skipWhitespaceAndComments()}return this.bytes.assertNext(jg.RightSquareBracket),e},t.prototype.parseDict=function(){this.bytes.assertNext(jg.LessThan),this.bytes.assertNext(jg.LessThan),this.skipWhitespaceAndComments();for(var e=new Map;!this.bytes.done()&&this.bytes.peek()!==jg.GreaterThan&&this.bytes.peekAhead(1)!==jg.GreaterThan;){var t=this.parseName(),n=this.parseObject();e.set(t,n),this.skipWhitespaceAndComments()}this.skipWhitespaceAndComments(),this.bytes.assertNext(jg.GreaterThan),this.bytes.assertNext(jg.GreaterThan);var r=e.get(Og.of("Type"));return r===Og.of("Catalog")?fy.fromMapWithContext(e,this.context):r===Og.of("Pages")?xy.fromMapWithContext(e,this.context):r===Og.of("Page")?ax.fromMapWithContext(e,this.context):Ug.fromMapWithContext(e,this.context)},t.prototype.parseDictOrStream=function(){var e=this.bytes.position(),t=this.parseDict();if(this.skipWhitespaceAndComments(),!this.matchKeyword(Ry.streamEOF1)&&!this.matchKeyword(Ry.streamEOF2)&&!this.matchKeyword(Ry.streamEOF3)&&!this.matchKeyword(Ry.streamEOF4)&&!this.matchKeyword(Ry.stream))return t;var n,r=this.bytes.offset(),s=t.get(Og.of("Length"));s instanceof Sg?(n=r+s.asNumber(),this.bytes.moveTo(n),this.skipWhitespaceAndComments(),this.matchKeyword(Ry.endstream)||(this.bytes.moveTo(r),n=this.findEndOfStreamFallback(e))):n=this.findEndOfStreamFallback(e);var i=this.bytes.slice(r,n);return Wg.of(t,i)},t.prototype.findEndOfStreamFallback=function(e){for(var t=1,n=this.bytes.offset();!this.bytes.done()&&(n=this.bytes.offset(),this.matchKeyword(Ry.stream)?t+=1:this.matchKeyword(Ry.EOF1endstream)||this.matchKeyword(Ry.EOF2endstream)||this.matchKeyword(Ry.EOF3endstream)||this.matchKeyword(Ry.endstream)?t-=1:this.bytes.next(),0!==t););if(0!==t)throw new xg(e);return n},t.forBytes=function(e,n,r){return new t(Cy.of(e),n,r)},t.forByteStream=function(e,n,r){return void 0===r&&(r=!1),new t(e,n,r)},t}(Sy);var My=function(e){function t(t,n){var r=e.call(this,Cy.fromPDFRawStream(t),t.dict.context)||this,s=t.dict;return r.alreadyParsed=!1,r.shouldWaitForTick=n||function(){return!1},r.firstOffset=s.lookup(Og.of("First"),Sg).asNumber(),r.objectCount=s.lookup(Og.of("N"),Sg).asNumber(),r}return xm(t,e),t.prototype.parseIntoContext=function(){return ym(this,void 0,void 0,(function(){var e,t,n,r,s,i,a,o;return vm(this,(function(l){switch(l.label){case 0:if(this.alreadyParsed)throw new $f("PDFObjectStreamParser","parseIntoContext");this.alreadyParsed=!0,e=this.parseOffsetsAndObjectNumbers(),t=0,n=e.length,l.label=1;case 1:return t<n?(r=e[t],s=r.objectNumber,i=r.offset,this.bytes.moveTo(this.firstOffset+i),a=this.parseObject(),o=Kg.of(s,0),this.context.assign(o,a),this.shouldWaitForTick()?[4,Jm()]:[3,3]):[3,4];case 2:l.sent(),l.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))},t.prototype.parseOffsetsAndObjectNumbers=function(){for(var e=[],t=0,n=this.objectCount;t<n;t++){this.skipWhitespaceAndComments();var r=this.parseRawInt();this.skipWhitespaceAndComments();var s=this.parseRawInt();e.push({objectNumber:r,offset:s})}return e},t.forStream=function(e,n){return new t(e,n)},t}(Dy);const Iy=My;var _y=function(){function e(e){this.alreadyParsed=!1,this.dict=e.dict,this.bytes=Cy.fromPDFRawStream(e),this.context=this.dict.context;var t=this.dict.lookup(Og.of("Size"),Sg),n=this.dict.lookup(Og.of("Index"));if(n instanceof Ag){this.subsections=[];for(var r=0,s=n.size();r<s;r+=2){var i=n.lookup(r+0,Sg).asNumber(),a=n.lookup(r+1,Sg).asNumber();this.subsections.push({firstObjectNumber:i,length:a})}}else this.subsections=[{firstObjectNumber:0,length:t.asNumber()}];var o=this.dict.lookup(Og.of("W"),Ag);this.byteWidths=[-1,-1,-1];for(r=0,s=o.size();r<s;r++)this.byteWidths[r]=o.lookup(r,Sg).asNumber()}return e.prototype.parseIntoContext=function(){if(this.alreadyParsed)throw new $f("PDFXRefStreamParser","parseIntoContext");return this.alreadyParsed=!0,this.context.trailerInfo={Root:this.dict.get(Og.of("Root")),Encrypt:this.dict.get(Og.of("Encrypt")),Info:this.dict.get(Og.of("Info")),ID:this.dict.get(Og.of("ID"))},this.parseEntries()},e.prototype.parseEntries=function(){for(var e=[],t=this.byteWidths,n=t[0],r=t[1],s=t[2],i=0,a=this.subsections.length;i<a;i++)for(var o=this.subsections[i],l=o.firstObjectNumber,c=o.length,d=0;d<c;d++){for(var u=0,h=0,p=n;h<p;h++)u=u<<8|this.bytes.next();var m=0;for(h=0,p=r;h<p;h++)m=m<<8|this.bytes.next();var f=0;for(h=0,p=s;h<p;h++)f=f<<8|this.bytes.next();0===n&&(u=1);var g=l+d,x={ref:Kg.of(g,f),offset:m,deleted:0===u,inObjectStream:2===u};e.push(x)}return e},e.forStream=function(t){return new e(t)},e}();const Ly=_y;var Oy=function(e){function t(t,n,r,s){void 0===n&&(n=1/0),void 0===r&&(r=!1),void 0===s&&(s=!1);var i=e.call(this,Cy.of(t),sx.create(),s)||this;return i.alreadyParsed=!1,i.parsedObjects=0,i.shouldWaitForTick=function(){return i.parsedObjects+=1,i.parsedObjects%i.objectsPerTick===0},i.objectsPerTick=n,i.throwOnInvalidObject=r,i}return xm(t,e),t.prototype.parseDocument=function(){return ym(this,void 0,void 0,(function(){var e,t;return vm(this,(function(n){switch(n.label){case 0:if(this.alreadyParsed)throw new $f("PDFParser","parseDocument");this.alreadyParsed=!0,this.context.header=this.parseHeader(),n.label=1;case 1:return this.bytes.done()?[3,3]:[4,this.parseDocumentSection()];case 2:if(n.sent(),(t=this.bytes.offset())===e)throw new yg(this.bytes.position());return e=t,[3,1];case 3:return this.maybeRecoverRoot(),this.context.lookup(Kg.of(0))&&(console.warn("Removing parsed object: 0 0 R"),this.context.delete(Kg.of(0))),[2,this.context]}}))}))},t.prototype.maybeRecoverRoot=function(){var e=function(e){return e instanceof Ug&&e.lookup(Og.of("Type"))===Og.of("Catalog")};if(!e(this.context.lookup(this.context.trailerInfo.Root)))for(var t=this.context.enumerateIndirectObjects(),n=0,r=t.length;n<r;n++){var s=t[n],i=s[0];e(s[1])&&(this.context.trailerInfo.Root=i)}},t.prototype.parseHeader=function(){for(;!this.bytes.done();){if(this.matchKeyword(Ry.header)){var e=this.parseRawInt();this.bytes.assertNext(jg.Period);var t=this.parseRawInt(),n=kg.forVersion(e,t);return this.skipBinaryHeaderComment(),n}this.bytes.next()}throw new vg(this.bytes.position())},t.prototype.parseIndirectObjectHeader=function(){this.skipWhitespaceAndComments();var e=this.parseRawInt();this.skipWhitespaceAndComments();var t=this.parseRawInt();if(this.skipWhitespaceAndComments(),!this.matchKeyword(Ry.obj))throw new wg(this.bytes.position(),Ry.obj);return Kg.of(e,t)},t.prototype.matchIndirectObjectHeader=function(){var e=this.bytes.offset();try{return this.parseIndirectObjectHeader(),!0}catch(EN){return this.bytes.moveTo(e),!1}},t.prototype.parseIndirectObject=function(){return ym(this,void 0,void 0,(function(){var e,t;return vm(this,(function(n){switch(n.label){case 0:return e=this.parseIndirectObjectHeader(),this.skipWhitespaceAndComments(),t=this.parseObject(),this.skipWhitespaceAndComments(),this.matchKeyword(Ry.endobj),t instanceof Wg&&t.dict.lookup(Og.of("Type"))===Og.of("ObjStm")?[4,Iy.forStream(t,this.shouldWaitForTick).parseIntoContext()]:[3,2];case 1:return n.sent(),[3,3];case 2:t instanceof Wg&&t.dict.lookup(Og.of("Type"))===Og.of("XRef")?Ly.forStream(t).parseIntoContext():this.context.assign(e,t),n.label=3;case 3:return[2,e]}}))}))},t.prototype.tryToParseInvalidIndirectObject=function(){var e=this.bytes.position(),t="Trying to parse invalid object: "+JSON.stringify(e)+")";if(this.throwOnInvalidObject)throw new Error(t);console.warn(t);var n=this.parseIndirectObjectHeader();console.warn("Invalid object ref: "+n),this.skipWhitespaceAndComments();for(var r=this.bytes.offset(),s=!0;!this.bytes.done()&&(this.matchKeyword(Ry.endobj)&&(s=!1),s);)this.bytes.next();if(s)throw new gg(e);var i=this.bytes.offset()-Ry.endobj.length,a=bx.of(this.bytes.slice(r,i));return this.context.assign(n,a),n},t.prototype.parseIndirectObjects=function(){return ym(this,void 0,void 0,(function(){var e;return vm(this,(function(t){switch(t.label){case 0:this.skipWhitespaceAndComments(),t.label=1;case 1:if(this.bytes.done()||!by[this.bytes.peek()])return[3,8];e=this.bytes.offset(),t.label=2;case 2:return t.trys.push([2,4,,5]),[4,this.parseIndirectObject()];case 3:return t.sent(),[3,5];case 4:return t.sent(),this.bytes.moveTo(e),this.tryToParseInvalidIndirectObject(),[3,5];case 5:return this.skipWhitespaceAndComments(),this.skipJibberish(),this.shouldWaitForTick()?[4,Jm()]:[3,7];case 6:t.sent(),t.label=7;case 7:return[3,1];case 8:return[2]}}))}))},t.prototype.maybeParseCrossRefSection=function(){if(this.skipWhitespaceAndComments(),this.matchKeyword(Ry.xref)){this.skipWhitespaceAndComments();for(var e=-1,t=dx.createEmpty();!this.bytes.done()&&by[this.bytes.peek()];){var n=this.parseRawInt();this.skipWhitespaceAndComments();var r=this.parseRawInt();this.skipWhitespaceAndComments();var s=this.bytes.peek();if(s===jg.n||s===jg.f){var i=Kg.of(e,r);this.bytes.next()===jg.n?t.addEntry(i,n):t.addDeletedEntry(i,n),e+=1}else e=n;this.skipWhitespaceAndComments()}return t}},t.prototype.maybeParseTrailerDict=function(){if(this.skipWhitespaceAndComments(),this.matchKeyword(Ry.trailer)){this.skipWhitespaceAndComments();var e=this.parseDict(),t=this.context;t.trailerInfo={Root:e.get(Og.of("Root"))||t.trailerInfo.Root,Encrypt:e.get(Og.of("Encrypt"))||t.trailerInfo.Encrypt,Info:e.get(Og.of("Info"))||t.trailerInfo.Info,ID:e.get(Og.of("ID"))||t.trailerInfo.ID}}},t.prototype.maybeParseTrailer=function(){if(this.skipWhitespaceAndComments(),this.matchKeyword(Ry.startxref)){this.skipWhitespaceAndComments();var e=this.parseRawInt();return this.skipWhitespace(),this.matchKeyword(Ry.eof),this.skipWhitespaceAndComments(),this.matchKeyword(Ry.eof),this.skipWhitespaceAndComments(),ux.forLastCrossRefSectionOffset(e)}},t.prototype.parseDocumentSection=function(){return ym(this,void 0,void 0,(function(){return vm(this,(function(e){switch(e.label){case 0:return[4,this.parseIndirectObjects()];case 1:return e.sent(),this.maybeParseCrossRefSection(),this.maybeParseTrailerDict(),this.maybeParseTrailer(),this.skipJibberish(),[2]}}))}))},t.prototype.skipJibberish=function(){for(this.skipWhitespaceAndComments();!this.bytes.done();){var e=this.bytes.offset(),t=this.bytes.peek();if(t>=jg.Space&&t<=jg.Tilde&&(this.matchKeyword(Ry.xref)||this.matchKeyword(Ry.trailer)||this.matchKeyword(Ry.startxref)||this.matchIndirectObjectHeader())){this.bytes.moveTo(e);break}this.bytes.next()}},t.prototype.skipBinaryHeaderComment=function(){this.skipWhitespaceAndComments();try{var e=this.bytes.offset();this.parseIndirectObjectHeader(),this.bytes.moveTo(e)}catch(EN){this.bytes.next(),this.skipWhitespaceAndComments()}},t.forBytesWithOptions=function(e,n,r,s){return new t(e,n,r,s)},t}(Dy);const zy=Oy;var By,Uy=function(e){return 1<<e};!function(e){e[e.Invisible=Uy(0)]="Invisible",e[e.Hidden=Uy(1)]="Hidden",e[e.Print=Uy(2)]="Print",e[e.NoZoom=Uy(3)]="NoZoom",e[e.NoRotate=Uy(4)]="NoRotate",e[e.NoView=Uy(5)]="NoView",e[e.ReadOnly=Uy(6)]="ReadOnly",e[e.Locked=Uy(7)]="Locked",e[e.ToggleNoView=Uy(8)]="ToggleNoView",e[e.LockedContents=Uy(9)]="LockedContents"}(By||(By={}));var qy,Vy=function(e){return e instanceof Og?e:Og.of(e)},Wy=function(e){return e instanceof Sg?e:Sg.of(e)},Hy=function(e){return e instanceof Sg?e.asNumber():e};!function(e){e.Degrees="degrees",e.Radians="radians"}(qy||(qy={}));var Gy,Ky=function(e){return Lf(e,"degreeAngle",["number"]),{type:qy.Degrees,angle:e}},Xy=qy.Radians,Yy=qy.Degrees,Qy=function(e){return e*Math.PI/180},Jy=function(e){return e.type===Xy?e.angle:e.type===Yy?Qy(e.angle):hf("Invalid rotation: "+JSON.stringify(e))},Zy=function(e){return e.type===Xy?180*e.angle/Math.PI:e.type===Yy?e.angle:hf("Invalid rotation: "+JSON.stringify(e))},$y=function(e){void 0===e&&(e=0);var t=e/90%4;return 0===t?0:1===t?90:2===t?180:3===t?270:0},ev=function(e,t){void 0===t&&(t=0);var n=$y(t);return 90===n||270===n?{width:e.height,height:e.width}:{width:e.width,height:e.height}},tv=function(){return Yg.of(Jg.ClipNonZero)},nv=Math.cos,rv=Math.sin,sv=Math.tan,iv=function(e,t,n,r,s,i){return Yg.of(Jg.ConcatTransformationMatrix,[Wy(e),Wy(t),Wy(n),Wy(r),Wy(s),Wy(i)])},av=function(e,t){return iv(1,0,0,1,e,t)},ov=function(e,t){return iv(e,0,0,t,0,0)},lv=function(e){return iv(nv(Hy(e)),rv(Hy(e)),-rv(Hy(e)),nv(Hy(e)),0,0)},cv=function(e){return lv(Qy(Hy(e)))},dv=function(e,t){return iv(1,sv(Hy(e)),sv(Hy(t)),1,0,0)},uv=function(e,t){return Yg.of(Jg.SetLineDashPattern,["["+e.map(Wy).join(" ")+"]",Wy(t)])};!function(e){e[e.Butt=0]="Butt",e[e.Round=1]="Round",e[e.Projecting=2]="Projecting"}(Gy||(Gy={}));var hv,pv=function(e){return Yg.of(Jg.SetLineCapStyle,[Wy(e)])};!function(e){e[e.Miter=0]="Miter",e[e.Round=1]="Round",e[e.Bevel=2]="Bevel"}(hv||(hv={}));var mv,fv=function(e){return Yg.of(Jg.SetGraphicsStateParams,[Vy(e)])},gv=function(){return Yg.of(Jg.PushGraphicsState)},xv=function(){return Yg.of(Jg.PopGraphicsState)},bv=function(e){return Yg.of(Jg.SetLineWidth,[Wy(e)])},yv=function(e,t,n,r,s,i){return Yg.of(Jg.AppendBezierCurve,[Wy(e),Wy(t),Wy(n),Wy(r),Wy(s),Wy(i)])},vv=function(e,t,n,r){return Yg.of(Jg.CurveToReplicateInitialPoint,[Wy(e),Wy(t),Wy(n),Wy(r)])},wv=function(){return Yg.of(Jg.ClosePath)},jv=function(e,t){return Yg.of(Jg.MoveTo,[Wy(e),Wy(t)])},kv=function(e,t){return Yg.of(Jg.LineTo,[Wy(e),Wy(t)])},Nv=function(){return Yg.of(Jg.StrokePath)},Sv=function(){return Yg.of(Jg.FillNonZero)},Cv=function(){return Yg.of(Jg.FillNonZeroAndStroke)},Av=function(){return Yg.of(Jg.EndPath)},Tv=function(e){return Yg.of(Jg.ShowText,[e])},Ev=function(){return Yg.of(Jg.BeginText)},Pv=function(){return Yg.of(Jg.EndText)},Fv=function(e,t){return Yg.of(Jg.SetFontAndSize,[Vy(e),Wy(t)])};!function(e){e[e.Fill=0]="Fill",e[e.Outline=1]="Outline",e[e.FillAndOutline=2]="FillAndOutline",e[e.Invisible=3]="Invisible",e[e.FillAndClip=4]="FillAndClip",e[e.OutlineAndClip=5]="OutlineAndClip",e[e.FillAndOutlineAndClip=6]="FillAndOutlineAndClip",e[e.Clip=7]="Clip"}(mv||(mv={}));var Rv,Dv=function(e,t,n,r,s){return i=nv(Hy(e)),a=rv(Hy(e))+sv(Hy(t)),o=-rv(Hy(e))+sv(Hy(n)),l=nv(Hy(e)),c=r,d=s,Yg.of(Jg.SetTextMatrix,[Wy(i),Wy(a),Wy(o),Wy(l),Wy(c),Wy(d)]);var i,a,o,l,c,d},Mv=function(e){return Yg.of(Jg.DrawObject,[Vy(e)])},Iv=function(e){return Yg.of(Jg.BeginMarkedContent,[Vy(e)])},_v=function(){return Yg.of(Jg.EndMarkedContent)};!function(e){e.Grayscale="Grayscale",e.RGB="RGB",e.CMYK="CMYK"}(Rv||(Rv={}));var Lv,Ov=function(e){return Bf(e,"gray",0,1),{type:Rv.Grayscale,gray:e}},zv=function(e,t,n){return Bf(e,"red",0,1),Bf(t,"green",0,1),Bf(n,"blue",0,1),{type:Rv.RGB,red:e,green:t,blue:n}},Bv=function(e,t,n,r){return Bf(e,"cyan",0,1),Bf(t,"magenta",0,1),Bf(n,"yellow",0,1),Bf(r,"key",0,1),{type:Rv.CMYK,cyan:e,magenta:t,yellow:n,key:r}},Uv=Rv.Grayscale,qv=Rv.RGB,Vv=Rv.CMYK,Wv=function(e){return e.type===Uv?(l=e.gray,Yg.of(Jg.NonStrokingColorGray,[Wy(l)])):e.type===qv?(i=e.red,a=e.green,o=e.blue,Yg.of(Jg.NonStrokingColorRgb,[Wy(i),Wy(a),Wy(o)])):e.type===Vv?(t=e.cyan,n=e.magenta,r=e.yellow,s=e.key,Yg.of(Jg.NonStrokingColorCmyk,[Wy(t),Wy(n),Wy(r),Wy(s)])):hf("Invalid color: "+JSON.stringify(e));var t,n,r,s,i,a,o,l},Hv=function(e){return e.type===Uv?(l=e.gray,Yg.of(Jg.StrokingColorGray,[Wy(l)])):e.type===qv?(i=e.red,a=e.green,o=e.blue,Yg.of(Jg.StrokingColorRgb,[Wy(i),Wy(a),Wy(o)])):e.type===Vv?(t=e.cyan,n=e.magenta,r=e.yellow,s=e.key,Yg.of(Jg.StrokingColorCmyk,[Wy(t),Wy(n),Wy(r),Wy(s)])):hf("Invalid color: "+JSON.stringify(e));var t,n,r,s,i,a,o,l},Gv=function(e,t){return void 0===t&&(t=1),1===(null===e||void 0===e?void 0:e.length)?Ov(e[0]*t):3===(null===e||void 0===e?void 0:e.length)?zv(e[0]*t,e[1]*t,e[2]*t):4===(null===e||void 0===e?void 0:e.length)?Bv(e[0]*t,e[1]*t,e[2]*t,e[3]*t):void 0},Kv=function(e){return e.type===Uv?[e.gray]:e.type===qv?[e.red,e.green,e.blue]:e.type===Vv?[e.cyan,e.magenta,e.yellow,e.key]:hf("Invalid color: "+JSON.stringify(e))},Xv=0,Yv=0,Qv=0,Jv=0,Zv=0,$v=0,ew=new Map([["A",7],["a",7],["C",6],["c",6],["H",1],["h",1],["L",2],["l",2],["M",2],["m",2],["Q",4],["q",4],["S",4],["s",4],["T",2],["t",2],["V",1],["v",1],["Z",0],["z",0]]),tw={M:function(e){return Xv=e[0],Yv=e[1],Qv=Jv=null,Zv=Xv,$v=Yv,jv(Xv,Yv)},m:function(e){return Xv+=e[0],Yv+=e[1],Qv=Jv=null,Zv=Xv,$v=Yv,jv(Xv,Yv)},C:function(e){return Xv=e[4],Yv=e[5],Qv=e[2],Jv=e[3],yv(e[0],e[1],e[2],e[3],e[4],e[5])},c:function(e){var t=yv(e[0]+Xv,e[1]+Yv,e[2]+Xv,e[3]+Yv,e[4]+Xv,e[5]+Yv);return Qv=Xv+e[2],Jv=Yv+e[3],Xv+=e[4],Yv+=e[5],t},S:function(e){null!==Qv&&null!==Jv||(Qv=Xv,Jv=Yv);var t=yv(Xv-(Qv-Xv),Yv-(Jv-Yv),e[0],e[1],e[2],e[3]);return Qv=e[0],Jv=e[1],Xv=e[2],Yv=e[3],t},s:function(e){null!==Qv&&null!==Jv||(Qv=Xv,Jv=Yv);var t=yv(Xv-(Qv-Xv),Yv-(Jv-Yv),Xv+e[0],Yv+e[1],Xv+e[2],Yv+e[3]);return Qv=Xv+e[0],Jv=Yv+e[1],Xv+=e[2],Yv+=e[3],t},Q:function(e){return Qv=e[0],Jv=e[1],Xv=e[2],Yv=e[3],vv(e[0],e[1],Xv,Yv)},q:function(e){var t=vv(e[0]+Xv,e[1]+Yv,e[2]+Xv,e[3]+Yv);return Qv=Xv+e[0],Jv=Yv+e[1],Xv+=e[2],Yv+=e[3],t},T:function(e){null===Qv||null===Jv?(Qv=Xv,Jv=Yv):(Qv=Xv-(Qv-Xv),Jv=Yv-(Jv-Yv));var t=vv(Qv,Jv,e[0],e[1]);return Qv=Xv-(Qv-Xv),Jv=Yv-(Jv-Yv),Xv=e[0],Yv=e[1],t},t:function(e){null===Qv||null===Jv?(Qv=Xv,Jv=Yv):(Qv=Xv-(Qv-Xv),Jv=Yv-(Jv-Yv));var t=vv(Qv,Jv,Xv+e[0],Yv+e[1]);return Xv+=e[0],Yv+=e[1],t},A:function(e){var t=nw(Xv,Yv,e);return Xv=e[5],Yv=e[6],t},a:function(e){e[5]+=Xv,e[6]+=Yv;var t=nw(Xv,Yv,e);return Xv=e[5],Yv=e[6],t},L:function(e){return Xv=e[0],Yv=e[1],Qv=Jv=null,kv(Xv,Yv)},l:function(e){return Xv+=e[0],Yv+=e[1],Qv=Jv=null,kv(Xv,Yv)},H:function(e){return Xv=e[0],Qv=Jv=null,kv(Xv,Yv)},h:function(e){return Xv+=e[0],Qv=Jv=null,kv(Xv,Yv)},V:function(e){return Yv=e[0],Qv=Jv=null,kv(Xv,Yv)},v:function(e){return Yv+=e[0],Qv=Jv=null,kv(Xv,Yv)},Z:function(){var e=wv();return Xv=Zv,Yv=$v,e},z:function(){var e=wv();return Xv=Zv,Yv=$v,e}},nw=function(e,t,n){for(var r=n[0],s=n[1],i=n[2],a=n[3],o=n[4],l=n[5],c=n[6],d=[],u=0,h=rw(l,c,r,s,a,o,i,e,t);u<h.length;u++){var p=h[u],m=sw.apply(void 0,p);d.push(yv.apply(void 0,m))}return d},rw=function(e,t,n,r,s,i,a,o,l){var c=a*(Math.PI/180),d=Math.sin(c),u=Math.cos(c);n=Math.abs(n),r=Math.abs(r);var h=(Qv=u*(o-e)*.5+d*(l-t)*.5)*Qv/(n*n)+(Jv=u*(l-t)*.5-d*(o-e)*.5)*Jv/(r*r);h>1&&(n*=h=Math.sqrt(h),r*=h);var p=u/n,m=d/n,f=-d/r,g=u/r,x=p*o+m*l,b=f*o+g*l,y=p*e+m*t,v=f*e+g*t,w=1/((y-x)*(y-x)+(v-b)*(v-b))-.25;w<0&&(w=0);var j=Math.sqrt(w);i===s&&(j=-j);var k=.5*(x+y)-j*(v-b),N=.5*(b+v)+j*(y-x),S=Math.atan2(b-N,x-k),C=Math.atan2(v-N,y-k)-S;C<0&&1===i?C+=2*Math.PI:C>0&&0===i&&(C-=2*Math.PI);for(var A=Math.ceil(Math.abs(C/(.5*Math.PI+.001))),T=[],E=0;E<A;E++){var P=S+E*C/A,F=S+(E+1)*C/A;T[E]=[k,N,P,F,n,r,d,u]}return T},sw=function(e,t,n,r,s,i,a,o){var l=o*s,c=-a*i,d=a*s,u=o*i,h=.5*(r-n),p=8/3*Math.sin(.5*h)*Math.sin(.5*h)/Math.sin(h),m=e+Math.cos(n)-p*Math.sin(n),f=t+Math.sin(n)+p*Math.cos(n),g=e+Math.cos(r),x=t+Math.sin(r),b=g+p*Math.sin(r),y=x-p*Math.cos(r);return[l*m+c*f,d*m+u*f,l*b+c*y,d*b+u*y,l*g+c*x,d*g+u*x]},iw=function(e){return function(e){Xv=Yv=Qv=Jv=Zv=$v=0;for(var t=[],n=0;n<e.length;n++){var r=e[n];if(r.cmd&&"function"===typeof tw[r.cmd]){var s=tw[r.cmd](r.args);Array.isArray(s)?t=t.concat(s):t.push(s)}}return t}(function(e){for(var t,n=[],r=[],s="",i=!1,a=0,o=0,l=e;o<l.length;o++){var c=l[o];if(ew.has(c))a=ew.get(c),t&&(s.length>0&&(r[r.length]=+s),n[n.length]={cmd:t,args:r},r=[],s="",i=!1),t=c;else if([" ",","].includes(c)||"-"===c&&s.length>0&&"e"!==s[s.length-1]||"."===c&&i){if(0===s.length)continue;r.length===a?(n[n.length]={cmd:t,args:r},r=[+s],"M"===t&&(t="L"),"m"===t&&(t="l")):r[r.length]=+s,i="."===c,s=["-","."].includes(c)?c:""}else s+=c,"."===c&&(i=!0)}return s.length>0&&(r.length===a?(n[n.length]={cmd:t,args:r},r=[+s],"M"===t&&(t="L"),"m"===t&&(t="l")):r[r.length]=+s),n[n.length]={cmd:t,args:r},n}(e))},aw=function(e,t){return[gv(),t.graphicsState&&fv(t.graphicsState),av(t.x,t.y),lv(Jy(t.rotate)),ov(t.width,t.height),dv(Jy(t.xSkew),Jy(t.ySkew)),Mv(e),xv()].filter(Boolean)},ow=function(e){var t,n;return[gv(),e.graphicsState&&fv(e.graphicsState),e.color&&Wv(e.color),e.borderColor&&Hv(e.borderColor),bv(e.borderWidth),e.borderLineCap&&pv(e.borderLineCap),uv(null!==(t=e.borderDashArray)&&void 0!==t?t:[],null!==(n=e.borderDashPhase)&&void 0!==n?n:0),av(e.x,e.y),lv(Jy(e.rotate)),dv(Jy(e.xSkew),Jy(e.ySkew)),jv(0,0),kv(0,e.height),kv(e.width,e.height),kv(e.width,0),wv(),e.color&&e.borderWidth?Cv():e.color?Sv():e.borderColor?Nv():wv(),xv()].filter(Boolean)},lw=(Math.sqrt(2)-1)/3*4,cw=function(e){var t,n,r;return wm([gv(),e.graphicsState&&fv(e.graphicsState),e.color&&Wv(e.color),e.borderColor&&Hv(e.borderColor),bv(e.borderWidth),e.borderLineCap&&pv(e.borderLineCap),uv(null!==(t=e.borderDashArray)&&void 0!==t?t:[],null!==(n=e.borderDashPhase)&&void 0!==n?n:0)],void 0===e.rotate?function(e){var t=Hy(e.x),n=Hy(e.y),r=Hy(e.xScale),s=Hy(e.yScale),i=r*lw,a=s*lw,o=(t-=r)+2*r,l=(n-=s)+2*s,c=t+r,d=n+s;return[gv(),jv(t,d),yv(t,d-a,c-i,n,c,n),yv(c+i,n,o,d-a,o,d),yv(o,d+a,c+i,l,c,l),yv(c-i,l,t,d+a,t,d),xv()]}({x:e.x,y:e.y,xScale:e.xScale,yScale:e.yScale}):function(e){var t=Hy(e.x),n=Hy(e.y),r=Hy(e.xScale),s=Hy(e.yScale),i=-r,a=-s,o=r*lw,l=s*lw,c=i+2*r,d=a+2*s,u=i+r,h=a+s;return[av(t,n),lv(Jy(e.rotate)),jv(i,h),yv(i,h-l,u-o,a,u,a),yv(u+o,a,c,h-l,c,h),yv(c,h+l,u+o,d,u,d),yv(u-o,d,i,h+l,i,h)]}({x:e.x,y:e.y,xScale:e.xScale,yScale:e.yScale,rotate:null!==(r=e.rotate)&&void 0!==r?r:Ky(0)}),[e.color&&e.borderWidth?Cv():e.color?Sv():e.borderColor?Nv():wv(),xv()]).filter(Boolean)},dw=function(e){return 0===e.rotation?[av(0,0),cv(0)]:90===e.rotation?[av(e.width,0),cv(90)]:180===e.rotation?[av(e.width,e.height),cv(180)]:270===e.rotation?[av(0,e.height),cv(270)]:[]},uw=function(e){var t=ow({x:e.x,y:e.y,width:e.width,height:e.height,borderWidth:e.borderWidth,color:e.color,borderColor:e.borderColor,rotate:Ky(0),xSkew:Ky(0),ySkew:Ky(0)});if(!e.filled)return t;var n=Hy(e.width),r=Hy(e.height),s=function(e){var t=Hy(e.size),n=-.25,r=-.49,s=-.675,i=.3995/.965+r;return[gv(),e.color&&Hv(e.color),bv(e.thickness),av(e.x,e.y),jv(s*t,i*t),kv(n*t,r*t),kv(.69*t,.475*t),Nv(),xv()].filter(Boolean)}({x:n/2,y:r/2,size:Math.min(n,r)/2,thickness:e.thickness,color:e.markColor});return wm([gv()],t,s,[xv()])},hw=function(e){var t=Hy(e.width),n=Hy(e.height),r=Math.min(t,n)/2,s=cw({x:e.x,y:e.y,xScale:r,yScale:r,color:e.color,borderColor:e.borderColor,borderWidth:e.borderWidth});if(!e.filled)return s;var i=cw({x:e.x,y:e.y,xScale:.45*r,yScale:.45*r,color:e.dotColor,borderColor:void 0,borderWidth:0});return wm([gv()],s,i,[xv()])},pw=function(e){var t=Hy(e.x),n=Hy(e.y),r=Hy(e.width),s=Hy(e.height),i=ow({x:t,y:n,width:r,height:s,borderWidth:e.borderWidth,color:e.color,borderColor:e.borderColor,rotate:Ky(0),xSkew:Ky(0),ySkew:Ky(0)}),a=mw(e.textLines,{color:e.textColor,font:e.font,size:e.fontSize,rotate:Ky(0),xSkew:Ky(0),ySkew:Ky(0)});return wm([gv()],i,a,[xv()])},mw=function(e,t){for(var n=[Ev(),Wv(t.color),Fv(t.font,t.size)],r=0,s=e.length;r<s;r++){var i=e[r],a=i.encoded,o=i.x,l=i.y;n.push(Dv(Jy(t.rotate),Jy(t.xSkew),Jy(t.ySkew),o,l),Tv(a))}return n.push(Pv()),n},fw=function(e){var t=Hy(e.x),n=Hy(e.y),r=Hy(e.width),s=Hy(e.height),i=Hy(e.borderWidth),a=Hy(e.padding),o=t+i/2+a,l=n+i/2+a,c=r-2*(i/2+a),d=s-2*(i/2+a),u=[jv(o,l),kv(o,l+d),kv(o+c,l+d),kv(o+c,l),wv(),tv(),Av()],h=ow({x:t,y:n,width:r,height:s,borderWidth:e.borderWidth,color:e.color,borderColor:e.borderColor,rotate:Ky(0),xSkew:Ky(0),ySkew:Ky(0)}),p=mw(e.textLines,{color:e.textColor,font:e.font,size:e.fontSize,rotate:Ky(0),xSkew:Ky(0),ySkew:Ky(0)}),m=wm([Iv("Tx"),gv()],p,[xv(),_v()]);return wm([gv()],h,u,m,[xv()])},gw=function(e){function t(){return e.call(this,"Input document to `PDFDocument.load` is encrypted. You can use `PDFDocument.load(..., { ignoreEncryption: true })` if you wish to load the document anyways.")||this}return xm(t,e),t}(Error),xw=function(e){function t(){return e.call(this,"Input to `PDFDocument.embedFont` was a custom font, but no `fontkit` instance was found. You must register a `fontkit` instance with `PDFDocument.registerFontkit(...)` before embedding custom fonts.")||this}return xm(t,e),t}(Error),bw=function(e){function t(){return e.call(this,"A `page` passed to `PDFDocument.addPage` or `PDFDocument.insertPage` was from a different (foreign) PDF document. If you want to copy pages from one PDFDocument to another, you must use `PDFDocument.copyPages(...)` to copy the pages before adding or inserting them.")||this}return xm(t,e),t}(Error),yw=function(e){function t(){return e.call(this,"PDFDocument has no pages so `PDFDocument.removePage` cannot be called")||this}return xm(t,e),t}(Error),vw=function(e){function t(t){var n='PDFDocument has no form field with the name "'+t+'"';return e.call(this,n)||this}return xm(t,e),t}(Error),ww=function(e){function t(t,n,r){var s,i,a='Expected field "'+t+'" to be of type '+(null===n||void 0===n?void 0:n.name)+", but it is actually of type "+(null!==(i=null===(s=null===r||void 0===r?void 0:r.constructor)||void 0===s?void 0:s.name)&&void 0!==i?i:r);return e.call(this,a)||this}return xm(t,e),t}(Error),jw=(function(e){function t(t){var n='Failed to select check box due to missing onValue: "'+t+'"';return e.call(this,n)||this}xm(t,e)}(Error),function(e){function t(t){var n='A field already exists with the specified name: "'+t+'"';return e.call(this,n)||this}return xm(t,e),t}(Error)),kw=function(e){function t(t){var n='Field name contains invalid component: "'+t+'"';return e.call(this,n)||this}return xm(t,e),t}(Error),Nw=(function(e){function t(t){var n='A non-terminal field already exists with the specified name: "'+t+'"';return e.call(this,n)||this}xm(t,e)}(Error),function(e){function t(t){var n="Reading rich text fields is not supported: Attempted to read rich text field: "+t;return e.call(this,n)||this}return xm(t,e),t}(Error)),Sw=function(e){function t(t,n){var r="Failed to layout combed text as lineLength="+t+" is greater than cellCount="+n;return e.call(this,r)||this}return xm(t,e),t}(Error),Cw=function(e){function t(t,n,r){var s="Attempted to set text with length="+t+" for TextField with maxLength="+n+" and name="+r;return e.call(this,s)||this}return xm(t,e),t}(Error),Aw=function(e){function t(t,n,r){var s="Attempted to set maxLength="+n+", which is less than "+t+", the length of this field's current value (name="+r+")";return e.call(this,s)||this}return xm(t,e),t}(Error);!function(e){e[e.Left=0]="Left",e[e.Center=1]="Center",e[e.Right=2]="Right"}(Lv||(Lv={}));var Tw=function(e,t,n,r){void 0===r&&(r=!1);for(var s=4;s<500;){for(var i=0,a=0,o=e.length;a<o;a++){i+=1;for(var l=e[a].split(" "),c=n.width,d=0,u=l.length;d<u;d++){var h=d===u-1?l[d]:l[d]+" ",p=t.widthOfTextAtSize(h,s);(c-=p)<=0&&(i+=1,c=n.width-p)}}if(!r&&i>e.length)return s-1;var m=t.heightAtSize(s);if((m+.2*m)*i>Math.abs(n.height))return s-1;s+=1}return s},Ew=function(e,t,n,r){for(var s=n.width/r,i=n.height,a=4,o=function(e){for(var t=[],n=0,r=e.length;n<r;){var s=zm(e,n),i=s[0],a=s[1];t.push(i),n+=a}return t}(e);a<500;){for(var l=0,c=o.length;l<c;l++){var d=o[l];if(t.widthOfTextAtSize(d,a)>.75*s)return a-1}if(t.heightAtSize(a,{descender:!1})>i)return a-1;a+=1}return a},Pw=function(e){for(var t=e.length;t>0;t--)if(/\s/.test(e[t]))return t},Fw=function(e,t,n,r){for(var s,i=e.length;i>0;){var a=e.substring(0,i),o=n.encodeText(a),l=n.widthOfTextAtSize(a,r);if(l<t)return{line:a,encoded:o,width:l,remainder:e.substring(i)||void 0};i=null!==(s=Pw(a))&&void 0!==s?s:0}return{line:e,encoded:n.encodeText(e),width:n.widthOfTextAtSize(e,r),remainder:void 0}},Rw=function(e,t){var n=t.alignment,r=t.fontSize,s=t.font,i=t.bounds,a=Lm(Mm(e));void 0!==r&&0!==r||(r=Tw(a,s,i,!0));for(var o=s.heightAtSize(r),l=o+.2*o,c=[],d=i.x,u=i.y,h=i.x+i.width,p=i.y+i.height,m=i.y+i.height,f=0,g=a.length;f<g;f++)for(var x=a[f];void 0!==x;){var b=Fw(x,i.width,s,r),y=b.line,v=b.encoded,w=b.width,j=b.remainder,k=n===Lv.Left?i.x:n===Lv.Center?i.x+i.width/2-w/2:n===Lv.Right?i.x+i.width-w:i.x;k<d&&(d=k),(m-=l)<u&&(u=m),k+w>h&&(h=k+w),m+o>p&&(p=m+o),c.push({text:y,encoded:v,width:w,height:o,x:k,y:m}),x=null===j||void 0===j?void 0:j.trim()}return{fontSize:r,lineHeight:l,lines:c,bounds:{x:d,y:u,width:h-d,height:p-u}}},Dw=function(e,t){var n=t.alignment,r=t.fontSize,s=t.font,i=t.bounds,a=Om(Mm(e));void 0!==r&&0!==r||(r=Tw([a],s,i));var o=s.encodeText(a),l=s.widthOfTextAtSize(a,r),c=s.heightAtSize(r,{descender:!1}),d=n===Lv.Left?i.x:n===Lv.Center?i.x+i.width/2-l/2:n===Lv.Right?i.x+i.width-l:i.x,u=i.y+(i.height/2-c/2);return{fontSize:r,line:{text:a,encoded:o,width:l,height:c,x:d,y:u},bounds:{x:d,y:u,width:l,height:c}}},Mw=function(e){return"normal"in e?e:{normal:e}},Iw=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]+(\d*\.\d+|\d+)[\0\t\n\f\r\ ]+Tf/,_w=function(e){var t,n,r=null!==(t=e.getDefaultAppearance())&&void 0!==t?t:"",s=null!==(n=Vm(r,Iw).match)&&void 0!==n?n:[],i=Number(s[2]);return isFinite(i)?i:void 0},Lw=/(\d*\.\d+|\d+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+(g|rg|k)/,Ow=function(e){var t,n=null!==(t=e.getDefaultAppearance())&&void 0!==t?t:"",r=Vm(n,Lw).match,s=null!==r&&void 0!==r?r:[],i=s[1],a=s[2],o=s[3],l=s[4],c=s[5];return"g"===c&&i?Ov(Number(i)):"rg"===c&&i&&a&&o?zv(Number(i),Number(a),Number(o)):"k"===c&&i&&a&&o&&l?Bv(Number(i),Number(a),Number(o),Number(l)):void 0},zw=function(e,t,n,r){var s;void 0===r&&(r=0);var i=[Wv(t).toString(),Fv(null!==(s=null===n||void 0===n?void 0:n.name)&&void 0!==s?s:"dummy__noop",r).toString()].join("\n");e.setDefaultAppearance(i)},Bw=function(e,t){var n,r,s,i=Ow(t),a=Ow(e.acroField),o=t.getRectangle(),l=t.getAppearanceCharacteristics(),c=t.getBorderStyle(),d=null!==(n=null===c||void 0===c?void 0:c.getWidth())&&void 0!==n?n:0,u=$y(null===l||void 0===l?void 0:l.getRotation()),h=ev(o,u),p=h.width,m=h.height,f=dw(bm(bm({},o),{rotation:u})),g=zv(0,0,0),x=null!==(r=Gv(null===l||void 0===l?void 0:l.getBorderColor()))&&void 0!==r?r:g,b=Gv(null===l||void 0===l?void 0:l.getBackgroundColor()),y=Gv(null===l||void 0===l?void 0:l.getBackgroundColor(),.8),v=null!==(s=null!==i&&void 0!==i?i:a)&&void 0!==s?s:g;zw(i?t:e.acroField,v);var w={x:0+d/2,y:0+d/2,width:p-d,height:m-d,thickness:1.5,borderWidth:d,borderColor:x,markColor:v};return{normal:{on:wm(f,uw(bm(bm({},w),{color:b,filled:!0}))),off:wm(f,uw(bm(bm({},w),{color:b,filled:!1})))},down:{on:wm(f,uw(bm(bm({},w),{color:y,filled:!0}))),off:wm(f,uw(bm(bm({},w),{color:y,filled:!1})))}}},Uw=function(e,t){var n,r,s,i=Ow(t),a=Ow(e.acroField),o=t.getRectangle(),l=t.getAppearanceCharacteristics(),c=t.getBorderStyle(),d=null!==(n=null===c||void 0===c?void 0:c.getWidth())&&void 0!==n?n:0,u=$y(null===l||void 0===l?void 0:l.getRotation()),h=ev(o,u),p=h.width,m=h.height,f=dw(bm(bm({},o),{rotation:u})),g=zv(0,0,0),x=null!==(r=Gv(null===l||void 0===l?void 0:l.getBorderColor()))&&void 0!==r?r:g,b=Gv(null===l||void 0===l?void 0:l.getBackgroundColor()),y=Gv(null===l||void 0===l?void 0:l.getBackgroundColor(),.8),v=null!==(s=null!==i&&void 0!==i?i:a)&&void 0!==s?s:g;zw(i?t:e.acroField,v);var w={x:p/2,y:m/2,width:p-d,height:m-d,borderWidth:d,borderColor:x,dotColor:v};return{normal:{on:wm(f,hw(bm(bm({},w),{color:b,filled:!0}))),off:wm(f,hw(bm(bm({},w),{color:b,filled:!1})))},down:{on:wm(f,hw(bm(bm({},w),{color:y,filled:!0}))),off:wm(f,hw(bm(bm({},w),{color:y,filled:!1})))}}},qw=function(e,t,n){var r,s,i,a,o,l=Ow(t),c=Ow(e.acroField),d=_w(t),u=_w(e.acroField),h=t.getRectangle(),p=t.getAppearanceCharacteristics(),m=t.getBorderStyle(),f=null===p||void 0===p?void 0:p.getCaptions(),g=null!==(r=null===f||void 0===f?void 0:f.normal)&&void 0!==r?r:"",x=null!==(i=null!==(s=null===f||void 0===f?void 0:f.down)&&void 0!==s?s:g)&&void 0!==i?i:"",b=null!==(a=null===m||void 0===m?void 0:m.getWidth())&&void 0!==a?a:0,y=$y(null===p||void 0===p?void 0:p.getRotation()),v=ev(h,y),w=v.width,j=v.height,k=dw(bm(bm({},h),{rotation:y})),N=zv(0,0,0),S=Gv(null===p||void 0===p?void 0:p.getBorderColor()),C=Gv(null===p||void 0===p?void 0:p.getBackgroundColor()),A=Gv(null===p||void 0===p?void 0:p.getBackgroundColor(),.8),T={x:b,y:b,width:w-2*b,height:j-2*b},E=Dw(g,{alignment:Lv.Center,fontSize:null!==d&&void 0!==d?d:u,font:n,bounds:T}),P=Dw(x,{alignment:Lv.Center,fontSize:null!==d&&void 0!==d?d:u,font:n,bounds:T}),F=Math.min(E.fontSize,P.fontSize),R=null!==(o=null!==l&&void 0!==l?l:c)&&void 0!==o?o:N;zw(l||void 0!==d?t:e.acroField,R,n,F);var D={x:0+b/2,y:0+b/2,width:w-b,height:j-b,borderWidth:b,borderColor:S,textColor:R,font:n.name,fontSize:F};return{normal:wm(k,pw(bm(bm({},D),{color:C,textLines:[E.line]}))),down:wm(k,pw(bm(bm({},D),{color:A,textLines:[P.line]})))}},Vw=function(e,t,n){var r,s,i,a,o,l,c=Ow(t),d=Ow(e.acroField),u=_w(t),h=_w(e.acroField),p=t.getRectangle(),m=t.getAppearanceCharacteristics(),f=t.getBorderStyle(),g=null!==(r=e.getText())&&void 0!==r?r:"",x=null!==(s=null===f||void 0===f?void 0:f.getWidth())&&void 0!==s?s:0,b=$y(null===m||void 0===m?void 0:m.getRotation()),y=ev(p,b),v=y.width,w=y.height,j=dw(bm(bm({},p),{rotation:b})),k=zv(0,0,0),N=Gv(null===m||void 0===m?void 0:m.getBorderColor()),S=Gv(null===m||void 0===m?void 0:m.getBackgroundColor()),C=e.isCombed()?0:1,A={x:x+C,y:x+C,width:v-2*(x+C),height:w-2*(x+C)};if(e.isMultiline())o=(T=Rw(g,{alignment:e.getAlignment(),fontSize:null!==u&&void 0!==u?u:h,font:n,bounds:A})).lines,l=T.fontSize;else if(e.isCombed()){var T=function(e,t){var n=t.fontSize,r=t.font,s=t.bounds,i=t.cellCount,a=Om(Mm(e));if(a.length>i)throw new Sw(a.length,i);void 0!==n&&0!==n||(n=Ew(a,r,s,i));for(var o=s.width/i,l=r.heightAtSize(n,{descender:!1}),c=s.y+(s.height/2-l/2),d=[],u=s.x,h=s.y,p=s.x+s.width,m=s.y+s.height,f=0,g=0;f<i;){var x=zm(a,g),b=x[0],y=x[1],v=r.encodeText(b),w=r.widthOfTextAtSize(b,n),j=s.x+(o*f+o/2)-w/2;j<u&&(u=j),c<h&&(h=c),j+w>p&&(p=j+w),c+l>m&&(m=c+l),d.push({text:a,encoded:v,width:w,height:l,x:j,y:c}),f+=1,g+=y}return{fontSize:n,cells:d,bounds:{x:u,y:h,width:p-u,height:m-h}}}(g,{fontSize:null!==u&&void 0!==u?u:h,font:n,bounds:A,cellCount:null!==(i=e.getMaxLength())&&void 0!==i?i:0});o=T.cells,l=T.fontSize}else{o=[(T=Dw(g,{alignment:e.getAlignment(),fontSize:null!==u&&void 0!==u?u:h,font:n,bounds:A})).line],l=T.fontSize}var E=null!==(a=null!==c&&void 0!==c?c:d)&&void 0!==a?a:k;zw(c||void 0!==u?t:e.acroField,E,n,l);var P={x:0+x/2,y:0+x/2,width:v-x,height:w-x,borderWidth:null!==x&&void 0!==x?x:0,borderColor:N,textColor:E,font:n.name,fontSize:l,color:S,textLines:o,padding:C};return wm(j,fw(P))},Ww=function(e,t,n){var r,s,i,a=Ow(t),o=Ow(e.acroField),l=_w(t),c=_w(e.acroField),d=t.getRectangle(),u=t.getAppearanceCharacteristics(),h=t.getBorderStyle(),p=null!==(r=e.getSelected()[0])&&void 0!==r?r:"",m=null!==(s=null===h||void 0===h?void 0:h.getWidth())&&void 0!==s?s:0,f=$y(null===u||void 0===u?void 0:u.getRotation()),g=ev(d,f),x=g.width,b=g.height,y=dw(bm(bm({},d),{rotation:f})),v=zv(0,0,0),w=Gv(null===u||void 0===u?void 0:u.getBorderColor()),j=Gv(null===u||void 0===u?void 0:u.getBackgroundColor()),k={x:m+1,y:m+1,width:x-2*(m+1),height:b-2*(m+1)},N=Dw(p,{alignment:Lv.Left,fontSize:null!==l&&void 0!==l?l:c,font:n,bounds:k}),S=N.line,C=N.fontSize,A=null!==(i=null!==a&&void 0!==a?a:o)&&void 0!==i?i:v;zw(a||void 0!==l?t:e.acroField,A,n,C);var T={x:0+m/2,y:0+m/2,width:x-m,height:b-m,borderWidth:null!==m&&void 0!==m?m:0,borderColor:w,textColor:A,font:n.name,fontSize:C,color:j,textLines:[S],padding:1};return wm(y,fw(T))},Hw=function(e,t,n){var r,s,i=Ow(t),a=Ow(e.acroField),o=_w(t),l=_w(e.acroField),c=t.getRectangle(),d=t.getAppearanceCharacteristics(),u=t.getBorderStyle(),h=null!==(r=null===u||void 0===u?void 0:u.getWidth())&&void 0!==r?r:0,p=$y(null===d||void 0===d?void 0:d.getRotation()),m=ev(c,p),f=m.width,g=m.height,x=dw(bm(bm({},c),{rotation:p})),b=zv(0,0,0),y=Gv(null===d||void 0===d?void 0:d.getBorderColor()),v=Gv(null===d||void 0===d?void 0:d.getBackgroundColor()),w=e.getOptions(),j=e.getSelected();e.isSorted()&&w.sort();for(var k="",N=0,S=w.length;N<S;N++)k+=w[N],N<S-1&&(k+="\n");var C={x:h+1,y:h+1,width:f-2*(h+1),height:g-2*(h+1)},A=Rw(k,{alignment:Lv.Left,fontSize:null!==o&&void 0!==o?o:l,font:n,bounds:C}),T=A.lines,E=A.fontSize,P=A.lineHeight,F=[];for(N=0,S=T.length;N<S;N++){var R=T[N];j.includes(R.text)&&F.push(N)}var D=zv(.6,193/255,218/255),M=null!==(s=null!==i&&void 0!==i?i:a)&&void 0!==s?s:b;return zw(i||void 0!==o?t:e.acroField,M,n,E),wm(x,function(e){for(var t=Hy(e.x),n=Hy(e.y),r=Hy(e.width),s=Hy(e.height),i=Hy(e.lineHeight),a=Hy(e.borderWidth),o=Hy(e.padding),l=t+a/2+o,c=n+a/2+o,d=r-2*(a/2+o),u=s-2*(a/2+o),h=[jv(l,c),kv(l,c+u),kv(l+d,c+u),kv(l+d,c),wv(),tv(),Av()],p=ow({x:t,y:n,width:r,height:s,borderWidth:e.borderWidth,color:e.color,borderColor:e.borderColor,rotate:Ky(0),xSkew:Ky(0),ySkew:Ky(0)}),m=[],f=0,g=e.selectedLines.length;f<g;f++){var x=e.textLines[e.selectedLines[f]];m.push.apply(m,ow({x:x.x-o,y:x.y-(i-x.height)/2,width:r-a,height:x.height+(i-x.height)/2,borderWidth:0,color:e.selectedColor,borderColor:void 0,rotate:Ky(0),xSkew:Ky(0),ySkew:Ky(0)}))}var b=mw(e.textLines,{color:e.textColor,font:e.font,size:e.fontSize,rotate:Ky(0),xSkew:Ky(0),ySkew:Ky(0)}),y=wm([Iv("Tx"),gv()],b,[xv(),_v()]);return wm([gv()],p,m,h,y,[xv()])}({x:0+h/2,y:0+h/2,width:f-h,height:g-h,borderWidth:null!==h&&void 0!==h?h:0,borderColor:y,textColor:M,font:n.name,fontSize:E,color:v,textLines:T,lineHeight:P,selectedColor:D,selectedLines:F,padding:1}))};const Gw=function(){function e(e,t,n){this.alreadyEmbedded=!1,Lf(e,"ref",[[Kg,"PDFRef"]]),Lf(t,"doc",[[kj,"PDFDocument"]]),Lf(n,"embedder",[[bb,"PDFPageEmbedder"]]),this.ref=e,this.doc=t,this.width=n.width,this.height=n.height,this.embedder=n}return e.prototype.scale=function(e){return Lf(e,"factor",["number"]),{width:this.width*e,height:this.height*e}},e.prototype.size=function(){return this.scale(1)},e.prototype.embed=function(){return ym(this,void 0,void 0,(function(){return vm(this,(function(e){switch(e.label){case 0:return this.alreadyEmbedded?[3,2]:[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:e.sent(),this.alreadyEmbedded=!0,e.label=2;case 2:return[2]}}))}))},e.of=function(t,n,r){return new e(t,n,r)},e}();const Kw=function(){function e(e,t,n){this.modified=!0,Lf(e,"ref",[[Kg,"PDFRef"]]),Lf(t,"doc",[[kj,"PDFDocument"]]),Lf(n,"embedder",[[_x,"CustomFontEmbedder"],[Ax,"StandardFontEmbedder"]]),this.ref=e,this.doc=t,this.name=n.fontName,this.embedder=n}return e.prototype.encodeText=function(e){return Lf(e,"text",["string"]),this.modified=!0,this.embedder.encodeText(e)},e.prototype.widthOfTextAtSize=function(e,t){return Lf(e,"text",["string"]),Lf(t,"size",["number"]),this.embedder.widthOfTextAtSize(e,t)},e.prototype.heightAtSize=function(e,t){var n;return Lf(e,"size",["number"]),Of(null===t||void 0===t?void 0:t.descender,"options.descender",["boolean"]),this.embedder.heightOfFontAtSize(e,{descender:null===(n=null===t||void 0===t?void 0:t.descender)||void 0===n||n})},e.prototype.sizeAtHeight=function(e){return Lf(e,"height",["number"]),this.embedder.sizeOfFontAtHeight(e)},e.prototype.getCharacterSet=function(){return this.embedder instanceof Ax?this.embedder.encoding.supportedCodePoints:this.embedder.font.characterSet},e.prototype.embed=function(){return ym(this,void 0,void 0,(function(){return vm(this,(function(e){switch(e.label){case 0:return this.modified?[4,this.embedder.embedIntoContext(this.doc.context,this.ref)]:[3,2];case 1:e.sent(),this.modified=!1,e.label=2;case 2:return[2]}}))}))},e.of=function(t,n,r){return new e(t,n,r)},e}();var Xw=function(){function e(e,t,n){Lf(e,"ref",[[Kg,"PDFRef"]]),Lf(t,"doc",[[kj,"PDFDocument"]]),Lf(n,"embedder",[[Wx,"JpegEmbedder"],[Yx,"PngEmbedder"]]),this.ref=e,this.doc=t,this.width=n.width,this.height=n.height,this.embedder=n}return e.prototype.scale=function(e){return Lf(e,"factor",["number"]),{width:this.width*e,height:this.height*e}},e.prototype.scaleToFit=function(e,t){Lf(e,"width",["number"]),Lf(t,"height",["number"]);var n=e/this.width,r=t/this.height,s=Math.min(n,r);return this.scale(s)},e.prototype.size=function(){return this.scale(1)},e.prototype.embed=function(){return ym(this,void 0,void 0,(function(){var e,t,n;return vm(this,(function(r){switch(r.label){case 0:return this.embedder?(this.embedTask||(t=(e=this).doc,n=e.ref,this.embedTask=this.embedder.embedIntoContext(t.context,n)),[4,this.embedTask]):[2];case 1:return r.sent(),this.embedder=void 0,[2]}}))}))},e.of=function(t,n,r){return new e(t,n,r)},e}();const Yw=Xw;var Qw;!function(e){e[e.Left=0]="Left",e[e.Center=1]="Center",e[e.Right=2]="Right"}(Qw||(Qw={}));var Jw=function(e){Of(null===e||void 0===e?void 0:e.x,"options.x",["number"]),Of(null===e||void 0===e?void 0:e.y,"options.y",["number"]),Of(null===e||void 0===e?void 0:e.width,"options.width",["number"]),Of(null===e||void 0===e?void 0:e.height,"options.height",["number"]),Of(null===e||void 0===e?void 0:e.textColor,"options.textColor",[[Object,"Color"]]),Of(null===e||void 0===e?void 0:e.backgroundColor,"options.backgroundColor",[[Object,"Color"]]),Of(null===e||void 0===e?void 0:e.borderColor,"options.borderColor",[[Object,"Color"]]),Of(null===e||void 0===e?void 0:e.borderWidth,"options.borderWidth",["number"]),Of(null===e||void 0===e?void 0:e.rotate,"options.rotate",[[Object,"Rotation"]])},Zw=function(){function e(e,t,n){Lf(e,"acroField",[[Ob,"PDFAcroTerminal"]]),Lf(t,"ref",[[Kg,"PDFRef"]]),Lf(n,"doc",[[kj,"PDFDocument"]]),this.acroField=e,this.ref=t,this.doc=n}return e.prototype.getName=function(){var e;return null!==(e=this.acroField.getFullyQualifiedName())&&void 0!==e?e:""},e.prototype.isReadOnly=function(){return this.acroField.hasFlag(Vb.ReadOnly)},e.prototype.enableReadOnly=function(){this.acroField.setFlagTo(Vb.ReadOnly,!0)},e.prototype.disableReadOnly=function(){this.acroField.setFlagTo(Vb.ReadOnly,!1)},e.prototype.isRequired=function(){return this.acroField.hasFlag(Vb.Required)},e.prototype.enableRequired=function(){this.acroField.setFlagTo(Vb.Required,!0)},e.prototype.disableRequired=function(){this.acroField.setFlagTo(Vb.Required,!1)},e.prototype.isExported=function(){return!this.acroField.hasFlag(Vb.NoExport)},e.prototype.enableExporting=function(){this.acroField.setFlagTo(Vb.NoExport,!1)},e.prototype.disableExporting=function(){this.acroField.setFlagTo(Vb.NoExport,!0)},e.prototype.needsAppearancesUpdate=function(){throw new Yf(this.constructor.name,"needsAppearancesUpdate")},e.prototype.defaultUpdateAppearances=function(e){throw new Yf(this.constructor.name,"defaultUpdateAppearances")},e.prototype.markAsDirty=function(){this.doc.getForm().markFieldAsDirty(this.ref)},e.prototype.markAsClean=function(){this.doc.getForm().markFieldAsClean(this.ref)},e.prototype.isDirty=function(){return this.doc.getForm().fieldIsDirty(this.ref)},e.prototype.createWidget=function(e){var t,n=e.textColor,r=e.backgroundColor,s=e.borderColor,i=e.borderWidth,a=Zy(e.rotate),o=e.caption,l=e.x,c=e.y,d=e.width+i,u=e.height+i,h=Boolean(e.hidden),p=e.page;qf(a,"degreesAngle",90);var m=_b.create(this.doc.context,this.ref),f=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=0);var r=e.x,s=e.y,i=e.width,a=e.height,o=$y(n),l=t/2;return 0===o?{x:r-l,y:s-l,width:i,height:a}:90===o?{x:r-a+l,y:s-l,width:a,height:i}:180===o?{x:r-i+l,y:s-a+l,width:i,height:a}:270===o?{x:r-l,y:s-i+l,width:a,height:i}:{x:r-l,y:s-l,width:i,height:a}}({x:l,y:c,width:d,height:u},i,a);m.setRectangle(f),p&&m.setP(p);var g=m.getOrCreateAppearanceCharacteristics();r&&g.setBackgroundColor(Kv(r)),g.setRotation(a),o&&g.setCaptions({normal:o}),s&&g.setBorderColor(Kv(s));var x=m.getOrCreateBorderStyle();if(void 0!==i&&x.setWidth(i),m.setFlagTo(By.Print,!0),m.setFlagTo(By.Hidden,h),m.setFlagTo(By.Invisible,!1),n){var b=(null!==(t=this.acroField.getDefaultAppearance())&&void 0!==t?t:"")+"\n"+Wv(n).toString();this.acroField.setDefaultAppearance(b)}return m},e.prototype.updateWidgetAppearanceWithFont=function(e,t,n){var r=n.normal,s=n.rollover,i=n.down;this.updateWidgetAppearances(e,{normal:this.createAppearanceStream(e,r,t),rollover:s&&this.createAppearanceStream(e,s,t),down:i&&this.createAppearanceStream(e,i,t)})},e.prototype.updateOnOffWidgetAppearance=function(e,t,n){var r=n.normal,s=n.rollover,i=n.down;this.updateWidgetAppearances(e,{normal:this.createAppearanceDict(e,r,t),rollover:s&&this.createAppearanceDict(e,s,t),down:i&&this.createAppearanceDict(e,i,t)})},e.prototype.updateWidgetAppearances=function(e,t){var n=t.normal,r=t.rollover,s=t.down;e.setNormalAppearance(n),r?e.setRolloverAppearance(r):e.removeRolloverAppearance(),s?e.setDownAppearance(s):e.removeDownAppearance()},e.prototype.createAppearanceStream=function(e,t,n){var r,s=this.acroField.dict.context,i=e.getRectangle(),a=i.width,o=i.height,l=n&&{Font:(r={},r[n.name]=n.ref,r)},c=s.formXObject(t,{Resources:l,BBox:s.obj([0,0,a,o]),Matrix:s.obj([1,0,0,1,0,0])});return s.register(c)},e.prototype.createImageAppearanceStream=function(e,t,n){var r,s,i=this.acroField.dict.context,a=e.getRectangle(),o=e.getAppearanceCharacteristics(),l=e.getBorderStyle(),c=null!==(s=null===l||void 0===l?void 0:l.getWidth())&&void 0!==s?s:0,d=$y(null===o||void 0===o?void 0:o.getRotation()),u=dw(bm(bm({},a),{rotation:d})),h=ev(a,d),p=t.scaleToFit(h.width-2*c,h.height-2*c),m={x:c,y:c,width:p.width,height:p.height,rotate:Ky(0),xSkew:Ky(0),ySkew:Ky(0)};n===Qw.Center?(m.x+=(h.width-2*c)/2-p.width/2,m.y+=(h.height-2*c)/2-p.height/2):n===Qw.Right&&(m.x=h.width-c-p.width,m.y=h.height-c-p.height);var f=this.doc.context.addRandomSuffix("Image",10),g=wm(u,aw(f,m)),x={XObject:(r={},r[f]=t.ref,r)},b=i.formXObject(g,{Resources:x,BBox:i.obj([0,0,a.width,a.height]),Matrix:i.obj([1,0,0,1,0,0])});return i.register(b)},e.prototype.createAppearanceDict=function(e,t,n){var r=this.acroField.dict.context,s=this.createAppearanceStream(e,t.on),i=this.createAppearanceStream(e,t.off),a=r.obj({});return a.set(n,s),a.set(Og.of("Off"),i),a},e}();const $w=Zw;var ej=function(e){function t(t,n,r){var s=e.call(this,t,n,r)||this;return Lf(t,"acroCheckBox",[[qb,"PDFAcroCheckBox"]]),s.acroField=t,s}return xm(t,e),t.prototype.check=function(){var e,t=null!==(e=this.acroField.getOnValue())&&void 0!==e?e:Og.of("Yes");this.markAsDirty(),this.acroField.setValue(t)},t.prototype.uncheck=function(){this.markAsDirty(),this.acroField.setValue(Og.of("Off"))},t.prototype.isChecked=function(){var e=this.acroField.getOnValue();return!!e&&e===this.acroField.getValue()},t.prototype.addToPage=function(e,t){var n,r,s,i,a,o;Lf(e,"page",[[Aj,"PDFPage"]]),Jw(t),t||(t={}),"textColor"in t||(t.textColor=zv(0,0,0)),"backgroundColor"in t||(t.backgroundColor=zv(1,1,1)),"borderColor"in t||(t.borderColor=zv(0,0,0)),"borderWidth"in t||(t.borderWidth=1);var l=this.createWidget({x:null!==(n=t.x)&&void 0!==n?n:0,y:null!==(r=t.y)&&void 0!==r?r:0,width:null!==(s=t.width)&&void 0!==s?s:50,height:null!==(i=t.height)&&void 0!==i?i:50,textColor:t.textColor,backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:null!==(a=t.borderWidth)&&void 0!==a?a:0,rotate:null!==(o=t.rotate)&&void 0!==o?o:Ky(0),hidden:t.hidden,page:e.ref}),c=this.doc.context.register(l.dict);this.acroField.addWidget(c),l.setAppearanceState(Og.of("Off")),this.updateWidgetAppearance(l,Og.of("Yes")),e.node.addAnnot(c)},t.prototype.needsAppearancesUpdate=function(){for(var e,t=this.acroField.getWidgets(),n=0,r=t.length;n<r;n++){var s=t[n],i=s.getAppearanceState(),a=null===(e=s.getAppearances())||void 0===e?void 0:e.normal;if(!(a instanceof Ug))return!0;if(i&&!a.has(i))return!0}return!1},t.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},t.prototype.updateAppearances=function(e){var t;Of(e,"provider",[Function]);for(var n=this.acroField.getWidgets(),r=0,s=n.length;r<s;r++){var i=n[r],a=null!==(t=i.getOnValue())&&void 0!==t?t:Og.of("Yes");a&&this.updateWidgetAppearance(i,a,e)}this.markAsClean()},t.prototype.updateWidgetAppearance=function(e,t,n){var r=Mw((null!==n&&void 0!==n?n:Bw)(this,e));this.updateOnOffWidgetAppearance(e,t,r)},t.of=function(e,n,r){return new t(e,n,r)},t}($w);const tj=ej;var nj=function(e){function t(t,n,r){var s=e.call(this,t,n,r)||this;return Lf(t,"acroComboBox",[[Qb,"PDFAcroComboBox"]]),s.acroField=t,s}return xm(t,e),t.prototype.getOptions=function(){for(var e=this.acroField.getOptions(),t=new Array(e.length),n=0,r=t.length;n<r;n++){var s=e[n],i=s.display,a=s.value;t[n]=(null!==i&&void 0!==i?i:a).decodeText()}return t},t.prototype.getSelected=function(){for(var e=this.acroField.getValues(),t=new Array(e.length),n=0,r=e.length;n<r;n++)t[n]=e[n].decodeText();return t},t.prototype.setOptions=function(e){Lf(e,"options",[Array]);for(var t=new Array(e.length),n=0,r=e.length;n<r;n++)t[n]={value:Sx.fromText(e[n])};this.acroField.setOptions(t)},t.prototype.addOptions=function(e){Lf(e,"options",["string",Array]);for(var t=Array.isArray(e)?e:[e],n=this.acroField.getOptions(),r=new Array(t.length),s=0,i=t.length;s<i;s++)r[s]={value:Sx.fromText(t[s])};this.acroField.setOptions(n.concat(r))},t.prototype.select=function(e,t){void 0===t&&(t=!1),Lf(e,"options",["string",Array]),Lf(t,"merge",["boolean"]);var n=Array.isArray(e)?e:[e],r=this.getOptions();n.find((function(e){return!r.includes(e)}))&&this.enableEditing(),this.markAsDirty(),(n.length>1||1===n.length&&t)&&this.enableMultiselect();for(var s=new Array(n.length),i=0,a=n.length;i<a;i++)s[i]=Sx.fromText(n[i]);if(t){var o=this.acroField.getValues();this.acroField.setValues(o.concat(s))}else this.acroField.setValues(s)},t.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},t.prototype.setFontSize=function(e){Vf(e,"fontSize"),this.acroField.setFontSize(e),this.markAsDirty()},t.prototype.isEditable=function(){return this.acroField.hasFlag(Gb.Edit)},t.prototype.enableEditing=function(){this.acroField.setFlagTo(Gb.Edit,!0)},t.prototype.disableEditing=function(){this.acroField.setFlagTo(Gb.Edit,!1)},t.prototype.isSorted=function(){return this.acroField.hasFlag(Gb.Sort)},t.prototype.enableSorting=function(){this.acroField.setFlagTo(Gb.Sort,!0)},t.prototype.disableSorting=function(){this.acroField.setFlagTo(Gb.Sort,!1)},t.prototype.isMultiselect=function(){return this.acroField.hasFlag(Gb.MultiSelect)},t.prototype.enableMultiselect=function(){this.acroField.setFlagTo(Gb.MultiSelect,!0)},t.prototype.disableMultiselect=function(){this.acroField.setFlagTo(Gb.MultiSelect,!1)},t.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(Gb.DoNotSpellCheck)},t.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(Gb.DoNotSpellCheck,!1)},t.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(Gb.DoNotSpellCheck,!0)},t.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(Gb.CommitOnSelChange)},t.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(Gb.CommitOnSelChange,!0)},t.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(Gb.CommitOnSelChange,!1)},t.prototype.addToPage=function(e,t){var n,r,s,i,a,o,l;Lf(e,"page",[[Aj,"PDFPage"]]),Jw(t),t||(t={}),"textColor"in t||(t.textColor=zv(0,0,0)),"backgroundColor"in t||(t.backgroundColor=zv(1,1,1)),"borderColor"in t||(t.borderColor=zv(0,0,0)),"borderWidth"in t||(t.borderWidth=1);var c=this.createWidget({x:null!==(n=t.x)&&void 0!==n?n:0,y:null!==(r=t.y)&&void 0!==r?r:0,width:null!==(s=t.width)&&void 0!==s?s:200,height:null!==(i=t.height)&&void 0!==i?i:50,textColor:t.textColor,backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:null!==(a=t.borderWidth)&&void 0!==a?a:0,rotate:null!==(o=t.rotate)&&void 0!==o?o:Ky(0),hidden:t.hidden,page:e.ref}),d=this.doc.context.register(c.dict);this.acroField.addWidget(d);var u=null!==(l=t.font)&&void 0!==l?l:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(c,u),e.node.addAnnot(d)},t.prototype.needsAppearancesUpdate=function(){var e;if(this.isDirty())return!0;for(var t=this.acroField.getWidgets(),n=0,r=t.length;n<r;n++){if(!((null===(e=t[n].getAppearances())||void 0===e?void 0:e.normal)instanceof Vg))return!0}return!1},t.prototype.defaultUpdateAppearances=function(e){Lf(e,"font",[[Kw,"PDFFont"]]),this.updateAppearances(e)},t.prototype.updateAppearances=function(e,t){Lf(e,"font",[[Kw,"PDFFont"]]),Of(t,"provider",[Function]);for(var n=this.acroField.getWidgets(),r=0,s=n.length;r<s;r++){var i=n[r];this.updateWidgetAppearance(i,e,t)}this.markAsClean()},t.prototype.updateWidgetAppearance=function(e,t,n){var r=Mw((null!==n&&void 0!==n?n:Ww)(this,e,t));this.updateWidgetAppearanceWithFont(e,t,r)},t.of=function(e,n,r){return new t(e,n,r)},t}($w);const rj=nj;var sj=function(e){function t(t,n,r){var s=e.call(this,t,n,r)||this;return Lf(t,"acroListBox",[[ry,"PDFAcroListBox"]]),s.acroField=t,s}return xm(t,e),t.prototype.getOptions=function(){for(var e=this.acroField.getOptions(),t=new Array(e.length),n=0,r=t.length;n<r;n++){var s=e[n],i=s.display,a=s.value;t[n]=(null!==i&&void 0!==i?i:a).decodeText()}return t},t.prototype.getSelected=function(){for(var e=this.acroField.getValues(),t=new Array(e.length),n=0,r=e.length;n<r;n++)t[n]=e[n].decodeText();return t},t.prototype.setOptions=function(e){Lf(e,"options",[Array]),this.markAsDirty();for(var t=new Array(e.length),n=0,r=e.length;n<r;n++)t[n]={value:Sx.fromText(e[n])};this.acroField.setOptions(t)},t.prototype.addOptions=function(e){Lf(e,"options",["string",Array]),this.markAsDirty();for(var t=Array.isArray(e)?e:[e],n=this.acroField.getOptions(),r=new Array(t.length),s=0,i=t.length;s<i;s++)r[s]={value:Sx.fromText(t[s])};this.acroField.setOptions(n.concat(r))},t.prototype.select=function(e,t){void 0===t&&(t=!1),Lf(e,"options",["string",Array]),Lf(t,"merge",["boolean"]);var n=Array.isArray(e)?e:[e];!function(e,t,n){Array.isArray(n)||(n=Af(n));for(var r=0,s=e.length;r<s;r++)Df(e[r],t,n)}(n,"option",this.getOptions()),this.markAsDirty(),(n.length>1||1===n.length&&t)&&this.enableMultiselect();for(var r=new Array(n.length),s=0,i=n.length;s<i;s++)r[s]=Sx.fromText(n[s]);if(t){var a=this.acroField.getValues();this.acroField.setValues(a.concat(r))}else this.acroField.setValues(r)},t.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},t.prototype.setFontSize=function(e){Vf(e,"fontSize"),this.acroField.setFontSize(e),this.markAsDirty()},t.prototype.isSorted=function(){return this.acroField.hasFlag(Gb.Sort)},t.prototype.enableSorting=function(){this.acroField.setFlagTo(Gb.Sort,!0)},t.prototype.disableSorting=function(){this.acroField.setFlagTo(Gb.Sort,!1)},t.prototype.isMultiselect=function(){return this.acroField.hasFlag(Gb.MultiSelect)},t.prototype.enableMultiselect=function(){this.acroField.setFlagTo(Gb.MultiSelect,!0)},t.prototype.disableMultiselect=function(){this.acroField.setFlagTo(Gb.MultiSelect,!1)},t.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(Gb.CommitOnSelChange)},t.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(Gb.CommitOnSelChange,!0)},t.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(Gb.CommitOnSelChange,!1)},t.prototype.addToPage=function(e,t){var n,r,s,i,a,o,l;Lf(e,"page",[[Aj,"PDFPage"]]),Jw(t),t||(t={}),"textColor"in t||(t.textColor=zv(0,0,0)),"backgroundColor"in t||(t.backgroundColor=zv(1,1,1)),"borderColor"in t||(t.borderColor=zv(0,0,0)),"borderWidth"in t||(t.borderWidth=1);var c=this.createWidget({x:null!==(n=t.x)&&void 0!==n?n:0,y:null!==(r=t.y)&&void 0!==r?r:0,width:null!==(s=t.width)&&void 0!==s?s:200,height:null!==(i=t.height)&&void 0!==i?i:100,textColor:t.textColor,backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:null!==(a=t.borderWidth)&&void 0!==a?a:0,rotate:null!==(o=t.rotate)&&void 0!==o?o:Ky(0),hidden:t.hidden,page:e.ref}),d=this.doc.context.register(c.dict);this.acroField.addWidget(d);var u=null!==(l=t.font)&&void 0!==l?l:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(c,u),e.node.addAnnot(d)},t.prototype.needsAppearancesUpdate=function(){var e;if(this.isDirty())return!0;for(var t=this.acroField.getWidgets(),n=0,r=t.length;n<r;n++){if(!((null===(e=t[n].getAppearances())||void 0===e?void 0:e.normal)instanceof Vg))return!0}return!1},t.prototype.defaultUpdateAppearances=function(e){Lf(e,"font",[[Kw,"PDFFont"]]),this.updateAppearances(e)},t.prototype.updateAppearances=function(e,t){Lf(e,"font",[[Kw,"PDFFont"]]),Of(t,"provider",[Function]);for(var n=this.acroField.getWidgets(),r=0,s=n.length;r<s;r++){var i=n[r];this.updateWidgetAppearance(i,e,t)}this.markAsClean()},t.prototype.updateWidgetAppearance=function(e,t,n){var r=Mw((null!==n&&void 0!==n?n:Hw)(this,e,t));this.updateWidgetAppearanceWithFont(e,t,r)},t.of=function(e,n,r){return new t(e,n,r)},t}($w);const ij=sj;var aj=function(e){function t(t,n,r){var s=e.call(this,t,n,r)||this;return Lf(t,"acroRadioButton",[[ny,"PDFAcroRadioButton"]]),s.acroField=t,s}return xm(t,e),t.prototype.getOptions=function(){var e=this.acroField.getExportValues();if(e){for(var t=new Array(e.length),n=0,r=e.length;n<r;n++)t[n]=e[n].decodeText();return t}var s=this.acroField.getOnValues(),i=new Array(s.length);for(n=0,r=i.length;n<r;n++)i[n]=s[n].decodeText();return i},t.prototype.getSelected=function(){var e=this.acroField.getValue();if(e!==Og.of("Off")){var t=this.acroField.getExportValues();if(t)for(var n=this.acroField.getOnValues(),r=0,s=n.length;r<s;r++)if(n[r]===e)return t[r].decodeText();return e.decodeText()}},t.prototype.select=function(e){Lf(e,"option",["string"]);var t=this.getOptions();Df(e,"option",t),this.markAsDirty();var n=this.acroField.getOnValues(),r=this.acroField.getExportValues();if(r)for(var s=0,i=r.length;s<i;s++)r[s].decodeText()===e&&this.acroField.setValue(n[s]);else for(s=0,i=n.length;s<i;s++){var a=n[s];a.decodeText()===e&&this.acroField.setValue(a)}},t.prototype.clear=function(){this.markAsDirty(),this.acroField.setValue(Og.of("Off"))},t.prototype.isOffToggleable=function(){return!this.acroField.hasFlag(Wb.NoToggleToOff)},t.prototype.enableOffToggling=function(){this.acroField.setFlagTo(Wb.NoToggleToOff,!1)},t.prototype.disableOffToggling=function(){this.acroField.setFlagTo(Wb.NoToggleToOff,!0)},t.prototype.isMutuallyExclusive=function(){return!this.acroField.hasFlag(Wb.RadiosInUnison)},t.prototype.enableMutualExclusion=function(){this.acroField.setFlagTo(Wb.RadiosInUnison,!1)},t.prototype.disableMutualExclusion=function(){this.acroField.setFlagTo(Wb.RadiosInUnison,!0)},t.prototype.addOptionToPage=function(e,t,n){var r,s,i,a,o,l,c,d,u;Lf(e,"option",["string"]),Lf(t,"page",[[Aj,"PDFPage"]]),Jw(n);var h=this.createWidget({x:null!==(r=null===n||void 0===n?void 0:n.x)&&void 0!==r?r:0,y:null!==(s=null===n||void 0===n?void 0:n.y)&&void 0!==s?s:0,width:null!==(i=null===n||void 0===n?void 0:n.width)&&void 0!==i?i:50,height:null!==(a=null===n||void 0===n?void 0:n.height)&&void 0!==a?a:50,textColor:null!==(o=null===n||void 0===n?void 0:n.textColor)&&void 0!==o?o:zv(0,0,0),backgroundColor:null!==(l=null===n||void 0===n?void 0:n.backgroundColor)&&void 0!==l?l:zv(1,1,1),borderColor:null!==(c=null===n||void 0===n?void 0:n.borderColor)&&void 0!==c?c:zv(0,0,0),borderWidth:null!==(d=null===n||void 0===n?void 0:n.borderWidth)&&void 0!==d?d:1,rotate:null!==(u=null===n||void 0===n?void 0:n.rotate)&&void 0!==u?u:Ky(0),hidden:null===n||void 0===n?void 0:n.hidden,page:t.ref}),p=this.doc.context.register(h.dict),m=this.acroField.addWidgetWithOpt(p,Sx.fromText(e),!this.isMutuallyExclusive());h.setAppearanceState(Og.of("Off")),this.updateWidgetAppearance(h,m),t.node.addAnnot(p)},t.prototype.needsAppearancesUpdate=function(){for(var e,t=this.acroField.getWidgets(),n=0,r=t.length;n<r;n++){var s=t[n],i=s.getAppearanceState(),a=null===(e=s.getAppearances())||void 0===e?void 0:e.normal;if(!(a instanceof Ug))return!0;if(i&&!a.has(i))return!0}return!1},t.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},t.prototype.updateAppearances=function(e){Of(e,"provider",[Function]);for(var t=this.acroField.getWidgets(),n=0,r=t.length;n<r;n++){var s=t[n],i=s.getOnValue();i&&this.updateWidgetAppearance(s,i,e)}},t.prototype.updateWidgetAppearance=function(e,t,n){var r=Mw((null!==n&&void 0!==n?n:Uw)(this,e));this.updateOnOffWidgetAppearance(e,t,r)},t.of=function(e,n,r){return new t(e,n,r)},t}($w);const oj=aj;const lj=function(e){function t(t,n,r){var s=e.call(this,t,n,r)||this;return Lf(t,"acroSignature",[[Zb,"PDFAcroSignature"]]),s.acroField=t,s}return xm(t,e),t.prototype.needsAppearancesUpdate=function(){return!1},t.of=function(e,n,r){return new t(e,n,r)},t}($w);var cj=function(e){function t(t,n,r){var s=e.call(this,t,n,r)||this;return Lf(t,"acroText",[[$b,"PDFAcroText"]]),s.acroField=t,s}return xm(t,e),t.prototype.getText=function(){var e=this.acroField.getValue();if(!e&&this.isRichFormatted())throw new Nw(this.getName());return null===e||void 0===e?void 0:e.decodeText()},t.prototype.setText=function(e){Of(e,"text",["string"]);var t=this.getMaxLength();if(void 0!==t&&e&&e.length>t)throw new Cw(e.length,t,this.getName());this.markAsDirty(),this.disableRichFormatting(),e?this.acroField.setValue(Sx.fromText(e)):this.acroField.removeValue()},t.prototype.getAlignment=function(){var e=this.acroField.getQuadding();return 0===e?Lv.Left:1===e?Lv.Center:2===e?Lv.Right:Lv.Left},t.prototype.setAlignment=function(e){Df(e,"alignment",Lv),this.markAsDirty(),this.acroField.setQuadding(e)},t.prototype.getMaxLength=function(){return this.acroField.getMaxLength()},t.prototype.setMaxLength=function(e){if(Uf(e,"maxLength",0,Number.MAX_SAFE_INTEGER),this.markAsDirty(),void 0===e)this.acroField.removeMaxLength();else{var t=this.getText();if(t&&t.length>e)throw new Aw(t.length,e,this.getName());this.acroField.setMaxLength(e)}},t.prototype.removeMaxLength=function(){this.markAsDirty(),this.acroField.removeMaxLength()},t.prototype.setImage=function(e){for(var t=this.getAlignment(),n=t===Lv.Center?Qw.Center:t===Lv.Right?Qw.Right:Qw.Left,r=this.acroField.getWidgets(),s=0,i=r.length;s<i;s++){var a=r[s],o=this.createImageAppearanceStream(a,e,n);this.updateWidgetAppearances(a,{normal:o})}this.markAsClean()},t.prototype.setFontSize=function(e){Vf(e,"fontSize"),this.acroField.setFontSize(e),this.markAsDirty()},t.prototype.isMultiline=function(){return this.acroField.hasFlag(Hb.Multiline)},t.prototype.enableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(Hb.Multiline,!0)},t.prototype.disableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(Hb.Multiline,!1)},t.prototype.isPassword=function(){return this.acroField.hasFlag(Hb.Password)},t.prototype.enablePassword=function(){this.acroField.setFlagTo(Hb.Password,!0)},t.prototype.disablePassword=function(){this.acroField.setFlagTo(Hb.Password,!1)},t.prototype.isFileSelector=function(){return this.acroField.hasFlag(Hb.FileSelect)},t.prototype.enableFileSelection=function(){this.acroField.setFlagTo(Hb.FileSelect,!0)},t.prototype.disableFileSelection=function(){this.acroField.setFlagTo(Hb.FileSelect,!1)},t.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(Hb.DoNotSpellCheck)},t.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(Hb.DoNotSpellCheck,!1)},t.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(Hb.DoNotSpellCheck,!0)},t.prototype.isScrollable=function(){return!this.acroField.hasFlag(Hb.DoNotScroll)},t.prototype.enableScrolling=function(){this.acroField.setFlagTo(Hb.DoNotScroll,!1)},t.prototype.disableScrolling=function(){this.acroField.setFlagTo(Hb.DoNotScroll,!0)},t.prototype.isCombed=function(){return this.acroField.hasFlag(Hb.Comb)&&!this.isMultiline()&&!this.isPassword()&&!this.isFileSelector()&&void 0!==this.getMaxLength()},t.prototype.enableCombing=function(){if(void 0===this.getMaxLength()){console.warn("PDFTextFields must have a max length in order to be combed")}this.markAsDirty(),this.disableMultiline(),this.disablePassword(),this.disableFileSelection(),this.acroField.setFlagTo(Hb.Comb,!0)},t.prototype.disableCombing=function(){this.markAsDirty(),this.acroField.setFlagTo(Hb.Comb,!1)},t.prototype.isRichFormatted=function(){return this.acroField.hasFlag(Hb.RichText)},t.prototype.enableRichFormatting=function(){this.acroField.setFlagTo(Hb.RichText,!0)},t.prototype.disableRichFormatting=function(){this.acroField.setFlagTo(Hb.RichText,!1)},t.prototype.addToPage=function(e,t){var n,r,s,i,a,o,l;Lf(e,"page",[[Aj,"PDFPage"]]),Jw(t),t||(t={}),"textColor"in t||(t.textColor=zv(0,0,0)),"backgroundColor"in t||(t.backgroundColor=zv(1,1,1)),"borderColor"in t||(t.borderColor=zv(0,0,0)),"borderWidth"in t||(t.borderWidth=1);var c=this.createWidget({x:null!==(n=t.x)&&void 0!==n?n:0,y:null!==(r=t.y)&&void 0!==r?r:0,width:null!==(s=t.width)&&void 0!==s?s:200,height:null!==(i=t.height)&&void 0!==i?i:50,textColor:t.textColor,backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:null!==(a=t.borderWidth)&&void 0!==a?a:0,rotate:null!==(o=t.rotate)&&void 0!==o?o:Ky(0),hidden:t.hidden,page:e.ref}),d=this.doc.context.register(c.dict);this.acroField.addWidget(d);var u=null!==(l=t.font)&&void 0!==l?l:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(c,u),e.node.addAnnot(d)},t.prototype.needsAppearancesUpdate=function(){var e;if(this.isDirty())return!0;for(var t=this.acroField.getWidgets(),n=0,r=t.length;n<r;n++){if(!((null===(e=t[n].getAppearances())||void 0===e?void 0:e.normal)instanceof Vg))return!0}return!1},t.prototype.defaultUpdateAppearances=function(e){Lf(e,"font",[[Kw,"PDFFont"]]),this.updateAppearances(e)},t.prototype.updateAppearances=function(e,t){Lf(e,"font",[[Kw,"PDFFont"]]),Of(t,"provider",[Function]);for(var n=this.acroField.getWidgets(),r=0,s=n.length;r<s;r++){var i=n[r];this.updateWidgetAppearance(i,e,t)}this.markAsClean()},t.prototype.updateWidgetAppearance=function(e,t,n){var r=Mw((null!==n&&void 0!==n?n:Vw)(this,e,t));this.updateWidgetAppearanceWithFont(e,t,r)},t.of=function(e,n,r){return new t(e,n,r)},t}($w);const dj=cj;var uj;!function(e){e.Courier="Courier",e.CourierBold="Courier-Bold",e.CourierOblique="Courier-Oblique",e.CourierBoldOblique="Courier-BoldOblique",e.Helvetica="Helvetica",e.HelveticaBold="Helvetica-Bold",e.HelveticaOblique="Helvetica-Oblique",e.HelveticaBoldOblique="Helvetica-BoldOblique",e.TimesRoman="Times-Roman",e.TimesRomanBold="Times-Bold",e.TimesRomanItalic="Times-Italic",e.TimesRomanBoldItalic="Times-BoldItalic",e.Symbol="Symbol",e.ZapfDingbats="ZapfDingbats"}(uj||(uj={}));var hj=function(){function e(e,t){var n=this;this.embedDefaultFont=function(){return n.doc.embedStandardFont(uj.Helvetica)},Lf(e,"acroForm",[[my,"PDFAcroForm"]]),Lf(t,"doc",[[kj,"PDFDocument"]]),this.acroForm=e,this.doc=t,this.dirtyFields=new Set,this.defaultFontCache=Kf.populatedBy(this.embedDefaultFont)}return e.prototype.hasXFA=function(){return this.acroForm.dict.has(Og.of("XFA"))},e.prototype.deleteXFA=function(){this.acroForm.dict.delete(Og.of("XFA"))},e.prototype.getFields=function(){for(var e=this.acroForm.getAllFields(),t=[],n=0,r=e.length;n<r;n++){var s=e[n],i=s[0],a=s[1],o=fj(i,a,this.doc);o&&t.push(o)}return t},e.prototype.getFieldMaybe=function(e){Lf(e,"name",["string"]);for(var t=this.getFields(),n=0,r=t.length;n<r;n++){var s=t[n];if(s.getName()===e)return s}},e.prototype.getField=function(e){Lf(e,"name",["string"]);var t=this.getFieldMaybe(e);if(t)return t;throw new vw(e)},e.prototype.getButton=function(e){Lf(e,"name",["string"]);var t=this.getField(e);if(t instanceof Ej)return t;throw new ww(e,Ej,t)},e.prototype.getCheckBox=function(e){Lf(e,"name",["string"]);var t=this.getField(e);if(t instanceof tj)return t;throw new ww(e,tj,t)},e.prototype.getDropdown=function(e){Lf(e,"name",["string"]);var t=this.getField(e);if(t instanceof rj)return t;throw new ww(e,rj,t)},e.prototype.getOptionList=function(e){Lf(e,"name",["string"]);var t=this.getField(e);if(t instanceof ij)return t;throw new ww(e,ij,t)},e.prototype.getRadioGroup=function(e){Lf(e,"name",["string"]);var t=this.getField(e);if(t instanceof oj)return t;throw new ww(e,oj,t)},e.prototype.getSignature=function(e){Lf(e,"name",["string"]);var t=this.getField(e);if(t instanceof lj)return t;throw new ww(e,lj,t)},e.prototype.getTextField=function(e){Lf(e,"name",["string"]);var t=this.getField(e);if(t instanceof dj)return t;throw new ww(e,dj,t)},e.prototype.createButton=function(e){Lf(e,"name",["string"]);var t=gj(e),n=this.findOrCreateNonTerminals(t.nonTerminal),r=ey.create(this.doc.context);return r.setPartialName(t.terminal),xj(n,[r,r.ref],t.terminal),Ej.of(r,r.ref,this.doc)},e.prototype.createCheckBox=function(e){Lf(e,"name",["string"]);var t=gj(e),n=this.findOrCreateNonTerminals(t.nonTerminal),r=qb.create(this.doc.context);return r.setPartialName(t.terminal),xj(n,[r,r.ref],t.terminal),tj.of(r,r.ref,this.doc)},e.prototype.createDropdown=function(e){Lf(e,"name",["string"]);var t=gj(e),n=this.findOrCreateNonTerminals(t.nonTerminal),r=Qb.create(this.doc.context);return r.setPartialName(t.terminal),xj(n,[r,r.ref],t.terminal),rj.of(r,r.ref,this.doc)},e.prototype.createOptionList=function(e){Lf(e,"name",["string"]);var t=gj(e),n=this.findOrCreateNonTerminals(t.nonTerminal),r=ry.create(this.doc.context);return r.setPartialName(t.terminal),xj(n,[r,r.ref],t.terminal),ij.of(r,r.ref,this.doc)},e.prototype.createRadioGroup=function(e){Lf(e,"name",["string"]);var t=gj(e),n=this.findOrCreateNonTerminals(t.nonTerminal),r=ny.create(this.doc.context);return r.setPartialName(t.terminal),xj(n,[r,r.ref],t.terminal),oj.of(r,r.ref,this.doc)},e.prototype.createTextField=function(e){Lf(e,"name",["string"]);var t=gj(e),n=this.findOrCreateNonTerminals(t.nonTerminal),r=$b.create(this.doc.context);return r.setPartialName(t.terminal),xj(n,[r,r.ref],t.terminal),dj.of(r,r.ref,this.doc)},e.prototype.flatten=function(e){void 0===e&&(e={updateFieldAppearances:!0}),e.updateFieldAppearances&&this.updateFieldAppearances();for(var t=this.getFields(),n=0,r=t.length;n<r;n++){for(var s=t[n],i=s.acroField.getWidgets(),a=0,o=i.length;a<o;a++){var l=i[a],c=this.findWidgetPage(l),d=this.findWidgetAppearanceRef(s,l),u=c.node.newXObject("FlatWidget",d),h=l.getRectangle(),p=wm([gv(),av(h.x,h.y)],dw(bm(bm({},h),{rotation:0})),[Mv(u),xv()]).filter(Boolean);c.pushOperators.apply(c,p)}this.removeField(s)}},e.prototype.removeField=function(e){for(var t=e.acroField.getWidgets(),n=new Set,r=0,s=t.length;r<s;r++){var i=t[r],a=this.findWidgetAppearanceRef(e,i),o=this.findWidgetPage(i);n.add(o),o.node.removeAnnot(a)}n.forEach((function(t){return t.node.removeAnnot(e.ref)})),this.acroForm.removeField(e.acroField);for(var l=e.acroField.normalizedEntries().Kids,c=l.size(),d=0;d<c;d++){var u=l.get(d);u instanceof Kg&&this.doc.context.delete(u)}this.doc.context.delete(e.ref)},e.prototype.updateFieldAppearances=function(e){Of(e,"font",[[Kw,"PDFFont"]]),e=null!==e&&void 0!==e?e:this.getDefaultFont();for(var t=this.getFields(),n=0,r=t.length;n<r;n++){var s=t[n];s.needsAppearancesUpdate()&&s.defaultUpdateAppearances(e)}},e.prototype.markFieldAsDirty=function(e){Of(e,"fieldRef",[[Kg,"PDFRef"]]),this.dirtyFields.add(e)},e.prototype.markFieldAsClean=function(e){Of(e,"fieldRef",[[Kg,"PDFRef"]]),this.dirtyFields.delete(e)},e.prototype.fieldIsDirty=function(e){return Of(e,"fieldRef",[[Kg,"PDFRef"]]),this.dirtyFields.has(e)},e.prototype.getDefaultFont=function(){return this.defaultFontCache.access()},e.prototype.findWidgetPage=function(e){var t=e.P(),n=this.doc.getPages().find((function(e){return e.ref===t}));if(void 0===n){var r=this.doc.context.getObjectRef(e.dict);if(void 0===r)throw new Error("Could not find PDFRef for PDFObject");if(void 0===(n=this.doc.findPageForAnnotationRef(r)))throw new Error("Could not find page for PDFRef "+r)}return n},e.prototype.findWidgetAppearanceRef=function(e,t){var n,r=t.getNormalAppearance();if(r instanceof Ug&&(e instanceof tj||e instanceof oj)){var s=e.acroField.getValue(),i=null!==(n=r.get(s))&&void 0!==n?n:r.get(Og.of("Off"));i instanceof Kg&&(r=i)}if(!(r instanceof Kg)){var a=e.getName();throw new Error("Failed to extract appearance ref for: "+a)}return r},e.prototype.findOrCreateNonTerminals=function(e){for(var t=[this.acroForm],n=0,r=e.length;n<r;n++){var s=e[n];if(!s)throw new kw(s);var i=t[0],a=t[1],o=this.findNonTerminal(s,i);if(o)t=o;else{var l=Jb.create(this.doc.context);l.setPartialName(s),l.setParent(a);var c=this.doc.context.register(l.dict);i.addField(c),t=[l,c]}}return t},e.prototype.findNonTerminal=function(e,t){for(var n=t instanceof my?this.acroForm.getFields():sy(t.Kids()),r=0,s=n.length;r<s;r++){var i=n[r],a=i[0],o=i[1];if(a.getPartialName()===e){if(a instanceof Jb)return[a,o];throw new jw(e)}}},e.of=function(t,n){return new e(t,n)},e}();const pj=hj;var mj,fj=function(e,t,n){return e instanceof ey?Ej.of(e,t,n):e instanceof qb?tj.of(e,t,n):e instanceof Qb?rj.of(e,t,n):e instanceof ry?ij.of(e,t,n):e instanceof $b?dj.of(e,t,n):e instanceof ny?oj.of(e,t,n):e instanceof Zb?lj.of(e,t,n):void 0},gj=function(e){if(0===e.length)throw new Error("PDF field names must not be empty strings");for(var t=e.split("."),n=0,r=t.length;n<r;n++)if(""===t[n])throw new Error('Periods in PDF field names must be separated by at least one character: "'+e+'"');return 1===t.length?{nonTerminal:[],terminal:t[0]}:{nonTerminal:t.slice(0,t.length-1),terminal:t[t.length-1]}},xj=function(e,t,n){for(var r=e[0],s=e[1],i=t[0],a=t[1],o=r.normalizedEntries(),l=(sy("Kids"in o?o.Kids:o.Fields)),c=0,d=l.length;c<d;c++)if(l[c][0].getPartialName()===n)throw new jw(n);r.addField(a),i.setParent(s)},bj={"4A0":[4767.87,6740.79],"2A0":[3370.39,4767.87],A0:[2383.94,3370.39],A1:[1683.78,2383.94],A2:[1190.55,1683.78],A3:[841.89,1190.55],A4:[595.28,841.89],A5:[419.53,595.28],A6:[297.64,419.53],A7:[209.76,297.64],A8:[147.4,209.76],A9:[104.88,147.4],A10:[73.7,104.88],B0:[2834.65,4008.19],B1:[2004.09,2834.65],B2:[1417.32,2004.09],B3:[1000.63,1417.32],B4:[708.66,1000.63],B5:[498.9,708.66],B6:[354.33,498.9],B7:[249.45,354.33],B8:[175.75,249.45],B9:[124.72,175.75],B10:[87.87,124.72],C0:[2599.37,3676.54],C1:[1836.85,2599.37],C2:[1298.27,1836.85],C3:[918.43,1298.27],C4:[649.13,918.43],C5:[459.21,649.13],C6:[323.15,459.21],C7:[229.61,323.15],C8:[161.57,229.61],C9:[113.39,161.57],C10:[79.37,113.39],RA0:[2437.8,3458.27],RA1:[1729.13,2437.8],RA2:[1218.9,1729.13],RA3:[864.57,1218.9],RA4:[609.45,864.57],SRA0:[2551.18,3628.35],SRA1:[1814.17,2551.18],SRA2:[1275.59,1814.17],SRA3:[907.09,1275.59],SRA4:[637.8,907.09],Executive:[521.86,756],Folio:[612,936],Legal:[612,1008],Letter:[612,792],Tabloid:[792,1224]};!function(e){e[e.Fastest=1/0]="Fastest",e[e.Fast=1500]="Fast",e[e.Medium=500]="Medium",e[e.Slow=100]="Slow"}(mj||(mj={}));const yj=function(){function e(e,t,n){this.alreadyEmbedded=!1,this.ref=e,this.doc=t,this.embedder=n}return e.prototype.embed=function(){return ym(this,void 0,void 0,(function(){var e,t,n,r;return vm(this,(function(s){switch(s.label){case 0:return this.alreadyEmbedded?[3,2]:[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:e=s.sent(),this.doc.catalog.has(Og.of("Names"))||this.doc.catalog.set(Og.of("Names"),this.doc.context.obj({})),(t=this.doc.catalog.lookup(Og.of("Names"),Ug)).has(Og.of("EmbeddedFiles"))||t.set(Og.of("EmbeddedFiles"),this.doc.context.obj({})),(n=t.lookup(Og.of("EmbeddedFiles"),Ug)).has(Og.of("Names"))||n.set(Og.of("Names"),this.doc.context.obj([])),(r=n.lookup(Og.of("Names"),Ag)).push(Sx.fromText(this.embedder.fileName)),r.push(e),this.doc.catalog.has(Og.of("AF"))||this.doc.catalog.set(Og.of("AF"),this.doc.context.obj([])),this.doc.catalog.lookup(Og.of("AF"),Ag).push(e),this.alreadyEmbedded=!0,s.label=2;case 2:return[2]}}))}))},e.of=function(t,n,r){return new e(t,n,r)},e}();const vj=function(){function e(e,t,n){this.alreadyEmbedded=!1,this.ref=e,this.doc=t,this.embedder=n}return e.prototype.embed=function(){return ym(this,void 0,void 0,(function(){var e,t,n,r,s,i,a;return vm(this,(function(o){switch(o.label){case 0:return this.alreadyEmbedded?[3,2]:(e=this.doc,t=e.catalog,n=e.context,[4,this.embedder.embedIntoContext(this.doc.context,this.ref)]);case 1:r=o.sent(),t.has(Og.of("Names"))||t.set(Og.of("Names"),n.obj({})),(s=t.lookup(Og.of("Names"),Ug)).has(Og.of("JavaScript"))||s.set(Og.of("JavaScript"),n.obj({})),(i=s.lookup(Og.of("JavaScript"),Ug)).has(Og.of("Names"))||i.set(Og.of("Names"),n.obj([])),(a=i.lookup(Og.of("Names"),Ag)).push(Sx.fromText(this.embedder.scriptName)),a.push(r),this.alreadyEmbedded=!0,o.label=2;case 2:return[2]}}))}))},e.of=function(t,n,r){return new e(t,n,r)},e}();const wj=function(){function e(e,t){this.script=e,this.scriptName=t}return e.for=function(t,n){return new e(t,n)},e.prototype.embedIntoContext=function(e,t){return ym(this,void 0,void 0,(function(){var n;return vm(this,(function(r){return n=e.obj({Type:"Action",S:"JavaScript",JS:Sx.fromText(this.script)}),t?(e.assign(t,n),[2,t]):[2,e.register(n)]}))}))},e}();var jj=function(){function e(e,t,n){var r=this;if(this.defaultWordBreaks=[" "],this.computePages=function(){var e=[];return r.catalog.Pages().traverse((function(t,n){if(t instanceof ax){var s=r.pageMap.get(t);s||(s=Aj.of(t,n,r),r.pageMap.set(t,s)),e.push(s)}})),e},this.getOrCreateForm=function(){var e=r.catalog.getOrCreateAcroForm();return pj.of(e,r)},Lf(e,"context",[[sx,"PDFContext"]]),Lf(t,"ignoreEncryption",["boolean"]),this.context=e,this.catalog=e.lookup(e.trailerInfo.Root),this.isEncrypted=!!e.lookup(e.trailerInfo.Encrypt),this.pageCache=Kf.populatedBy(this.computePages),this.pageMap=new Map,this.formCache=Kf.populatedBy(this.getOrCreateForm),this.fonts=[],this.images=[],this.embeddedPages=[],this.embeddedFiles=[],this.javaScripts=[],!t&&this.isEncrypted)throw new gw;n&&this.updateInfoDict()}return e.load=function(t,n){return void 0===n&&(n={}),ym(this,void 0,void 0,(function(){var r,s,i,a,o,l,c,d,u,h,p;return vm(this,(function(m){switch(m.label){case 0:return r=n.ignoreEncryption,s=void 0!==r&&r,i=n.parseSpeed,a=void 0===i?mj.Slow:i,o=n.throwOnInvalidObject,l=void 0!==o&&o,c=n.updateMetadata,d=void 0===c||c,u=n.capNumbers,h=void 0!==u&&u,Lf(t,"pdf",["string",Uint8Array,ArrayBuffer]),Lf(s,"ignoreEncryption",["boolean"]),Lf(a,"parseSpeed",["number"]),Lf(l,"throwOnInvalidObject",["boolean"]),p=Qm(t),[4,zy.forBytesWithOptions(p,a,l,h).parseDocument()];case 1:return[2,new e(m.sent(),s,d)]}}))}))},e.create=function(t){return void 0===t&&(t={}),ym(this,void 0,void 0,(function(){var n,r,s,i,a,o;return vm(this,(function(l){return n=t.updateMetadata,r=void 0===n||n,s=sx.create(),i=xy.withContext(s),a=s.register(i),o=fy.withContextAndPages(s,a),s.trailerInfo.Root=s.register(o),[2,new e(s,!1,r)]}))}))},e.prototype.registerFontkit=function(e){this.fontkit=e},e.prototype.getForm=function(){var e=this.formCache.access();return e.hasXFA()&&(console.warn("Removing XFA form data as pdf-lib does not support reading or writing XFA"),e.deleteXFA()),e},e.prototype.getTitle=function(){var e=this.getInfoDict().lookup(Og.Title);if(e)return Nj(e),e.decodeText()},e.prototype.getAuthor=function(){var e=this.getInfoDict().lookup(Og.Author);if(e)return Nj(e),e.decodeText()},e.prototype.getSubject=function(){var e=this.getInfoDict().lookup(Og.Subject);if(e)return Nj(e),e.decodeText()},e.prototype.getKeywords=function(){var e=this.getInfoDict().lookup(Og.Keywords);if(e)return Nj(e),e.decodeText()},e.prototype.getCreator=function(){var e=this.getInfoDict().lookup(Og.Creator);if(e)return Nj(e),e.decodeText()},e.prototype.getProducer=function(){var e=this.getInfoDict().lookup(Og.Producer);if(e)return Nj(e),e.decodeText()},e.prototype.getCreationDate=function(){var e=this.getInfoDict().lookup(Og.CreationDate);if(e)return Nj(e),e.decodeDate()},e.prototype.getModificationDate=function(){var e=this.getInfoDict().lookup(Og.ModDate);if(e)return Nj(e),e.decodeDate()},e.prototype.setTitle=function(e,t){Lf(e,"title",["string"]);var n=Og.of("Title");(this.getInfoDict().set(n,Sx.fromText(e)),null===t||void 0===t?void 0:t.showInWindowTitleBar)&&this.catalog.getOrCreateViewerPreferences().setDisplayDocTitle(!0)},e.prototype.setAuthor=function(e){Lf(e,"author",["string"]);var t=Og.of("Author");this.getInfoDict().set(t,Sx.fromText(e))},e.prototype.setSubject=function(e){Lf(e,"author",["string"]);var t=Og.of("Subject");this.getInfoDict().set(t,Sx.fromText(e))},e.prototype.setKeywords=function(e){Lf(e,"keywords",[Array]);var t=Og.of("Keywords");this.getInfoDict().set(t,Sx.fromText(e.join(" ")))},e.prototype.setCreator=function(e){Lf(e,"creator",["string"]);var t=Og.of("Creator");this.getInfoDict().set(t,Sx.fromText(e))},e.prototype.setProducer=function(e){Lf(e,"creator",["string"]);var t=Og.of("Producer");this.getInfoDict().set(t,Sx.fromText(e))},e.prototype.setLanguage=function(e){Lf(e,"language",["string"]);var t=Og.of("Lang");this.catalog.set(t,Mx.of(e))},e.prototype.setCreationDate=function(e){Lf(e,"creationDate",[[Date,"Date"]]);var t=Og.of("CreationDate");this.getInfoDict().set(t,Mx.fromDate(e))},e.prototype.setModificationDate=function(e){Lf(e,"modificationDate",[[Date,"Date"]]);var t=Og.of("ModDate");this.getInfoDict().set(t,Mx.fromDate(e))},e.prototype.getPageCount=function(){return void 0===this.pageCount&&(this.pageCount=this.getPages().length),this.pageCount},e.prototype.getPages=function(){return this.pageCache.access()},e.prototype.getPage=function(e){var t=this.getPages();return Bf(e,"index",0,t.length-1),t[e]},e.prototype.getPageIndices=function(){return function(e,t){for(var n=new Array(t-e),r=0,s=n.length;r<s;r++)n[r]=e+r;return n}(0,this.getPageCount())},e.prototype.removePage=function(e){var t=this.getPageCount();if(0===this.pageCount)throw new yw;Bf(e,"index",0,t-1),this.catalog.removeLeafNode(e),this.pageCount=t-1},e.prototype.addPage=function(e){return Lf(e,"page",["undefined",[Aj,"PDFPage"],Array]),this.insertPage(this.getPageCount(),e)},e.prototype.insertPage=function(e,t){var n=this.getPageCount();if(Bf(e,"index",0,n),Lf(t,"page",["undefined",[Aj,"PDFPage"],Array]),!t||Array.isArray(t)){var r=Array.isArray(t)?t:bj.A4;(t=Aj.create(this)).setSize.apply(t,r)}else if(t.doc!==this)throw new bw;var s=this.catalog.insertLeafNode(t.ref,e);return t.node.setParent(s),this.pageMap.set(t.node,t),this.pageCache.invalidate(),this.pageCount=n+1,t},e.prototype.copyPages=function(t,n){return ym(this,void 0,void 0,(function(){var r,s,i,a,o,l,c,d;return vm(this,(function(u){switch(u.label){case 0:return Lf(t,"srcDoc",[[e,"PDFDocument"]]),Lf(n,"indices",[Array]),[4,t.flush()];case 1:for(u.sent(),r=lx.for(t.context,this.context),s=t.getPages(),i=new Array(n.length),a=0,o=n.length;a<o;a++)l=s[n[a]],c=r.copy(l.node),d=this.context.register(c),i[a]=Aj.of(c,d,this);return[2,i]}}))}))},e.prototype.copy=function(){return ym(this,void 0,void 0,(function(){var t,n,r,s;return vm(this,(function(i){switch(i.label){case 0:return[4,e.create()];case 1:return[4,(t=i.sent()).copyPages(this,this.getPageIndices())];case 2:for(n=i.sent(),r=0,s=n.length;r<s;r++)t.addPage(n[r]);return void 0!==this.getAuthor()&&t.setAuthor(this.getAuthor()),void 0!==this.getCreationDate()&&t.setCreationDate(this.getCreationDate()),void 0!==this.getCreator()&&t.setCreator(this.getCreator()),void 0!==this.getModificationDate()&&t.setModificationDate(this.getModificationDate()),void 0!==this.getProducer()&&t.setProducer(this.getProducer()),void 0!==this.getSubject()&&t.setSubject(this.getSubject()),void 0!==this.getTitle()&&t.setTitle(this.getTitle()),t.defaultWordBreaks=this.defaultWordBreaks,[2,t]}}))}))},e.prototype.addJavaScript=function(e,t){Lf(e,"name",["string"]),Lf(t,"script",["string"]);var n=wj.for(t,e),r=this.context.nextRef(),s=vj.of(r,this,n);this.javaScripts.push(s)},e.prototype.attach=function(e,t,n){return void 0===n&&(n={}),ym(this,void 0,void 0,(function(){var r,s,i,a;return vm(this,(function(o){return Lf(e,"attachment",["string",Uint8Array,ArrayBuffer]),Lf(t,"name",["string"]),Of(n.mimeType,"mimeType",["string"]),Of(n.description,"description",["string"]),Of(n.creationDate,"options.creationDate",[Date]),Of(n.modificationDate,"options.modificationDate",[Date]),Mf(n.afRelationship,"options.afRelationship",zx),r=Qm(e),s=Bx.for(r,t,n),i=this.context.nextRef(),a=yj.of(i,this,s),this.embeddedFiles.push(a),[2]}))}))},e.prototype.embedFont=function(e,t){return void 0===t&&(t={}),ym(this,void 0,void 0,(function(){var n,r,s,i,a,o,l,c,d,u;return vm(this,(function(h){switch(h.label){case 0:return n=t.subset,r=void 0!==n&&n,s=t.customName,i=t.features,Lf(e,"font",["string",Uint8Array,ArrayBuffer]),Lf(r,"subset",["boolean"]),Ef(e)?(a=Ax.for(e,s),[3,7]):[3,1];case 1:return(p=e)instanceof Uint8Array||p instanceof ArrayBuffer||"string"===typeof p?(o=Qm(e),l=this.assertFontkit(),r?[4,Ox.for(l,o,s,i)]:[3,3]):[3,6];case 2:return c=h.sent(),[3,5];case 3:return[4,_x.for(l,o,s,i)];case 4:c=h.sent(),h.label=5;case 5:return a=c,[3,7];case 6:throw new TypeError("`font` must be one of `StandardFonts | string | Uint8Array | ArrayBuffer`");case 7:return d=this.context.nextRef(),u=Kw.of(d,this,a),this.fonts.push(u),[2,u]}var p}))}))},e.prototype.embedStandardFont=function(e,t){if(Lf(e,"font",["string"]),!Ef(e))throw new TypeError("`font` must be one of type `StandardFonts`");var n=Ax.for(e,t),r=this.context.nextRef(),s=Kw.of(r,this,n);return this.fonts.push(s),s},e.prototype.embedJpg=function(e){return ym(this,void 0,void 0,(function(){var t,n,r,s;return vm(this,(function(i){switch(i.label){case 0:return Lf(e,"jpg",["string",Uint8Array,ArrayBuffer]),t=Qm(e),[4,Wx.for(t)];case 1:return n=i.sent(),r=this.context.nextRef(),s=Yw.of(r,this,n),this.images.push(s),[2,s]}}))}))},e.prototype.embedPng=function(e){return ym(this,void 0,void 0,(function(){var t,n,r,s;return vm(this,(function(i){switch(i.label){case 0:return Lf(e,"png",["string",Uint8Array,ArrayBuffer]),t=Qm(e),[4,Yx.for(t)];case 1:return n=i.sent(),r=this.context.nextRef(),s=Yw.of(r,this,n),this.images.push(s),[2,s]}}))}))},e.prototype.embedPdf=function(t,n){return void 0===n&&(n=[0]),ym(this,void 0,void 0,(function(){var r,s;return vm(this,(function(i){switch(i.label){case 0:return Lf(t,"pdf",["string",Uint8Array,ArrayBuffer,[e,"PDFDocument"]]),Lf(n,"indices",[Array]),t instanceof e?(r=t,[3,3]):[3,1];case 1:return[4,e.load(t)];case 2:r=i.sent(),i.label=3;case 3:return s=function(e,t){for(var n=new Array(t.length),r=0,s=t.length;r<s;r++)n[r]=e[t[r]];return n}(r.getPages(),n),[2,this.embedPages(s)]}}))}))},e.prototype.embedPage=function(e,t,n){return ym(this,void 0,void 0,(function(){return vm(this,(function(r){switch(r.label){case 0:return Lf(e,"page",[[Aj,"PDFPage"]]),[4,this.embedPages([e],[t],[n])];case 1:return[2,r.sent()[0]]}}))}))},e.prototype.embedPages=function(e,t,n){return void 0===t&&(t=[]),void 0===n&&(n=[]),ym(this,void 0,void 0,(function(){var r,s,i,a,o,l,c,d,u,h,p,m,f;return vm(this,(function(g){switch(g.label){case 0:if(0===e.length)return[2,[]];for(l=0,c=e.length-1;l<c;l++)if(r=e[l],s=e[l+1],r.node.context!==s.node.context)throw new ng;i=e[0].node.context,a=i===this.context?function(e){return e}:lx.for(i,this.context).copy,o=new Array(e.length),l=0,c=e.length,g.label=1;case 1:return l<c?(d=a(e[l].node),u=t[l],h=n[l],[4,bb.for(d,u,h)]):[3,4];case 2:p=g.sent(),m=this.context.nextRef(),o[l]=Gw.of(m,this,p),g.label=3;case 3:return l++,[3,1];case 4:return(f=this.embeddedPages).push.apply(f,o),[2,o]}}))}))},e.prototype.flush=function(){return ym(this,void 0,void 0,(function(){return vm(this,(function(e){switch(e.label){case 0:return[4,this.embedAll(this.fonts)];case 1:return e.sent(),[4,this.embedAll(this.images)];case 2:return e.sent(),[4,this.embedAll(this.embeddedPages)];case 3:return e.sent(),[4,this.embedAll(this.embeddedFiles)];case 4:return e.sent(),[4,this.embedAll(this.javaScripts)];case 5:return e.sent(),[2]}}))}))},e.prototype.save=function(e){return void 0===e&&(e={}),ym(this,void 0,void 0,(function(){var t,n,r,s,i,a,o,l,c;return vm(this,(function(d){switch(d.label){case 0:return t=e.useObjectStreams,n=void 0===t||t,r=e.addDefaultPage,s=void 0===r||r,i=e.objectsPerTick,a=void 0===i?50:i,o=e.updateFieldAppearances,l=void 0===o||o,Lf(n,"useObjectStreams",["boolean"]),Lf(s,"addDefaultPage",["boolean"]),Lf(a,"objectsPerTick",["number"]),Lf(l,"updateFieldAppearances",["boolean"]),s&&0===this.getPageCount()&&this.addPage(),l&&(c=this.formCache.getValue())&&c.updateFieldAppearances(),[4,this.flush()];case 1:return d.sent(),[2,(n?kx:gx).forContext(this.context,a).serializeToBuffer()]}}))}))},e.prototype.saveAsBase64=function(e){return void 0===e&&(e={}),ym(this,void 0,void 0,(function(){var t,n,r,s,i;return vm(this,(function(a){switch(a.label){case 0:return t=e.dataUri,n=void 0!==t&&t,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}(e,["dataUri"]),Lf(n,"dataUri",["boolean"]),[4,this.save(r)];case 1:return s=a.sent(),i=function(e){for(var t="",n=e.length,r=0;r<n;r+=3)t+=jm[e[r]>>2],t+=jm[(3&e[r])<<4|e[r+1]>>4],t+=jm[(15&e[r+1])<<2|e[r+2]>>6],t+=jm[63&e[r+2]];return n%3===2?t=t.substring(0,t.length-1)+"=":n%3===1&&(t=t.substring(0,t.length-2)+"=="),t}(s),[2,n?"data:application/pdf;base64,"+i:i]}}))}))},e.prototype.findPageForAnnotationRef=function(e){for(var t=this.getPages(),n=0,r=t.length;n<r;n++){var s=t[n],i=s.node.Annots();if(void 0!==(null===i||void 0===i?void 0:i.indexOf(e)))return s}},e.prototype.embedAll=function(e){return ym(this,void 0,void 0,(function(){var t,n;return vm(this,(function(r){switch(r.label){case 0:t=0,n=e.length,r.label=1;case 1:return t<n?[4,e[t].embed()]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))},e.prototype.updateInfoDict=function(){var e="pdf-lib (https://github.com/Hopding/pdf-lib)",t=new Date,n=this.getInfoDict();this.setProducer(e),this.setModificationDate(t),n.get(Og.of("Creator"))||this.setCreator(e),n.get(Og.of("CreationDate"))||this.setCreationDate(t)},e.prototype.getInfoDict=function(){var e=this.context.lookup(this.context.trailerInfo.Info);if(e instanceof Ug)return e;var t=this.context.obj({});return this.context.trailerInfo.Info=this.context.register(t),t},e.prototype.assertFontkit=function(){if(!this.fontkit)throw new xw;return this.fontkit},e}();const kj=jj;function Nj(e){if(!(e instanceof Sx)&&!(e instanceof Mx))throw new Jf([Sx,Mx],e)}var Sj;!function(e){e.Normal="Normal",e.Multiply="Multiply",e.Screen="Screen",e.Overlay="Overlay",e.Darken="Darken",e.Lighten="Lighten",e.ColorDodge="ColorDodge",e.ColorBurn="ColorBurn",e.HardLight="HardLight",e.SoftLight="SoftLight",e.Difference="Difference",e.Exclusion="Exclusion"}(Sj||(Sj={}));var Cj=function(){function e(e,t,n){this.fontSize=24,this.fontColor=zv(0,0,0),this.lineHeight=24,this.x=0,this.y=0,Lf(e,"leafNode",[[ax,"PDFPageLeaf"]]),Lf(t,"ref",[[Kg,"PDFRef"]]),Lf(n,"doc",[[kj,"PDFDocument"]]),this.node=e,this.ref=t,this.doc=n}return e.prototype.setRotation=function(e){var t=Zy(e);qf(t,"degreesAngle",90),this.node.set(Og.of("Rotate"),this.doc.context.obj(t))},e.prototype.getRotation=function(){var e=this.node.Rotate();return Ky(e?e.asNumber():0)},e.prototype.setSize=function(e,t){Lf(e,"width",["number"]),Lf(t,"height",["number"]);var n=this.getMediaBox();this.setMediaBox(n.x,n.y,e,t);var r=this.getCropBox(),s=this.getBleedBox(),i=this.getTrimBox(),a=this.getArtBox(),o=this.node.CropBox(),l=this.node.BleedBox(),c=this.node.TrimBox(),d=this.node.ArtBox();o&&Pf(r,n)&&this.setCropBox(n.x,n.y,e,t),l&&Pf(s,n)&&this.setBleedBox(n.x,n.y,e,t),c&&Pf(i,n)&&this.setTrimBox(n.x,n.y,e,t),d&&Pf(a,n)&&this.setArtBox(n.x,n.y,e,t)},e.prototype.setWidth=function(e){Lf(e,"width",["number"]),this.setSize(e,this.getSize().height)},e.prototype.setHeight=function(e){Lf(e,"height",["number"]),this.setSize(this.getSize().width,e)},e.prototype.setMediaBox=function(e,t,n,r){Lf(e,"x",["number"]),Lf(t,"y",["number"]),Lf(n,"width",["number"]),Lf(r,"height",["number"]);var s=this.doc.context.obj([e,t,e+n,t+r]);this.node.set(Og.MediaBox,s)},e.prototype.setCropBox=function(e,t,n,r){Lf(e,"x",["number"]),Lf(t,"y",["number"]),Lf(n,"width",["number"]),Lf(r,"height",["number"]);var s=this.doc.context.obj([e,t,e+n,t+r]);this.node.set(Og.CropBox,s)},e.prototype.setBleedBox=function(e,t,n,r){Lf(e,"x",["number"]),Lf(t,"y",["number"]),Lf(n,"width",["number"]),Lf(r,"height",["number"]);var s=this.doc.context.obj([e,t,e+n,t+r]);this.node.set(Og.BleedBox,s)},e.prototype.setTrimBox=function(e,t,n,r){Lf(e,"x",["number"]),Lf(t,"y",["number"]),Lf(n,"width",["number"]),Lf(r,"height",["number"]);var s=this.doc.context.obj([e,t,e+n,t+r]);this.node.set(Og.TrimBox,s)},e.prototype.setArtBox=function(e,t,n,r){Lf(e,"x",["number"]),Lf(t,"y",["number"]),Lf(n,"width",["number"]),Lf(r,"height",["number"]);var s=this.doc.context.obj([e,t,e+n,t+r]);this.node.set(Og.ArtBox,s)},e.prototype.getSize=function(){var e=this.getMediaBox();return{width:e.width,height:e.height}},e.prototype.getWidth=function(){return this.getSize().width},e.prototype.getHeight=function(){return this.getSize().height},e.prototype.getMediaBox=function(){return this.node.MediaBox().asRectangle()},e.prototype.getCropBox=function(){var e,t=this.node.CropBox();return null!==(e=null===t||void 0===t?void 0:t.asRectangle())&&void 0!==e?e:this.getMediaBox()},e.prototype.getBleedBox=function(){var e,t=this.node.BleedBox();return null!==(e=null===t||void 0===t?void 0:t.asRectangle())&&void 0!==e?e:this.getCropBox()},e.prototype.getTrimBox=function(){var e,t=this.node.TrimBox();return null!==(e=null===t||void 0===t?void 0:t.asRectangle())&&void 0!==e?e:this.getCropBox()},e.prototype.getArtBox=function(){var e,t=this.node.ArtBox();return null!==(e=null===t||void 0===t?void 0:t.asRectangle())&&void 0!==e?e:this.getCropBox()},e.prototype.translateContent=function(e,t){Lf(e,"x",["number"]),Lf(t,"y",["number"]),this.node.normalize(),this.getContentStream();var n=this.createContentStream(gv(),av(e,t)),r=this.doc.context.register(n),s=this.createContentStream(xv()),i=this.doc.context.register(s);this.node.wrapContentStreams(r,i)},e.prototype.scale=function(e,t){Lf(e,"x",["number"]),Lf(t,"y",["number"]),this.setSize(this.getWidth()*e,this.getHeight()*t),this.scaleContent(e,t),this.scaleAnnotations(e,t)},e.prototype.scaleContent=function(e,t){Lf(e,"x",["number"]),Lf(t,"y",["number"]),this.node.normalize(),this.getContentStream();var n=this.createContentStream(gv(),ov(e,t)),r=this.doc.context.register(n),s=this.createContentStream(xv()),i=this.doc.context.register(s);this.node.wrapContentStreams(r,i)},e.prototype.scaleAnnotations=function(e,t){Lf(e,"x",["number"]),Lf(t,"y",["number"]);var n=this.node.Annots();if(n)for(var r=0;r<n.size();r++){var s=n.lookup(r);s instanceof Ug&&this.scaleAnnot(s,e,t)}},e.prototype.resetPosition=function(){this.getContentStream(!1),this.x=0,this.y=0},e.prototype.setFont=function(e){Lf(e,"font",[[Kw,"PDFFont"]]),this.font=e,this.fontKey=this.node.newFontDictionary(this.font.name,this.font.ref)},e.prototype.setFontSize=function(e){Lf(e,"fontSize",["number"]),this.fontSize=e},e.prototype.setFontColor=function(e){Lf(e,"fontColor",[[Object,"Color"]]),this.fontColor=e},e.prototype.setLineHeight=function(e){Lf(e,"lineHeight",["number"]),this.lineHeight=e},e.prototype.getPosition=function(){return{x:this.x,y:this.y}},e.prototype.getX=function(){return this.x},e.prototype.getY=function(){return this.y},e.prototype.moveTo=function(e,t){Lf(e,"x",["number"]),Lf(t,"y",["number"]),this.x=e,this.y=t},e.prototype.moveDown=function(e){Lf(e,"yDecrease",["number"]),this.y-=e},e.prototype.moveUp=function(e){Lf(e,"yIncrease",["number"]),this.y+=e},e.prototype.moveLeft=function(e){Lf(e,"xDecrease",["number"]),this.x-=e},e.prototype.moveRight=function(e){Lf(e,"xIncrease",["number"]),this.x+=e},e.prototype.pushOperators=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];zf(e,"operator",[[Yg,"PDFOperator"]]);var n=this.getContentStream();n.push.apply(n,e)},e.prototype.drawText=function(e,t){var n,r,s,i,a,o,l;void 0===t&&(t={}),Lf(e,"text",["string"]),Of(t.color,"options.color",[[Object,"Color"]]),Uf(t.opacity,"opacity.opacity",0,1),Of(t.font,"options.font",[[Kw,"PDFFont"]]),Of(t.size,"options.size",["number"]),Of(t.rotate,"options.rotate",[[Object,"Rotation"]]),Of(t.xSkew,"options.xSkew",[[Object,"Rotation"]]),Of(t.ySkew,"options.ySkew",[[Object,"Rotation"]]),Of(t.x,"options.x",["number"]),Of(t.y,"options.y",["number"]),Of(t.lineHeight,"options.lineHeight",["number"]),Of(t.maxWidth,"options.maxWidth",["number"]),Of(t.wordBreaks,"options.wordBreaks",[Array]),Mf(t.blendMode,"options.blendMode",Sj);for(var c=this.setOrEmbedFont(t.font),d=c.oldFont,u=c.newFont,h=c.newFontKey,p=t.size||this.fontSize,m=t.wordBreaks||this.doc.defaultWordBreaks,f=void 0===t.maxWidth?Lm(Mm(e)):Bm(e,m,t.maxWidth,(function(e){return u.widthOfTextAtSize(e,p)})),g=new Array(f.length),x=0,b=f.length;x<b;x++)g[x]=u.encodeText(f[x]);var y=this.maybeEmbedGraphicsState({opacity:t.opacity,blendMode:t.blendMode}),v=this.getContentStream();v.push.apply(v,function(e,t){for(var n,r=[gv(),t.graphicsState&&fv(t.graphicsState),Ev(),Wv(t.color),Fv(t.font,t.size),(n=t.lineHeight,Yg.of(Jg.SetTextLineHeight,[Wy(n)])),Dv(Jy(t.rotate),Jy(t.xSkew),Jy(t.ySkew),t.x,t.y)].filter(Boolean),s=0,i=e.length;s<i;s++)r.push(Tv(e[s]),Yg.of(Jg.NextLine));return r.push(Pv(),xv()),r}(g,{color:null!==(n=t.color)&&void 0!==n?n:this.fontColor,font:h,size:p,rotate:null!==(r=t.rotate)&&void 0!==r?r:Ky(0),xSkew:null!==(s=t.xSkew)&&void 0!==s?s:Ky(0),ySkew:null!==(i=t.ySkew)&&void 0!==i?i:Ky(0),x:null!==(a=t.x)&&void 0!==a?a:this.x,y:null!==(o=t.y)&&void 0!==o?o:this.y,lineHeight:null!==(l=t.lineHeight)&&void 0!==l?l:this.lineHeight,graphicsState:y})),t.font&&(d?this.setFont(d):this.resetFont())},e.prototype.drawImage=function(e,t){var n,r,s,i,a,o,l;void 0===t&&(t={}),Lf(e,"image",[[Yw,"PDFImage"]]),Of(t.x,"options.x",["number"]),Of(t.y,"options.y",["number"]),Of(t.width,"options.width",["number"]),Of(t.height,"options.height",["number"]),Of(t.rotate,"options.rotate",[[Object,"Rotation"]]),Of(t.xSkew,"options.xSkew",[[Object,"Rotation"]]),Of(t.ySkew,"options.ySkew",[[Object,"Rotation"]]),Uf(t.opacity,"opacity.opacity",0,1),Mf(t.blendMode,"options.blendMode",Sj);var c=this.node.newXObject("Image",e.ref),d=this.maybeEmbedGraphicsState({opacity:t.opacity,blendMode:t.blendMode}),u=this.getContentStream();u.push.apply(u,aw(c,{x:null!==(n=t.x)&&void 0!==n?n:this.x,y:null!==(r=t.y)&&void 0!==r?r:this.y,width:null!==(s=t.width)&&void 0!==s?s:e.size().width,height:null!==(i=t.height)&&void 0!==i?i:e.size().height,rotate:null!==(a=t.rotate)&&void 0!==a?a:Ky(0),xSkew:null!==(o=t.xSkew)&&void 0!==o?o:Ky(0),ySkew:null!==(l=t.ySkew)&&void 0!==l?l:Ky(0),graphicsState:d}))},e.prototype.drawPage=function(e,t){var n,r,s,i,a;void 0===t&&(t={}),Lf(e,"embeddedPage",[[Gw,"PDFEmbeddedPage"]]),Of(t.x,"options.x",["number"]),Of(t.y,"options.y",["number"]),Of(t.xScale,"options.xScale",["number"]),Of(t.yScale,"options.yScale",["number"]),Of(t.width,"options.width",["number"]),Of(t.height,"options.height",["number"]),Of(t.rotate,"options.rotate",[[Object,"Rotation"]]),Of(t.xSkew,"options.xSkew",[[Object,"Rotation"]]),Of(t.ySkew,"options.ySkew",[[Object,"Rotation"]]),Uf(t.opacity,"opacity.opacity",0,1),Mf(t.blendMode,"options.blendMode",Sj);var o=this.node.newXObject("EmbeddedPdfPage",e.ref),l=this.maybeEmbedGraphicsState({opacity:t.opacity,blendMode:t.blendMode}),c=void 0!==t.width?t.width/e.width:void 0!==t.xScale?t.xScale:1,d=void 0!==t.height?t.height/e.height:void 0!==t.yScale?t.yScale:1,u=this.getContentStream();u.push.apply(u,function(e,t){return[gv(),t.graphicsState&&fv(t.graphicsState),av(t.x,t.y),lv(Jy(t.rotate)),ov(t.xScale,t.yScale),dv(Jy(t.xSkew),Jy(t.ySkew)),Mv(e),xv()].filter(Boolean)}(o,{x:null!==(n=t.x)&&void 0!==n?n:this.x,y:null!==(r=t.y)&&void 0!==r?r:this.y,xScale:c,yScale:d,rotate:null!==(s=t.rotate)&&void 0!==s?s:Ky(0),xSkew:null!==(i=t.xSkew)&&void 0!==i?i:Ky(0),ySkew:null!==(a=t.ySkew)&&void 0!==a?a:Ky(0),graphicsState:l}))},e.prototype.drawSvgPath=function(e,t){var n,r,s,i,a,o,l,c,d;void 0===t&&(t={}),Lf(e,"path",["string"]),Of(t.x,"options.x",["number"]),Of(t.y,"options.y",["number"]),Of(t.scale,"options.scale",["number"]),Of(t.rotate,"options.rotate",[[Object,"Rotation"]]),Of(t.borderWidth,"options.borderWidth",["number"]),Of(t.color,"options.color",[[Object,"Color"]]),Uf(t.opacity,"opacity.opacity",0,1),Of(t.borderColor,"options.borderColor",[[Object,"Color"]]),Of(t.borderDashArray,"options.borderDashArray",[Array]),Of(t.borderDashPhase,"options.borderDashPhase",["number"]),Mf(t.borderLineCap,"options.borderLineCap",Gy),Uf(t.borderOpacity,"options.borderOpacity",0,1),Mf(t.blendMode,"options.blendMode",Sj);var u=this.maybeEmbedGraphicsState({opacity:t.opacity,borderOpacity:t.borderOpacity,blendMode:t.blendMode});"color"in t||"borderColor"in t||(t.borderColor=zv(0,0,0));var h=this.getContentStream();h.push.apply(h,function(e,t){var n,r,s;return wm([gv(),t.graphicsState&&fv(t.graphicsState),av(t.x,t.y),lv(Jy(null!==(n=t.rotate)&&void 0!==n?n:Ky(0))),t.scale?ov(t.scale,-t.scale):ov(1,-1),t.color&&Wv(t.color),t.borderColor&&Hv(t.borderColor),t.borderWidth&&bv(t.borderWidth),t.borderLineCap&&pv(t.borderLineCap),uv(null!==(r=t.borderDashArray)&&void 0!==r?r:[],null!==(s=t.borderDashPhase)&&void 0!==s?s:0)],iw(e),[t.color&&t.borderWidth?Cv():t.color?Sv():t.borderColor?Nv():wv(),xv()]).filter(Boolean)}(e,{x:null!==(n=t.x)&&void 0!==n?n:this.x,y:null!==(r=t.y)&&void 0!==r?r:this.y,scale:t.scale,rotate:null!==(s=t.rotate)&&void 0!==s?s:Ky(0),color:null!==(i=t.color)&&void 0!==i?i:void 0,borderColor:null!==(a=t.borderColor)&&void 0!==a?a:void 0,borderWidth:null!==(o=t.borderWidth)&&void 0!==o?o:0,borderDashArray:null!==(l=t.borderDashArray)&&void 0!==l?l:void 0,borderDashPhase:null!==(c=t.borderDashPhase)&&void 0!==c?c:void 0,borderLineCap:null!==(d=t.borderLineCap)&&void 0!==d?d:void 0,graphicsState:u}))},e.prototype.drawLine=function(e){var t,n,r,s,i;Lf(e.start,"options.start",[[Object,"{ x: number, y: number }"]]),Lf(e.end,"options.end",[[Object,"{ x: number, y: number }"]]),Lf(e.start.x,"options.start.x",["number"]),Lf(e.start.y,"options.start.y",["number"]),Lf(e.end.x,"options.end.x",["number"]),Lf(e.end.y,"options.end.y",["number"]),Of(e.thickness,"options.thickness",["number"]),Of(e.color,"options.color",[[Object,"Color"]]),Of(e.dashArray,"options.dashArray",[Array]),Of(e.dashPhase,"options.dashPhase",["number"]),Mf(e.lineCap,"options.lineCap",Gy),Uf(e.opacity,"opacity.opacity",0,1),Mf(e.blendMode,"options.blendMode",Sj);var a=this.maybeEmbedGraphicsState({borderOpacity:e.opacity,blendMode:e.blendMode});"color"in e||(e.color=zv(0,0,0));var o=this.getContentStream();o.push.apply(o,function(e){var t,n;return[gv(),e.graphicsState&&fv(e.graphicsState),e.color&&Hv(e.color),bv(e.thickness),uv(null!==(t=e.dashArray)&&void 0!==t?t:[],null!==(n=e.dashPhase)&&void 0!==n?n:0),jv(e.start.x,e.start.y),e.lineCap&&pv(e.lineCap),jv(e.start.x,e.start.y),kv(e.end.x,e.end.y),Nv(),xv()].filter(Boolean)}({start:e.start,end:e.end,thickness:null!==(t=e.thickness)&&void 0!==t?t:1,color:null!==(n=e.color)&&void 0!==n?n:void 0,dashArray:null!==(r=e.dashArray)&&void 0!==r?r:void 0,dashPhase:null!==(s=e.dashPhase)&&void 0!==s?s:void 0,lineCap:null!==(i=e.lineCap)&&void 0!==i?i:void 0,graphicsState:a}))},e.prototype.drawRectangle=function(e){var t,n,r,s,i,a,o,l,c,d,u,h,p;void 0===e&&(e={}),Of(e.x,"options.x",["number"]),Of(e.y,"options.y",["number"]),Of(e.width,"options.width",["number"]),Of(e.height,"options.height",["number"]),Of(e.rotate,"options.rotate",[[Object,"Rotation"]]),Of(e.xSkew,"options.xSkew",[[Object,"Rotation"]]),Of(e.ySkew,"options.ySkew",[[Object,"Rotation"]]),Of(e.borderWidth,"options.borderWidth",["number"]),Of(e.color,"options.color",[[Object,"Color"]]),Uf(e.opacity,"opacity.opacity",0,1),Of(e.borderColor,"options.borderColor",[[Object,"Color"]]),Of(e.borderDashArray,"options.borderDashArray",[Array]),Of(e.borderDashPhase,"options.borderDashPhase",["number"]),Mf(e.borderLineCap,"options.borderLineCap",Gy),Uf(e.borderOpacity,"options.borderOpacity",0,1),Mf(e.blendMode,"options.blendMode",Sj);var m=this.maybeEmbedGraphicsState({opacity:e.opacity,borderOpacity:e.borderOpacity,blendMode:e.blendMode});"color"in e||"borderColor"in e||(e.color=zv(0,0,0));var f=this.getContentStream();f.push.apply(f,ow({x:null!==(t=e.x)&&void 0!==t?t:this.x,y:null!==(n=e.y)&&void 0!==n?n:this.y,width:null!==(r=e.width)&&void 0!==r?r:150,height:null!==(s=e.height)&&void 0!==s?s:100,rotate:null!==(i=e.rotate)&&void 0!==i?i:Ky(0),xSkew:null!==(a=e.xSkew)&&void 0!==a?a:Ky(0),ySkew:null!==(o=e.ySkew)&&void 0!==o?o:Ky(0),borderWidth:null!==(l=e.borderWidth)&&void 0!==l?l:0,color:null!==(c=e.color)&&void 0!==c?c:void 0,borderColor:null!==(d=e.borderColor)&&void 0!==d?d:void 0,borderDashArray:null!==(u=e.borderDashArray)&&void 0!==u?u:void 0,borderDashPhase:null!==(h=e.borderDashPhase)&&void 0!==h?h:void 0,graphicsState:m,borderLineCap:null!==(p=e.borderLineCap)&&void 0!==p?p:void 0}))},e.prototype.drawSquare=function(e){void 0===e&&(e={});var t=e.size;Of(t,"size",["number"]),this.drawRectangle(bm(bm({},e),{width:t,height:t}))},e.prototype.drawEllipse=function(e){var t,n,r,s,i,a,o,l,c,d,u;void 0===e&&(e={}),Of(e.x,"options.x",["number"]),Of(e.y,"options.y",["number"]),Of(e.xScale,"options.xScale",["number"]),Of(e.yScale,"options.yScale",["number"]),Of(e.rotate,"options.rotate",[[Object,"Rotation"]]),Of(e.color,"options.color",[[Object,"Color"]]),Uf(e.opacity,"opacity.opacity",0,1),Of(e.borderColor,"options.borderColor",[[Object,"Color"]]),Uf(e.borderOpacity,"options.borderOpacity",0,1),Of(e.borderWidth,"options.borderWidth",["number"]),Of(e.borderDashArray,"options.borderDashArray",[Array]),Of(e.borderDashPhase,"options.borderDashPhase",["number"]),Mf(e.borderLineCap,"options.borderLineCap",Gy),Mf(e.blendMode,"options.blendMode",Sj);var h=this.maybeEmbedGraphicsState({opacity:e.opacity,borderOpacity:e.borderOpacity,blendMode:e.blendMode});"color"in e||"borderColor"in e||(e.color=zv(0,0,0));var p=this.getContentStream();p.push.apply(p,cw({x:null!==(t=e.x)&&void 0!==t?t:this.x,y:null!==(n=e.y)&&void 0!==n?n:this.y,xScale:null!==(r=e.xScale)&&void 0!==r?r:100,yScale:null!==(s=e.yScale)&&void 0!==s?s:100,rotate:null!==(i=e.rotate)&&void 0!==i?i:void 0,color:null!==(a=e.color)&&void 0!==a?a:void 0,borderColor:null!==(o=e.borderColor)&&void 0!==o?o:void 0,borderWidth:null!==(l=e.borderWidth)&&void 0!==l?l:0,borderDashArray:null!==(c=e.borderDashArray)&&void 0!==c?c:void 0,borderDashPhase:null!==(d=e.borderDashPhase)&&void 0!==d?d:void 0,borderLineCap:null!==(u=e.borderLineCap)&&void 0!==u?u:void 0,graphicsState:h}))},e.prototype.drawCircle=function(e){void 0===e&&(e={});var t=e.size,n=void 0===t?100:t;Of(n,"size",["number"]),this.drawEllipse(bm(bm({},e),{xScale:n,yScale:n}))},e.prototype.setOrEmbedFont=function(e){var t=this.font,n=this.fontKey;return e?this.setFont(e):this.getFont(),{oldFont:t,oldFontKey:n,newFont:this.font,newFontKey:this.fontKey}},e.prototype.getFont=function(){if(!this.font||!this.fontKey){var e=this.doc.embedStandardFont(uj.Helvetica);this.setFont(e)}return[this.font,this.fontKey]},e.prototype.resetFont=function(){this.font=void 0,this.fontKey=void 0},e.prototype.getContentStream=function(e){return void 0===e&&(e=!0),e&&this.contentStream||(this.contentStream=this.createContentStream(),this.contentStreamRef=this.doc.context.register(this.contentStream),this.node.addContentStream(this.contentStreamRef)),this.contentStream},e.prototype.createContentStream=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.doc.context.obj({});return ex.of(n,e)},e.prototype.maybeEmbedGraphicsState=function(e){var t=e.opacity,n=e.borderOpacity,r=e.blendMode;if(void 0!==t||void 0!==n||void 0!==r){var s=this.doc.context.obj({Type:"ExtGState",ca:t,CA:n,BM:r});return this.node.newExtGState("GS",s)}},e.prototype.scaleAnnot=function(e,t,n){for(var r=["RD","CL","Vertices","QuadPoints","L","Rect"],s=0,i=r.length;s<i;s++){var a=e.lookup(Og.of(r[s]));a instanceof Ag&&a.scalePDFNumbers(t,n)}var o=e.lookup(Og.of("InkList"));if(o instanceof Ag)for(s=0,i=o.size();s<i;s++){var l=o.lookup(s);l instanceof Ag&&l.scalePDFNumbers(t,n)}},e.of=function(t,n,r){return new e(t,n,r)},e.create=function(t){Lf(t,"doc",[[kj,"PDFDocument"]]);var n=Kg.of(-1),r=ax.withContextAndParent(t.context,n);return new e(r,t.context.register(r),t)},e}();const Aj=Cj;var Tj=function(e){function t(t,n,r){var s=e.call(this,t,n,r)||this;return Lf(t,"acroButton",[[ey,"PDFAcroPushButton"]]),s.acroField=t,s}return xm(t,e),t.prototype.setImage=function(e,t){void 0===t&&(t=Qw.Center);for(var n=this.acroField.getWidgets(),r=0,s=n.length;r<s;r++){var i=n[r],a=this.createImageAppearanceStream(i,e,t);this.updateWidgetAppearances(i,{normal:a})}this.markAsClean()},t.prototype.setFontSize=function(e){Vf(e,"fontSize"),this.acroField.setFontSize(e),this.markAsDirty()},t.prototype.addToPage=function(e,t,n){var r,s,i,a,o,l,c,d,u,h,p;Of(e,"text",["string"]),Of(t,"page",[[Aj,"PDFPage"]]),Jw(n);var m=this.createWidget({x:(null!==(r=null===n||void 0===n?void 0:n.x)&&void 0!==r?r:0)-(null!==(s=null===n||void 0===n?void 0:n.borderWidth)&&void 0!==s?s:0)/2,y:(null!==(i=null===n||void 0===n?void 0:n.y)&&void 0!==i?i:0)-(null!==(a=null===n||void 0===n?void 0:n.borderWidth)&&void 0!==a?a:0)/2,width:null!==(o=null===n||void 0===n?void 0:n.width)&&void 0!==o?o:100,height:null!==(l=null===n||void 0===n?void 0:n.height)&&void 0!==l?l:50,textColor:null!==(c=null===n||void 0===n?void 0:n.textColor)&&void 0!==c?c:zv(0,0,0),backgroundColor:null!==(d=null===n||void 0===n?void 0:n.backgroundColor)&&void 0!==d?d:zv(.75,.75,.75),borderColor:null===n||void 0===n?void 0:n.borderColor,borderWidth:null!==(u=null===n||void 0===n?void 0:n.borderWidth)&&void 0!==u?u:0,rotate:null!==(h=null===n||void 0===n?void 0:n.rotate)&&void 0!==h?h:Ky(0),caption:e,hidden:null===n||void 0===n?void 0:n.hidden,page:t.ref}),f=this.doc.context.register(m.dict);this.acroField.addWidget(f);var g=null!==(p=null===n||void 0===n?void 0:n.font)&&void 0!==p?p:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(m,g),t.node.addAnnot(f)},t.prototype.needsAppearancesUpdate=function(){var e;if(this.isDirty())return!0;for(var t=this.acroField.getWidgets(),n=0,r=t.length;n<r;n++){if(!((null===(e=t[n].getAppearances())||void 0===e?void 0:e.normal)instanceof Vg))return!0}return!1},t.prototype.defaultUpdateAppearances=function(e){Lf(e,"font",[[Kw,"PDFFont"]]),this.updateAppearances(e)},t.prototype.updateAppearances=function(e,t){Lf(e,"font",[[Kw,"PDFFont"]]),Of(t,"provider",[Function]);for(var n=this.acroField.getWidgets(),r=0,s=n.length;r<s;r++){var i=n[r];this.updateWidgetAppearance(i,e,t)}},t.prototype.updateWidgetAppearance=function(e,t,n){var r=Mw((null!==n&&void 0!==n?n:qw)(this,e,t));this.updateWidgetAppearanceWithFont(e,t,r)},t.of=function(e,n,r){return new t(e,n,r)},t}($w);const Ej=Tj;"undefined"!==typeof window&&"pdfjsWorker"in window?fm.GlobalWorkerOptions.workerSrc=window.pdfjsWorker:fm.GlobalWorkerOptions.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${fm.version}/pdf.worker.min.js`;const Pj=async e=>{try{return await kj.load(e),!1}catch(hf){return!(!hf.message||!hf.message.includes("encrypted"))}},Fj=e=>{let{isOpen:n,onClose:r,indexData:s,onUpdateIndex:i,onSplitPDF:a,pdfFile:o,markedPageData:l,bookId:c}=e;const[d,u]=(0,t.useState)(null),[h,p]=(0,t.useState)({chapter:null,topic:null}),[m,f]=(0,t.useState)(""),[g,x]=(0,t.useState)(""),[b,y]=(0,t.useState)(""),[v,w]=(0,t.useState)({}),[j,k]=(0,t.useState)(!1),[N,S]=(0,t.useState)([]),[C,A]=(0,t.useState)(!1),[T,E]=(0,t.useState)(null),[P,F]=(0,t.useState)(!1),[R,D]=(0,t.useState)(!1);if((0,t.useEffect)((()=>{if(s){const e={};s.forEach(((t,n)=>{e[n]=!0})),w(e)}}),[s]),(0,t.useEffect)((()=>{if(o){const e=async()=>{try{const e=await o.arrayBuffer();await Pj(e)&&Gp.warning("This PDF is encrypted/password-protected. We will try to process it, but some features may not work properly."),E(e)}catch(hf){console.error("Error reading PDF file:",hf),Gp.error("Failed to read the PDF file.")}};e()}}),[o]),(0,t.useEffect)((()=>()=>{N.forEach((e=>{e.url&&e.url.startsWith("blob:")&&URL.revokeObjectURL(e.url)}))}),[N]),!n)return null;const M=(e,t)=>{const n=s[e].topics[t];p({chapter:e,topic:t}),f(n.title),x(n.startPage),y(n.endPage),u(null)},I=async(e,t)=>{try{const n=await kj.create(),r=n.addPage(),s=await n.embedFont(uj.Helvetica),i=await n.embedFont(uj.HelveticaBold),{width:a,height:o}=r.getSize(),l=50;r.drawText(e,{x:l,y:o-l,size:24,font:i,color:zv(0,0,0)}),r.drawText(t,{x:l,y:o-l-40,size:12,font:s,color:zv(0,0,0),maxWidth:a-2*l,lineHeight:16});return await n.save()}catch(hf){throw console.error("Error creating PDF:",hf),new Error("Failed to create PDF")}},_=async(e,t,n,r)=>{console.log(`Processing corrupted PDF using image-based reconstruction: ${r}`),Gp.info(`Using advanced recovery for ${r}. This may take a moment...`);try{const r=fm.getDocument({data:e}),i=await r.promise,a=i.numPages;if(t<1||n>a)throw new Error(`Invalid page range: ${t}-${n}. PDF has ${a} pages.`);const o=await kj.create();Gp.info(`Reconstructing pages ${t}-${n}...`);for(let e=t;e<=n;e++)try{const t=await i.getPage(e),n=t.getViewport({scale:1}),{width:r,height:s}=n,a=t.getViewport({scale:2}),l=document.createElement("canvas");l.width=a.width,l.height=a.height;const c={canvasContext:l.getContext("2d",{alpha:!1}),viewport:a,intent:"print"};await t.render(c).promise;const d=l.toDataURL("image/jpeg",1).split(",")[1],u=Uint8Array.from(atob(d),(e=>e.charCodeAt(0))),h=await o.embedJpg(u);o.addPage([r,s]).drawImage(h,{x:0,y:0,width:r,height:s})}catch(s){console.error(`Error processing page ${e}:`,s)}if(0===o.getPageCount())throw new Error("Failed to reconstruct any pages");return console.log(`Successfully reconstructed PDF with ${o.getPageCount()} pages`),await o.save()}catch(hf){throw console.error("Image-based reconstruction failed:",hf),hf}},L=async(e,t,n,r)=>{console.log(`Processing normal PDF: ${r}, pages ${t}-${n}`);try{const r=await kj.load(e,{ignoreEncryption:!0,updateMetadata:!1,throwOnInvalidObject:!1}),a=r.getPageCount();if(t<1||n>a)throw new Error(`Invalid page range: ${t}-${n}. PDF has ${a} pages.`);const o=await kj.create(),l=t-1,c=n-1,d=[];for(let e=l;e<=c;e++)d.push(e);try{return(await o.copyPages(r,d)).forEach((e=>o.addPage(e))),await o.save()}catch(s){console.error("Bulk page copy failed, trying individual pages:",s);let e=!1;for(let t=l;t<=c;t++)try{const[n]=await o.copyPages(r,[t]);o.addPage(n),e=!0}catch(i){console.error(`Error copying page ${t+1}:`,i)}if(e)return await o.save();throw new Error("Failed to copy any pages")}}catch(hf){throw console.error("Normal PDF processing failed:",hf),hf}},O=async()=>{A(!0);try{if(!T)return Gp.error("Original PDF data is not available. Please try re-uploading the PDF."),void A(!1);try{await Pj(T)&&Gp.info("This PDF is encrypted/password-protected. We will attempt to process it while maintaining the original content.")}catch(e){Gp.warning("This PDF may have structural issues. We will try our best to process it.")}let l=!1;try{l=(await(async e=>{console.log("Detecting if PDF is corrupted...");try{const n=await kj.load(e,{ignoreEncryption:!0,updateMetadata:!1,throwOnInvalidObject:!1});try{const e=await kj.create(),[t]=await e.copyPages(n,[0]);return e.addPage(t),await e.save(),console.log("PDF is not corrupted - standard processing will be used"),{corrupted:!1}}catch(t){return console.error("First page copy failed - PDF may be corrupted:",t),t.message&&t.message.includes("Expected instance of PDFDict")?{corrupted:!0,type:"PDFDict"}:{corrupted:!0,type:"unknown"}}}catch(n){return console.error("PDF loading failed - PDF is likely corrupted:",n),{corrupted:!0,type:n.message}}})(T)).corrupted,l&&Gp.warning("PDF structure issues detected. Using advanced recovery method.")}catch(t){console.error("Error during corruption detection:",t),l=!0}const c=await a(s),d=[];let u=0;for(const e of c)try{let t;try{t=l?await _(T,e.startPage,e.endPage,e.title):await L(T,e.startPage,e.endPage,e.title)}catch(n){console.error(`Error processing chapter "${e.title}":`,n);try{Gp.warning(`Trying alternative method for chapter "${e.title}"...`),t=l?await L(T,e.startPage,e.endPage,e.title):await _(T,e.startPage,e.endPage,e.title)}catch(r){console.error(`Fallback also failed for chapter "${e.title}":`,r),Gp.error(`Failed to process chapter "${e.title}" after multiple attempts. Using placeholder.`),t=await I(e.title,`This PDF section (pages ${e.startPage}-${e.endPage}) couldn't be extracted due to technical issues.`)}}const s=new Blob([t],{type:"application/pdf"}),a=URL.createObjectURL(s);if(d.push({id:`chapter-${e.id}`,title:e.title,startPage:e.startPage,endPage:e.endPage,url:a,isChapter:!0}),e.topics&&e.topics.length>0)for(const o of e.topics)try{let t;try{t=l?await _(T,o.startPage,o.endPage,`${e.title} - ${o.title}`):await L(T,o.startPage,o.endPage,`${e.title} - ${o.title}`)}catch(n){console.error(`Error processing topic "${o.title}":`,n);try{Gp.warning(`Trying alternative method for topic "${o.title}"...`),t=l?await L(T,o.startPage,o.endPage,`${e.title} - ${o.title}`):await _(T,o.startPage,o.endPage,`${e.title} - ${o.title}`)}catch(r){console.error(`Fallback also failed for topic "${o.title}":`,r),Gp.error(`Failed to process topic "${o.title}" after multiple attempts. Using placeholder.`),t=await I(`${e.title} - ${o.title}`,`This PDF section (pages ${o.startPage}-${o.endPage}) couldn't be extracted due to technical issues.`)}}const s=new Blob([t],{type:"application/pdf"}),i=URL.createObjectURL(s);d.push({id:`topic-${e.id}-${o.id}`,title:`${e.title} - ${o.title}`,startPage:o.startPage,endPage:o.endPage,url:i,isChapter:!1,parentChapter:e.title})}catch(i){console.error(`Error processing topic "${o.title}":`,i),Gp.error(`Failed to process topic "${o.title}". Skipping...`),u++}}catch(o){console.error(`Error processing chapter "${e.title}":`,o),Gp.error(`Failed to process chapter "${e.title}". Skipping...`),u++}if(0===d.length)return Gp.error("Failed to generate any PDF splits. Please try again with a different PDF."),void A(!1);S(d),k(!0),u>0?Gp.warning(`PDF split completed with ${u} errors. Some sections may be missing.`):l?Gp.success("PDF split successfully using advanced recovery method!"):Gp.success("PDF split successfully!")}catch(hf){console.error("Error splitting PDF:",hf),Gp.error("Failed to split PDF: "+(hf.message||"Unknown error"))}finally{A(!1)}};return(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ht.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-6xl p-6 max-h-[90vh] overflow-y-auto",children:[(0,ht.jsxs)("div",{className:"mb-6 flex justify-between items-center",children:[(0,ht.jsx)("h2",{className:"text-3xl font-bold text-gray-800",children:j?"Split PDF Files":"Extracted Index"}),(0,ht.jsx)("div",{className:"flex gap-3",children:j?(0,ht.jsxs)(ht.Fragment,{children:[(0,ht.jsx)("button",{onClick:async()=>{if(c){D(!0);try{const e=ut.get("usertoken");if(!e)return void Gp.error("Authentication required");const t=N.map((async e=>{try{const t=await fetch(e.url),n=await t.blob(),r=new File([n],`${e.title.replace(/[^\w\s-]/gi,"")}.pdf`,{type:"application/pdf"}),s=await(async(e,t)=>{const n=new FormData;n.append("file",e),n.append("upload_preset","post_blog"),n.append("public_id",`pdf_sections/${t.replace(/[^\w-]/g,"_")}`),n.append("tags","pdf,split");try{const e=await fetch("https://api.cloudinary.com/v1_1/dsbuzlxpw/upload",{method:"POST",body:n});if(!e.ok)throw new Error("Failed to upload to Cloudinary");return(await e.json()).secure_url}catch(hf){throw console.error("Cloudinary upload error:",{error:hf.message,fileName:e.name,fileSize:e.size,fileType:e.type}),hf}})(r,e.title);return{...e,cloudinaryUrl:s}}catch(hf){throw console.error(`Error uploading ${e.title}:`,hf),hf}})),n=await Promise.all(t),s=await fetch(`https://aipbbackend.onrender.com/api/books/${c}/save-split-pdfs`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({splits:n.map((e=>({title:e.title,startPage:e.startPage,endPage:e.endPage,url:e.cloudinaryUrl,isChapter:e.isChapter,parentChapter:e.parentChapter})))})});if(!s.ok)throw new Error("Failed to save to database");const i=await s.json();if(!i.success)throw new Error(i.message||"Failed to save to database");Gp.success("Successfully saved to datastore!"),setTimeout((()=>{r()}),1500)}catch(hf){console.error("Error saving to datastore:",hf),Gp.error(`Failed to save to datastore: ${hf.message}`)}finally{D(!1)}}else Gp.error("Book ID is required to save to datastore")},className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",disabled:R,children:R?(0,ht.jsx)("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full mr-2"}):(0,ht.jsxs)("span",{className:"flex items-center",children:[(0,ht.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[(0,ht.jsx)("path",{d:"M2 20V10a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2Z"}),(0,ht.jsx)("path",{d:"M12 10v6"}),(0,ht.jsx)("path",{d:"M12 2v4"}),(0,ht.jsx)("path",{d:"M6 6l6-4 6 4"})]}),"Save to Datastore"]})}),(0,ht.jsx)("button",{onClick:()=>{N.forEach((e=>{e.url&&e.url.startsWith("blob:")&&URL.revokeObjectURL(e.url)})),k(!1),F(!0),Gp.info('You can now edit the index structure. Click "Re-Split PDF" when done.')},className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:(0,ht.jsxs)("span",{className:"flex items-center",children:[(0,ht.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:(0,ht.jsx)("path",{d:"M17 3a2.85 2.85 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})}),"Edit Index"]})}),(0,ht.jsx)("button",{onClick:r,className:"flex items-center px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 transition-colors",children:(0,ht.jsxs)("span",{className:"flex items-center",children:[(0,ht.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[(0,ht.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,ht.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),"Close"]})})]}):(0,ht.jsxs)(ht.Fragment,{children:[(0,ht.jsx)("button",{onClick:r,className:"flex items-center px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 transition-colors",children:(0,ht.jsxs)("span",{className:"flex items-center",children:[(0,ht.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[(0,ht.jsx)("path",{d:"m12 19-7-7 7-7"}),(0,ht.jsx)("path",{d:"M19 12H5"})]}),"Back to Pages"]})}),(0,ht.jsx)("button",{onClick:P?()=>{O()}:O,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",disabled:C,children:C?(0,ht.jsx)("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full mr-2"}):(0,ht.jsxs)("span",{className:"flex items-center",children:[P?(0,ht.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[(0,ht.jsx)("path",{d:"M21.5 2v6h-6M21.5 15.5v6h-6"}),(0,ht.jsx)("path",{d:"M2.5 8V2h6M2.5 15.5v6h6"}),(0,ht.jsx)("path",{d:"M2 12h20M12 2v20"})]}):(0,ht.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[(0,ht.jsx)("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),(0,ht.jsx)("polyline",{points:"14 2 14 8 20 8"})]}),P?"Re-Split PDF":"Split PDF"]})})]})})]}),j?(0,ht.jsxs)("div",{children:[(0,ht.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Split PDF Files"}),R&&(0,ht.jsx)("div",{className:"mb-4 p-4 bg-blue-50 text-blue-700 border border-blue-200 rounded-lg",children:(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsx)("div",{className:"animate-spin h-5 w-5 border-2 border-blue-600 border-t-transparent rounded-full mr-3"}),(0,ht.jsx)("p",{children:"Saving to datastore... This may take a moment."})]})}),(0,ht.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:(0,ht.jsx)("ul",{className:"divide-y divide-gray-200",children:N.map(((e,t)=>(0,ht.jsx)("li",{className:"py-4 "+(e.isChapter?"":"pl-8 bg-gray-50"),children:(0,ht.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ht.jsxs)("div",{children:[(0,ht.jsx)("h4",{className:"font-medium "+(e.isChapter?"text-lg":""),children:e.title}),(0,ht.jsxs)("p",{className:"text-sm text-gray-500",children:["Pages ",e.startPage,"-",e.endPage]})]}),(0,ht.jsx)("button",{onClick:()=>((e,t)=>{try{const n=t.replace(/[^\w\s-]/gi,"").replace(/\s+/g,"-")+".pdf",r=document.createElement("a");r.href=e,r.download=n,document.body.appendChild(r),r.click(),setTimeout((()=>{document.body.removeChild(r)}),100),Gp.success(`Downloading ${t}`)}catch(hf){console.error("Download error:",hf),Gp.error("Failed to download the file. Please try again.")}})(e.url,e.title),className:"flex items-center px-3 py-1.5 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:(0,ht.jsxs)("span",{className:"flex items-center",children:[(0,ht.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-1",children:[(0,ht.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,ht.jsx)("polyline",{points:"7 10 12 15 17 10"}),(0,ht.jsx)("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Download"]})})]})},`split-${t}`)))})})]}):(0,ht.jsxs)("div",{className:"mb-8",children:[(0,ht.jsx)("p",{className:"text-gray-600 mb-4",children:P?'Edit the index structure to reorganize your PDF. Click "Re-Split PDF" when you\'re done.':'We\'ve extracted the index information from your marked pages. Review and edit if needed, then click "Split PDF" to process.'}),(0,ht.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:s&&s.length>0?(0,ht.jsx)("ul",{className:"divide-y divide-gray-200",children:s.map(((e,t)=>(0,ht.jsxs)("li",{className:"py-4",children:[(0,ht.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ht.jsxs)("div",{className:"flex items-center gap-2 flex-grow",children:[(0,ht.jsx)("button",{onClick:()=>{return e=t,void w((t=>({...t,[e]:!t[e]})));var e},className:"p-1 rounded-md hover:bg-gray-200",children:v[t]?(0,ht.jsx)("span",{className:"font-bold",children:"\u2212"}):(0,ht.jsx)("span",{className:"font-bold",children:"+"})}),d===t?(0,ht.jsxs)("div",{className:"flex items-center gap-2 flex-grow",children:[(0,ht.jsx)("input",{type:"text",value:m,onChange:e=>f(e.target.value),className:"flex-grow px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Chapter title",autoFocus:!0}),(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsx)("span",{className:"text-gray-500 mx-2",children:"Pages"}),(0,ht.jsx)("input",{type:"number",value:g,onChange:e=>x(e.target.value),className:"w-16 px-2 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"1"}),(0,ht.jsx)("span",{className:"text-gray-500 mx-2",children:"to"}),(0,ht.jsx)("input",{type:"number",value:b,onChange:e=>y(e.target.value),className:"w-16 px-2 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:g})]}),(0,ht.jsx)("button",{onClick:()=>(e=>{if(""===m.trim())return void Gp.error("Title cannot be empty");const t=parseInt(g),n=parseInt(b);if(isNaN(t)||isNaN(n))return void Gp.error("Page numbers must be valid integers");if(t>n)return void Gp.error("Start page cannot be greater than end page");const r=[...s];r[e]={...r[e],title:m,startPage:t,endPage:n},r[e].topics&&r[e].topics.length>0&&(r[e].topics=r[e].topics.map((e=>{let r={...e};return e.startPage<t&&(r.startPage=t),e.endPage>n&&(r.endPage=n),r}))),i(r),u(null)})(t),className:"p-2 text-green-600 hover:text-green-800",title:"Save",children:(0,ht.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,ht.jsx)("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),(0,ht.jsx)("polyline",{points:"17 21 17 13 7 13 7 21"}),(0,ht.jsx)("polyline",{points:"7 3 7 8 15 8"})]})}),(0,ht.jsx)("button",{onClick:()=>u(null),className:"p-2 text-red-600 hover:text-red-800",title:"Cancel",children:(0,ht.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,ht.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,ht.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}):(0,ht.jsxs)("div",{className:"flex items-center gap-2 flex-grow",children:[(0,ht.jsxs)("span",{className:"font-semibold",children:[e.chapterNum&&`${e.chapterNum}. `,e.title]}),(0,ht.jsxs)("span",{className:"text-gray-500 text-sm",children:["(Pages ",e.startPage,"-",e.endPage,")"]})]})]}),d!==t&&(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsx)("button",{onClick:()=>(e=>{const t=s[e],n={title:"New Topic",startPage:t.startPage,endPage:t.endPage},r=[...s];r[e].topics||(r[e].topics=[]),r[e].topics.push(n),i(r);const a=r[e].topics.length-1;M(e,a)})(t),className:"p-2 text-green-600 hover:text-green-800 mr-2",title:"Add Topic",children:(0,ht.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,ht.jsx)("path",{d:"M12 5v14M5 12h14"})})}),(0,ht.jsx)("button",{onClick:()=>(e=>{const t=s[e];u(e),f(t.title),x(t.startPage),y(t.endPage),p({chapter:null,topic:null})})(t),className:"p-2 text-blue-600 hover:text-blue-800",title:"Edit Chapter",children:(0,ht.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,ht.jsx)("path",{d:"M17 3a2.85 2.85 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})})})]})]}),v[t]&&(0,ht.jsx)("ul",{className:"mt-2 pl-8 divide-y divide-gray-100",children:e.topics&&e.topics.length>0?e.topics.map(((n,r)=>(0,ht.jsx)("li",{className:"py-2",children:h.chapter===t&&h.topic===r?(0,ht.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ht.jsx)("input",{type:"text",value:m,onChange:e=>f(e.target.value),className:"flex-grow px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Topic title",autoFocus:!0}),(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsx)("span",{className:"text-gray-500 mx-2",children:"Pages"}),(0,ht.jsx)("input",{type:"number",value:g,onChange:e=>x(e.target.value),className:"w-16 px-2 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:e.startPage,max:e.endPage}),(0,ht.jsx)("span",{className:"text-gray-500 mx-2",children:"to"}),(0,ht.jsx)("input",{type:"number",value:b,onChange:e=>y(e.target.value),className:"w-16 px-2 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:g,max:e.endPage})]}),(0,ht.jsx)("button",{onClick:()=>((e,t)=>{if(""===m.trim())return void Gp.error("Title cannot be empty");const n=parseInt(g),r=parseInt(b),a=s[e].startPage,o=s[e].endPage;if(isNaN(n)||isNaN(r))return void Gp.error("Page numbers must be valid integers");if(n>r)return void Gp.error("Start page cannot be greater than end page");if(n<a||r>o)return void Gp.error(`Topic pages must be within chapter range (${a}-${o})`);const l=[...s];l[e].topics[t]={...l[e].topics[t],title:m,startPage:n,endPage:r},i(l),p({chapter:null,topic:null})})(t,r),className:"p-2 text-green-600 hover:text-green-800",title:"Save",children:(0,ht.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,ht.jsx)("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),(0,ht.jsx)("polyline",{points:"17 21 17 13 7 13 7 21"}),(0,ht.jsx)("polyline",{points:"7 3 7 8 15 8"})]})}),(0,ht.jsx)("button",{onClick:()=>p({chapter:null,topic:null}),className:"p-2 text-red-600 hover:text-red-800",title:"Cancel",children:(0,ht.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,ht.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,ht.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}):(0,ht.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ht.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ht.jsxs)("span",{children:["\u2022 ",n.title]}),(0,ht.jsxs)("span",{className:"text-gray-500 text-sm",children:["(Pages ",n.startPage,"-",n.endPage,")"]})]}),(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsx)("button",{onClick:()=>M(t,r),className:"p-2 text-blue-600 hover:text-blue-800",title:"Edit Topic",children:(0,ht.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,ht.jsx)("path",{d:"M17 3a2.85 2.85 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})})}),(0,ht.jsx)("button",{onClick:()=>((e,t)=>{const n=[...s];n[e].topics.splice(t,1),i(n)})(t,r),className:"p-2 text-red-600 hover:text-red-800",title:"Remove Topic",children:(0,ht.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,ht.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,ht.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]})},`topic-${t}-${r}`))):(0,ht.jsx)("li",{className:"py-2 text-gray-500 italic",children:"No topics in this chapter. Click the + button to add one."})})]},`chapter-${t}`)))}):(0,ht.jsx)("div",{className:"text-center py-8",children:(0,ht.jsx)("p",{className:"text-gray-500",children:"No index information extracted. Please try again with different pages."})})})]})]})})},Rj=e=>{let{isOpen:n,onClose:r,pdfPages:s,selectedIndexPages:i,onSplitComplete:a,pdfFile:o}=e;const[l,c]=(0,t.useState)([{id:1,title:"",startPage:1,endPage:1,topics:[]}]),[d,u]=(0,t.useState)([]),[h,p]=(0,t.useState)(null);(0,t.useEffect)((()=>{if(s){const e=[...s].sort(((e,t)=>e.number-t.number));u(e)}}),[s]);const m=function(e,t,n){p({type:e,id:t,field:n,topicId:arguments.length>3&&void 0!==arguments[3]?arguments[3]:null})},f=(e,t,n)=>{const r=[...l],s=r.findIndex((t=>t.id===e));-1!==s&&("startPage"!==t&&"endPage"!==t||(n=parseInt(n)||1),r[s]={...r[s],[t]:n},c(r))},g=(e,t,n,r)=>{const s=[...l],i=s.findIndex((t=>t.id===e));if(-1===i)return;const a=s[i].topics.findIndex((e=>e.id===t));-1!==a&&("startPage"!==n&&"endPage"!==n||(r=parseInt(r)||1),s[i].topics[a]={...s[i].topics[a],[n]:r},c(s))};return n?(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,ht.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-6xl p-6",children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ht.jsx)("h2",{className:"text-3xl font-bold text-gray-800",children:"Create Index Manually"}),(0,ht.jsx)("button",{onClick:r,className:"p-2 rounded-full hover:bg-gray-200",children:(0,ht.jsx)(Ls,{size:24})})]}),h&&(0,ht.jsxs)("div",{className:"bg-blue-100 border-l-4 border-blue-500 rounded-md p-4 mb-4 flex items-center justify-between",children:[(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsx)("div",{className:"bg-blue-500 rounded-full p-2 mr-3",children:(0,ht.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,ht.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("p",{className:"text-blue-700 font-medium",children:"Page selection mode active"}),(0,ht.jsxs)("p",{className:"text-blue-600 text-sm",children:["Click on a page to set ","chapter"===h.type?"Chapter":"Topic"," ","startPage"===h.field?"start":"end"," page"]})]})]}),(0,ht.jsx)("button",{onClick:()=>p(null),className:"bg-blue-200 hover:bg-blue-300 text-blue-800 rounded-full p-1",children:(0,ht.jsx)(Ls,{size:20})})]}),(0,ht.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ht.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg",children:[(0,ht.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Index Structure"}),(0,ht.jsx)("div",{className:"grid grid-cols-1 gap-6 max-h-[60vh] overflow-y-auto pr-2",children:l.map((e=>(0,ht.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:[(0,ht.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsxs)("span",{className:"mr-2 bg-indigo-100 text-indigo-800 py-1 px-3 rounded-full font-medium",children:["Chapter ",e.id]}),(0,ht.jsxs)("span",{className:"text-gray-600 text-sm",children:["Pages ",e.startPage,"-",e.endPage]})]}),(0,ht.jsx)("button",{onClick:()=>{return t=e.id,void(l.length<=1?Gp.warning("You must have at least one chapter"):c(l.filter((e=>e.id!==t))));var t},className:"text-red-500 hover:text-red-700",children:(0,ht.jsx)(qs,{size:18})})]}),(0,ht.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-4",children:[(0,ht.jsx)("div",{className:"md:col-span-3",children:(0,ht.jsxs)("div",{className:"flex flex-col",children:[(0,ht.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-1",children:"Chapter Title"}),(0,ht.jsx)("input",{type:"text",value:e.title,onChange:t=>f(e.id,"title",t.target.value),placeholder:"Enter chapter title",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})}),(0,ht.jsx)("div",{children:(0,ht.jsxs)("div",{className:"flex flex-col",children:[(0,ht.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-1",children:"Start Page"}),(0,ht.jsxs)("div",{className:"flex",children:[(0,ht.jsx)("input",{type:"number",value:e.startPage,onChange:t=>f(e.id,"startPage",t.target.value),min:"1",className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 "+("chapter"===(null===h||void 0===h?void 0:h.type)&&(null===h||void 0===h?void 0:h.id)===e.id&&"startPage"===(null===h||void 0===h?void 0:h.field)?"border-blue-500 bg-blue-50":"border-gray-300")}),(0,ht.jsx)("button",{onClick:()=>m("chapter",e.id,"startPage"),className:"ml-1 p-2 rounded-md "+("chapter"===(null===h||void 0===h?void 0:h.type)&&(null===h||void 0===h?void 0:h.id)===e.id&&"startPage"===(null===h||void 0===h?void 0:h.field)?"bg-blue-100 text-blue-700":"bg-gray-100 hover:bg-gray-200 text-gray-600"),title:"Click to select from PDF pages",children:(0,ht.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,ht.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,ht.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]})}),(0,ht.jsx)("div",{children:(0,ht.jsxs)("div",{className:"flex flex-col",children:[(0,ht.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-1",children:"End Page"}),(0,ht.jsxs)("div",{className:"flex",children:[(0,ht.jsx)("input",{type:"number",value:e.endPage,onChange:t=>f(e.id,"endPage",t.target.value),min:e.startPage,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 "+("chapter"===(null===h||void 0===h?void 0:h.type)&&(null===h||void 0===h?void 0:h.id)===e.id&&"endPage"===(null===h||void 0===h?void 0:h.field)?"border-blue-500 bg-blue-50":"border-gray-300")}),(0,ht.jsx)("button",{onClick:()=>m("chapter",e.id,"endPage"),className:"ml-1 p-2 rounded-md "+("chapter"===(null===h||void 0===h?void 0:h.type)&&(null===h||void 0===h?void 0:h.id)===e.id&&"endPage"===(null===h||void 0===h?void 0:h.field)?"bg-blue-100 text-blue-700":"bg-gray-100 hover:bg-gray-200 text-gray-600"),title:"Click to select from PDF pages",children:(0,ht.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,ht.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,ht.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]})})]}),(0,ht.jsxs)("div",{className:"mt-4",children:[(0,ht.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ht.jsx)("h4",{className:"text-md font-medium text-gray-700",children:"Topics"}),(0,ht.jsxs)("button",{onClick:()=>(e=>{const t=[...l],n=t.findIndex((t=>t.id===e));if(-1===n)return;const r=t[n],s=r.topics.length>0?Math.max(...r.topics.map((e=>e.id)))+1:1;t[n]={...r,topics:[...r.topics,{id:s,title:"",startPage:r.startPage,endPage:r.endPage}]},c(t)})(e.id),className:"inline-flex items-center text-sm text-indigo-600 hover:text-indigo-800",children:[(0,ht.jsx)(zs,{size:16,className:"mr-1"})," Add Topic"]})]}),0===e.topics.length?(0,ht.jsx)("p",{className:"text-sm text-gray-500 italic",children:"No topics added yet"}):(0,ht.jsx)("div",{className:"space-y-3",children:e.topics.map((t=>(0,ht.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 py-3 px-3 bg-gray-50 rounded-md",children:[(0,ht.jsx)("div",{className:"md:col-span-3",children:(0,ht.jsxs)("div",{className:"flex flex-col",children:[(0,ht.jsx)("label",{className:"text-xs text-gray-600 mb-1",children:"Topic Title"}),(0,ht.jsx)("div",{className:"flex items-center",children:(0,ht.jsx)("input",{type:"text",value:t.title,onChange:n=>g(e.id,t.id,"title",n.target.value),placeholder:"Enter topic title",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})}),(0,ht.jsxs)("div",{className:"mt-1 text-xs text-gray-500",children:["Pages ",t.startPage,"-",t.endPage]})]})}),(0,ht.jsx)("div",{children:(0,ht.jsxs)("div",{className:"flex flex-col",children:[(0,ht.jsx)("label",{className:"text-xs text-gray-600 mb-1",children:"Start Page"}),(0,ht.jsxs)("div",{className:"flex",children:[(0,ht.jsx)("input",{type:"number",value:t.startPage,onChange:n=>g(e.id,t.id,"startPage",n.target.value),min:e.startPage,max:e.endPage,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 "+("topic"===(null===h||void 0===h?void 0:h.type)&&(null===h||void 0===h?void 0:h.id)===e.id&&(null===h||void 0===h?void 0:h.topicId)===t.id&&"startPage"===(null===h||void 0===h?void 0:h.field)?"border-blue-500 bg-blue-50":"border-gray-300")}),(0,ht.jsx)("button",{onClick:()=>m("topic",e.id,"startPage",t.id),className:"ml-1 p-2 rounded-md "+("topic"===(null===h||void 0===h?void 0:h.type)&&(null===h||void 0===h?void 0:h.id)===e.id&&(null===h||void 0===h?void 0:h.topicId)===t.id&&"startPage"===(null===h||void 0===h?void 0:h.field)?"bg-blue-100 text-blue-700":"bg-gray-100 hover:bg-gray-200 text-gray-600"),title:"Click to select from PDF pages",children:(0,ht.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,ht.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,ht.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]})}),(0,ht.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ht.jsxs)("div",{className:"flex flex-col flex-grow",children:[(0,ht.jsx)("label",{className:"text-xs text-gray-600 mb-1",children:"End Page"}),(0,ht.jsxs)("div",{className:"flex",children:[(0,ht.jsx)("input",{type:"number",value:t.endPage,onChange:n=>g(e.id,t.id,"endPage",n.target.value),min:t.startPage,max:e.endPage,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 "+("topic"===(null===h||void 0===h?void 0:h.type)&&(null===h||void 0===h?void 0:h.id)===e.id&&(null===h||void 0===h?void 0:h.topicId)===t.id&&"endPage"===(null===h||void 0===h?void 0:h.field)?"border-blue-500 bg-blue-50":"border-gray-300")}),(0,ht.jsx)("button",{onClick:()=>m("topic",e.id,"endPage",t.id),className:"ml-1 p-2 rounded-md "+("topic"===(null===h||void 0===h?void 0:h.type)&&(null===h||void 0===h?void 0:h.id)===e.id&&(null===h||void 0===h?void 0:h.topicId)===t.id&&"endPage"===(null===h||void 0===h?void 0:h.field)?"bg-blue-100 text-blue-700":"bg-gray-100 hover:bg-gray-200 text-gray-600"),title:"Click to select from PDF pages",children:(0,ht.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,ht.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,ht.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),(0,ht.jsx)("button",{onClick:()=>((e,t)=>{const n=[...l],r=n.findIndex((t=>t.id===e));-1!==r&&(n[r]={...n[r],topics:n[r].topics.filter((e=>e.id!==t))},c(n))})(e.id,t.id),className:"text-red-500 hover:text-red-700 p-2 mt-5",children:(0,ht.jsx)(qs,{size:18})})]})]},t.id)))})]})]},e.id)))}),(0,ht.jsxs)("button",{onClick:()=>{const e=l[l.length-1],t=l.length+1,n=e?e.endPage+1:1;c([...l,{id:t,title:"",startPage:n,endPage:n,topics:[]}])},className:"mt-4 inline-flex items-center px-4 py-2 bg-indigo-100 text-indigo-700 rounded-md hover:bg-indigo-200 transition-colors",children:[(0,ht.jsx)(zs,{size:16,className:"mr-2"})," Add Chapter"]})]}),(0,ht.jsx)("div",{children:d.length>0&&(0,ht.jsxs)("div",{children:[(0,ht.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"PDF Pages"}),(0,ht.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 max-h-[60vh] overflow-y-auto p-2 border border-gray-200 rounded-lg bg-gray-50",children:d.map((e=>(0,ht.jsxs)("div",{className:`relative bg-white border rounded-lg overflow-hidden shadow-sm ${h?"cursor-pointer transform transition-transform hover:scale-105 hover:border-blue-500 hover:shadow-md":"border-gray-300"} transition`,onClick:()=>h&&(e=>{if(!h)return;const{type:t,id:n,field:r,topicId:s}=h;if("chapter"===t){if("startPage"===r){const t=l.find((e=>e.id===n));if(!t)return;e>t.endPage&&f(n,"endPage",e),f(n,"startPage",e)}else if("endPage"===r){const t=l.find((e=>e.id===n));if(!t)return;if(e<t.startPage)return void Gp.warning("End page cannot be less than start page");f(n,"endPage",e)}}else if("topic"===t){const t=l.find((e=>e.id===n));if(!t)return;const i=t.topics.find((e=>e.id===s));if(!i)return;if("startPage"===r){if(e<t.startPage)return void Gp.warning(`Topic start page cannot be less than chapter start page (${t.startPage})`);if(e>t.endPage)return void Gp.warning(`Topic start page cannot be greater than chapter end page (${t.endPage})`);e>i.endPage&&g(n,s,"endPage",e),g(n,s,"startPage",e)}else if("endPage"===r){if(e<i.startPage)return void Gp.warning("End page cannot be less than start page");if(e>t.endPage)return void Gp.warning(`Topic end page cannot be greater than chapter end page (${t.endPage})`);g(n,s,"endPage",e)}}p(null)})(e.number),children:[(0,ht.jsx)("div",{className:"h-36 flex items-center justify-center overflow-hidden relative",children:e.imageUrl?(0,ht.jsxs)(ht.Fragment,{children:[(0,ht.jsx)("img",{src:e.imageUrl,alt:`Page ${e.number}`,className:"h-full w-full object-contain"}),h&&(0,ht.jsx)("div",{className:"absolute inset-0 hover:bg-blue-500 hover:bg-opacity-20 flex items-center justify-center transition-all",children:(0,ht.jsx)("div",{className:"opacity-0 hover:opacity-100 absolute inset-0 flex items-center justify-center transition-opacity",children:(0,ht.jsx)("div",{className:"bg-blue-600 text-white px-3 py-1.5 rounded font-medium shadow-lg",children:"startPage"===h.field?"Set as start page":"Set as end page"})})})]}):(0,ht.jsxs)("div",{className:"text-gray-400",children:["Page ",e.number]})}),(0,ht.jsx)("div",{className:`py-2 px-2 text-center ${h?"bg-gray-50":"bg-white"} border-t border-gray-300`,children:(0,ht.jsxs)("p",{className:"text-sm "+(h?"font-medium text-blue-700":"font-medium text-gray-800"),children:["Page ",e.number]})})]},e.id)))})]})})]}),(0,ht.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,ht.jsx)("button",{onClick:r,className:"px-5 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),(0,ht.jsxs)("button",{onClick:()=>{const e=[];if(l.forEach((t=>{t.title.trim()||e.push(`Chapter ${t.id} must have a title`),t.topics.forEach((n=>{n.title.trim()||e.push(`Topic in Chapter ${t.id} must have a title`)}))})),l.forEach((t=>{t.startPage>t.endPage&&e.push(`Chapter ${t.id}: Start page cannot be greater than end page`),t.topics.forEach((n=>{(n.startPage<t.startPage||n.endPage>t.endPage)&&e.push(`Topic in Chapter ${t.id} must be within chapter page range`),n.startPage>n.endPage&&e.push(`Topic in Chapter ${t.id}: Start page cannot be greater than end page`)}))})),e.length>0)return void e.forEach((e=>Gp.error(e)));const t=l.map(((e,t)=>({id:t,chapterNum:e.id.toString(),title:e.title,startPage:e.startPage,endPage:e.endPage,topics:e.topics.map(((e,t)=>({id:t,title:e.title,startPage:e.startPage,endPage:e.endPage})))})));a(t)},className:"px-5 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors flex items-center",children:[(0,ht.jsx)(Vs,{size:18,className:"mr-2"})," Create Index"]})]})]})}):null};fm.GlobalWorkerOptions.workerSrc=`https://cdnjs.cloudflare.com/ajax/libs/pdf.js/${fm.version}/pdf.worker.min.js`;const Dj=e=>{let{isOpen:t,onClose:n,currentPage:r,totalPages:s,pageUrl:i,onNext:a,onPrev:o,onMarkAsIndex:l,isMarkedAsIndex:c}=e;return t?(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-[60] p-4",children:(0,ht.jsxs)("div",{className:"relative bg-white rounded-xl shadow-xl w-full max-w-4xl p-6 flex flex-col",children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,ht.jsxs)("h3",{className:"text-xl font-semibold text-gray-800",children:["Page ",r," of ",s]}),(0,ht.jsxs)("div",{className:"flex items-center gap-2",children:[(0,ht.jsx)("button",{onClick:l,className:"px-3 py-2 rounded-md flex items-center gap-1 "+(c?"bg-blue-100 text-blue-700":"bg-gray-100 hover:bg-gray-200 text-gray-700"),children:c?(0,ht.jsxs)(ht.Fragment,{children:[(0,ht.jsx)(Vs,{size:16}),(0,ht.jsx)("span",{children:"Marked as Index"})]}):(0,ht.jsx)("span",{children:"Mark as Index"})}),(0,ht.jsx)("button",{onClick:n,className:"p-2 rounded-full hover:bg-gray-200",children:(0,ht.jsx)(Ls,{size:20})})]})]}),(0,ht.jsxs)("div",{className:"relative flex-grow flex items-center justify-center min-h-[60vh]",children:[(0,ht.jsx)("img",{src:i,alt:`PDF Page ${r}`,className:"max-h-[60vh] max-w-full object-contain"}),r>1&&(0,ht.jsx)("button",{onClick:o,className:"absolute left-0 p-3 bg-white rounded-full shadow-md hover:bg-gray-100",children:(0,ht.jsx)(hm,{size:20})}),r<s&&(0,ht.jsx)("button",{onClick:a,className:"absolute right-0 p-3 bg-white rounded-full shadow-md hover:bg-gray-100",children:(0,ht.jsx)(pm,{size:20})})]})]})}):null},Mj=e=>{let{page:t,onRemove:n}=e;return(0,ht.jsxs)("div",{className:"relative bg-blue-50 border border-blue-200 rounded-lg overflow-hidden",children:[(0,ht.jsx)("div",{className:"h-40 flex items-center justify-center overflow-hidden",children:t.imageUrl?(0,ht.jsx)("img",{src:t.imageUrl,alt:`Page ${t.number}`,className:"h-full w-full object-contain"}):(0,ht.jsx)(Dt,{size:32,className:"text-gray-400"})}),(0,ht.jsx)("div",{className:"py-2 px-3 text-center bg-white border-t border-blue-200",children:(0,ht.jsxs)("p",{className:"text-sm text-gray-700",children:["Page ",t.number]})}),(0,ht.jsx)("button",{onClick:()=>n(t.id),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center shadow-md hover:bg-red-600 transition-colors",children:(0,ht.jsx)(Ls,{size:14})})]})},Ij=e=>{let{isOpen:n,onClose:r,bookId:s}=e;const[i,a]=(0,t.useState)(null),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)([]),[u,h]=(0,t.useState)([]),[p,m]=(0,t.useState)(!1),[f,g]=(0,t.useState)(null),[x,b]=(0,t.useState)(!1),[y,v]=(0,t.useState)(null),[w,j]=(0,t.useState)(!1),[k,N]=(0,t.useState)(!1),S=(0,t.useRef)(null),C=async(e,t)=>{try{const n=await e.getPage(t),r=1.5,s=n.getViewport({scale:r}),i=document.createElement("canvas"),a=i.getContext("2d");i.height=s.height,i.width=s.width;const o={canvasContext:a,viewport:s};return await n.render(o).promise,{id:t,number:t,imageUrl:i.toDataURL("image/jpeg",.8)}}catch(hf){return console.error("Error rendering page:",hf),{id:t,number:t,imageUrl:null,error:!0}}},A=e=>{h((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e]))},T=e=>{h((t=>t.filter((t=>t!==e))))},E=u.map((e=>c.find((t=>t.id===e)))).filter(Boolean).sort(((e,t)=>e.number-t.number));return n?(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ht.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-6xl p-6",children:[(0,ht.jsxs)("div",{className:"mb-6",children:[(0,ht.jsx)("h2",{className:"text-3xl font-bold text-gray-800",children:"PDF Splitter"}),(0,ht.jsx)("p",{className:"text-gray-600",children:"Split PDF documents based on index pages"})]}),!i&&(0,ht.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-12 flex flex-col items-center justify-center",onDrop:async e=>{e.preventDefault();const t=e.dataTransfer.files[0];if(t&&"application/pdf"===t.type){a(t),l(!0);try{const e=await t.arrayBuffer(),n=await fm.getDocument(e).promise,r=n.numPages,s=[];for(let t=1;t<=r;t++)s.push(C(n,t));const i=await Promise.all(s);d(i)}catch(hf){console.error("Error processing PDF:",hf),Gp.error("Error processing the PDF. Please try another file."),a(null)}finally{l(!1)}}else Gp.error("Please drop a valid PDF file")},onDragOver:e=>{e.preventDefault()},children:[(0,ht.jsx)("div",{className:"bg-gray-100 p-4 rounded-full mb-6",children:(0,ht.jsx)(_s,{size:40,className:"text-gray-400"})}),(0,ht.jsx)("h3",{className:"text-xl font-medium text-gray-700 mb-2",children:"Click to upload or drag & drop"}),(0,ht.jsx)("p",{className:"text-gray-500 mb-6",children:"Upload a PDF file"}),(0,ht.jsx)("input",{type:"file",ref:S,accept:"application/pdf",onChange:async e=>{const t=e.target.files[0];if(t&&"application/pdf"===t.type){a(t),l(!0);try{const e=await t.arrayBuffer(),n=await fm.getDocument(e).promise,r=n.numPages,s=[];for(let t=1;t<=r;t++)s.push(C(n,t));const i=await Promise.all(s);d(i)}catch(hf){console.error("Error processing PDF:",hf),Gp.error("Error processing the PDF. Please try another file."),a(null)}finally{l(!1)}}else Gp.error("Please select a valid PDF file")},className:"hidden"}),(0,ht.jsx)("button",{onClick:()=>S.current.click(),className:"bg-blue-500 text-white px-6 py-3 rounded-md hover:bg-blue-600 transition-colors",children:"Split PDF"})]}),i&&o&&(0,ht.jsxs)("div",{className:"py-12 flex flex-col items-center justify-center",children:[(0,ht.jsx)("div",{className:"mb-6",children:(0,ht.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-500"})}),(0,ht.jsx)("p",{className:"text-lg text-gray-700",children:"Loading PDF pages, please wait..."})]}),w&&(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[70]",children:(0,ht.jsxs)("div",{className:"bg-white rounded-xl p-8 flex flex-col items-center",children:[(0,ht.jsx)("div",{className:"mb-6",children:(0,ht.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-500"})}),(0,ht.jsx)("p",{className:"text-lg text-gray-700",children:"Extracting index information..."}),(0,ht.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"This may take a moment."})]})}),i&&!o&&c.length>0&&!x&&(0,ht.jsxs)("div",{children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ht.jsxs)("div",{children:[(0,ht.jsx)("h3",{className:"text-xl font-semibold text-gray-800",children:"PDF Pages"}),(0,ht.jsx)("p",{className:"text-sm text-gray-600",children:"You can mark index pages or directly use Manual Split"})]}),(0,ht.jsxs)("div",{className:"flex gap-2",children:[(0,ht.jsx)("button",{onClick:()=>{a(null),d([]),h([]),l(!1),m(!1),g(null),b(!1),v(null),S.current&&(S.current.value=""),r()},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),(0,ht.jsxs)("button",{onClick:()=>{N(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors flex items-center",disabled:w,children:[(0,ht.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,ht.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 0L11.828 15.1a2 2 0 01-.707.707l-4.2 1.4a2 2 0 01-2.422-2.422l1.4-4.2a2 2 0 01.707-.707L15.414 1.414z"})}),"Manual Split"]}),(0,ht.jsx)("button",{onClick:async()=>{if(0!==u.length){j(!0);try{var e,t,n,r,s;const a=await i.arrayBuffer(),o=await fm.getDocument(a).promise,l=[...u].sort(((e,t)=>e-t)).map((e=>(async(e,t)=>{try{const n=await e.getPage(t);return(await n.getTextContent()).items.map((e=>e.str)).join(" ")}catch(hf){return console.error(`Error extracting text from page ${t}:`,hf),""}})(o,e))),c=(await Promise.all(l)).join(" ");console.log("Sending text to Gemini for index extraction...");const d="AIzaSyCCWtRX--NYoiootIlwWgg28s7n2VCfzDo",h="gemini-2.0-flash";console.log("Using Gemini API with model:",h);const p=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/${h}:generateContent?key=${d}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:`Extract the chapter and topic information from this table of contents:\n              \n              ${c}\n              \n              Extract both chapter-level and topic-level information in the following JSON format:\n              [\n                {\n                  "chapterNum": "1", \n                  "title": "CHAPTER TITLE", \n                  "startPage": 9, \n                  "endPage": 15,\n                  "topics": [\n                    {"title": "Topic 1", "startPage": 9, "endPage": 11},\n                    {"title": "Topic 2", "startPage": 12, "endPage": 15}\n                  ]\n                },\n                {\n                  "chapterNum": "2", \n                  "title": "ANOTHER CHAPTER", \n                  "startPage": 16, \n                  "endPage": 39,\n                  "topics": [\n                    {"title": "Topic 1", "startPage": 16, "endPage": 25},\n                    {"title": "Topic 2", "startPage": 26, "endPage": 39}\n                  ]\n                }\n              ]\n              \n              If a chapter doesn't have topics, include an empty "topics" array. Ensure all chapters are included in numerical order.\n              For topics, ensure the page ranges are within the chapter's page range.\n              If you cannot determine the subtopics, still return the chapter-level information.\n              Return ONLY the JSON array with no additional text.`}]}]})});if(!p.ok)throw new Error(`API request failed with status: ${p.status}`);const m=await p.json();console.log("Received response from Gemini:",m);const f=null===(e=m.candidates)||void 0===e||null===(t=e[0])||void 0===t||null===(n=t.content)||void 0===n||null===(r=n.parts)||void 0===r||null===(s=r[0])||void 0===s?void 0:s.text;if(!f)throw new Error("No text in the response from Gemini");let g=f.indexOf("["),x=f.lastIndexOf("]")+1;if(-1===g||0===x)throw new Error("Could not find JSON in Gemini response");const y=f.substring(g,x),w=JSON.parse(y);console.log("Parsed index data:",w),v(w),b(!0)}catch(hf){console.error("Error extracting index:",hf),Gp.error("Failed to extract index information. Please try again.")}finally{j(!1)}}else Gp.warning("Please select at least one index page to extract from")},className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",disabled:w||0===u.length,children:0===u.length?"Mark Pages First":"Extract & Split by Index"})]})]}),u.length>0&&(0,ht.jsxs)("div",{className:"mb-8",children:[(0,ht.jsx)("h4",{className:"text-lg font-medium text-gray-800 mb-4",children:"Marked Index Pages"}),(0,ht.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:E.map((e=>(0,ht.jsx)(Mj,{page:e,onRemove:T},`marked-${e.id}`)))})]}),(0,ht.jsxs)("h4",{className:"text-lg font-medium text-gray-800 mb-4",children:["All Pages ",(0,ht.jsx)("span",{className:"text-sm font-normal text-gray-500",children:"(Click on a page to mark as index, or use the magnifier to preview)"})]}),(0,ht.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4 mb-6 max-h-[60vh] overflow-y-auto p-2",children:c.map((e=>(0,ht.jsxs)("div",{className:"border rounded-lg overflow-hidden cursor-pointer hover:shadow-md transition group "+(u.includes(e.id)?"border-blue-500 ring-2 ring-blue-500":"border-gray-200"),onClick:()=>A(e.id),children:[(0,ht.jsxs)("div",{className:"relative bg-gray-100 h-40 flex items-center justify-center overflow-hidden",children:[e.imageUrl?(0,ht.jsxs)(ht.Fragment,{children:[(0,ht.jsx)("img",{src:e.imageUrl,alt:`Page ${e.number}`,className:"h-full w-full object-contain"}),(0,ht.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all flex items-center justify-center opacity-0 group-hover:opacity-100",onClick:t=>{t.stopPropagation(),(e=>{g(e),m(!0)})(e)},children:(0,ht.jsx)("button",{className:"bg-white p-2 rounded-full shadow-lg",children:(0,ht.jsx)(mm,{size:16})})})]}):(0,ht.jsx)(Dt,{size:32,className:"text-gray-400"}),u.includes(e.id)&&(0,ht.jsx)("div",{className:"absolute top-2 right-2 bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center",children:(0,ht.jsx)("span",{className:"text-xs font-medium",children:"\u2713"})})]}),(0,ht.jsx)("div",{className:"py-2 px-3 text-center bg-white",children:(0,ht.jsxs)("p",{className:"text-sm text-gray-700",children:["Page ",e.number]})})]},e.id)))})]}),k&&(0,ht.jsx)(Rj,{isOpen:k,onClose:()=>N(!1),pdfPages:c,selectedIndexPages:u,onSplitComplete:e=>{v(e),N(!1),b(!0)},pdfFile:i}),x&&(0,ht.jsx)(Fj,{isOpen:x,onClose:()=>b(!1),indexData:y,onUpdateIndex:e=>{v(e)},onSplitPDF:async e=>new Promise((t=>{setTimeout((()=>{const n=e.map(((e,t)=>{const n={id:t,title:e.chapterNum?`${e.chapterNum}. ${e.title}`:e.title,startPage:e.startPage,endPage:e.endPage,url:`#chapter-${t+1}`,topics:[]};return e.topics&&e.topics.length>0&&(n.topics=e.topics.map(((e,n)=>({id:n,title:e.title,startPage:e.startPage,endPage:e.endPage,url:`#topic-${t+1}-${n+1}`})))),n}));t(n)}),1500)})),pdfFile:i,markedPageData:E,bookId:s}),(0,ht.jsx)(Dj,{isOpen:p,onClose:()=>{m(!1)},currentPage:(null===f||void 0===f?void 0:f.number)||1,totalPages:c.length,pageUrl:(null===f||void 0===f?void 0:f.imageUrl)||"",onNext:()=>{if(f&&f.number<c.length){const e=c.find((e=>e.number===f.number+1));e&&g(e)}},onPrev:()=>{if(f&&f.number>1){const e=c.find((e=>e.number===f.number-1));e&&g(e)}},onMarkAsIndex:()=>{f&&A(f.id)},isMarkedAsIndex:!!f&&u.includes(f.id)})]})}):null},_j=vt("download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Lj=vt("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),Oj=e=>{let{isOpen:n,onClose:r,bookId:s,bookTitle:i}=e;const[a,o]=(0,t.useState)(null),[l,c]=(0,t.useState)(!1),[d,u]=(0,t.useState)(null);(0,t.useEffect)((()=>{n&&s&&h()}),[n,s]);const h=async()=>{c(!0),u(null);try{const e=ut.get("usertoken");if(!e)return void u("Authentication required");const t=await fetch(`https://aipbbackend.onrender.com/api/qrcode/books/${s}`,{headers:{Authorization:`Bearer ${e}`}}),n=await t.json();n.success?o(n):u(n.message||"Failed to generate QR code")}catch(d){console.error("Error fetching QR code:",d),u("Failed to connect to the server")}finally{c(!1)}};return n?(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ht.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6",children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,ht.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Book QR Code"}),(0,ht.jsx)("button",{onClick:r,className:"p-1 rounded-full hover:bg-gray-100",children:(0,ht.jsx)(Ls,{size:20,className:"text-gray-500"})})]}),(0,ht.jsxs)("div",{className:"mb-6",children:[(0,ht.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,ht.jsx)("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:(null===a||void 0===a?void 0:a.qrCodeColor)||"#0047AB"}}),(0,ht.jsx)("p",{className:"text-gray-700 font-medium",children:"Book QR Code"})]}),(0,ht.jsx)("p",{className:"text-gray-700 mb-2",children:"Scan this QR code to access the book content. It includes:"}),a&&(0,ht.jsxs)("ul",{className:"list-disc list-inside text-gray-600 text-sm mb-4",children:[(0,ht.jsx)("li",{children:"Book information"}),(0,ht.jsxs)("li",{children:[a.chaptersCount," chapter",1!==a.chaptersCount?"s":""]}),(0,ht.jsxs)("li",{children:[a.datastoreItemsCount," datastore item",1!==a.datastoreItemsCount?"s":""]})]})]}),(0,ht.jsx)("div",{className:"flex justify-center mb-6",children:l?(0,ht.jsx)("div",{className:"bg-gray-100 rounded-lg h-64 w-64 flex items-center justify-center",children:(0,ht.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-indigo-600"})}):d?(0,ht.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 w-full",children:[(0,ht.jsx)("p",{className:"text-red-600 text-center",children:d}),(0,ht.jsx)("button",{onClick:h,className:"mt-3 text-indigo-600 hover:text-indigo-800 mx-auto block",children:"Try Again"})]}):null!==a&&void 0!==a&&a.qrCodeDataURL?(0,ht.jsx)("div",{className:"border border-gray-200 p-4 rounded-lg shadow-sm",children:(0,ht.jsx)("img",{src:a.qrCodeDataURL,alt:"Book QR Code",className:"h-64 w-64 object-contain"})}):null}),(0,ht.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,ht.jsxs)("button",{onClick:()=>{if(null===a||void 0===a||!a.qrCodeDataURL)return;const e=document.createElement("a");e.href=a.qrCodeDataURL,e.download=`${i||"book"}-qrcode.png`,document.body.appendChild(e),e.click(),document.body.removeChild(e),Gp.success("QR code downloaded successfully!")},disabled:!(null!==a&&void 0!==a&&a.qrCodeDataURL)||l,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors flex items-center disabled:bg-indigo-300",children:[(0,ht.jsx)(_j,{size:16,className:"mr-2"}),"Download"]}),(0,ht.jsxs)("button",{onClick:async()=>{if(null!==a&&void 0!==a&&a.qrCodeDataURL)try{if(navigator.share){const e=await fetch(a.qrCodeDataURL),t=await e.blob(),n=new File([t],`${i||"book"}-qrcode.png`,{type:"image/png"});await navigator.share({title:`QR Code for ${i||"Book"}`,text:`Scan this QR code to access ${i||"the book"} content.`,files:[n]}),Gp.success("QR code shared successfully!")}else Gp.info("Sharing is not supported in this browser. You can download the QR code instead.")}catch(d){console.error("Error sharing QR code:",d),Gp.error("Failed to share QR code")}},disabled:!(null!==a&&void 0!==a&&a.qrCodeDataURL)||l||!navigator.canShare,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors flex items-center disabled:bg-gray-300",children:[(0,ht.jsx)(Lj,{size:16,className:"mr-2"}),"Share"]})]})]})}):null},zj=e=>{let{isOpen:n,onClose:r,bookId:s,chapterId:i,chapterTitle:a}=e;const[o,l]=(0,t.useState)(null),[c,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)(null);(0,t.useEffect)((()=>{n&&s&&i&&p()}),[n,s,i]);const p=async()=>{d(!0),h(null);try{const e=ut.get("usertoken");if(!e)return void h("Authentication required");const t=await fetch(`https://aipbbackend.onrender.com/api/qrcode/books/${s}/chapters/${i}`,{headers:{Authorization:`Bearer ${e}`}}),n=await t.json();n.success?l(n):h(n.message||"Failed to generate QR code")}catch(u){console.error("Error fetching QR code:",u),h("Failed to connect to the server")}finally{d(!1)}};return n?(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ht.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6",children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsx)("div",{className:"w-4 h-4 rounded-full mr-2",style:{backgroundColor:(null===o||void 0===o?void 0:o.qrCodeColor)||"#009933"}}),(0,ht.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Chapter QR Code"})]}),(0,ht.jsx)("button",{onClick:r,className:"p-1 rounded-full hover:bg-gray-100",children:(0,ht.jsx)(Ls,{size:20,className:"text-gray-500"})})]}),(0,ht.jsxs)("div",{className:"mb-6",children:[(0,ht.jsx)("p",{className:"text-gray-700 mb-2",children:"Scan this QR code to access the chapter content. It includes:"}),o&&(0,ht.jsxs)("ul",{className:"list-disc list-inside text-gray-600 text-sm mb-4",children:[(0,ht.jsx)("li",{children:"Chapter information"}),(0,ht.jsxs)("li",{children:[o.topicsCount," topic",1!==o.topicsCount?"s":""]}),(0,ht.jsxs)("li",{children:[o.datastoreItemsCount," datastore item",1!==o.datastoreItemsCount?"s":""]})]})]}),(0,ht.jsx)("div",{className:"flex justify-center mb-6",children:c?(0,ht.jsx)("div",{className:"bg-gray-100 rounded-lg h-64 w-64 flex items-center justify-center",children:(0,ht.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-indigo-600"})}):u?(0,ht.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 w-full",children:[(0,ht.jsx)("p",{className:"text-red-600 text-center",children:u}),(0,ht.jsx)("button",{onClick:p,className:"mt-3 text-indigo-600 hover:text-indigo-800 mx-auto block",children:"Try Again"})]}):null!==o&&void 0!==o&&o.qrCodeDataURL?(0,ht.jsx)("div",{className:"border border-gray-200 p-4 rounded-lg shadow-sm",style:{borderColor:o.qrCodeColor||"#009933"},children:(0,ht.jsx)("img",{src:o.qrCodeDataURL,alt:"Chapter QR Code",className:"h-64 w-64 object-contain"})}):null}),(0,ht.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,ht.jsxs)("button",{onClick:()=>{if(null===o||void 0===o||!o.qrCodeDataURL)return;const e=document.createElement("a");e.href=o.qrCodeDataURL,e.download=`${a||"chapter"}-qrcode.png`,document.body.appendChild(e),e.click(),document.body.removeChild(e),Gp.success("QR code downloaded successfully!")},disabled:!(null!==o&&void 0!==o&&o.qrCodeDataURL)||c,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors flex items-center disabled:bg-indigo-300",children:[(0,ht.jsx)(_j,{size:16,className:"mr-2"}),"Download"]}),(0,ht.jsxs)("button",{onClick:async()=>{if(null!==o&&void 0!==o&&o.qrCodeDataURL)try{if(navigator.share){const e=await fetch(o.qrCodeDataURL),t=await e.blob(),n=new File([t],`${a||"chapter"}-qrcode.png`,{type:"image/png"});await navigator.share({title:`QR Code for ${a||"Chapter"}`,text:`Scan this QR code to access ${a||"the chapter"} content.`,files:[n]}),Gp.success("QR code shared successfully!")}else Gp.info("Sharing is not supported in this browser. You can download the QR code instead.")}catch(u){console.error("Error sharing QR code:",u),Gp.error("Failed to share QR code")}},disabled:!(null!==o&&void 0!==o&&o.qrCodeDataURL)||c||!navigator.canShare,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors flex items-center disabled:bg-gray-300",children:[(0,ht.jsx)(Lj,{size:16,className:"mr-2"}),"Share"]})]})]})}):null},Bj=e=>{let{chapter:t,onClick:n,onQRCodeClick:r}=e;return(0,ht.jsx)("div",{className:"bg-white p-5 rounded-lg shadow-sm hover:shadow-md transition-all duration-300 border border-gray-100",children:(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsxs)("div",{onClick:n,className:"flex-grow flex items-center cursor-pointer",children:[(0,ht.jsx)("div",{className:"p-3 bg-indigo-100 rounded-full mr-4 flex-shrink-0",children:(0,ht.jsx)(Dt,{size:22,className:"text-indigo-600"})}),(0,ht.jsxs)("div",{className:"flex-grow",children:[(0,ht.jsx)("h3",{className:"font-medium text-gray-800",children:t.title}),(0,ht.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:t.description||"No description"})]}),(0,ht.jsxs)("div",{className:"flex items-center text-indigo-600",children:[(0,ht.jsx)("span",{className:"mr-1 text-sm font-medium hidden md:block",children:"View"}),(0,ht.jsx)(jt,{size:18})]})]}),(0,ht.jsx)("button",{onClick:e=>{e.stopPropagation(),r(t._id)},className:"ml-4 p-2 text-amber-600 hover:text-amber-800 hover:bg-amber-50 rounded-full transition-colors",title:"Show QR Code",children:(0,ht.jsx)(um,{size:18})})]})})},Uj=e=>{let{isOpen:n,onClose:r,bookId:s,onAdd:i}=e;const[a,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(""),[d,u]=(0,t.useState)(""),[h,p]=(0,t.useState)(!1),m=()=>{o(""),c(""),u("")};if(!n)return null;return(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ht.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6",children:[(0,ht.jsx)("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Add New Chapter"}),(0,ht.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),p(!0);try{const e=ut.get("usertoken");if(!e)return Gp.error("Authentication required"),void r();const t=await fetch(`https://aipbbackend.onrender.com/api/books/${s}/chapters`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({title:a,description:l,order:d?parseInt(d):void 0,parentType:"book"})}),n=await t.json();n.success?(Gp.success("Chapter created successfully!"),i(n.chapter),m(),r()):Gp.error(n.message||"Failed to create chapter")}catch(hf){console.error("Error creating chapter:",hf),Gp.error("An error occurred while creating the chapter")}finally{p(!1)}},children:[(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Title"}),(0,ht.jsx)("input",{type:"text",value:a,onChange:e=>o(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0})]}),(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Description"}),(0,ht.jsx)("textarea",{value:l,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 h-32"})]}),(0,ht.jsxs)("div",{className:"mb-6",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Order (optional)"}),(0,ht.jsx)("input",{type:"number",value:d,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",min:"0"})]}),(0,ht.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ht.jsxs)("button",{type:"button",onClick:m,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors flex items-center",children:[(0,ht.jsx)(Ls,{size:16,className:"mr-1"}),"Clear"]}),(0,ht.jsx)("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),(0,ht.jsx)("button",{type:"submit",disabled:h,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors flex items-center justify-center",children:h?(0,ht.jsx)("div",{className:"animate-spin h-5 w-5 border-2 border-white border-t-transparent rounded-full"}):"Create Chapter"})]})]})]})})},qj=e=>{let{isOpen:n,onClose:r,book:s,onUpdate:i}=e;const[a,o]=(0,t.useState)((null===s||void 0===s?void 0:s.title)||""),[l,c]=(0,t.useState)((null===s||void 0===s?void 0:s.description)||""),[d,u]=(0,t.useState)((null===s||void 0===s?void 0:s.coverImage)||""),[h,p]=(0,t.useState)(!1);if((0,t.useEffect)((()=>{s&&(o(s.title||""),c(s.description||""),u(s.coverImage||""))}),[s]),!n||!s)return null;return(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ht.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6",children:[(0,ht.jsx)("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Edit Book"}),(0,ht.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),p(!0);try{const e=ut.get("usertoken");if(!e)return Gp.error("Authentication required"),void r();const t=await fetch(`https://aipbbackend.onrender.com/api/books/${s._id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({title:a,description:l,coverImage:d})}),n=await t.json();n.success?(Gp.success("Book updated successfully!"),i(n.book),r()):Gp.error(n.message||"Failed to update book")}catch(hf){console.error("Error updating book:",hf),Gp.error("An error occurred while updating the book")}finally{p(!1)}},children:[(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Title"}),(0,ht.jsx)("input",{type:"text",value:a,onChange:e=>o(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0})]}),(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Description"}),(0,ht.jsx)("textarea",{value:l,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 h-32"})]}),(0,ht.jsxs)("div",{className:"mb-6",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Cover Image URL (optional)"}),(0,ht.jsx)("input",{type:"text",value:d,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,ht.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ht.jsx)("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),(0,ht.jsx)("button",{type:"submit",disabled:h,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors flex items-center justify-center",children:h?(0,ht.jsx)("div",{className:"animate-spin h-5 w-5 border-2 border-white border-t-transparent rounded-full"}):"Update Book"})]})]})]})})},Vj=e=>{let{isOpen:t,onClose:n,onConfirm:r,title:s,message:i}=e;return t?(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ht.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6",children:[(0,ht.jsx)("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:s}),(0,ht.jsx)("p",{className:"text-gray-600 mb-6",children:i}),(0,ht.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ht.jsx)("button",{onClick:n,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),(0,ht.jsx)("button",{onClick:r,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:"Delete"})]})]})}):null},Wj=()=>{var e;const[n,r]=(0,t.useState)(null),[s,i]=(0,t.useState)([]),[a,o]=(0,t.useState)(!0),[l,c]=(0,t.useState)(null),[d,u]=(0,t.useState)(!1),[h,p]=(0,t.useState)(!1),[m,f]=(0,t.useState)(!1),[g,x]=(0,t.useState)(!1),[b,y]=(0,t.useState)("book"),[v,w]=(0,t.useState)(!1),[j,k]=(0,t.useState)(!1),[N,S]=(0,t.useState)(!1),[C,A]=(0,t.useState)(null),{bookId:T}=te(),E=$();(0,t.useEffect)((()=>{(async()=>{o(!0);try{const e=ut.get("usertoken");if(!e)return c("Authentication required"),void E("/login");const t=fetch(`https://aipbbackend.onrender.com/api/books/${T}`,{headers:{Authorization:`Bearer ${e}`}}),n=fetch(`https://aipbbackend.onrender.com/api/books/${T}/chapters`,{headers:{Authorization:`Bearer ${e}`}}),[s,a]=await Promise.all([t,n]),o=await s.json(),l=await a.json();o.success?r(o.book):c(o.message||"Failed to fetch book details"),l.success?i(l.chapters||[]):console.error("Failed to fetch chapters")}catch(l){console.error("Error fetching book details:",l),c("Failed to connect to the server")}finally{o(!1)}})()}),[T,E]);const P=()=>{u(!0)},F=()=>{E("/ai-books")},R=e=>{A(e),S(!0)};return a?(0,ht.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,ht.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-indigo-600"})}):l?(0,ht.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,ht.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start",children:[(0,ht.jsx)(gp,{className:"text-red-500 mr-3 flex-shrink-0 mt-0.5",size:20}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("h3",{className:"font-medium text-red-800",children:"Error"}),(0,ht.jsx)("p",{className:"text-red-700",children:l}),(0,ht.jsxs)("button",{onClick:F,className:"mt-3 text-red-600 hover:text-red-800 flex items-center",children:[(0,ht.jsx)(hm,{size:16,className:"mr-1"}),(0,ht.jsx)("span",{children:"Go back"})]})]})]})}):(0,ht.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,ht.jsx)(nm,{position:"top-right",autoClose:3e3}),!v&&(0,ht.jsx)("div",{className:"flex items-center mb-4",children:(0,ht.jsxs)("button",{onClick:F,className:"flex items-center text-indigo-600 hover:text-indigo-800 transition-colors",children:[(0,ht.jsx)(hm,{size:18,className:"mr-1"}),(0,ht.jsx)("span",{children:"Back to Books"})]})}),v?(0,ht.jsxs)("div",{children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,ht.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"PDF Splitter"}),(0,ht.jsxs)("button",{onClick:()=>w(!1),className:"flex items-center text-indigo-600 hover:text-indigo-800 transition-colors",children:[(0,ht.jsx)(hm,{size:18,className:"mr-1"}),(0,ht.jsx)("span",{children:"Back to Book"})]})]}),(0,ht.jsx)(Ij,{isOpen:!0,onClose:()=>w(!1),bookId:T})]}):(0,ht.jsxs)(ht.Fragment,{children:[(0,ht.jsx)("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 p-6 mb-8",children:(0,ht.jsxs)("div",{className:"flex flex-col md:flex-row gap-8",children:[(0,ht.jsx)("div",{className:"md:w-1/4 lg:w-1/5",children:(0,ht.jsx)("div",{className:"bg-gradient-to-br from-indigo-50 to-blue-100 rounded-lg h-48 flex items-center justify-center overflow-hidden",children:null!==n&&void 0!==n&&n.coverImage&&!g?(0,ht.jsx)("img",{src:(D=n.coverImage,D?D.startsWith("http://")||D.startsWith("https://")?D:`https://aipbbackend.onrender.com/${D}`:null),alt:n.title,className:"h-full w-full object-cover rounded-lg",onError:()=>{x(!0)}}):(0,ht.jsx)("div",{className:"text-center",children:(0,ht.jsx)(Et,{size:64,className:"mx-auto text-indigo-400"})})})}),(0,ht.jsxs)("div",{className:"md:w-3/4 lg:w-4/5",children:[(0,ht.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4",children:[(0,ht.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:null===n||void 0===n?void 0:n.title}),(0,ht.jsxs)("div",{className:"flex space-x-2 mt-2 sm:mt-0",children:[(0,ht.jsxs)("button",{onClick:()=>{p(!0)},className:"flex items-center px-3 py-1.5 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 transition-colors",children:[(0,ht.jsx)(tp,{size:16,className:"mr-1"}),(0,ht.jsx)("span",{children:"Edit"})]}),(0,ht.jsxs)("button",{onClick:()=>{f(!0)},className:"flex items-center px-3 py-1.5 bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors",children:[(0,ht.jsx)(qs,{size:16,className:"mr-1"}),(0,ht.jsx)("span",{children:"Delete"})]})]})]}),(0,ht.jsx)("p",{className:"text-gray-700 mb-6",children:(null===n||void 0===n?void 0:n.description)||"No description available"}),(0,ht.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,ht.jsxs)("button",{onClick:()=>{E(`/ai-books/${T}/datastore`)},className:"flex items-center px-4 py-2 bg-gray-800 text-white rounded-md hover:bg-gray-900 transition-colors shadow-sm",children:[(0,ht.jsx)(Mt,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Book Datastore"})]}),(0,ht.jsxs)("button",{onClick:P,className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors shadow-sm",children:[(0,ht.jsx)(zs,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Add Chapter"})]}),(0,ht.jsxs)("button",{onClick:()=>E(`/chat/${T}?type=book&title=${encodeURIComponent((null===n||void 0===n?void 0:n.title)||"")}`),className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors shadow-sm",children:[(0,ht.jsx)(It,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Chat with Book"})]}),(0,ht.jsxs)("button",{onClick:()=>{w(!0)},className:"flex items-center px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors shadow-sm",children:[(0,ht.jsx)(kt,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Configure"})]}),(0,ht.jsxs)("button",{onClick:()=>{k(!0)},className:"flex items-center px-4 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 transition-colors shadow-sm",children:[(0,ht.jsx)(um,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Book QR"})]}),(0,ht.jsxs)("button",{className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors shadow-sm",onClick:()=>{E(`/ai-books/${T}/assets`)},children:[(0,ht.jsx)(Mt,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Book Assets"})]})]})]})]})}),(0,ht.jsxs)("div",{className:"mb-6",children:[(0,ht.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Chapters"}),0===s.length?(0,ht.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-8 text-center",children:[(0,ht.jsx)(Dt,{size:64,className:"mx-auto text-gray-400 mb-4"}),(0,ht.jsx)("h3",{className:"text-xl font-medium text-gray-800 mb-2",children:"No chapters yet"}),(0,ht.jsx)("p",{className:"text-gray-600 mb-6",children:"Add your first chapter to start building your book"}),(0,ht.jsxs)("button",{onClick:P,className:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors",children:[(0,ht.jsx)(zs,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Add Chapter"})]})]}):(0,ht.jsx)("div",{className:"grid grid-cols-1 gap-4",children:s.sort(((e,t)=>(e.order||0)-(t.order||0))).map((e=>(0,ht.jsx)(Bj,{chapter:e,onClick:()=>{return t=e._id,void E(`/ai-books/${T}/chapters/${t}`);var t},onQRCodeClick:R},e._id)))})]})]}),(0,ht.jsx)(Uj,{isOpen:d,onClose:()=>u(!1),bookId:T,onAdd:e=>{i([...s,e])}}),(0,ht.jsx)(qj,{isOpen:h,onClose:()=>p(!1),book:n,onUpdate:e=>{r(e)}}),(0,ht.jsx)(Vj,{isOpen:m,onClose:()=>f(!1),onConfirm:async()=>{try{const e=ut.get("usertoken");if(!e)return Gp.error("Authentication required"),void f(!1);const t=await fetch(`https://aipbbackend.onrender.com/api/books/${T}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}}),n=await t.json();n.success?(Gp.success("Book deleted successfully!"),E("/ai-books")):Gp.error(n.message||"Failed to delete book")}catch(l){console.error("Error deleting book:",l),Gp.error("An error occurred while deleting the book")}finally{f(!1)}},title:"Delete Book",message:"Are you sure you want to delete this book? All chapters and content will be permanently removed."}),(0,ht.jsx)(Oj,{isOpen:j,onClose:()=>k(!1),bookId:T,bookTitle:null===n||void 0===n?void 0:n.title}),(0,ht.jsx)(zj,{isOpen:N,onClose:()=>S(!1),bookId:T,chapterId:C,chapterTitle:null===(e=s.find((e=>e._id===C)))||void 0===e?void 0:e.title})]});var D},Hj=e=>{let{chapter:t,onClick:n}=e;return(0,ht.jsxs)("div",{onClick:n,className:"bg-white p-5 rounded-lg shadow-sm hover:shadow-md transition-all duration-300 cursor-pointer flex items-center border border-gray-100",children:[(0,ht.jsx)("div",{className:"p-3 bg-teal-100 rounded-full mr-4 flex-shrink-0",children:(0,ht.jsx)(Dt,{size:22,className:"text-teal-600"})}),(0,ht.jsxs)("div",{className:"flex-grow",children:[(0,ht.jsx)("h3",{className:"font-medium text-gray-800",children:t.title}),(0,ht.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:t.description||"No description"})]}),(0,ht.jsxs)("div",{className:"flex items-center text-teal-600",children:[(0,ht.jsx)("span",{className:"mr-1 text-sm font-medium hidden md:block",children:"View"}),(0,ht.jsx)(jt,{size:18})]})]})},Gj=e=>{let{isOpen:n,onClose:r,workbookId:s,onAdd:i}=e;const[a,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(""),[d,u]=(0,t.useState)(""),[h,p]=(0,t.useState)(!1),m=()=>{o(""),c(""),u("")};if(!n)return null;return(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ht.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6",children:[(0,ht.jsx)("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Add New Chapter"}),(0,ht.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),p(!0);try{const e=ut.get("usertoken");if(!e)return Gp.error("Authentication required"),void r();const t=await fetch(`https://aipbbackend.onrender.com/api/workbooks/${s}/chapters`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({title:a,description:l,order:d?parseInt(d):void 0,parentType:"workbook"})}),n=await t.json();n.success?(Gp.success("Chapter created successfully!"),i(n.chapter),m(),r()):Gp.error(n.message||"Failed to create chapter")}catch(hf){console.error("Error creating chapter:",hf),Gp.error("An error occurred while creating the chapter")}finally{p(!1)}},children:[(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Title"}),(0,ht.jsx)("input",{type:"text",value:a,onChange:e=>o(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",required:!0})]}),(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Description"}),(0,ht.jsx)("textarea",{value:l,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 h-32"})]}),(0,ht.jsxs)("div",{className:"mb-6",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Order (optional)"}),(0,ht.jsx)("input",{type:"number",value:d,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",min:"0"})]}),(0,ht.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ht.jsxs)("button",{type:"button",onClick:m,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors flex items-center",children:[(0,ht.jsx)(Ls,{size:16,className:"mr-1"}),"Clear"]}),(0,ht.jsx)("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),(0,ht.jsx)("button",{type:"submit",disabled:h,className:"px-4 py-2 bg-teal-600 text-white rounded-md hover:bg-teal-700 transition-colors flex items-center justify-center",children:h?(0,ht.jsx)("div",{className:"animate-spin h-5 w-5 border-2 border-white border-t-transparent rounded-full"}):"Create Chapter"})]})]})]})})},Kj=e=>{let{isOpen:n,onClose:r,workbook:s,onUpdate:i}=e;const[a,o]=(0,t.useState)((null===s||void 0===s?void 0:s.title)||""),[l,c]=(0,t.useState)((null===s||void 0===s?void 0:s.description)||""),[d,u]=(0,t.useState)((null===s||void 0===s?void 0:s.coverImage)||""),[h,p]=(0,t.useState)(!1);if((0,t.useEffect)((()=>{s&&(o(s.title||""),c(s.description||""),u(s.coverImage||""))}),[s]),!n||!s)return null;return(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ht.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6",children:[(0,ht.jsx)("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Edit Workbook"}),(0,ht.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),p(!0);try{const e=ut.get("usertoken");if(!e)return Gp.error("Authentication required"),void r();const t=await fetch(`https://aipbbackend.onrender.com/api/workbooks/${s._id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({title:a,description:l,coverImage:d})}),n=await t.json();n.success?(Gp.success("Workbook updated successfully!"),i(n.workbook),r()):Gp.error(n.message||"Failed to update workbook")}catch(hf){console.error("Error updating workbook:",hf),Gp.error("An error occurred while updating the workbook")}finally{p(!1)}},children:[(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Title"}),(0,ht.jsx)("input",{type:"text",value:a,onChange:e=>o(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500",required:!0})]}),(0,ht.jsxs)("div",{className:"mb-6",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Description"}),(0,ht.jsx)("textarea",{value:l,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-teal-500 h-32"})]}),(0,ht.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ht.jsx)("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),(0,ht.jsx)("button",{type:"submit",disabled:h,className:"px-4 py-2 bg-teal-600 text-white rounded-md hover:bg-teal-700 transition-colors flex items-center justify-center",children:h?(0,ht.jsx)("div",{className:"animate-spin h-5 w-5 border-2 border-white border-t-transparent rounded-full"}):"Update Workbook"})]})]})]})})},Xj=e=>{let{isOpen:t,onClose:n,onConfirm:r,title:s,message:i}=e;return t?(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ht.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6",children:[(0,ht.jsx)("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:s}),(0,ht.jsx)("p",{className:"text-gray-600 mb-6",children:i}),(0,ht.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ht.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),(0,ht.jsx)("button",{type:"button",onClick:r,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:"Delete"})]})]})}):null},Yj=()=>{const{workbookId:e}=te(),n=$(),[r,s]=(0,t.useState)(null),[i,a]=(0,t.useState)([]),[o,l]=(0,t.useState)(!0),[c,d]=(0,t.useState)(null),[u,h]=(0,t.useState)(!1),[p,m]=(0,t.useState)(!1),[f,g]=(0,t.useState)(!1),[x,b]=(0,t.useState)(!1),y=async()=>{l(!0);try{const t=ut.get("usertoken");if(!t)return d("Authentication required"),void n("/login");const r=await fetch(`https://aipbbackend.onrender.com/api/workbooks/${e}`,{headers:{Authorization:`Bearer ${t}`}}),i=await r.json();if(!i.success)throw new Error(i.message||"Failed to fetch workbook");s(i.workbook);const o=await fetch(`https://aipbbackend.onrender.com/api/workbooks/${e}/chapters`,{headers:{Authorization:`Bearer ${t}`}}),l=await o.json();l.success?a(l.chapters||[]):console.error("Failed to fetch chapters:",l.message)}catch(c){console.error("Error fetching workbook details:",c),d(c.message||"Failed to fetch workbook details")}finally{l(!1)}};(0,t.useEffect)((()=>{y()}),[e,n]);const v=()=>{h(!0)};return(0,ht.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,ht.jsx)(nm,{position:"top-right",autoClose:3e3}),(0,ht.jsxs)("button",{onClick:()=>{n("/ai-workbook")},className:"flex items-center text-gray-600 hover:text-gray-800 mb-6 group",children:[(0,ht.jsx)(hm,{size:20,className:"mr-1 group-hover:-translate-x-1 transition-transform"}),(0,ht.jsx)("span",{children:"Back to Workbooks"})]}),o?(0,ht.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,ht.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-teal-600"})}):c?(0,ht.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[(0,ht.jsx)("h3",{className:"font-medium text-red-800",children:"Error"}),(0,ht.jsx)("p",{className:"text-red-700",children:c})]}):r?(0,ht.jsxs)(ht.Fragment,{children:[(0,ht.jsx)("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 p-6 mb-8",children:(0,ht.jsxs)("div",{className:"flex flex-col md:flex-row gap-8",children:[(0,ht.jsx)("div",{className:"md:w-1/4 lg:w-1/5",children:(0,ht.jsx)("div",{className:"bg-gradient-to-br from-teal-50 to-green-100 rounded-lg h-48 flex items-center justify-center overflow-hidden",children:null!==r&&void 0!==r&&r.coverImage?(0,ht.jsx)("img",{src:(w=r.coverImage,w?w.startsWith("data:")?w:`https://aipbbackend.onrender.com/${w}`:null),alt:r.title,className:"h-full w-full object-cover rounded-lg",onError:()=>{r&&s({...r,coverImage:null})}}):(0,ht.jsx)("div",{className:"text-center",children:(0,ht.jsx)(Dt,{size:64,className:"mx-auto text-teal-400"})})})}),(0,ht.jsxs)("div",{className:"md:w-3/4 lg:w-4/5",children:[(0,ht.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4",children:[(0,ht.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:null===r||void 0===r?void 0:r.title}),(0,ht.jsxs)("div",{className:"flex space-x-2 mt-2 sm:mt-0",children:[(0,ht.jsxs)("button",{onClick:()=>{m(!0)},className:"flex items-center px-3 py-1.5 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 transition-colors",children:[(0,ht.jsx)(tp,{size:16,className:"mr-1"}),(0,ht.jsx)("span",{children:"Edit"})]}),(0,ht.jsxs)("button",{onClick:()=>{g(!0)},className:"flex items-center px-3 py-1.5 bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors",children:[(0,ht.jsx)(qs,{size:16,className:"mr-1"}),(0,ht.jsx)("span",{children:"Delete"})]})]})]}),(0,ht.jsx)("p",{className:"text-gray-700 mb-6",children:(null===r||void 0===r?void 0:r.description)||"No description available"}),(0,ht.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,ht.jsxs)("button",{onClick:()=>{n(`/ai-workbook/${e}/datastore`)},className:"flex items-center px-4 py-2 bg-gray-800 text-white rounded-md hover:bg-gray-900 transition-colors shadow-sm",children:[(0,ht.jsx)(Mt,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Workbook DataStore"})]}),(0,ht.jsxs)("button",{onClick:v,className:"flex items-center px-4 py-2 bg-teal-600 text-white rounded-md hover:bg-teal-700 transition-colors shadow-sm",children:[(0,ht.jsx)(zs,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Add Chapter"})]}),(0,ht.jsxs)("button",{onClick:()=>n(`/chat/${e}?type=workbook`),className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors shadow-sm",children:[(0,ht.jsx)(It,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Chat with Workbook"})]}),(0,ht.jsxs)("button",{onClick:()=>{b(!0)},className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors shadow-sm",children:[(0,ht.jsx)(kt,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Configure"})]})]})]})]})}),(0,ht.jsxs)("div",{className:"mb-6",children:[(0,ht.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Chapters"}),0===i.length?(0,ht.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-8 text-center",children:[(0,ht.jsx)(Dt,{size:64,className:"mx-auto text-gray-400 mb-4"}),(0,ht.jsx)("h3",{className:"text-xl font-medium text-gray-800 mb-2",children:"No chapters yet"}),(0,ht.jsx)("p",{className:"text-gray-600 mb-6",children:"Add your first chapter to start building your workbook"}),(0,ht.jsxs)("button",{onClick:v,className:"inline-flex items-center px-4 py-2 bg-teal-600 text-white rounded-md hover:bg-teal-700 transition-colors",children:[(0,ht.jsx)(zs,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Add Chapter"})]})]}):(0,ht.jsx)("div",{className:"grid grid-cols-1 gap-4",children:i.sort(((e,t)=>(e.order||0)-(t.order||0))).map((t=>(0,ht.jsx)(Hj,{chapter:t,onClick:()=>{return r=t._id,void n(`/ai-workbook/${e}/chapters/${r}`);var r}},t._id)))})]})]}):(0,ht.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex items-start",children:[(0,ht.jsx)(gp,{className:"text-yellow-500 mr-3 flex-shrink-0 mt-0.5",size:20}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("h3",{className:"font-medium text-yellow-800",children:"Workbook not found"}),(0,ht.jsx)("p",{className:"text-yellow-700",children:"The workbook you're looking for does not exist or has been deleted."})]})]}),(0,ht.jsx)(Gj,{isOpen:u,onClose:()=>h(!1),workbookId:e,onAdd:e=>{a([...i,e])}}),(0,ht.jsx)(Kj,{isOpen:p,onClose:()=>m(!1),workbook:r,onUpdate:e=>{s(e)}}),(0,ht.jsx)(Xj,{isOpen:f,onClose:()=>g(!1),onConfirm:async()=>{try{const t=ut.get("usertoken");if(!t)return void Gp.error("Authentication required");const r=await fetch(`https://aipbbackend.onrender.com/api/workbooks/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}}),s=await r.json();s.success?(Gp.success("Workbook deleted successfully"),n("/ai-workbook")):Gp.error(s.message||"Failed to delete workbook")}catch(c){console.error("Error deleting workbook:",c),Gp.error("An error occurred while deleting the workbook")}finally{g(!1)}},title:"Delete Workbook",message:"Are you sure you want to delete this workbook? This action cannot be undone and will delete all chapters, topics, and related data."}),x&&(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ht.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-4xl p-6 max-h-[90vh] overflow-auto",children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,ht.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Configure Workbook PDF"}),(0,ht.jsx)("button",{onClick:()=>b(!1),className:"p-2 rounded-full hover:bg-gray-200",children:(0,ht.jsx)(Ls,{size:24})})]}),(0,ht.jsx)(Ij,{bookId:e,bookType:"workbook",onClose:()=>b(!1),onSuccess:()=>{b(!1),y()}})]})})]});var w},Qj=e=>{let{isOpen:n,onClose:r,bookId:s,chapterId:i,topicId:a,topicTitle:o}=e;const[l,c]=(0,t.useState)(null),[d,u]=(0,t.useState)(!1),[h,p]=(0,t.useState)(null);(0,t.useEffect)((()=>{n&&s&&i&&a&&m()}),[n,s,i,a]);const m=async()=>{u(!0),p(null);try{const e=ut.get("usertoken");if(!e)return void p("Authentication required");const t=await fetch(`https://aipbbackend.onrender.com/api/qrcode/books/${s}/chapters/${i}/topics/${a}`,{headers:{Authorization:`Bearer ${e}`}}),n=await t.json();n.success?c(n):p(n.message||"Failed to generate QR code")}catch(h){console.error("Error fetching QR code:",h),p("Failed to connect to the server")}finally{u(!1)}};return n?(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ht.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6",children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,ht.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Topic QR Code"}),(0,ht.jsx)("button",{onClick:r,className:"p-1 rounded-full hover:bg-gray-100",children:(0,ht.jsx)(Ls,{size:20,className:"text-gray-500"})})]}),(0,ht.jsxs)("div",{className:"mb-6",children:[(0,ht.jsx)("p",{className:"text-gray-700 mb-2",children:"Scan this QR code to access the topic content. It includes:"}),l&&(0,ht.jsxs)("ul",{className:"list-disc list-inside text-gray-600 text-sm mb-4",children:[(0,ht.jsx)("li",{children:"Topic information"}),(0,ht.jsxs)("li",{children:[l.subtopicsCount," sub-topic",1!==l.subtopicsCount?"s":""]}),(0,ht.jsxs)("li",{children:[l.datastoreItemsCount," datastore item",1!==l.datastoreItemsCount?"s":""]})]})]}),(0,ht.jsx)("div",{className:"flex justify-center mb-6",children:d?(0,ht.jsx)("div",{className:"bg-gray-100 rounded-lg h-64 w-64 flex items-center justify-center",children:(0,ht.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-indigo-600"})}):h?(0,ht.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 w-full",children:[(0,ht.jsx)("p",{className:"text-red-600 text-center",children:h}),(0,ht.jsx)("button",{onClick:m,className:"mt-3 text-indigo-600 hover:text-indigo-800 mx-auto block",children:"Try Again"})]}):null!==l&&void 0!==l&&l.qrCodeDataURL?(0,ht.jsx)("div",{className:"border border-gray-200 p-4 rounded-lg shadow-sm",children:(0,ht.jsx)("img",{src:l.qrCodeDataURL,alt:"Topic QR Code",className:"h-64 w-64 object-contain"})}):null}),(0,ht.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,ht.jsxs)("button",{onClick:()=>{if(null===l||void 0===l||!l.qrCodeDataURL)return;const e=document.createElement("a");e.href=l.qrCodeDataURL,e.download=`${o||"topic"}-qrcode.png`,document.body.appendChild(e),e.click(),document.body.removeChild(e),Gp.success("QR code downloaded successfully!")},disabled:!(null!==l&&void 0!==l&&l.qrCodeDataURL)||d,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors flex items-center disabled:bg-indigo-300",children:[(0,ht.jsx)(_j,{size:16,className:"mr-2"}),"Download"]}),(0,ht.jsxs)("button",{onClick:async()=>{if(null!==l&&void 0!==l&&l.qrCodeDataURL)try{if(navigator.share){const e=await fetch(l.qrCodeDataURL),t=await e.blob(),n=new File([t],`${o||"topic"}-qrcode.png`,{type:"image/png"});await navigator.share({title:`QR Code for ${o||"Topic"}`,text:`Scan this QR code to access ${o||"the topic"} content.`,files:[n]}),Gp.success("QR code shared successfully!")}else Gp.info("Sharing is not supported in this browser. You can download the QR code instead.")}catch(h){console.error("Error sharing QR code:",h),Gp.error("Failed to share QR code")}},disabled:!(null!==l&&void 0!==l&&l.qrCodeDataURL)||d||!navigator.canShare,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors flex items-center disabled:bg-gray-300",children:[(0,ht.jsx)(Lj,{size:16,className:"mr-2"}),"Share"]})]})]})}):null},Jj=e=>{let{topic:t,onClick:n,onQRCodeClick:r,isWorkbook:s}=e;return(0,ht.jsx)("div",{className:"bg-white p-5 rounded-lg shadow-sm hover:shadow-md transition-all duration-300 border border-gray-100",children:(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsxs)("div",{onClick:n,className:"flex-grow flex items-center cursor-pointer",children:[(0,ht.jsx)("div",{className:`p-3 ${s?"bg-teal-100":"bg-emerald-100"} rounded-full mr-4 flex-shrink-0`,children:(0,ht.jsx)(Dt,{size:22,className:s?"text-teal-600":"text-emerald-600"})}),(0,ht.jsxs)("div",{className:"flex-grow",children:[(0,ht.jsx)("h3",{className:"font-medium text-gray-800",children:t.title}),(0,ht.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:t.description||"No description"})]}),(0,ht.jsxs)("div",{className:"flex items-center "+(s?"text-teal-600":"text-emerald-600"),children:[(0,ht.jsx)("span",{className:"mr-1 text-sm font-medium hidden md:block",children:"View"}),(0,ht.jsx)(jt,{size:18})]})]}),(0,ht.jsx)("button",{onClick:e=>{e.stopPropagation(),r(t._id)},className:"ml-4 p-2 text-amber-600 hover:text-amber-800 hover:bg-amber-50 rounded-full transition-colors",title:"Show QR Code",children:(0,ht.jsx)(um,{size:18})})]})})},Zj=e=>{let{isOpen:n,onClose:r,bookId:s,chapterId:i,workbookId:a,onAdd:o}=e;const[l,c]=(0,t.useState)(""),[d,u]=(0,t.useState)(""),[h,p]=(0,t.useState)(""),[m,f]=(0,t.useState)(""),[g,x]=(0,t.useState)(!1),[b,y]=(0,t.useState)(""),v=window.location.pathname,w=v.includes("/ai-workbook/"),j=w?a:s;if((0,t.useEffect)((()=>{n&&(y(""),console.log("AddTopicModal opened with:",{isWorkbook:w,bookId:s,workbookId:a,chapterId:i,effectiveBookId:j}),!w||a&&"undefined"!==a?w||s&&"undefined"!==s||(y("Invalid book ID provided"),console.error("Modal opened with invalid book ID:",{bookId:s,location:v})):(y("Invalid workbook ID provided"),console.error("Modal opened with invalid workbook ID:",{workbookId:a,location:v})),i&&"undefined"!==i||(y("Invalid chapter ID provided"),console.error("Modal opened with invalid chapterId:",i)))}),[n,s,a,i,j,w,v]),!n)return null;return(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ht.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6",children:[(0,ht.jsx)("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Add New Topic"}),b&&(0,ht.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md text-red-700",children:b}),(0,ht.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),x(!0),y("");try{if(!l.trim())return y("Title is required"),void x(!1);if(w){if(!a||"undefined"===a)return y("Invalid workbook ID"),console.error("Invalid workbook ID:",a),void x(!1)}else if(!s||"undefined"===s)return y("Invalid book ID"),console.error("Invalid book ID:",s),void x(!1);if(!i||"undefined"===i)return y("Invalid chapter ID"),console.error("Invalid chapterId:",i),void x(!1);const e=ut.get("usertoken");if(!e)return y("Authentication required"),void r();const t={title:l.trim(),description:d.trim(),content:h.trim(),parentType:"chapter"};m&&!isNaN(parseInt(m))&&(t.order=parseInt(m));const n=w?`https://aipbbackend.onrender.com/api/workbooks/${a}/chapters/${i}/topics`:`https://aipbbackend.onrender.com/api/books/${s}/chapters/${i}/topics`;console.log("Sending topic creation request with:",{url:n,payload:t,isWorkbook:w,context:w?"workbook":"book"});const c=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(t)});if(!c.ok){const e=await c.text();throw console.error("Server error response:",{status:c.status,statusText:c.statusText,body:e}),new Error(`Server returned ${c.status}: ${e}`)}const u=await c.json();u.success?(Gp.success("Topic created successfully!"),o(u.topic),r()):(y(u.message||"Failed to create topic"),Gp.error(u.message||"Failed to create topic"))}catch(b){console.error("Error creating topic:",b),y(b.message||"An error occurred while creating the topic"),Gp.error(b.message||"An error occurred while creating the topic")}finally{x(!1)}},children:[(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Title"}),(0,ht.jsx)("input",{type:"text",value:l,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-emerald-500",required:!0})]}),(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Description"}),(0,ht.jsx)("textarea",{value:d,onChange:e=>u(e.target.value),className:`w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 ${w?"focus:ring-teal-500":"focus:ring-emerald-500"} h-24`})]}),(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Content"}),(0,ht.jsx)("textarea",{value:h,onChange:e=>p(e.target.value),className:`w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 ${w?"focus:ring-teal-500":"focus:ring-emerald-500"} h-32`})]}),(0,ht.jsxs)("div",{className:"mb-6",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Order (optional)"}),(0,ht.jsx)("input",{type:"number",value:m,onChange:e=>f(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 "+(w?"focus:ring-teal-500":"focus:ring-emerald-500"),min:"0"})]}),(0,ht.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ht.jsx)("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),(0,ht.jsx)("button",{type:"button",onClick:()=>{c(""),u(""),p(""),f(""),y("")},className:"px-4 py-2 text-amber-700 bg-amber-100 rounded-md hover:bg-amber-200 transition-colors",children:"Clear"}),(0,ht.jsx)("button",{type:"submit",disabled:g,className:`px-4 py-2 ${w?"bg-teal-600 hover:bg-teal-700":"bg-emerald-600 hover:bg-emerald-700"} text-white rounded-md transition-colors flex items-center justify-center`,children:g?(0,ht.jsx)("div",{className:"animate-spin h-5 w-5 border-2 border-white border-t-transparent rounded-full"}):"Create Topic"})]})]})]})})},$j=e=>{let{isOpen:n,onClose:r,bookId:s,workbookId:i,chapter:a,onUpdate:o}=e;const[l,c]=(0,t.useState)((null===a||void 0===a?void 0:a.title)||""),[d,u]=(0,t.useState)((null===a||void 0===a?void 0:a.description)||""),[h,p]=(0,t.useState)(void 0!==(null===a||void 0===a?void 0:a.order)?a.order.toString():""),[m,f]=(0,t.useState)(!1),[g,x]=(0,t.useState)(""),b=window.location.pathname.includes("/ai-workbook/");if((0,t.useEffect)((()=>{a&&(c(a.title||""),u(a.description||""),p(void 0!==a.order?a.order.toString():""))}),[a]),!n||!a)return null;return(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ht.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6",children:[(0,ht.jsx)("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Edit Chapter"}),g&&(0,ht.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md text-red-700",children:g}),(0,ht.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),f(!0),x("");try{if(b&&(!i||"undefined"===i))return x("Invalid workbook ID"),void f(!1);if(!b&&(!s||"undefined"===s))return x("Invalid book ID"),void f(!1);if(!a||!a._id)return x("Invalid chapter data"),void f(!1);const e=ut.get("usertoken");if(!e)return x("Authentication required"),void r();const t=b?`https://aipbbackend.onrender.com/api/workbooks/${i}/chapters/${a._id}`:`https://aipbbackend.onrender.com/api/books/${s}/chapters/${a._id}`;console.log("Updating chapter via:",{updateEndpoint:t,isWorkbook:b});const n=await fetch(t,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({title:l,description:d,order:h?parseInt(h):void 0})});if(!n.ok){const e=await n.text();throw console.error("Server error response for chapter update:",{status:n.status,statusText:n.statusText,body:e}),new Error(`Server returned ${n.status}: ${e}`)}const c=await n.json();c.success?(Gp.success("Chapter updated successfully!"),o(c.chapter),r()):(x(c.message||"Failed to update chapter"),Gp.error(c.message||"Failed to update chapter"))}catch(g){console.error("Error updating chapter:",g),x(g.message||"An error occurred while updating the chapter"),Gp.error(g.message||"An error occurred while updating the chapter")}finally{f(!1)}},children:[(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Title"}),(0,ht.jsx)("input",{type:"text",value:l,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0})]}),(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Description"}),(0,ht.jsx)("textarea",{value:d,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 h-32"})]}),(0,ht.jsxs)("div",{className:"mb-6",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Order (optional)"}),(0,ht.jsx)("input",{type:"number",value:h,onChange:e=>p(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",min:"0"})]}),(0,ht.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ht.jsx)("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),(0,ht.jsx)("button",{type:"submit",disabled:m,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors flex items-center justify-center",children:m?(0,ht.jsx)("div",{className:"animate-spin h-5 w-5 border-2 border-white border-t-transparent rounded-full"}):"Update Chapter"})]})]})]})})},ek=e=>{let{isOpen:t,onClose:n,onConfirm:r,title:s,message:i}=e;return t?(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ht.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6",children:[(0,ht.jsx)("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:s}),(0,ht.jsx)("p",{className:"text-gray-600 mb-6",children:i}),(0,ht.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ht.jsx)("button",{onClick:n,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),(0,ht.jsx)("button",{onClick:r,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:"Delete"})]})]})}):null},tk=()=>{var e;const[n,r]=(0,t.useState)(null),[s,i]=(0,t.useState)([]),[a,o]=(0,t.useState)(!0),[l,c]=(0,t.useState)(null),[d,u]=(0,t.useState)(!1),[h,p]=(0,t.useState)(!1),[m,f]=(0,t.useState)(!1),g=te(),x=$(),[b,y]=(0,t.useState)(!1),[v,w]=(0,t.useState)(!1),[j,k]=(0,t.useState)(null),{bookId:N,workbookId:S,chapterId:C}=g,A=window.location.pathname,T=A.includes("/ai-workbook/"),E=T?S:N;(0,t.useEffect)((()=>{console.log("ChapterDetail context:",{location:A,isWorkbook:T,bookId:N,workbookId:S,chapterId:C,effectiveBookId:E,allParams:g})}),[A,T,N,S,C,E,g]),(0,t.useEffect)((()=>{(async()=>{o(!0);try{if(!C||"undefined"===C)return console.error("Invalid chapter ID:",C),c("Invalid chapter ID"),void o(!1);if(T&&(!S||"undefined"===S))return console.error("Invalid workbook ID for workbook context:",S),c("Invalid workbook ID"),void o(!1);if(!T&&(!N||"undefined"===N))return console.error("Invalid book ID for book context:",N),c("Invalid book ID"),void o(!1);const t=ut.get("usertoken");if(!t)return c("Authentication required"),void x("/auth");const n=T?`https://aipbbackend.onrender.com/api/workbooks/${S}/chapters/${C}`:`https://aipbbackend.onrender.com/api/books/${N}/chapters/${C}`;console.log("Fetching chapter from endpoint:",{baseEndpoint:n,isWorkbook:T});const s=await fetch(n,{headers:{Authorization:`Bearer ${t}`}});if(!s.ok)return console.error("Chapter request failed with status:",s.status),c(`Failed to fetch chapter details (${s.status})`),void o(!1);const a=await s.json();if(!a.success)return c(a.message||"Failed to fetch chapter details"),void o(!1);r(a.chapter);try{const e=T?`https://aipbbackend.onrender.com/api/workbooks/${S}/chapters/${C}/topics`:`https://aipbbackend.onrender.com/api/books/${N}/chapters/${C}/topics`;console.log("Attempting to fetch topics from:",{topicsEndpoint:e,isWorkbook:T});const n=await fetch(e,{headers:{Authorization:`Bearer ${t}`}});if(n.ok){const e=await n.json();e.success?i(e.topics||[]):(console.warn("Topics request returned non-success:",e.message),i([]))}else console.warn(`Topics request failed with status: ${n.status} - this is expected for workbook chapters if the backend doesn't fully support topics for workbooks yet`),i([])}catch(e){console.warn("Error fetching topics (continuing anyway):",e),i([])}o(!1)}catch(l){console.error("Error fetching chapter details:",l),c("Failed to connect to the server"),o(!1)}})()}),[N,S,C,x,T]);const P=()=>{if(C&&"undefined"!==C){if(T){if(!S||"undefined"===S)return Gp.error("Invalid workbook ID. Cannot add a topic."),void console.error("Invalid IDs when trying to add topic in workbook context:",{workbookId:S,chapterId:C})}else if(!N||"undefined"===N)return Gp.error("Invalid book ID. Cannot add a topic."),void console.error("Invalid IDs when trying to add topic in book context:",{bookId:N,chapterId:C});console.log("Opening add topic modal with:",{isWorkbook:T,bookId:N,workbookId:S,chapterId:C}),u(!0)}else Gp.error("Invalid chapter ID. Cannot add a topic.")},F=()=>{x(T?`/ai-workbook/${S}`:`/ai-books/${N}`)},R=e=>{k(e),w(!0)};return a?(0,ht.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,ht.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-indigo-600"})}):l?(0,ht.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,ht.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start",children:[(0,ht.jsx)(gp,{className:"text-red-500 mr-3 flex-shrink-0 mt-0.5",size:20}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("h3",{className:"font-medium text-red-800",children:"Error"}),(0,ht.jsx)("p",{className:"text-red-700",children:l}),(0,ht.jsxs)("button",{onClick:F,className:"mt-3 text-red-600 hover:text-red-800 flex items-center",children:[(0,ht.jsx)(hm,{size:16,className:"mr-1"}),(0,ht.jsx)("span",{children:"Go back"})]})]})]})}):(0,ht.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,ht.jsx)(nm,{position:"top-right",autoClose:3e3}),(0,ht.jsx)("div",{className:"flex items-center mb-4",children:(0,ht.jsxs)("button",{onClick:F,className:`flex items-center ${T?"text-teal-600 hover:text-teal-800":"text-indigo-600 hover:text-indigo-800"} transition-colors`,children:[(0,ht.jsx)(hm,{size:18,className:"mr-1"}),(0,ht.jsxs)("span",{children:["Back to ",T?"Workbook":"Book"]})]})}),(0,ht.jsx)("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 p-6 mb-8",children:(0,ht.jsxs)("div",{className:"flex flex-col",children:[(0,ht.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4",children:[(0,ht.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:null===n||void 0===n?void 0:n.title}),(0,ht.jsxs)("div",{className:"flex space-x-2 mt-2 sm:mt-0",children:[(0,ht.jsxs)("button",{onClick:()=>{p(!0)},className:"flex items-center px-3 py-1.5 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 transition-colors",children:[(0,ht.jsx)(tp,{size:16,className:"mr-1"}),(0,ht.jsx)("span",{children:"Edit"})]}),(0,ht.jsxs)("button",{onClick:()=>{f(!0)},className:"flex items-center px-3 py-1.5 bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors",children:[(0,ht.jsx)(qs,{size:16,className:"mr-1"}),(0,ht.jsx)("span",{children:"Delete"})]})]})]}),(0,ht.jsx)("p",{className:"text-gray-700 mb-6",children:(null===n||void 0===n?void 0:n.description)||"No description available"}),(0,ht.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,ht.jsxs)("button",{onClick:()=>{E&&"undefined"!==E&&C&&"undefined"!==C?x(T?`/ai-workbook/${S}/chapters/${C}/datastore`:`/ai-books/${N}/chapters/${C}/datastore`):Gp.error("Invalid book or chapter ID")},className:"flex items-center px-4 py-2 bg-gray-800 text-white rounded-md hover:bg-gray-900 transition-colors shadow-sm",children:[(0,ht.jsx)(Mt,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Chapter Datastore"})]}),(0,ht.jsxs)("button",{onClick:P,className:`flex items-center px-4 py-2 ${T?"bg-teal-600 hover:bg-teal-700":"bg-emerald-600 hover:bg-emerald-700"} text-white rounded-md transition-colors shadow-sm`,children:[(0,ht.jsx)(zs,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Add Topic"})]}),(0,ht.jsxs)("button",{onClick:()=>{if(!E||"undefined"===E||!C||"undefined"===C)return void Gp.error("Invalid book or chapter ID");x(`/chat/${T?S:N}?type=${T?"workbook-chapter":"chapter"}&chapterId=${C}&title=${encodeURIComponent((null===n||void 0===n?void 0:n.title)||"")}`)},className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors shadow-sm",children:[(0,ht.jsx)(It,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Chat with Chapter"})]}),(0,ht.jsxs)("button",{onClick:()=>y(!0),className:"flex items-center px-4 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 transition-colors shadow-sm",children:[(0,ht.jsx)(um,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Chapter QR"})]}),(0,ht.jsxs)("button",{className:"flex items-center px-4 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 transition-colors shadow-sm",onClick:()=>{E&&"undefined"!==E&&C&&"undefined"!==C?x(T?`/ai-workbook/${S}/chapters/${C}/assets`:`/ai-books/${N}/chapters/${C}/assets`):Gp.error("Invalid book or chapter ID")},children:[(0,ht.jsx)(Mt,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Chapter Assets"})]})]})]})}),(0,ht.jsxs)("div",{className:"mb-6",children:[(0,ht.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Topics"}),0===s.length?(0,ht.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-8 text-center",children:[(0,ht.jsx)(Dt,{size:64,className:"mx-auto text-gray-400 mb-4"}),(0,ht.jsx)("h3",{className:"text-xl font-medium text-gray-800 mb-2",children:"No topics yet"}),(0,ht.jsx)("p",{className:"text-gray-600 mb-6",children:"Add your first topic to start building your chapter"}),(0,ht.jsxs)("button",{onClick:P,className:`inline-flex items-center px-4 py-2 ${T?"bg-teal-600 hover:bg-teal-700":"bg-emerald-600 hover:bg-emerald-700"} text-white rounded-md transition-colors`,children:[(0,ht.jsx)(zs,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Add Topic"})]})]}):(0,ht.jsx)("div",{className:"grid grid-cols-1 gap-4",children:s.sort(((e,t)=>(e.order||0)-(t.order||0))).map((e=>(0,ht.jsx)(Jj,{topic:e,onClick:()=>{var t;(t=e._id)&&"undefined"!==t?E&&"undefined"!==E&&C&&"undefined"!==C?x(T?`/ai-workbook/${S}/chapters/${C}/topics/${t}`:`/ai-books/${N}/chapters/${C}/topics/${t}`):Gp.error("Invalid book or chapter ID"):Gp.error("Invalid topic ID")},onQRCodeClick:R,isWorkbook:T},e._id)))})]}),(0,ht.jsx)(Zj,{isOpen:d,onClose:()=>u(!1),bookId:N||"",chapterId:C||"",onAdd:e=>{console.log("Topic added successfully:",{newTopic:e,isWorkbook:T,bookId:N,workbookId:S,chapterId:C}),i([...s,e])},workbookId:S||""}),(0,ht.jsx)($j,{isOpen:h,onClose:()=>p(!1),bookId:N,workbookId:S,chapter:n,onUpdate:e=>{r(e)}}),(0,ht.jsx)(ek,{isOpen:m,onClose:()=>f(!1),onConfirm:async()=>{try{if(T&&(!S||"undefined"===S))return Gp.error("Invalid workbook ID"),void f(!1);if(!T&&(!N||"undefined"===N))return Gp.error("Invalid book ID"),void f(!1);if(!C||"undefined"===C)return Gp.error("Invalid chapter ID"),void f(!1);const e=ut.get("usertoken");if(!e)return Gp.error("Authentication required"),void f(!1);const t=T?`https://aipbbackend.onrender.com/api/workbooks/${S}/chapters/${C}`:`https://aipbbackend.onrender.com/api/books/${N}/chapters/${C}`;console.log("Deleting chapter via:",{deleteEndpoint:t,isWorkbook:T});const n=await fetch(t,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}}),r=await n.json();r.success?(Gp.success("Chapter deleted successfully!"),x(T?`/ai-workbook/${S}`:`/ai-books/${N}`)):Gp.error(r.message||"Failed to delete chapter")}catch(l){console.error("Error deleting chapter:",l),Gp.error("An error occurred while deleting the chapter")}finally{f(!1)}},title:"Delete Chapter",message:"Are you sure you want to delete this chapter? All topics and content will be permanently removed."}),(0,ht.jsx)(zj,{isOpen:b,onClose:()=>y(!1),bookId:N,chapterId:C,chapterTitle:null===n||void 0===n?void 0:n.title,isWorkbook:T,workbookId:S}),(0,ht.jsx)(Qj,{isOpen:v,onClose:()=>w(!1),bookId:N,chapterId:C,topicId:j,topicTitle:null===(e=s.find((e=>e._id===j)))||void 0===e?void 0:e.title,isWorkbook:T,workbookId:S})]})},nk=e=>{let{isOpen:n,onClose:r,bookId:s,chapterId:i,topicId:a,subtopicId:o,subtopicTitle:l}=e;const[c,d]=(0,t.useState)(null),[u,h]=(0,t.useState)(!1),[p,m]=(0,t.useState)(null);(0,t.useEffect)((()=>{n&&s&&i&&a&&o&&f()}),[n,s,i,a,o]);const f=async()=>{h(!0),m(null);try{const e=ut.get("usertoken");if(!e)return void m("Authentication required");const t=await fetch(`https://aipbbackend.onrender.com/api/qrcode/books/${s}/chapters/${i}/topics/${a}/subtopics/${o}`,{headers:{Authorization:`Bearer ${e}`}}),n=await t.json();n.success?d(n):m(n.message||"Failed to generate QR code")}catch(p){console.error("Error fetching QR code:",p),m("Failed to connect to the server")}finally{h(!1)}};return n?(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ht.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6",children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsx)("div",{className:"w-4 h-4 rounded-full mr-2",style:{backgroundColor:(null===c||void 0===c?void 0:c.qrCodeColor)||"#FF8C00"}}),(0,ht.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Sub-Topic QR Code"})]}),(0,ht.jsx)("button",{onClick:r,className:"p-1 rounded-full hover:bg-gray-100",children:(0,ht.jsx)(Ls,{size:20,className:"text-gray-500"})})]}),(0,ht.jsxs)("div",{className:"mb-6",children:[(0,ht.jsx)("p",{className:"text-gray-700 mb-2",children:"Scan this QR code to access the sub-topic content. It includes:"}),c&&(0,ht.jsxs)("ul",{className:"list-disc list-inside text-gray-600 text-sm mb-4",children:[(0,ht.jsx)("li",{children:"Sub-topic information"}),(0,ht.jsxs)("li",{children:[c.datastoreItemsCount," datastore item",1!==c.datastoreItemsCount?"s":""]})]})]}),(0,ht.jsx)("div",{className:"flex justify-center mb-6",children:u?(0,ht.jsx)("div",{className:"bg-gray-100 rounded-lg h-64 w-64 flex items-center justify-center",children:(0,ht.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-indigo-600"})}):p?(0,ht.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 w-full",children:[(0,ht.jsx)("p",{className:"text-red-600 text-center",children:p}),(0,ht.jsx)("button",{onClick:f,className:"mt-3 text-indigo-600 hover:text-indigo-800 mx-auto block",children:"Try Again"})]}):null!==c&&void 0!==c&&c.qrCodeDataURL?(0,ht.jsx)("div",{className:"border border-gray-200 p-4 rounded-lg shadow-sm",style:{borderColor:c.qrCodeColor||"#FF8C00"},children:(0,ht.jsx)("img",{src:c.qrCodeDataURL,alt:"Sub-Topic QR Code",className:"h-64 w-64 object-contain"})}):null}),(0,ht.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,ht.jsxs)("button",{onClick:()=>{if(null===c||void 0===c||!c.qrCodeDataURL)return;const e=document.createElement("a");e.href=c.qrCodeDataURL,e.download=`${l||"subtopic"}-qrcode.png`,document.body.appendChild(e),e.click(),document.body.removeChild(e),Gp.success("QR code downloaded successfully!")},disabled:!(null!==c&&void 0!==c&&c.qrCodeDataURL)||u,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors flex items-center disabled:bg-indigo-300",children:[(0,ht.jsx)(_j,{size:16,className:"mr-2"}),"Download"]}),(0,ht.jsxs)("button",{onClick:async()=>{if(null!==c&&void 0!==c&&c.qrCodeDataURL)try{if(navigator.share){const e=await fetch(c.qrCodeDataURL),t=await e.blob(),n=new File([t],`${l||"subtopic"}-qrcode.png`,{type:"image/png"});await navigator.share({title:`QR Code for ${l||"Sub-Topic"}`,text:`Scan this QR code to access ${l||"the sub-topic"} content.`,files:[n]}),Gp.success("QR code shared successfully!")}else Gp.info("Sharing is not supported in this browser. You can download the QR code instead.")}catch(p){console.error("Error sharing QR code:",p),Gp.error("Failed to share QR code")}},disabled:!(null!==c&&void 0!==c&&c.qrCodeDataURL)||u||!navigator.canShare,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors flex items-center disabled:bg-gray-300",children:[(0,ht.jsx)(Lj,{size:16,className:"mr-2"}),"Share"]})]})]})}):null},rk=vt("wand-sparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]),sk=e=>{let{isOpen:n,onClose:r,onResponse:s,initialPrompt:i,title:a,question:o,detailedAnswer:l,metadata:c,qualityParams:d}=e;const[u,h]=(0,t.useState)(i||""),[p,m]=(0,t.useState)(!1);if((0,t.useEffect)((()=>{o&&c&&h(f())}),[o,c,d]),!n)return null;const f=()=>{const e=null===a||void 0===a?void 0:a.toLowerCase().includes("detailed");let t=e?"Generate a comprehensive detailed answer for the following question:\n\n":"Generate a concise modal answer for the following question:\n\n";return t+=`Question: ${o}\n\n`,e&&l&&(t+=`Existing Detailed Answer: ${l}\n\n`),t+="Requirements:\n",t+=`1. Word Limit: ${c.wordLimit} words\n`,t+=`2. Difficulty Level: ${c.difficultyLevel}\n`,t+=`3. Estimated Time: ${c.estimatedTime} minutes\n`,t+=`4. Maximum Marks: ${c.maxMarks}\n\n`,c.keywords&&c.keywords.length>0&&(t+=`Keywords to include: ${c.keywords.join(", ")}\n\n`),e?(t+="Please provide a comprehensive answer that:\n",t+="1. Covers all aspects of the question\n",t+="2. Includes relevant examples and explanations\n",t+="3. Uses proper formatting and structure\n",t+="4. Incorporates all the specified keywords naturally\n",t+="5. Maintains academic rigor and clarity\n\n"):(t+="Quality Parameters to include:\n",d.introduction&&(t+="- Introduction\n"),d.body&&(t+="- Body with:\n",d.body.features&&(t+="  * Features\n"),d.body.examples&&(t+="  * Examples\n"),d.body.facts&&(t+="  * Facts\n"),d.body.diagram&&(t+="  * Diagram\n")),d.conclusion&&(t+="- Conclusion\n"),d.customParams&&d.customParams.length>0&&(t+="\nCustom Parameters:\n",d.customParams.forEach((e=>{t+=`- ${e.name}\n`})))),t+=`\nPlease generate a well-structured ${e?"detailed":"modal"} answer that meets these requirements.`,t};return(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ht.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-2xl p-6",children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,ht.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:a||"Generate Answer"}),(0,ht.jsx)("button",{onClick:r,className:"p-1 rounded-full hover:bg-gray-100",children:(0,ht.jsx)(Ls,{size:20,className:"text-gray-500"})})]}),(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Prompt"}),(0,ht.jsx)("textarea",{value:u,onChange:e=>h(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 h-48",placeholder:"Enter your prompt here..."})]}),(0,ht.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ht.jsx)("button",{onClick:r,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),(0,ht.jsx)("button",{onClick:async()=>{if(u.trim()){m(!0);try{const e=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=AIzaSyCCWtRX--NYoiootIlwWgg28s7n2VCfzDo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:u}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:2048}})});if(!e.ok)throw new Error("Failed to generate response");const t=await e.json(),n=(e=>{let t=e.replace(/^(Here's|This is|I'll provide|Let me|Here's a|Here is).*?[.:]\s*/i,"");return t=t.replace(/\|(.+)\|\n\|[-:]+\|([\s\S]*?)(?=\n\n|$)/g,((e,t,n)=>{const r=t.split("|").map((e=>e.trim())).filter((e=>e)),s=n.split("\n").map((e=>e.split("|").map((e=>e.trim())).filter((e=>e))));let i='<table class="border-collapse w-full my-4">';return i+="<thead><tr>",r.forEach((e=>{i+=`<th class="border border-gray-300 px-4 py-2 bg-gray-100 text-left">${e}</th>`})),i+="</tr></thead>",i+="<tbody>",s.forEach((e=>{i+="<tr>",e.forEach((e=>{i+=`<td class="border border-gray-300 px-4 py-2">${e}</td>`})),i+="</tr>"})),i+="</tbody></table>",i})),t=t.replace(/\*\*(.*?)\*\*/g,"$1"),t=t.replace(/^# (.*$)/gm,'<h1 class="text-2xl font-bold my-4">$1</h1>'),t=t.replace(/^## (.*$)/gm,'<h2 class="text-xl font-bold my-3">$1</h2>'),t=t.replace(/^### (.*$)/gm,'<h3 class="text-lg font-bold my-2">$1</h3>'),t=t.replace(/^\s*[-*+]\s+(.*$)/gm,'<li class="ml-4">$1</li>'),t=t.replace(/(<li class="ml-4">.*<\/li>)/gs,'<ul class="list-disc my-2">$1</ul>'),t=t.replace(/\*\*(.*?)\*\*/g,'<strong class="font-bold">$1</strong>'),t=t.replace(/\*(.*?)\*/g,'<em class="italic">$1</em>'),t=t.replace(/\n/g,"<br>"),t})(t.candidates[0].content.parts[0].text);s(n),r()}catch(hf){console.error("Error generating response:",hf),Gp.error("Failed to generate response. Please try again.")}finally{m(!1)}}else Gp.error("Please enter a prompt")},disabled:p,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center justify-center min-w-[100px]",children:p?(0,ht.jsxs)(ht.Fragment,{children:[(0,ht.jsx)(ap,{size:16,className:"animate-spin mr-2"}),"Generating..."]}):"Generate"})]})]})})},ik=e=>{let{isOpen:n,onClose:r,onAddQuestion:s,onEditQuestion:i,editingQuestion:a}=e;const o={question:"",detailedAnswer:"",metadata:{keywords:"",difficultyLevel:"level1",wordLimit:"",estimatedTime:"",maximumMarks:"",qualityParameters:{intro:!1,body:{enabled:!1,features:!1,examples:!1,facts:!1,diagram:!1},conclusion:!1},customQualityParameters:[]},modalAnswer:"",languageMode:"english"},[l,c]=(0,t.useState)([o]),[d,u]=(0,t.useState)(!1),[h,p]=(0,t.useState)(""),[m,f]=(0,t.useState)({}),[g,x]=(0,t.useState)(!1),[b,y]=(0,t.useState)(null),[v,w]=(0,t.useState)(null);if((0,t.useEffect)((()=>{if(a){const e={...a,metadata:{...a.metadata,keywords:Array.isArray(a.metadata.keywords)?a.metadata.keywords.join(", "):a.metadata.keywords,customQualityParameters:a.metadata.qualityParameters.customParams?a.metadata.qualityParameters.customParams.map((e=>({name:e}))):[]},detailedAnswer:a.detailedAnswer.replace(/<h[1-6][^>]*>(.*?)<\/h[1-6]>/gi,"\n\n$1\n\n").replace(/<ul[^>]*>(.*?)<\/ul>/gi,"\n$1\n").replace(/<ol[^>]*>(.*?)<\/ol>/gi,"\n$1\n").replace(/<li[^>]*>(.*?)<\/li>/gi,"\n\u2022 $1").replace(/<p[^>]*>(.*?)<\/p>/gi,"\n\n$1\n\n").replace(/<br[^>]*>/gi,"\n").replace(/<strong[^>]*>(.*?)<\/strong>/gi,"**$1**").replace(/<b[^>]*>(.*?)<\/b>/gi,"**$1**").replace(/<em[^>]*>(.*?)<\/em>/gi,"*$1*").replace(/<i[^>]*>(.*?)<\/i>/gi,"*$1*").replace(/<[^>]*>/g,"").replace(/&nbsp;/g," ").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/\n{3,}/g,"\n\n").trim(),modalAnswer:a.modalAnswer.replace(/<h[1-6][^>]*>(.*?)<\/h[1-6]>/gi,"\n\n$1\n\n").replace(/<ul[^>]*>(.*?)<\/ul>/gi,"\n$1\n").replace(/<ol[^>]*>(.*?)<\/ol>/gi,"\n$1\n").replace(/<li[^>]*>(.*?)<\/li>/gi,"\n\u2022 $1").replace(/<p[^>]*>(.*?)<\/p>/gi,"\n\n$1\n\n").replace(/<br[^>]*>/gi,"\n").replace(/<strong[^>]*>(.*?)<\/strong>/gi,"**$1**").replace(/<b[^>]*>(.*?)<\/b>/gi,"**$1**").replace(/<em[^>]*>(.*?)<\/em>/gi,"*$1*").replace(/<i[^>]*>(.*?)<\/i>/gi,"*$1*").replace(/<[^>]*>/g,"").replace(/&nbsp;/g," ").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/\n{3,}/g,"\n\n").trim()};c([e])}else c([o])}),[a]),!n)return null;const j=(e,t,n)=>{const r=[...l];if(t.startsWith("metadata.")){const s=t.split(".")[1];if("qualityParameters"===s){const s=t.split(".")[2];if("body"===s){const s=t.split(".")[3];"enabled"===s?r[e].metadata.qualityParameters.body.enabled=n:r[e].metadata.qualityParameters.body[s]=n}else r[e].metadata.qualityParameters[s]=n}else r[e].metadata[s]=n}else r[e][t]=n;c(r)};return(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,ht.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ht.jsx)("h2",{className:"text-2xl font-semibold text-gray-800",children:a?"Edit Question":"Add New Questions"}),(0,ht.jsx)("button",{onClick:r,className:"text-gray-500 hover:text-gray-700",children:(0,ht.jsx)(Ls,{size:24})})]}),(0,ht.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),u(!0);try{const e=l.map((e=>({...e,metadata:{keywords:e.metadata.keywords.split(",").map((e=>e.trim())).filter((e=>e)),difficultyLevel:e.metadata.difficultyLevel,wordLimit:parseInt(e.metadata.wordLimit)||0,estimatedTime:parseInt(e.metadata.estimatedTime)||0,maximumMarks:parseInt(e.metadata.maximumMarks)||0,qualityParameters:{intro:e.metadata.qualityParameters.intro,body:{enabled:e.metadata.qualityParameters.body.enabled,features:e.metadata.qualityParameters.body.features,examples:e.metadata.qualityParameters.body.examples,facts:e.metadata.qualityParameters.body.facts,diagram:e.metadata.qualityParameters.body.diagram},conclusion:e.metadata.qualityParameters.conclusion,customParams:e.metadata.customQualityParameters.map((e=>e.name)).filter((e=>e.trim()))}},languageMode:e.languageMode})));if(a){const t={...e[0],id:a.id};i(t),Gp.success("Question updated successfully!")}else e.forEach((e=>{s(e)})),Gp.success("Questions added successfully!");r()}catch(h){console.error("Error saving questions:",h),Gp.error("Failed to save questions. Please try again.")}finally{u(!1)}},className:"space-y-8",children:[l.map(((e,t)=>(0,ht.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6 bg-white",children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,ht.jsx)("h3",{className:"text-lg font-medium text-gray-800",children:a?"Edit Question":`Question ${t+1}`}),!a&&l.length>1&&(0,ht.jsx)("button",{type:"button",onClick:()=>(e=>{if(l.length>1){const t=[...l];t.splice(e,1),c(t)}})(t),className:"text-red-600 hover:text-red-800",children:(0,ht.jsx)(qs,{size:18})})]}),(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question"}),(0,ht.jsx)("textarea",{value:e.question,onChange:e=>j(t,"question",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,required:!0})]}),(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,ht.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Detailed Answer"}),e.question.trim()&&(0,ht.jsxs)("button",{type:"button",onClick:()=>(e=>{l[e].question.trim()?(y("detailed"),w(e),x(!0)):Gp.error("Please enter a question first")})(t),className:"flex items-center px-3 py-1 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors text-sm",children:[(0,ht.jsx)(rk,{size:14,className:"mr-1"}),(0,ht.jsx)("span",{children:"Generate"})]})]}),(0,ht.jsx)("textarea",{value:e.detailedAnswer,onChange:e=>j(t,"detailedAnswer",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 whitespace-pre-wrap font-mono",rows:5,required:!0})]}),(0,ht.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:[(0,ht.jsx)("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:"Question Metadata"}),(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,ht.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Keywords (comma-separated)"}),e.question.trim()&&(0,ht.jsxs)("button",{type:"button",onClick:()=>(e=>{l[e].question.trim()?(y("keywords"),w(e),x(!0)):Gp.error("Please enter a question first")})(t),className:"flex items-center px-3 py-1 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors text-sm",children:[(0,ht.jsx)(rk,{size:14,className:"mr-1"}),(0,ht.jsx)("span",{children:"Generate"})]})]}),(0,ht.jsx)("input",{type:"text",value:e.metadata.keywords,onChange:e=>j(t,"metadata.keywords",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter keywords separated by commas"})]}),(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty Level"}),(0,ht.jsxs)("select",{value:e.metadata.difficultyLevel,onChange:e=>j(t,"metadata.difficultyLevel",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,ht.jsx)("option",{value:"level1",children:"Level 1"}),(0,ht.jsx)("option",{value:"level2",children:"Level 2"}),(0,ht.jsx)("option",{value:"level3",children:"Level 3"})]})]}),(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Word Limit"}),(0,ht.jsx)("input",{type:"number",value:e.metadata.wordLimit,onChange:e=>j(t,"metadata.wordLimit",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0",required:!0})]}),(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estimated Time (minutes)"}),(0,ht.jsx)("input",{type:"number",value:e.metadata.estimatedTime,onChange:e=>j(t,"metadata.estimatedTime",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0",required:!0})]}),(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maximum Marks"}),(0,ht.jsx)("input",{type:"number",value:e.metadata.maximumMarks,onChange:e=>j(t,"metadata.maximumMarks",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0",required:!0})]}),(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Language Mode"}),(0,ht.jsxs)("select",{value:e.languageMode,onChange:e=>j(t,"languageMode",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,ht.jsx)("option",{value:"english",children:"English"}),(0,ht.jsx)("option",{value:"hindi",children:"Hindi"}),(0,ht.jsx)("option",{value:"both",children:"Both"})]})]}),(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quality Parameters"}),(0,ht.jsxs)("div",{className:"space-y-2",children:[(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsx)("input",{type:"checkbox",checked:e.metadata.qualityParameters.intro,onChange:e=>j(t,"metadata.qualityParameters.intro",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,ht.jsx)("label",{className:"ml-2 text-sm text-gray-700",children:"Introduction"})]}),(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsx)("input",{type:"checkbox",checked:e.metadata.qualityParameters.body.enabled,onChange:e=>j(t,"metadata.qualityParameters.body.enabled",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,ht.jsx)("label",{className:"ml-2 text-sm text-gray-700",children:"Body"})]}),e.metadata.qualityParameters.body.enabled&&(0,ht.jsxs)("div",{className:"ml-6 space-y-2",children:[(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsx)("input",{type:"checkbox",checked:e.metadata.qualityParameters.body.features,onChange:e=>j(t,"metadata.qualityParameters.body.features",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,ht.jsx)("label",{className:"ml-2 text-sm text-gray-700",children:"Features"})]}),(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsx)("input",{type:"checkbox",checked:e.metadata.qualityParameters.body.examples,onChange:e=>j(t,"metadata.qualityParameters.body.examples",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,ht.jsx)("label",{className:"ml-2 text-sm text-gray-700",children:"Examples"})]}),(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsx)("input",{type:"checkbox",checked:e.metadata.qualityParameters.body.facts,onChange:e=>j(t,"metadata.qualityParameters.body.facts",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,ht.jsx)("label",{className:"ml-2 text-sm text-gray-700",children:"Facts"})]}),(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsx)("input",{type:"checkbox",checked:e.metadata.qualityParameters.body.diagram,onChange:e=>j(t,"metadata.qualityParameters.body.diagram",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,ht.jsx)("label",{className:"ml-2 text-sm text-gray-700",children:"Diagram"})]})]}),(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsx)("input",{type:"checkbox",checked:e.metadata.qualityParameters.conclusion,onChange:e=>j(t,"metadata.qualityParameters.conclusion",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,ht.jsx)("label",{className:"ml-2 text-sm text-gray-700",children:"Conclusion"})]})]})]}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Quality Parameters"}),e.metadata.customQualityParameters.map(((e,n)=>(0,ht.jsxs)("div",{className:"flex items-center mb-2",children:[(0,ht.jsx)("input",{type:"text",value:e.name,onChange:e=>((e,t,n,r)=>{const s=[...l];s[e].metadata.customQualityParameters[t][n]=r,c(s)})(t,n,"name",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter parameter name"}),(0,ht.jsx)("button",{type:"button",onClick:()=>((e,t)=>{const n=[...l];n[e].metadata.customQualityParameters.splice(t,1),c(n)})(t,n),className:"ml-2 p-2 text-red-600 hover:text-red-800",children:(0,ht.jsx)(qs,{size:16})})]},n))),(0,ht.jsxs)("button",{type:"button",onClick:()=>(e=>{const t=[...l];t[e].metadata.customQualityParameters.push({name:""}),c(t)})(t),className:"mt-2 text-blue-600 hover:text-blue-800 flex items-center",children:[(0,ht.jsx)(zs,{size:16,className:"mr-1"}),"Add Parameter"]})]})]}),(0,ht.jsxs)("div",{children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,ht.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Modal Answer"}),e.question.trim()&&(0,ht.jsxs)("button",{type:"button",onClick:()=>(e=>{l[e].question.trim()?(y("modal"),w(e),x(!0)):Gp.error("Please enter a question first")})(t),className:"flex items-center px-3 py-1 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors text-sm",children:[(0,ht.jsx)(rk,{size:14,className:"mr-1"}),(0,ht.jsx)("span",{children:"Generate"})]})]}),(0,ht.jsx)("textarea",{value:e.modalAnswer,onChange:e=>j(t,"modalAnswer",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 whitespace-pre-wrap font-mono",rows:3,required:!0})]})]},t))),(0,ht.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ht.jsxs)("div",{className:"flex space-x-4",children:[!a&&(0,ht.jsxs)("button",{type:"button",onClick:()=>{c([...l,{...o}])},className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:[(0,ht.jsx)(zs,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Add Another Question"})]}),!a&&(0,ht.jsx)("button",{type:"button",onClick:()=>{c([{...o}]),p("")},className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Clear All"})]}),(0,ht.jsx)("button",{type:"submit",disabled:d,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-blue-300",children:d?"Saving...":a?"Update Question":"Add Questions"})]})]}),g&&(0,ht.jsx)(sk,{isOpen:g,onClose:()=>{x(!1),y(null),w(null)},onResponse:e=>{if(null!==v&&b){const t=[...l];let n=e.replace(/^Here's the (detailed|modal) answer:\s*/i,"").replace(/^Answer:\s*/i,"").replace(/^Generated (detailed|modal) answer:\s*/i,"").replace(/^Here's the answer:\s*/i,"").replace(/^Here's the generated answer:\s*/i,"").replace(/^(Here's|Generated|Here is|Here are).*?:\s*/i,"").replace(/^Answer(s)?:\s*/i,"").replace(/^The answer is:\s*/i,"").replace(/^(Based on|According to).*?:\s*/i,"").replace(/^(Let me|I'll).*?:\s*/i,"").replace(/^Here's a(n)?\s*/i,"").replace(/^(I have|I've).*?:\s*/i,"").replace(/^(The following|Below is).*?:\s*/i,"").replace(/^(As an AI|As a language model).*?:\s*/i,"").trim();if(n=n.replace(/<h([1-6])[^>]*>(.*?)<\/h\1>/gi,"\n\n$2\n\n").replace(/<table[^>]*>([\s\S]*?)<\/table>/gi,((e,t)=>{const n=t.match(/<tr[^>]*>([\s\S]*?)<\/tr>/gi)||[];let r="\n\n";return n.forEach((e=>{const t=(e.match(/<(?:th|td)[^>]*>([\s\S]*?)<\/(?:th|td)>/gi)||[]).map((e=>e.replace(/<(?:th|td)[^>]*>([\s\S]*?)<\/(?:th|td)>/i,"$1").trim())).join(" | ");r+=t+"\n"})),r+"\n"})).replace(/<ul[^>]*>([\s\S]*?)<\/ul>/gi,"\n$1\n").replace(/<ol[^>]*>([\s\S]*?)<\/ol>/gi,"\n$1\n").replace(/<li[^>]*>([\s\S]*?)<\/li>/gi,"\n\u2022 $1").replace(/<p[^>]*>([\s\S]*?)<\/p>/gi,"\n\n$1\n\n").replace(/<br[^>]*>/gi,"\n").replace(/<strong[^>]*>([\s\S]*?)<\/strong>/gi,"**$1**").replace(/<b[^>]*>([\s\S]*?)<\/b>/gi,"**$1**").replace(/<em[^>]*>([\s\S]*?)<\/em>/gi,"*$1*").replace(/<i[^>]*>([\s\S]*?)<\/i>/gi,"*$1*").replace(/<[^>]*>/g,"").replace(/&nbsp;/g," ").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/\n{3,}/g,"\n\n").trim(),"detailed"===b)t[v].detailedAnswer=n;else if("modal"===b)t[v].modalAnswer=n;else if("keywords"===b){const e=n.split(",").map((e=>e.trim())).filter((e=>e)).join(", ");t[v].metadata.keywords=e}c(t),Gp.success(("detailed"===b?"Detailed":"modal"===b?"Modal":"Keywords")+" generated successfully!")}},initialPrompt:(()=>{if(null===v||!b)return"";const e=l[v];if("keywords"===b)return`You are an expert educator. Please generate relevant keywords for the following question:\n\nQuestion: ${e.question}\n\nRequirements for the keywords:\n1. Generate 5-8 most relevant keywords\n2. Keywords should be:\n   - Specific to the question topic\n   - Important for understanding the concept\n   - Commonly used in the subject area\n   - Relevant for search and categorization\n\nFormat:\n- Return only the keywords\n- Separate keywords with commas\n- Do not include any additional text or explanation\n- Do not number the keywords\n\nExample format:\nkeyword1, keyword2, keyword3, keyword4, keyword5`;if("modal"===b){const t=e.metadata,n=t.qualityParameters,r=[];return n.intro&&r.push("- Include a clear introduction"),n.body.enabled&&(r.push("- Include a well-structured body"),n.body.features&&r.push("  * Highlight key features"),n.body.examples&&r.push("  * Include relevant examples"),n.body.facts&&r.push("  * Include important facts"),n.body.diagram&&r.push("  * Include diagram descriptions")),n.conclusion&&r.push("- End with a concise conclusion"),`You are an expert educator. Please provide a modal answer for the following question:\n\nQuestion: ${e.question}\n\nDetailed Answer Reference (for context only):\n${e.detailedAnswer}\n\nMetadata:\n- Difficulty Level: ${t.difficultyLevel}\n- Estimated Time: ${t.estimatedTime} minutes\n- Maximum Marks: ${t.maximumMarks}\n- Keywords: ${t.keywords}\n\nQuality Parameters Requirements (Mandatory Format):\n${r.join("\n")}\n\nRequirements for the modal answer:\n1. Structure (Must follow the quality parameters above):\n   - Follow the exact structure specified in quality parameters\n   - Each section should be clearly defined\n   - Maintain logical flow between sections\n   - Ensure all required sections are included\n\n2. Content:\n   - Use clear and professional language\n   - Include relevant examples or analogies\n   - Ensure accuracy and completeness\n   - Make it easy to understand\n   - Focus on key points and essential information\n\n3. Format:\n   - Use proper paragraphs\n   - Include bullet points where appropriate\n   - Maintain a logical flow\n   - Follow the quality parameters structure exactly\n\nRemember to:\n- Be precise and accurate\n- Use appropriate terminology\n- Make it engaging and easy to follow\n- Ensure the answer directly addresses the question\n- Follow the quality parameters structure strictly\n- The detailed answer is only for reference, create a new concise version\n- Focus on clarity and understanding`}return`You are an expert educator. Please provide a detailed answer for the following question:\n\nQuestion: ${e.question}\n\nRequirements for the answer:\n1. Structure:\n   - Start with a clear introduction\n   - Break down the answer into logical sections\n   - Include relevant examples and explanations\n   - End with a concise conclusion\n\n2. Content:\n   - Use clear and professional language\n   - Include relevant examples or analogies\n   - Ensure accuracy and completeness\n   - Make it easy to understand\n\n3. Format:\n   - Use proper paragraphs\n   - Include bullet points where appropriate\n   - Maintain a logical flow\n\nPlease provide a comprehensive answer that thoroughly explains the concept and includes multiple examples.\n\nRemember to:\n- Be precise and accurate\n- Use appropriate terminology\n- Make it engaging and easy to follow\n- Ensure the answer directly addresses the question`})(),title:`Generate ${"detailed"===b?"Detailed":"modal"===b?"Modal":"Keywords"} Answer`})]})})},ak=e=>{let{initialContent:n,onSave:r,readOnly:s}=e;const i=(0,t.useRef)(null),[a,o]=(0,t.useState)(n||""),[l,c]=(0,t.useState)(!s);(0,t.useEffect)((()=>{o(n||"")}),[n]);return s&&!l?(0,ht.jsx)("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:a}}):(0,ht.jsxs)("div",{className:"border rounded-md overflow-hidden",children:[(0,ht.jsxs)("div",{className:"bg-gray-100 p-2 border-b flex justify-between items-center",children:[(0,ht.jsx)("div",{className:"text-sm font-medium text-gray-700",children:"Editor"}),!s&&(0,ht.jsxs)("button",{onClick:()=>{r(a),c(!1)},className:"flex items-center px-3 py-1 bg-indigo-600 text-white rounded hover:bg-indigo-700 transition-colors text-sm",children:[(0,ht.jsx)(Xs,{size:14,className:"mr-1"}),(0,ht.jsx)("span",{children:"Save"})]})]}),(0,ht.jsx)("textarea",{ref:i,value:a,onChange:e=>o(e.target.value),className:"w-full p-4 min-h-[400px] font-mono text-sm focus:outline-none",placeholder:"Enter HTML content here..."})]})},ok=e=>{let{subtopic:t,onClick:n,onQRCodeClick:r}=e;return(0,ht.jsx)("div",{className:"bg-white p-5 rounded-lg shadow-sm hover:shadow-md transition-all duration-300 border border-gray-100",children:(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsxs)("div",{onClick:n,className:"flex-grow flex items-center cursor-pointer",children:[(0,ht.jsx)("div",{className:"p-3 bg-blue-100 rounded-full mr-4 flex-shrink-0",children:(0,ht.jsx)(Dt,{size:22,className:"text-blue-600"})}),(0,ht.jsxs)("div",{className:"flex-grow",children:[(0,ht.jsx)("h3",{className:"font-medium text-gray-800",children:t.title}),(0,ht.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:t.description||"No description"})]}),(0,ht.jsxs)("div",{className:"flex items-center text-blue-600",children:[(0,ht.jsx)("span",{className:"mr-1 text-sm font-medium hidden md:block",children:"View"}),(0,ht.jsx)(jt,{size:18})]})]}),(0,ht.jsx)("button",{onClick:e=>{e.stopPropagation(),r(t._id)},className:"ml-4 p-2 text-amber-600 hover:text-amber-800 hover:bg-amber-50 rounded-full transition-colors",title:"Show QR Code",children:(0,ht.jsx)(um,{size:18})})]})})},lk=e=>{let{isOpen:n,onClose:r,bookId:s,workbookId:i,chapterId:a,topicId:o,onAdd:l}=e;const[c,d]=(0,t.useState)(""),[u,h]=(0,t.useState)(""),[p,m]=(0,t.useState)(""),[f,g]=(0,t.useState)(""),[x,b]=(0,t.useState)(!1),[y,v]=(0,t.useState)(""),w=window.location.pathname.includes("/ai-workbook/");if(!n)return null;return(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ht.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6",children:[(0,ht.jsx)("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Add New Sub-Topic"}),y&&(0,ht.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md text-red-700",children:y}),(0,ht.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),b(!0);try{const e=ut.get("usertoken");if(!e)return Gp.error("Authentication required"),void r();const t=w?`https://aipbbackend.onrender.com/api/workbooks/${i}/chapters/${a}/topics/${o}/subtopics`:`https://aipbbackend.onrender.com/api/books/${s}/chapters/${a}/topics/${o}/subtopics`,n=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({title:c,description:u,content:p,order:f?parseInt(f):void 0})});if(!n.ok){const e=await n.text();throw new Error(`Server returned ${n.status}: ${e}`)}const d=await n.json();d.success?(Gp.success("Sub-topic created successfully!"),l(d.subtopic),r()):(v(d.message||"Failed to create sub-topic"),Gp.error(d.message||"Failed to create sub-topic"))}catch(y){console.error("Error creating sub-topic:",y),v(y.message||"An error occurred while creating the sub-topic"),Gp.error(y.message||"An error occurred while creating the sub-topic")}finally{b(!1)}},children:[(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Title"}),(0,ht.jsx)("input",{type:"text",value:c,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Description"}),(0,ht.jsx)("textarea",{value:u,onChange:e=>h(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 h-24"})]}),(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Content"}),(0,ht.jsx)("textarea",{value:p,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 h-32"})]}),(0,ht.jsxs)("div",{className:"mb-6",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Order (optional)"}),(0,ht.jsx)("input",{type:"number",value:f,onChange:e=>g(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0"})]}),(0,ht.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ht.jsx)("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),(0,ht.jsx)("button",{type:"button",onClick:()=>{d(""),h(""),m(""),g(""),v("")},className:"px-4 py-2 text-amber-700 bg-amber-100 rounded-md hover:bg-amber-200 transition-colors",children:"Clear"}),(0,ht.jsx)("button",{type:"submit",disabled:x,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center justify-center",children:x?(0,ht.jsx)("div",{className:"animate-spin h-5 w-5 border-2 border-white border-t-transparent rounded-full"}):"Create Sub-Topic"})]})]})]})})},ck=e=>{let{isOpen:n,onClose:r,bookId:s,workbookId:i,chapterId:a,topic:o,onUpdate:l}=e;const[c,d]=(0,t.useState)((null===o||void 0===o?void 0:o.title)||""),[u,h]=(0,t.useState)((null===o||void 0===o?void 0:o.description)||""),[p,m]=(0,t.useState)(void 0!==(null===o||void 0===o?void 0:o.order)?o.order.toString():""),[f,g]=(0,t.useState)(!1),[x,b]=(0,t.useState)(""),y=window.location.pathname.includes("/ai-workbook/");if((0,t.useEffect)((()=>{o&&(d(o.title||""),h(o.description||""),m(void 0!==o.order?o.order.toString():""))}),[o]),!n||!o)return null;return(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ht.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6",children:[(0,ht.jsx)("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Edit Topic"}),x&&(0,ht.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md text-red-700",children:x}),(0,ht.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),g(!0),b("");try{const e=ut.get("usertoken");if(!e)return Gp.error("Authentication required"),void r();const t=y?`https://aipbbackend.onrender.com/api/workbooks/${i}/chapters/${a}/topics/${o._id}`:`https://aipbbackend.onrender.com/api/books/${s}/chapters/${a}/topics/${o._id}`,n=await fetch(t,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({title:c,description:u,order:p?parseInt(p):void 0})});if(!n.ok){const e=await n.text();throw new Error(`Server returned ${n.status}: ${e}`)}const d=await n.json();d.success?(Gp.success("Topic updated successfully!"),l(d.topic),r()):(b(d.message||"Failed to update topic"),Gp.error(d.message||"Failed to update topic"))}catch(x){console.error("Error updating topic:",x),b(x.message||"An error occurred while updating the topic"),Gp.error(x.message||"An error occurred while updating the topic")}finally{g(!1)}},children:[(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Title"}),(0,ht.jsx)("input",{type:"text",value:c,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0})]}),(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Description"}),(0,ht.jsx)("textarea",{value:u,onChange:e=>h(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 h-32"})]}),(0,ht.jsxs)("div",{className:"mb-6",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Order (optional)"}),(0,ht.jsx)("input",{type:"number",value:p,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",min:"0"})]}),(0,ht.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ht.jsx)("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),(0,ht.jsx)("button",{type:"submit",disabled:f,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors flex items-center justify-center",children:f?(0,ht.jsx)("div",{className:"animate-spin h-5 w-5 border-2 border-white border-t-transparent rounded-full"}):"Update Topic"})]})]})]})})},dk=e=>{let{isOpen:t,onClose:n,onConfirm:r,title:s,message:i}=e;return t?(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ht.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6",children:[(0,ht.jsx)("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:s}),(0,ht.jsx)("p",{className:"text-gray-600 mb-6",children:i}),(0,ht.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ht.jsx)("button",{onClick:n,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),(0,ht.jsx)("button",{onClick:r,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:"Delete"})]})]})}):null},uk=()=>{var e;const[n,r]=(0,t.useState)(null),[s,i]=(0,t.useState)([]),[a,o]=(0,t.useState)(!0),[l,c]=(0,t.useState)(null),[d,u]=(0,t.useState)(!1),[h,p]=(0,t.useState)(!1),[m,f]=(0,t.useState)(!1),[g,x]=(0,t.useState)(!1),{bookId:b,workbookId:y,chapterId:v,topicId:w}=te(),j=$(),[k,N]=(0,t.useState)(!1),[S,C]=(0,t.useState)(!1),[A,T]=(0,t.useState)(null),[E,P]=(0,t.useState)(!1),F=window.location.pathname.includes("/ai-workbook/"),R=F?y:b;(0,t.useEffect)((()=>{(async()=>{o(!0);try{const e=ut.get("usertoken");if(!e)return c("Authentication required"),void j("/login");const t=F?`https://aipbbackend.onrender.com/api/workbooks/${y}/chapters/${v}`:`https://aipbbackend.onrender.com/api/books/${b}/chapters/${v}`,n=`${t}/topics/${w}`,s=`${t}/topics/${w}/subtopics`,a=fetch(n,{headers:{Authorization:`Bearer ${e}`}}),o=fetch(s,{headers:{Authorization:`Bearer ${e}`}}),[l,d]=await Promise.all([a,o]);if(!l.ok){const e=await l.text();throw new Error(`Failed to fetch topic: ${l.status} - ${e}`)}const u=await l.json();if(!u.success)throw new Error(u.message||"Failed to fetch topic details");if(r(u.topic),d.ok){const e=await d.json();e.success?i(e.subtopics||[]):(console.warn("Subtopics request returned non-success:",e.message),i([]))}else console.warn(`Subtopics request failed with status: ${d.status}`),i([])}catch(l){console.error("Error fetching topic details:",l),c(l.message||"Failed to connect to the server")}finally{o(!1)}})()}),[b,y,v,w,j,F]);const D=()=>{f(!0)},M=()=>{j(F?`/ai-workbook/${y}/chapters/${v}`:`/ai-books/${b}/chapters/${v}`)},I=e=>{T(e),C(!0)};return a?(0,ht.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,ht.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-indigo-600"})}):l?(0,ht.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,ht.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start",children:[(0,ht.jsx)(gp,{className:"text-red-500 mr-3 flex-shrink-0 mt-0.5",size:20}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("h3",{className:"font-medium text-red-800",children:"Error"}),(0,ht.jsx)("p",{className:"text-red-700",children:l}),(0,ht.jsxs)("button",{onClick:M,className:"mt-3 text-red-600 hover:text-red-800 flex items-center",children:[(0,ht.jsx)(hm,{size:16,className:"mr-1"}),(0,ht.jsx)("span",{children:"Go back"})]})]})]})}):(0,ht.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,ht.jsx)(nm,{position:"top-right",autoClose:3e3}),(0,ht.jsx)("div",{className:"flex items-center mb-4",children:(0,ht.jsxs)("button",{onClick:M,className:"flex items-center text-indigo-600 hover:text-indigo-800 transition-colors",children:[(0,ht.jsx)(hm,{size:18,className:"mr-1"}),(0,ht.jsx)("span",{children:"Back to Chapter"})]})}),(0,ht.jsx)("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 p-6 mb-8",children:(0,ht.jsxs)("div",{className:"flex flex-col",children:[(0,ht.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:[(0,ht.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:null===n||void 0===n?void 0:n.title}),(0,ht.jsxs)("div",{className:"flex space-x-2 mt-2 sm:mt-0",children:[(0,ht.jsxs)("button",{onClick:()=>{u(!0)},className:"flex items-center px-3 py-1.5 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 transition-colors",children:[(0,ht.jsx)(tp,{size:16,className:"mr-1"}),(0,ht.jsx)("span",{children:"Edit"})]}),(0,ht.jsxs)("button",{onClick:()=>{p(!0)},className:"flex items-center px-3 py-1.5 bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors",children:[(0,ht.jsx)(qs,{size:16,className:"mr-1"}),(0,ht.jsx)("span",{children:"Delete"})]})]})]}),(0,ht.jsx)("p",{className:"text-gray-700 mb-4",children:(null===n||void 0===n?void 0:n.description)||"No description available"}),(0,ht.jsxs)("div",{className:"flex flex-wrap gap-3 mb-6",children:[(0,ht.jsxs)("button",{onClick:()=>{j(F?`/ai-workbook/${y}/chapters/${v}/topics/${w}/datastore`:`/ai-books/${b}/chapters/${v}/topics/${w}/datastore`)},className:"flex items-center px-4 py-2 bg-gray-800 text-white rounded-md hover:bg-gray-900 transition-colors shadow-sm",children:[(0,ht.jsx)(Mt,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Topic Datastore"})]}),(0,ht.jsxs)("button",{onClick:D,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors shadow-sm",children:[(0,ht.jsx)(zs,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Add Sub-Topic"})]}),(0,ht.jsxs)("button",{onClick:()=>{if(!R||!v||!w)return void Gp.error("Invalid IDs. Cannot start chat.");j(`/chat/${R}?type=${F?"workbook-topic":"topic"}&chapterId=${v}&topicId=${w}&title=${encodeURIComponent((null===n||void 0===n?void 0:n.title)||"")}`)},className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors shadow-sm",children:[(0,ht.jsx)(It,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Chat with Topic"})]}),(0,ht.jsxs)("button",{className:"flex items-center px-4 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 transition-colors shadow-sm",onClick:()=>N(!0),children:[(0,ht.jsx)(um,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Topic QR"})]}),(0,ht.jsxs)("button",{className:"flex items-center px-4 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 transition-colors shadow-sm",onClick:()=>{R&&v&&w?j(F?`/ai-workbook/${y}/chapters/${v}/topics/${w}/assets`:`/ai-books/${b}/chapters/${v}/topics/${w}/assets`):Gp.error("Invalid IDs. Cannot access assets.")},children:[(0,ht.jsx)(Mt,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Topic Assets"})]}),(0,ht.jsxs)("button",{className:"flex items-center px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors shadow-sm",onClick:()=>{R&&v&&w?j(F?`/ai-workbook/${y}/chapters/${v}/topics/${w}/aiswb`:`/ai-books/${b}/chapters/${v}/topics/${w}/aiswb`):Gp.error("Invalid IDs. Cannot access AISWB.")},children:[(0,ht.jsx)(zs,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Add AISWB"})]})]}),(0,ht.jsxs)("div",{className:"mb-8",children:[(0,ht.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Content"}),(0,ht.jsx)(ak,{initialContent:null===n||void 0===n?void 0:n.content,onSave:async e=>{try{const t=ut.get("usertoken");if(!t)return void Gp.error("Authentication required");const n=F?`https://aipbbackend.onrender.com/api/workbooks/${y}/chapters/${v}/topics/${w}`:`https://aipbbackend.onrender.com/api/books/${b}/chapters/${v}/topics/${w}`,s=await fetch(n,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({content:e})}),i=await s.json();i.success?(Gp.success("Content saved successfully!"),r(i.topic)):Gp.error(i.message||"Failed to save content")}catch(l){console.error("Error saving content:",l),Gp.error("An error occurred while saving the content")}},readOnly:!g})]})]})}),(0,ht.jsxs)("div",{className:"mb-6",children:[(0,ht.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Sub-Topics"}),0===s.length?(0,ht.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-8 text-center",children:[(0,ht.jsx)(Dt,{size:64,className:"mx-auto text-gray-400 mb-4"}),(0,ht.jsx)("h3",{className:"text-xl font-medium text-gray-800 mb-2",children:"No sub-topics yet"}),(0,ht.jsx)("p",{className:"text-gray-600 mb-6",children:"Add your first sub-topic to expand your content"}),(0,ht.jsxs)("button",{onClick:D,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[(0,ht.jsx)(zs,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Add Sub-Topic"})]})]}):(0,ht.jsx)("div",{className:"grid grid-cols-1 gap-4",children:s.sort(((e,t)=>(e.order||0)-(t.order||0))).map((e=>(0,ht.jsx)(ok,{subtopic:e,onClick:()=>{return t=e._id,void j(F?`/ai-workbook/${y}/chapters/${v}/topics/${w}/subtopics/${t}`:`/ai-books/${b}/chapters/${v}/topics/${w}/subtopics/${t}`);var t},onQRCodeClick:I},e._id)))})]}),(0,ht.jsx)(ck,{isOpen:d,onClose:()=>u(!1),bookId:b,workbookId:y,chapterId:v,topic:n,onUpdate:e=>{r(e)}}),(0,ht.jsx)(dk,{isOpen:h,onClose:()=>p(!1),onConfirm:async()=>{try{const e=ut.get("usertoken");if(!e)return Gp.error("Authentication required"),void p(!1);const t=F?`https://aipbbackend.onrender.com/api/workbooks/${y}/chapters/${v}/topics/${w}`:`https://aipbbackend.onrender.com/api/books/${b}/chapters/${v}/topics/${w}`,n=await fetch(t,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}}),r=await n.json();r.success?(Gp.success("Topic deleted successfully!"),j(F?`/ai-workbook/${y}/chapters/${v}`:`/ai-books/${b}/chapters/${v}`)):Gp.error(r.message||"Failed to delete topic")}catch(l){console.error("Error deleting topic:",l),Gp.error("An error occurred while deleting the topic")}finally{p(!1)}},title:"Delete Topic",message:"Are you sure you want to delete this topic? All content will be permanently removed."}),(0,ht.jsx)(lk,{isOpen:m,onClose:()=>f(!1),bookId:b,workbookId:y,chapterId:v,topicId:w,onAdd:e=>{i([...s,e])}}),(0,ht.jsx)(Qj,{isOpen:k,onClose:()=>N(!1),bookId:b,workbookId:y,chapterId:v,topicId:w,topicTitle:null===n||void 0===n?void 0:n.title}),(0,ht.jsx)(nk,{isOpen:S,onClose:()=>C(!1),bookId:b,workbookId:y,chapterId:v,topicId:w,subtopicId:A,subtopicTitle:null===(e=s.find((e=>e._id===A)))||void 0===e?void 0:e.title})]})},hk=e=>{let{initialContent:n,onSave:r,readOnly:s}=e;const i=(0,t.useRef)(null),[a,o]=(0,t.useState)(n||""),[l,c]=(0,t.useState)(!s);(0,t.useEffect)((()=>{o(n||"")}),[n]);return s&&!l?(0,ht.jsx)("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:a}}):(0,ht.jsxs)("div",{className:"border rounded-md overflow-hidden",children:[(0,ht.jsxs)("div",{className:"bg-gray-100 p-2 border-b flex justify-between items-center",children:[(0,ht.jsx)("div",{className:"text-sm font-medium text-gray-700",children:"Editor"}),!s&&(0,ht.jsxs)("button",{onClick:()=>{r(a),c(!1)},className:"flex items-center px-3 py-1 bg-indigo-600 text-white rounded hover:bg-indigo-700 transition-colors text-sm",children:[(0,ht.jsx)(Xs,{size:14,className:"mr-1"}),(0,ht.jsx)("span",{children:"Save"})]})]}),(0,ht.jsx)("textarea",{ref:i,value:a,onChange:e=>o(e.target.value),className:"w-full p-4 min-h-[400px] font-mono text-sm focus:outline-none",placeholder:"Enter HTML content here..."})]})},pk=e=>{let{isOpen:n,onClose:r,bookId:s,workbookId:i,chapterId:a,topicId:o,subtopic:l,onUpdate:c}=e;const[d,u]=(0,t.useState)((null===l||void 0===l?void 0:l.title)||""),[h,p]=(0,t.useState)((null===l||void 0===l?void 0:l.description)||""),[m,f]=(0,t.useState)(void 0!==(null===l||void 0===l?void 0:l.order)?l.order.toString():""),[g,x]=(0,t.useState)(!1),[b,y]=(0,t.useState)(""),v=window.location.pathname.includes("/ai-workbook/");if((0,t.useEffect)((()=>{l&&(u(l.title||""),p(l.description||""),f(void 0!==l.order?l.order.toString():""))}),[l]),!n||!l)return null;return(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ht.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6",children:[(0,ht.jsx)("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Edit Sub-Topic"}),b&&(0,ht.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md text-red-700",children:b}),(0,ht.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),x(!0),y("");try{const e=ut.get("usertoken");if(!e)return Gp.error("Authentication required"),void r();const t=v?`https://aipbbackend.onrender.com/api/workbooks/${i}/chapters/${a}/topics/${o}/subtopics/${l._id}`:`https://aipbbackend.onrender.com/api/books/${s}/chapters/${a}/topics/${o}/subtopics/${l._id}`,n=await fetch(t,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({title:d,description:h,order:m?parseInt(m):void 0})});if(!n.ok){const e=await n.text();throw new Error(`Server returned ${n.status}: ${e}`)}const u=await n.json();u.success?(Gp.success("Sub-topic updated successfully!"),c(u.subtopic),r()):(y(u.message||"Failed to update sub-topic"),Gp.error(u.message||"Failed to update sub-topic"))}catch(b){console.error("Error updating sub-topic:",b),y(b.message||"An error occurred while updating the sub-topic"),Gp.error(b.message||"An error occurred while updating the sub-topic")}finally{x(!1)}},children:[(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Title"}),(0,ht.jsx)("input",{type:"text",value:d,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0})]}),(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Description"}),(0,ht.jsx)("textarea",{value:h,onChange:e=>p(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 h-32"})]}),(0,ht.jsxs)("div",{className:"mb-6",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Order (optional)"}),(0,ht.jsx)("input",{type:"number",value:m,onChange:e=>f(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",min:"0"})]}),(0,ht.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ht.jsx)("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),(0,ht.jsx)("button",{type:"submit",disabled:g,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors flex items-center justify-center",children:g?(0,ht.jsx)("div",{className:"animate-spin h-5 w-5 border-2 border-white border-t-transparent rounded-full"}):"Update Sub-Topic"})]})]})]})})},mk=e=>{let{isOpen:t,onClose:n,onConfirm:r,title:s,message:i}=e;return t?(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ht.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6",children:[(0,ht.jsx)("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:s}),(0,ht.jsx)("p",{className:"text-gray-600 mb-6",children:i}),(0,ht.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ht.jsx)("button",{onClick:n,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),(0,ht.jsx)("button",{onClick:r,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:"Delete"})]})]})}):null},fk=()=>{const[e,n]=(0,t.useState)(null),[r,s]=(0,t.useState)(!0),[i,a]=(0,t.useState)(null),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)(!1),{bookId:p,workbookId:m,chapterId:f,topicId:g,subtopicId:x}=te(),b=$(),[y,v]=(0,t.useState)(!1),w=window.location.pathname.includes("/ai-workbook/"),j=w?m:p;(0,t.useEffect)((()=>{(async()=>{s(!0);try{const e=ut.get("usertoken");if(!e)return a("Authentication required"),void b("/login");const t=w?`https://aipbbackend.onrender.com/api/workbooks/${m}/chapters/${f}/topics/${g}/subtopics/${x}`:`https://aipbbackend.onrender.com/api/books/${p}/chapters/${f}/topics/${g}/subtopics/${x}`,r=await fetch(t,{headers:{Authorization:`Bearer ${e}`}});if(!r.ok){const e=await r.text();throw new Error(`Failed to fetch subtopic: ${r.status} - ${e}`)}const s=await r.json();if(!s.success)throw new Error(s.message||"Failed to fetch sub-topic details");n(s.subtopic)}catch(i){console.error("Error fetching sub-topic details:",i),a(i.message||"Failed to connect to the server")}finally{s(!1)}})()}),[p,m,f,g,x,b,w]);const k=()=>{b(w?`/ai-workbook/${m}/chapters/${f}/topics/${g}`:`/ai-books/${p}/chapters/${f}/topics/${g}`)};return r?(0,ht.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,ht.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-indigo-600"})}):i?(0,ht.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,ht.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start",children:[(0,ht.jsx)(gp,{className:"text-red-500 mr-3 flex-shrink-0 mt-0.5",size:20}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("h3",{className:"font-medium text-red-800",children:"Error"}),(0,ht.jsx)("p",{className:"text-red-700",children:i}),(0,ht.jsxs)("button",{onClick:k,className:"mt-3 text-red-600 hover:text-red-800 flex items-center",children:[(0,ht.jsx)(hm,{size:16,className:"mr-1"}),(0,ht.jsx)("span",{children:"Go back"})]})]})]})}):(0,ht.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,ht.jsx)(nm,{position:"top-right",autoClose:3e3}),(0,ht.jsx)("div",{className:"flex items-center mb-4",children:(0,ht.jsxs)("button",{onClick:k,className:"flex items-center text-indigo-600 hover:text-indigo-800 transition-colors",children:[(0,ht.jsx)(hm,{size:18,className:"mr-1"}),(0,ht.jsx)("span",{children:"Back to Topic"})]})}),(0,ht.jsx)("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 p-6 mb-8",children:(0,ht.jsxs)("div",{className:"flex flex-col",children:[(0,ht.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4",children:[(0,ht.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:null===e||void 0===e?void 0:e.title}),(0,ht.jsxs)("div",{className:"flex space-x-2 mt-2 sm:mt-0",children:[(0,ht.jsxs)("button",{onClick:()=>{l(!0)},className:"flex items-center px-3 py-1.5 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 transition-colors",children:[(0,ht.jsx)(tp,{size:16,className:"mr-1"}),(0,ht.jsx)("span",{children:"Edit"})]}),(0,ht.jsxs)("button",{onClick:()=>{d(!0)},className:"flex items-center px-3 py-1.5 bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors",children:[(0,ht.jsx)(qs,{size:16,className:"mr-1"}),(0,ht.jsx)("span",{children:"Delete"})]})]})]}),(0,ht.jsx)("p",{className:"text-gray-700 mb-6",children:(null===e||void 0===e?void 0:e.description)||"No description available"}),(0,ht.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,ht.jsxs)("button",{onClick:()=>{b(w?`/ai-workbook/${m}/chapters/${f}/topics/${g}/subtopics/${x}/datastore`:`/ai-books/${p}/chapters/${f}/topics/${g}/subtopics/${x}/datastore`)},className:"flex items-center px-4 py-2 bg-gray-800 text-white rounded-md hover:bg-gray-900 transition-colors shadow-sm",children:[(0,ht.jsx)(Mt,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Sub-Topic Datastore"})]}),(0,ht.jsxs)("button",{onClick:()=>h(!u),className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors shadow-sm",children:[(0,ht.jsx)(tp,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:u?"Cancel Edit":"Edit Content"})]}),(0,ht.jsxs)("button",{onClick:()=>{if(!j||!f||!g||!x)return void Gp.error("Invalid IDs. Cannot start chat.");b(`/chat/${j}?type=${w?"workbook-subtopic":"subtopic"}&chapterId=${f}&topicId=${g}&subtopicId=${x}&title=${encodeURIComponent((null===e||void 0===e?void 0:e.title)||"")}`)},className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors shadow-sm",children:[(0,ht.jsx)(It,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Chat with Sub-Topic"})]}),(0,ht.jsxs)("button",{onClick:()=>v(!0),className:"flex items-center px-4 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 transition-colors shadow-sm",children:[(0,ht.jsx)(um,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Sub Topic QR"})]})]})]})}),(0,ht.jsxs)("div",{className:"mb-6",children:[(0,ht.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Content"}),(0,ht.jsx)("div",{className:"bg-white p-6 rounded-lg shadow border border-gray-100",children:(0,ht.jsx)(hk,{initialContent:null===e||void 0===e?void 0:e.content,onSave:async e=>{try{const t=ut.get("usertoken");if(!t)return void Gp.error("Authentication required");const r=w?`https://aipbbackend.onrender.com/api/workbooks/${m}/chapters/${f}/topics/${g}/subtopics/${x}`:`https://aipbbackend.onrender.com/api/books/${p}/chapters/${f}/topics/${g}/subtopics/${x}`,s=await fetch(r,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({content:e})}),i=await s.json();i.success?(Gp.success("Content saved successfully!"),n(i.subtopic)):Gp.error(i.message||"Failed to save content")}catch(i){console.error("Error saving content:",i),Gp.error(i.message||"An error occurred while saving the content")}},readOnly:!u})})]}),(0,ht.jsx)(pk,{isOpen:o,onClose:()=>l(!1),bookId:p,workbookId:m,chapterId:f,topicId:g,subtopic:e,onUpdate:e=>{n(e)}}),(0,ht.jsx)(mk,{isOpen:c,onClose:()=>d(!1),onConfirm:async()=>{try{const e=ut.get("usertoken");if(!e)return Gp.error("Authentication required"),void d(!1);const t=w?`https://aipbbackend.onrender.com/api/workbooks/${m}/chapters/${f}/topics/${g}/subtopics/${x}`:`https://aipbbackend.onrender.com/api/books/${p}/chapters/${f}/topics/${g}/subtopics/${x}`,n=await fetch(t,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}}),r=await n.json();r.success?(Gp.success("Sub-topic deleted successfully!"),b(w?`/ai-workbook/${m}/chapters/${f}/topics/${g}`:`/ai-books/${p}/chapters/${f}/topics/${g}`)):Gp.error(r.message||"Failed to delete sub-topic")}catch(i){console.error("Error deleting sub-topic:",i),Gp.error(i.message||"An error occurred while deleting the sub-topic")}finally{d(!1)}},title:"Delete Sub-Topic",message:"Are you sure you want to delete this sub-topic? All content will be permanently removed."}),(0,ht.jsx)(nk,{isOpen:y,onClose:()=>v(!1),bookId:p,chapterId:f,topicId:g,subtopicId:x,subtopicTitle:null===e||void 0===e?void 0:e.title})]})},gk=(0,t.memo)((e=>{let{initialData:n,onRemove:r,canRemove:s,index:i,onQuestionChange:a,fixedDifficulty:o}=e;const[l,c]=(0,t.useState)({question:n.question||"",answer:n.answer||"",keywords:n.keywords||"",difficulty:o||n.difficulty||"L1"});(0,t.useEffect)((()=>{c({question:n.question||"",answer:n.answer||"",keywords:n.keywords||"",difficulty:o||n.difficulty||"L1"})}),[n,o]);const d=(e,t)=>{c((n=>({...n,[e]:t})))},u=()=>{a&&a(i,l)};return(0,ht.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg mb-4 border border-gray-200",children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,ht.jsxs)("h3",{className:"text-md font-semibold text-gray-700",children:["Question ",i+1]}),s&&(0,ht.jsxs)("button",{type:"button",onClick:r,className:"text-red-500 hover:text-red-700 flex items-center text-sm",children:[(0,ht.jsx)(Ls,{size:16,className:"mr-1"}),(0,ht.jsx)("span",{children:"Remove"})]})]}),(0,ht.jsxs)("div",{className:"mb-3",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Question"}),(0,ht.jsx)("textarea",{value:l.question,onChange:e=>d("question",e.target.value),onBlur:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 h-24",placeholder:"Enter your question...",required:!0})]}),(0,ht.jsxs)("div",{className:"mb-3",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Answer"}),(0,ht.jsx)("textarea",{value:l.answer,onChange:e=>d("answer",e.target.value),onBlur:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 h-32",placeholder:"Enter the answer..."})]}),(0,ht.jsxs)("div",{className:"mb-3",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Keywords (comma-separated)"}),(0,ht.jsx)("input",{type:"text",value:l.keywords,onChange:e=>d("keywords",e.target.value),onBlur:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"keyword1, keyword2, keyword3"})]}),(0,ht.jsxs)("div",{className:"mb-2",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Level (Fixed)"}),(0,ht.jsx)("div",{className:"px-3 py-2 border border-gray-200 bg-gray-50 rounded-md text-gray-700",children:(e=>{switch(e){case"L1":return"L1 - Beginner";case"L2":return"L2 - Intermediate";case"L3":return"L3 - Advanced";default:return e}})(o)}),(0,ht.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Level is determined by the set you're adding questions to."})]})]})})),xk=e=>{let{isOpen:n,onClose:r,onSubmit:s,initialQuestion:i=null,currentSet:a=null}=e;const[o,l]=(0,t.useState)([]),[c,d]=(0,t.useState)(!1),u=()=>a?a.level:"L1";(0,t.useEffect)((()=>{n&&l(i?[{id:i._id||`q-${Date.now()}`,question:i.question||"",answer:i.answer||"",keywords:i.keywords||"",difficulty:u()}]:[{id:`q-${Date.now()}`,question:"",answer:"",keywords:"",difficulty:u()}])}),[n,i,a]);const h=(e,t)=>{l((n=>{const r=[...n];return r[e]={...n[e],...t,id:n[e].id,difficulty:u()},r}))};return n?(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ht.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-2xl p-6",children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,ht.jsxs)("div",{children:[(0,ht.jsxs)("h2",{className:"text-xl font-bold text-gray-800",children:[i?"Edit Question":"Add Questions",a&&` to "${a.name}"`]}),a&&(0,ht.jsxs)("p",{className:"text-sm text-gray-600",children:["Level:"," ","L1"===a.level?"Beginner":"L2"===a.level?"Intermediate":"Advanced"]})]}),(0,ht.jsx)("button",{onClick:r,className:"text-gray-500 hover:text-gray-700",children:(0,ht.jsx)(Ls,{size:20})})]}),(0,ht.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),d(!0);const t=o.filter((e=>e.question&&""!==e.question.trim()));if(0===t.length)return Gp.error("At least one question is required"),void d(!1);try{const e=ut.get("usertoken");if(i){const n=await Ps.put(`https://aipbbackend.onrender.com/api/subjective-assets/questions/${i._id}`,{question:t[0].question,answer:t[0].answer,keywords:t[0].keywords,difficulty:t[0].difficulty},{headers:{Authorization:`Bearer ${e}`}});Gp.success("Question updated successfully"),s(n.data,a)}else{const n=await Ps.post(`https://aipbbackend.onrender.com/api/subjective-assets/question-sets/${a._id}/questions`,{questions:t.map((e=>({question:e.question,answer:e.answer,keywords:e.keywords,difficulty:e.difficulty})))},{headers:{Authorization:`Bearer ${e}`}});Gp.success(`${t.length} question(s) added successfully`),s(n.data,a)}r()}catch(hf){var n,l;console.error("Error submitting questions:",hf),Gp.error((null===(n=hf.response)||void 0===n||null===(l=n.data)||void 0===l?void 0:l.message)||"Failed to submit questions")}finally{d(!1)}},className:"max-h-[70vh] overflow-y-auto",children:[o.map(((e,t)=>(0,ht.jsx)(gk,{initialData:e,canRemove:o.length>1&&!i,onRemove:()=>(e=>{o.length<=1||l((t=>t.filter(((t,n)=>n!==e))))})(t),index:t,onQuestionChange:h,fixedDifficulty:u()},e.id))),!i&&(0,ht.jsx)("div",{className:"mb-4",children:(0,ht.jsxs)("button",{type:"button",onClick:()=>{l((e=>[...e,{id:`q-${Date.now()}-${e.length}`,question:"",answer:"",keywords:"",difficulty:u()}]))},className:"w-full py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors flex items-center justify-center",children:[(0,ht.jsx)(zs,{size:18,className:"mr-1"}),(0,ht.jsx)("span",{children:"Add More Questions"})]})}),(0,ht.jsxs)("div",{className:"flex justify-end space-x-3 mt-4",children:[(0,ht.jsx)("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",disabled:c,children:"Cancel"}),(0,ht.jsx)("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:c,children:c?(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),(0,ht.jsx)("span",{children:i?"Updating...":"Submitting..."})]}):i?"Update Question":"Add Questions"})]})]})]})}):null},bk=(0,t.memo)((e=>{let{initialData:n,onRemove:r,canRemove:s,index:i,onQuestionChange:a,fixedDifficulty:o}=e;const[l,c]=(0,t.useState)({question:n.question||"",options:n.options||["","","",""],correctAnswer:void 0!==n.correctAnswer?n.correctAnswer:0,difficulty:o||n.difficulty||"L1"});(0,t.useEffect)((()=>{c({question:n.question||"",options:n.options||["","","",""],correctAnswer:void 0!==n.correctAnswer?n.correctAnswer:0,difficulty:o||n.difficulty||"L1"})}),[n,o]);const d=()=>{a&&a(i,l)};return(0,ht.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg mb-4 border border-gray-200",children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,ht.jsxs)("h3",{className:"text-md font-semibold text-gray-700",children:["Question ",i+1]}),s&&(0,ht.jsxs)("button",{type:"button",onClick:r,className:"text-red-500 hover:text-red-700 flex items-center text-sm",children:[(0,ht.jsx)(Ls,{size:16,className:"mr-1"}),(0,ht.jsx)("span",{children:"Remove"})]})]}),(0,ht.jsxs)("div",{className:"mb-3",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Question"}),(0,ht.jsx)("textarea",{value:l.question,onChange:e=>((e,t)=>{const n={...l,[e]:t};c(n),a&&a(i,n)})("question",e.target.value),onBlur:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 h-24",placeholder:"Enter your question...",required:!0})]}),(0,ht.jsxs)("div",{className:"mb-3",children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium",children:"Options"}),(0,ht.jsxs)("button",{type:"button",onClick:()=>{const e=[...l.options,""],t={...l,options:e};c(t),a&&a(i,t)},className:"text-xs text-indigo-600 hover:text-indigo-800 flex items-center",children:[(0,ht.jsx)("span",{className:"mr-1",children:"+"}),(0,ht.jsx)("span",{children:"Add Option"})]})]}),l.options.map(((e,t)=>(0,ht.jsxs)("div",{className:"flex items-center mb-2",children:[(0,ht.jsxs)("div",{className:"flex-grow flex items-center",children:[(0,ht.jsx)("span",{className:"inline-flex items-center justify-center h-6 w-6 rounded-full bg-gray-200 mr-2 text-xs",children:String.fromCharCode(65+t)}),(0,ht.jsx)("input",{type:"text",value:e,onChange:e=>((e,t)=>{const n=[...l.options];n[e]=t;const r={...l,options:n};c(r),a&&a(i,r)})(t,e.target.value),onBlur:d,className:"flex-grow px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:`Option ${String.fromCharCode(65+t)}`,required:t<2})]}),(0,ht.jsxs)("div",{className:"ml-2 flex items-center",children:[(0,ht.jsx)("input",{type:"radio",name:`correctAnswer-${i}`,checked:l.correctAnswer===t,onChange:()=>(e=>{const t={...l,correctAnswer:e};c(t),a&&a(i,t)})(t),className:"mr-1"}),t>1&&l.options.length>2&&(0,ht.jsx)("button",{type:"button",onClick:()=>(e=>{if(l.options.length<=2)return;const t=[...l.options];t.splice(e,1);let n=l.correctAnswer;n===e?n=0:n>e&&(n-=1);const r={...l,options:t,correctAnswer:n};c(r),a&&a(i,r)})(t),className:"ml-2 text-red-500 hover:text-red-700",children:(0,ht.jsx)(Ls,{size:14})})]})]},t))),(0,ht.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Select the radio button next to the correct answer"})]}),(0,ht.jsxs)("div",{className:"mb-2",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Level (Fixed)"}),(0,ht.jsx)("div",{className:"px-3 py-2 border border-gray-200 bg-gray-50 rounded-md text-gray-700",children:(e=>{switch(e){case"L1":return"L1 - Beginner";case"L2":return"L2 - Intermediate";case"L3":return"L3 - Advanced";default:return e}})(o)}),(0,ht.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Level is determined by the set you're adding questions to."})]})]})})),yk=e=>{let{isOpen:n,onClose:r,onSubmit:s,initialQuestion:i=null,currentSet:a=null}=e;const[o,l]=(0,t.useState)([]),[c,d]=(0,t.useState)(!1),u=()=>a?a.level:"L1";(0,t.useEffect)((()=>{n&&l(i?[{id:i._id||`q-${Date.now()}`,question:i.question||"",options:i.options||["","","",""],correctAnswer:void 0!==i.correctAnswer?i.correctAnswer:0,difficulty:u()}]:[{id:`q-${Date.now()}`,question:"",options:["","","",""],correctAnswer:0,difficulty:u()}])}),[n,i]);const h=(e,t)=>{l((n=>{const r=[...n];return r[e]={...n[e],...t,id:n[e].id,difficulty:u()},r}))};return n?(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ht.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-2xl p-6",children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,ht.jsxs)("div",{children:[(0,ht.jsxs)("h2",{className:"text-xl font-bold text-gray-800",children:[i?"Edit Question":"Add Questions",a&&` to "${a.name}"`]}),a&&(0,ht.jsxs)("p",{className:"text-sm text-gray-600",children:["Level:"," ","L1"===a.level?"Beginner":"L2"===a.level?"Intermediate":"Advanced"]})]}),(0,ht.jsx)("button",{onClick:r,className:"text-gray-500 hover:text-gray-700",children:(0,ht.jsx)(Ls,{size:20})})]}),(0,ht.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),d(!0);const t=o.filter((e=>{if(!e.question||""===e.question.trim())return!1;return e.options.filter((e=>e&&""!==e.trim())).length>=2}));if(0===t.length)return Gp.error("At least one valid question with two options is required"),void d(!1);const n=t.map((e=>({...e,options:e.options.filter((e=>e&&""!==e.trim()))})));try{const e=ut.get("usertoken");if(i){const t=await Ps.put(`https://aipbbackend.onrender.com/api/objective-assets/questions/${i._id}`,{question:n[0].question,options:n[0].options,correctAnswer:n[0].correctAnswer,difficulty:n[0].difficulty},{headers:{Authorization:`Bearer ${e}`}});Gp.success("Question updated successfully"),s(t.data,a)}else{const t=await Ps.post(`https://aipbbackend.onrender.com/api/objective-assets/question-sets/${a._id}/questions`,{questions:n.map((e=>({question:e.question,options:e.options,correctAnswer:e.correctAnswer,difficulty:e.difficulty})))},{headers:{Authorization:`Bearer ${e}`}});Gp.success(`${n.length} question(s) added successfully`),s(t.data,a)}r()}catch(hf){var l,c;console.error("Error submitting questions:",hf),Gp.error((null===(l=hf.response)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.message)||"Failed to submit questions")}finally{d(!1)}},className:"max-h-[70vh] overflow-y-auto",children:[o.map(((e,t)=>(0,ht.jsx)(bk,{initialData:e,canRemove:o.length>1,onRemove:()=>(e=>{o.length<=1||l((t=>t.filter(((t,n)=>n!==e))))})(t),index:t,onQuestionChange:h,fixedDifficulty:u()},e.id))),!i&&(0,ht.jsx)("div",{className:"mb-4",children:(0,ht.jsxs)("button",{type:"button",onClick:()=>{l((e=>[...e,{id:`q-${Date.now()}-${e.length}`,question:"",options:["","","",""],correctAnswer:0,difficulty:u()}]))},className:"w-full py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors flex items-center justify-center",children:[(0,ht.jsx)(zs,{size:18,className:"mr-1"}),(0,ht.jsx)("span",{children:"Add More Questions"})]})}),(0,ht.jsxs)("div",{className:"flex justify-end space-x-3 mt-4",children:[(0,ht.jsx)("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",disabled:c,children:"Cancel"}),(0,ht.jsx)("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors disabled:opacity-50",disabled:c,children:c?(0,ht.jsxs)(ht.Fragment,{children:[(0,ht.jsx)("span",{className:"mr-2",children:"Submitting..."}),(0,ht.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"})]}):i?"Update Question":"Add Questions"})]})]})]})}):null},vk=e=>{let{showSummaryModal:n,setShowSummaryModal:r,summaryData:s,setSummaryData:i,summaries:a,setSummaries:o,itemType:l,isWorkbook:c,bookId:d,workbookId:u,chapterId:h,topicId:p,subtopicId:m}=e;const[f,g]=(0,t.useState)(s.content||"");if((0,t.useEffect)((()=>{n&&g(s.content||"")}),[n,s.content]),!n)return null;return(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ht.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6",children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,ht.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Add Summary"}),(0,ht.jsx)("button",{onClick:()=>r(!1),className:"text-gray-500 hover:text-gray-700",children:(0,ht.jsx)(Ls,{size:20})})]}),(0,ht.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),f.trim())try{const e=ut.get("usertoken");let t="";"book"===l?t=c?`https://aipbbackend.onrender.com/api/assets/${u}/summaries`:`https://aipbbackend.onrender.com/api/assets/${d}/summaries`:"chapter"===l?t=c?`https://aipbbackend.onrender.com/api/assets/${u}/chapters/${h}/summaries`:`https://aipbbackend.onrender.com/api/assets/${d}/chapters/${h}/summaries`:"topic"===l?t=c?`https://aipbbackend.onrender.com/api/assets/${u}/chapters/${h}/topics/${p}/summaries`:`https://aipbbackend.onrender.com/api/assets/${d}/chapters/${h}/topics/${p}/summaries`:"subtopic"===l&&(t=c?`https://aipbbackend.onrender.com/api/assets/${u}/chapters/${h}/topics/${p}/subtopics/${m}/summaries`:`https://aipbbackend.onrender.com/api/assets/${d}/chapters/${h}/topics/${p}/subtopics/${m}/summaries`);const n=await Ps.post(t,{content:f},{headers:{Authorization:`Bearer ${e}`}});o([...a,n.data]),g(""),r(!1),Gp.success("Summary added successfully")}catch(hf){console.error("Error adding summary:",hf),Gp.error("Failed to add summary")}else Gp.error("Summary content is required")},children:[(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Summary Content"}),(0,ht.jsx)("textarea",{value:f,onChange:e=>g(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 h-48",placeholder:"Enter a comprehensive summary...",required:!0})]}),(0,ht.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ht.jsx)("button",{type:"button",onClick:()=>r(!1),className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),(0,ht.jsx)("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors",children:"Add Summary"})]})]})]})})},wk=e=>{let{showVideoModal:n,setShowVideoModal:r,videoData:s,setVideoData:i,videos:a,setVideos:o,itemType:l,itemId:c,isWorkbook:d,bookId:u,workbookId:h,chapterId:p,topicId:m,subtopicId:f}=e;const[g,x]=(0,t.useState)({title:"",file:null,youtubeUrl:"",description:""}),[b,y]=(0,t.useState)(0),[v,w]=(0,t.useState)(!1),[j,k]=(0,t.useState)("file");(0,t.useEffect)((()=>{n&&(x({title:s.title||"",file:null,youtubeUrl:s.youtubeUrl||"",description:s.description||""}),y(0),w(!1),k("file"))}),[n,s]);return n?(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ht.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6 max-h-[90vh] overflow-y-auto",children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,ht.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Add Video"}),(0,ht.jsx)("button",{onClick:()=>r(!1),className:"text-gray-500 hover:text-gray-700",children:(0,ht.jsx)(Ls,{size:20})})]}),(0,ht.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!g.title.trim())return void Gp.error("Title is required");let t=null;if("file"===j){if(t=await(async()=>{if(!g.file)return Gp.error("Please select a video file"),null;const e=new FormData;e.append("file",g.file),e.append("upload_preset","post_blog"),e.append("resource_type","video");try{w(!0),y(0);const t=await Ps.post("https://api.cloudinary.com/v1_1/dsbuzlxpw/video/upload",e,{onUploadProgress:e=>{const t=Math.round(100*e.loaded/e.total);y(t)},headers:{"Content-Type":"multipart/form-data"}});return{url:t.data.secure_url,publicId:t.data.public_id,duration:t.data.duration||0,fileSize:t.data.bytes||0,format:t.data.format||"",thumbnailUrl:t.data.secure_url.replace(/\.[^/.]+$/,".jpg")}}catch(hf){return console.error("Error uploading to Cloudinary:",hf),Gp.error("Failed to upload video"),null}finally{w(!1)}})(),!t)return}else if("youtube"===j){if(!g.youtubeUrl.trim())return void Gp.error("YouTube URL is required");try{w(!0),t=await(async e=>{try{const t=`https://www.youtube.com/oembed?url=${encodeURIComponent(e)}&format=json`,n=await fetch(t);if(!n.ok)throw new Error("Invalid YouTube URL");const r=await n.json(),s=(e=>{const t=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);return t&&11===t[2].length?t[2]:null})(e);return{title:r.title,thumbnailUrl:r.thumbnail_url,duration:0,videoId:s,embedUrl:`https://www.youtube.com/embed/${s}`,originalUrl:e}}catch(hf){throw new Error("Failed to fetch YouTube video information")}})(g.youtubeUrl),g.title.trim()||x((e=>({...e,title:t.title})))}catch(hf){return Gp.error(hf.message||"Invalid YouTube URL"),void w(!1)}}try{const e=ut.get("usertoken"),n=`https://aipbbackend.onrender.com/api/video-assets/${l}/${c}/videos?isWorkbook=${d}`,s={title:g.title,description:g.description,videoType:j};"file"===j?(s.url=t.url,s.duration=t.duration,s.fileSize=t.fileSize,s.format=t.format,s.thumbnailUrl=t.thumbnailUrl,s.cloudinaryPublicId=t.publicId):"youtube"===j&&(s.url=t.originalUrl,s.youtubeVideoId=t.videoId,s.embedUrl=t.embedUrl,s.thumbnailUrl=t.thumbnailUrl,s.duration=t.duration);const u=await Ps.post(n,s,{headers:{Authorization:`Bearer ${e}`}}),h=u.data.video||{_id:u.data._id,title:g.title,url:"file"===j?t.url:t.originalUrl,description:g.description,duration:t.duration,fileSize:t.fileSize||0,format:t.format||"",videoType:j,youtubeVideoId:t.videoId||null,embedUrl:t.embedUrl||null,thumbnailUrl:t.thumbnailUrl||null,createdAt:(new Date).toISOString()};o([...a,h]),i({title:"",url:"",description:""}),r(!1),Gp.success("Video added successfully")}catch(hf){var n,s;console.error("Error saving video:",hf),Gp.error((null===(n=hf.response)||void 0===n||null===(s=n.data)||void 0===s?void 0:s.message)||"Failed to save video details")}finally{w(!1)}},children:[(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Video Source"}),(0,ht.jsxs)("div",{className:"flex space-x-4",children:[(0,ht.jsxs)("button",{type:"button",onClick:()=>k("file"),className:"flex items-center px-4 py-2 rounded-md border "+("file"===j?"bg-indigo-100 border-indigo-300 text-indigo-700":"bg-gray-50 border-gray-300 text-gray-700 hover:bg-gray-100"),children:[(0,ht.jsx)(_s,{size:16,className:"mr-2"}),"Upload File"]}),(0,ht.jsxs)("button",{type:"button",onClick:()=>k("youtube"),className:"flex items-center px-4 py-2 rounded-md border "+("youtube"===j?"bg-red-100 border-red-300 text-red-700":"bg-gray-50 border-gray-300 text-gray-700 hover:bg-gray-100"),children:[(0,ht.jsx)(Ds,{size:16,className:"mr-2"}),"YouTube URL"]})]})]}),(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Video Title"}),(0,ht.jsx)("input",{type:"text",value:g.title,onChange:e=>x({...g,title:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter video title...",required:!0})]}),"file"===j?(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Video File"}),(0,ht.jsx)("input",{type:"file",onChange:e=>{x({...g,file:e.target.files[0]})},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",accept:"video/*",required:!0}),g.file&&(0,ht.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Selected: ",g.file.name," (",(g.file.size/1048576).toFixed(2)," MB)"]}),v&&(0,ht.jsxs)("div",{className:"mt-2",children:[(0,ht.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:(0,ht.jsx)("div",{className:"bg-indigo-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${b}%`}})}),(0,ht.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Uploading: ",b,"%"]})]})]}):(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"YouTube URL"}),(0,ht.jsx)("input",{type:"url",value:g.youtubeUrl,onChange:e=>x({...g,youtubeUrl:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"https://www.youtube.com/watch?v=...",required:!0}),(0,ht.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Paste a YouTube video URL (supports youtube.com and youtu.be links)"})]}),(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Description (Optional)"}),(0,ht.jsx)("textarea",{value:g.description,onChange:e=>x({...g,description:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 h-20 resize-none",placeholder:"Enter a brief description...",maxLength:1e3}),(0,ht.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:[g.description.length,"/1000 characters"]})]}),(0,ht.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ht.jsx)("button",{type:"button",onClick:()=>r(!1),className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors disabled:opacity-50",disabled:v,children:"Cancel"}),(0,ht.jsx)("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:v,children:v?"file"===j?`Uploading... ${b}%`:"Processing...":"Add Video"})]})]})]})}):null},jk=e=>{let{showPYQModal:n,setShowPYQModal:r,pyqData:s,setPYQData:i,pyqs:a,setPYQs:o,itemType:l,itemId:c,isWorkbook:d,bookId:u,workbookId:h,chapterId:p,topicId:m,subtopicId:f}=e;const[g,x]=(0,t.useState)({year:(new Date).getFullYear().toString(),question:"",answer:"",difficulty:"medium",source:""});(0,t.useEffect)((()=>{n&&x({year:s.year||(new Date).getFullYear().toString(),question:s.question||"",answer:s.answer||"",difficulty:s.difficulty||"medium",source:s.source||""})}),[n,s]);return n?(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ht.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6",children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,ht.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Add Previous Year Question"}),(0,ht.jsx)("button",{onClick:()=>r(!1),className:"text-gray-500 hover:text-gray-700",children:(0,ht.jsx)(Ls,{size:20})})]}),(0,ht.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),g.question.trim())if(g.year.trim())try{const e=ut.get("usertoken"),t=`https://aipbbackend.onrender.com/api/pyq-assets/${l}/${c}/pyqs?isWorkbook=${d}`,n=await Ps.post(t,{year:g.year,question:g.question,answer:g.answer,difficulty:g.difficulty,source:g.source},{headers:{Authorization:`Bearer ${e}`}});o([...a,n.data.pyq]),i({year:(new Date).getFullYear().toString(),question:"",answer:"",difficulty:"medium",source:""}),r(!1),Gp.success("PYQ added successfully")}catch(hf){var t,n;console.error("Error adding PYQ:",hf);const r=(null===(t=hf.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to add PYQ";Gp.error(r)}else Gp.error("Year is required");else Gp.error("Question is required")},children:[(0,ht.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,ht.jsxs)("div",{children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Year*"}),(0,ht.jsx)("input",{type:"number",value:g.year,onChange:e=>x({...g,year:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"2023",min:"1900",max:(new Date).getFullYear()+1,required:!0})]}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Source/Exam (Optional)"}),(0,ht.jsx)("input",{type:"text",value:g.source,onChange:e=>x({...g,source:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"e.g. JEE, NEET, etc."})]})]}),(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Question*"}),(0,ht.jsx)("textarea",{value:g.question,onChange:e=>x({...g,question:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 h-24",placeholder:"Enter the question...",required:!0})]}),(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Answer (Optional)"}),(0,ht.jsx)("textarea",{value:g.answer,onChange:e=>x({...g,answer:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 h-24",placeholder:"Enter the answer..."})]}),(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Difficulty"}),(0,ht.jsxs)("select",{value:g.difficulty,onChange:e=>x({...g,difficulty:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[(0,ht.jsx)("option",{value:"easy",children:"Easy"}),(0,ht.jsx)("option",{value:"medium",children:"Medium"}),(0,ht.jsx)("option",{value:"hard",children:"Hard"})]})]}),(0,ht.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ht.jsx)("button",{type:"button",onClick:()=>r(!1),className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),(0,ht.jsx)("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors",children:"Add Question"})]})]})]})}):null},kk=e=>{let{showDeleteConfirmation:n,setShowDeleteConfirmation:r,deletingQuestion:s,setDeletingQuestion:i,deletingObjectiveQuestion:a,setDeletingObjectiveQuestion:o,handleDeleteQuestion:l,handleDeleteObjectiveQuestion:c}=e;const[d,u]=(0,t.useState)(!1);if(!n)return null;return(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ht.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6",children:[(0,ht.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Delete Question"}),(0,ht.jsx)("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this question? This action cannot be undone."}),(0,ht.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ht.jsx)("button",{onClick:()=>{i(null),o(null),r(!1)},disabled:d,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),(0,ht.jsx)("button",{onClick:()=>{u(!0),s?l():a&&c()},disabled:d,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors flex items-center "+(d?"opacity-70 cursor-not-allowed":""),children:d?(0,ht.jsxs)(ht.Fragment,{children:[(0,ht.jsx)("span",{className:"mr-2",children:"Deleting..."}),(0,ht.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"})]}):(0,ht.jsxs)(ht.Fragment,{children:[(0,ht.jsx)(qs,{size:16,className:"mr-2"}),"Delete"]})})]})]})})},Nk=e=>{let{showCreateSetModal:n,setShowCreateSetModal:r,activeLevelTab:s,subjectiveSets:i,setSubjectiveSets:a,itemType:o,isWorkbook:l,bookId:c,workbookId:d,chapterId:u,topicId:h,subtopicId:p}=e;const[m,f]=(0,t.useState)({name:"",description:"",level:s}),[g,x]=(0,t.useState)(!1);let b=l?d:c;p?b=p:h?b=h:u&&(b=u),(0,t.useEffect)((()=>{n&&f({name:"",description:"",level:s})}),[n,s]);return n?(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ht.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6",children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,ht.jsxs)("h2",{className:"text-xl font-bold text-gray-800",children:["Create"," ","L1"===m.level?"Beginner":"L2"===m.level?"Intermediate":"Advanced"," ","Question Set"]}),(0,ht.jsx)("button",{onClick:()=>r(!1),className:"text-gray-500 hover:text-gray-700",children:(0,ht.jsx)(Ls,{size:20})})]}),(0,ht.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),x(!0),!m.name.trim())return Gp.error("Set name is required"),void x(!1);try{const e=ut.get("usertoken"),t=`https://aipbbackend.onrender.com/api/subjective-assets/${o}/${b}/question-sets`,n=await Ps.post(t,{name:m.name,description:m.description,level:m.level,isWorkbook:l},{headers:{Authorization:`Bearer ${e}`},params:{isWorkbook:l}});a([...i,n.data.questionSet]),r(!1),Gp.success("Question set created successfully")}catch(hf){var t,n;console.error("Error creating question set:",hf),Gp.error((null===(t=hf.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to create question set")}finally{x(!1)}},children:[(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Set Name"}),(0,ht.jsx)("input",{type:"text",value:m.name,onChange:e=>f({...m,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter set name...",required:!0})]}),(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Description (Optional)"}),(0,ht.jsx)("textarea",{value:m.description,onChange:e=>f({...m,description:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 h-24",placeholder:"Enter set description..."})]}),(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Level (Fixed)"}),(0,ht.jsx)("div",{className:"px-3 py-2 border border-gray-200 bg-gray-50 rounded-md text-gray-700",children:"L1"===m.level?"L1 - Beginner":"L2"===m.level?"L2 - Intermediate":"L3 - Advanced"}),(0,ht.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Level is determined by the section you're creating this set in."})]}),(0,ht.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ht.jsx)("button",{type:"button",onClick:()=>r(!1),className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",disabled:g,children:"Cancel"}),(0,ht.jsx)("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:g,children:g?(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Creating..."]}):"Create Set"})]})]})]})}):null},Sk=e=>{let{showCreateObjectiveSetModal:n,setShowCreateObjectiveSetModal:r,activeObjectiveLevelTab:s,objectiveSets:i,setObjectiveSets:a,itemType:o,isWorkbook:l,bookId:c,workbookId:d,chapterId:u,topicId:h,subtopicId:p}=e;const[m,f]=(0,t.useState)({name:"",description:"",level:s}),[g,x]=(0,t.useState)(!1);(0,t.useEffect)((()=>{n&&f({name:"",description:"",level:s})}),[n,s]);return n?(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ht.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6",children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,ht.jsxs)("h2",{className:"text-xl font-bold text-gray-800",children:["Create"," ","L1"===m.level?"Beginner":"L2"===m.level?"Intermediate":"Advanced"," ","Objective Set"]}),(0,ht.jsx)("button",{onClick:()=>r(!1),className:"text-gray-500 hover:text-gray-700",children:(0,ht.jsx)(Ls,{size:20})})]}),(0,ht.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),x(!0),!m.name.trim())return Gp.error("Set name is required"),void x(!1);try{const e=ut.get("usertoken"),t=`https://aipbbackend.onrender.com/api/objective-assets/${o}/${p||h||u||(l?d:c)}/question-sets?isWorkbook=${l}`,n=await Ps.post(t,{name:m.name,description:m.description,level:m.level,type:"objective"},{headers:{Authorization:`Bearer ${e}`}});Array.isArray(i)?a([...i,n.data.questionSet]):a([n.data.questionSet]),r(!1),Gp.success("Objective question set created successfully")}catch(hf){var t,n;console.error("Error creating objective question set:",hf),Gp.error((null===(t=hf.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to create objective question set")}finally{x(!1)}},children:[(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Set Name"}),(0,ht.jsx)("input",{type:"text",value:m.name,onChange:e=>f({...m,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter set name...",required:!0})]}),(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Description (Optional)"}),(0,ht.jsx)("textarea",{value:m.description,onChange:e=>f({...m,description:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 h-24",placeholder:"Enter set description..."})]}),(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"Level (Fixed)"}),(0,ht.jsx)("div",{className:"px-3 py-2 border border-gray-200 bg-gray-50 rounded-md text-gray-700",children:"L1"===m.level?"L1 - Beginner":"L2"===m.level?"L2 - Intermediate":"L3 - Advanced"}),(0,ht.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Level is determined by the section you're creating this set in."})]}),(0,ht.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ht.jsx)("button",{type:"button",onClick:()=>r(!1),className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",disabled:g,children:"Cancel"}),(0,ht.jsx)("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors disabled:opacity-50",disabled:g,children:g?(0,ht.jsxs)(ht.Fragment,{children:[(0,ht.jsx)("span",{className:"mr-2",children:"Creating..."}),(0,ht.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin inline-block"})]}):"Create Set"})]})]})]})}):null},Ck=vt("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),Ak="AIzaSyCCWtRX--NYoiootIlwWgg28s7n2VCfzDo",Tk="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent",Ek=async function(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"gemini-2.0-flash",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;try{const o=`Generate educational content for ${e} "${t}". `,l="This content should be comprehensive and suitable for students. ";let c="";if("with"===r&&s.length>0){const e=s.map((e=>{let t=`Source: ${e.name}`;return e.description&&(t+=`\nDescription: ${e.description}`),e.fileType&&(t+=`\nType: ${e.fileType}`),t})).join("\n\n");c=`Use the following data sources to generate content:\n\n${e}\n\n`}const d='\n      Generate a comprehensive summary of the content. The summary should be well-structured, easy to understand, and capture all key points.\n      Format the response as JSON with the following structure:\n      {\n        "summary": "string"\n      }\n    ',u=`\n      Generate ${n.objective.L1.sets} sets of objective questions for L1-Beginner level,\n      ${n.objective.L2.sets} sets for L2-Intermediate level,\n      and ${n.objective.L3.sets} sets for L3-Advanced level.\n      Each set should contain ${n.objective.L1.questionsPerSet} questions.\n      Include multiple choice options and correct answers.\n      Format the response as JSON with the following structure:\n      {\n        "objective": {\n          "L1": [\n            {\n              "setName": "string",\n              "questions": [\n                {\n                  "question": "string",\n                  "options": ["string", "string", "string", "string"],\n                  "correctAnswer": number\n                }\n              ]\n            }\n          ],\n          "L2": [...],\n          "L3": [...]\n        }\n      }\n    `,h=`You are an educational content generator. Your task is to generate educational content in a specific JSON format. Do not include any text before or after the JSON response.\n\n${o}${l}${c}\n\nPlease generate the following content in JSON format:\n\n1. A summary:\n${d}\n\n2. Objective questions:\n${u}\n\n3. Subjective questions:\n${`\n      Generate ${n.subjective.L1.sets} sets of subjective questions for L1-Beginner level,\n      ${n.subjective.L2.sets} sets for L2-Intermediate level,\n      and ${n.subjective.L3.sets} sets for L3-Advanced level.\n      Each set should contain ${n.subjective.L1.questionsPerSet} questions.\n      Include detailed answers and keywords (comma-separated) to look for in student responses.\n      Format the response as JSON with the following structure:\n      {\n        "subjective": {\n          "L1": [\n            {\n              "setName": "string",\n              "questions": [\n                {\n                  "question": "string",\n                  "answer": "string",\n                  "keywords": "string"\n                }\n              ]\n            }\n          ],\n          "L2": [...],\n          "L3": [...]\n        }\n      }\n    `}\n\nIMPORTANT: Respond ONLY with the JSON object. Do not include any other text or explanations.`;console.log("Full prompt for Gemini:",h);const p=await fetch(`${Tk}?key=${Ak}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:h}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:8192},safetySettings:[{category:"HARM_CATEGORY_HARASSMENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_HATE_SPEECH",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_SEXUALLY_EXPLICIT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_DANGEROUS_CONTENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"}]})});if(!p.ok){const e=await p.json().catch((()=>null));throw console.error("Gemini API Error Response:",{status:p.status,statusText:p.statusText,errorData:e}),new Error(`Gemini API Error: ${p.status} ${p.statusText}${e?` - ${JSON.stringify(e)}`:""}`)}const m=await p.json();if(console.log("Gemini API Response:",m),!m.candidates||!m.candidates[0]||!m.candidates[0].content||!m.candidates[0].content.parts||!m.candidates[0].content.parts[0])throw console.error("Invalid response structure:",m),new Error("Invalid response structure from Gemini API");const f=m.candidates[0].content.parts[0].text,g=Pk(f);return g.isTruncated&&a<3?(console.log(`Response was truncated, retrying (attempt ${a+1})...`),Ek(e,t,n,r,s,i,a+1)):g}catch(hf){throw console.error("Error generating educational content:",{message:hf.message,stack:hf.stack,itemType:e,itemTitle:t,config:n,dataSourceType:r,selectedData:s,modelName:i,retryCount:a}),hf}},Pk=e=>{try{const t=e.indexOf("{"),n=e.lastIndexOf("}")+1;if(-1===t||0===n)throw new Error("No JSON object found in response");const r=e.slice(t,n),s=(r.match(/{/g)||[]).length,i=(r.match(/}/g)||[]).length,a=(r.match(/\[/g)||[]).length,o=(r.match(/\]/g)||[]).length;if(s!==i||a!==o)return console.error("Incomplete JSON response detected:",{openBraces:s,closeBraces:i,openBrackets:a,closeBrackets:o,content:r}),{isTruncated:!0,raw:{summary:"Response was truncated. Retrying...",objective:{L1:[],L2:[],L3:[]},subjective:{L1:[],L2:[],L3:[]}},formatted:"Response was truncated. Retrying..."};const l=JSON.parse(r);if(!l.objective||!l.subjective||!l.summary)throw console.error("Invalid content structure:",l),new Error("Invalid content structure");Object.values(l.subjective).forEach((e=>{e.forEach((e=>{e.questions.forEach((e=>{e.keyPoints&&(e.keywords=e.keyPoints.join(", "),delete e.keyPoints)}))}))}));const c=(e=>{try{let t="";return t+="\ud83d\udcdd SUMMARY\n",t+="-------------------\n",t+=e.summary+"\n\n",t+="\ud83c\udfaf OBJECTIVE QUESTIONS\n",t+="-------------------\n",Object.entries(e.objective).forEach((e=>{let[n,r]=e;t+=`\nLevel ${"L1"===n?"L1-Beginner":"L2"===n?"L2-Intermediate":"L3-Advanced"}:\n`,r.forEach(((e,n)=>{t+=`\nSet ${n+1}: ${e.setName}\n`,e.questions.forEach(((e,n)=>{t+=`\n${n+1}. ${e.question}\n`,e.options.forEach(((e,n)=>{t+=`   ${String.fromCharCode(65+n)}. ${e}\n`})),t+=`   Correct Answer: ${String.fromCharCode(65+e.correctAnswer)}\n`}))}))})),t+="\n\ud83d\udcdd SUBJECTIVE QUESTIONS\n",t+="-------------------\n",Object.entries(e.subjective).forEach((e=>{let[n,r]=e;t+=`\nLevel ${"L1"===n?"L1-Beginner":"L2"===n?"L2-Intermediate":"L3-Advanced"}:\n`,r.forEach(((e,n)=>{t+=`\nSet ${n+1}: ${e.setName}\n`,e.questions.forEach(((e,n)=>{t+=`\n${n+1}. ${e.question}\n`,t+=`   Answer: ${e.answer}\n`,t+=`   Keywords: ${e.keywords}\n`}))}))})),t}catch(hf){return console.error("Error formatting content:",hf),"Error formatting content. Please try again."}})(l);return{isTruncated:!1,raw:l,formatted:c}}catch(hf){return console.error("Error parsing generated content:",{error:hf,content:e}),{isTruncated:!1,raw:{summary:"Failed to generate summary due to parsing error",objective:{L1:[],L2:[],L3:[]},subjective:{L1:[],L2:[],L3:[]}},formatted:"Error generating content. Please try again."}}},Fk=e=>{let{isOpen:n,onClose:r,itemType:s,itemId:i,isWorkbook:a,bookId:o,workbookId:l,chapterId:c,topicId:d,subtopicId:u,item:h}=e;const[p,m]=(0,t.useState)(!1),[f,g]=(0,t.useState)([]),[x,b]=(0,t.useState)([]),[y,v]=(0,t.useState)(null),[w,j]=(0,t.useState)(null),[k,N]=(0,t.useState)(""),[S,C]=(0,t.useState)(!1),[A,T]=(0,t.useState)({objective:{L1:{sets:2,questionsPerSet:5,setNames:["Set 1","Set 2"]},L2:{sets:2,questionsPerSet:5,setNames:["Set 1","Set 2"]},L3:{sets:2,questionsPerSet:5,setNames:["Set 1","Set 2"]}},subjective:{L1:{sets:2,questionsPerSet:5,setNames:["Set 1","Set 2"]},L2:{sets:2,questionsPerSet:5,setNames:["Set 1","Set 2"]},L3:{sets:2,questionsPerSet:5,setNames:["Set 1","Set 2"]}}}),[E,P]=(0,t.useState)({total:0,current:0,status:""});(0,t.useEffect)((()=>{n&&(D(),R())}),[n,s,h]);const F=()=>"book"===s?"Book":"chapter"===s?"Chapter":"topic"===s?"Topic":"Sub-Topic",R=()=>{const e=(null===h||void 0===h?void 0:h.title)||F().toLowerCase(),t=`Generate educational content for ${F().toLowerCase()} "${e}". `;N(t+"This content should be comprehensive and suitable for students. ")},D=async()=>{try{const e=ut.get("usertoken");if(!e)return void Gp.error("Authentication required");const t={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"https://aipbbackend.onrender.com/api";let n="";if("book"===s?n=`${t}/datastores/book/${i}`:"chapter"===s?n=`${t}/datastores/chapter/${i}`:"topic"===s?n=`${t}/datastores/topic/${i}`:"subtopic"===s&&(n=`${t}/datastores/subtopic/${i}`),!n)return void Gp.error("Invalid item type");const r=await fetch(n,{headers:{Authorization:`Bearer ${e}`}});if(!r.ok){const e=await r.json().catch((()=>null));throw new Error((null===e||void 0===e?void 0:e.message)||"Failed to fetch data")}const a=await r.json();if(!a.success)throw new Error(a.message||"Failed to fetch data");g(a.items||[])}catch(hf){console.error("Error fetching available data:",hf),Gp.error(hf.message||"Failed to fetch available data")}},M=(e,t,n,r)=>{T((s=>{const i={...s,[e]:{...s[e],[t]:{...s[e][t],[n]:"sets"===n?parseInt(r)||0:r}}};if("sets"===n){const n=parseInt(r)||0,s=i[e][t].setNames||[],a=Array(n).fill("").map(((e,t)=>s[t]||`Set ${t+1}`));i[e][t].setNames=a}return i}))},I=(e,t,n,r)=>{T((s=>({...s,[e]:{...s[e],[t]:{...s[e][t],setNames:s[e][t].setNames.map(((e,t)=>t===n?r:e))}}})))};return n?(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ht.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-4xl p-6 max-h-[90vh] overflow-y-auto",children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ht.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Generate Assets"}),(0,ht.jsx)("button",{onClick:r,className:"text-gray-500 hover:text-gray-700",children:(0,ht.jsx)(Ls,{size:24})})]}),(0,ht.jsxs)("div",{className:"mb-8",children:[(0,ht.jsx)("h3",{className:"text-lg font-medium text-gray-700 mb-4",children:"Data Source"}),(0,ht.jsxs)("div",{className:"flex space-x-4",children:[(0,ht.jsx)("button",{className:"px-4 py-2 rounded-md "+("with"===w?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),onClick:()=>j("with"),children:"Generate with Data"}),(0,ht.jsx)("button",{className:"px-4 py-2 rounded-md "+("without"===w?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),onClick:()=>j("without"),children:"Generate without Data"})]}),"with"===w&&(0,ht.jsxs)("div",{className:"mt-4",children:[(0,ht.jsx)("h4",{className:"text-sm font-medium text-gray-600 mb-2",children:"Select Data Sources"}),(0,ht.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.map((e=>{var t;return(0,ht.jsx)("div",{className:"p-4 border rounded-lg cursor-pointer "+(x.includes(e._id)?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-indigo-300"),onClick:()=>{return t=e._id,void b((e=>e.includes(t)?e.filter((e=>e!==t)):[...e,t]));var t},children:(0,ht.jsxs)("div",{className:"flex items-start",children:[(0,ht.jsx)("div",{className:"w-5 h-5 rounded-full border flex items-center justify-center mr-3 mt-1 "+(x.includes(e._id)?"border-indigo-500 bg-indigo-500":"border-gray-300"),children:x.includes(e._id)&&(0,ht.jsx)(Vs,{size:14,className:"text-white"})}),(0,ht.jsxs)("div",{className:"flex-1",children:[(0,ht.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ht.jsx)("h5",{className:"font-medium text-gray-800",children:e.name}),(0,ht.jsx)("span",{className:"text-xs px-2 py-1 rounded-full bg-gray-100 text-gray-600",children:(null===(t=e.fileType.split("/")[1])||void 0===t?void 0:t.toUpperCase())||e.itemType})]}),e.description&&(0,ht.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description}),(0,ht.jsxs)("div",{className:"mt-2 flex items-center text-sm text-gray-500",children:[(0,ht.jsx)(Dt,{size:14,className:"mr-1"}),(0,ht.jsx)("span",{children:new Date(e.createdAt).toLocaleDateString()})]})]})]})},e._id)})),0===f.length&&(0,ht.jsx)("div",{className:"col-span-2 text-center py-8 bg-gray-50 rounded-lg",children:(0,ht.jsx)("p",{className:"text-gray-500",children:"No data sources available"})})]})]})]}),(0,ht.jsxs)("div",{className:"mb-8",children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,ht.jsx)("h3",{className:"text-lg font-medium text-gray-700",children:"System Prompt"}),(0,ht.jsxs)("button",{onClick:()=>C(!S),className:"text-indigo-600 hover:text-indigo-800 flex items-center",children:[(0,ht.jsx)(Ck,{size:18,className:"mr-1"}),S?"Done Editing":"Edit Prompt"]})]}),(0,ht.jsx)("div",{className:"border border-gray-200 rounded-lg p-4",children:S?(0,ht.jsx)("textarea",{value:k,onChange:e=>N(e.target.value),className:"w-full h-32 p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter system prompt..."}):(0,ht.jsx)("p",{className:"text-gray-800 whitespace-pre-wrap",children:k})})]}),(0,ht.jsxs)("div",{className:"mb-8",children:[(0,ht.jsx)("h3",{className:"text-lg font-medium text-gray-700 mb-4",children:"Generation Configuration"}),(0,ht.jsxs)("div",{className:"mb-6",children:[(0,ht.jsx)("h4",{className:"font-medium text-gray-800 mb-3",children:"Summary"}),(0,ht.jsx)("div",{className:"p-4 border border-gray-200 rounded-lg",children:(0,ht.jsx)("p",{className:"text-sm text-gray-600",children:"A comprehensive summary will be generated along with the questions."})})]}),(0,ht.jsxs)("div",{className:"mb-6",children:[(0,ht.jsx)("h4",{className:"font-medium text-gray-800 mb-3",children:"Objective Questions"}),(0,ht.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["L1","L2","L3"].map((e=>(0,ht.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg",children:[(0,ht.jsx)("h5",{className:"font-medium text-gray-700 mb-3",children:"L1"===e?"Beginner":"L2"===e?"Intermediate":"Advanced"}),(0,ht.jsxs)("div",{className:"space-y-3",children:[(0,ht.jsxs)("div",{children:[(0,ht.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Number of Sets"}),(0,ht.jsx)("input",{type:"number",min:"0",value:A.objective[e].sets,onChange:t=>M("objective",e,"sets",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Questions per Set"}),(0,ht.jsx)("input",{type:"number",min:"0",value:A.objective[e].questionsPerSet,onChange:t=>M("objective",e,"questionsPerSet",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Set Names"}),(0,ht.jsx)("div",{className:"space-y-2",children:A.objective[e].setNames.map(((t,n)=>(0,ht.jsx)("input",{type:"text",value:t,onChange:t=>I("objective",e,n,t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:`Set ${n+1}`},n)))})]})]})]},e)))})]}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("h4",{className:"font-medium text-gray-800 mb-3",children:"Subjective Questions"}),(0,ht.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["L1","L2","L3"].map((e=>(0,ht.jsxs)("div",{className:"p-4 border border-gray-200 rounded-lg",children:[(0,ht.jsx)("h5",{className:"font-medium text-gray-700 mb-3",children:"L1"===e?"Beginner":"L2"===e?"Intermediate":"Advanced"}),(0,ht.jsxs)("div",{className:"space-y-3",children:[(0,ht.jsxs)("div",{children:[(0,ht.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Number of Sets"}),(0,ht.jsx)("input",{type:"number",min:"0",value:A.subjective[e].sets,onChange:t=>M("subjective",e,"sets",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Questions per Set"}),(0,ht.jsx)("input",{type:"number",min:"0",value:A.subjective[e].questionsPerSet,onChange:t=>M("subjective",e,"questionsPerSet",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Set Names"}),(0,ht.jsx)("div",{className:"space-y-2",children:A.subjective[e].setNames.map(((t,n)=>(0,ht.jsx)("input",{type:"text",value:t,onChange:t=>I("subjective",e,n,t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:`Set ${n+1}`},n)))})]})]})]},e)))})]})]}),y&&(0,ht.jsxs)("div",{className:"mt-6",children:[(0,ht.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Generated Content Preview"}),(0,ht.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 max-h-96 overflow-y-auto",children:(0,ht.jsx)("pre",{className:"whitespace-pre-wrap font-sans text-sm text-gray-700",children:y.formatted})})]}),(0,ht.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ht.jsx)("button",{onClick:r,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),(0,ht.jsx)("button",{onClick:async()=>{if("with"!==w||0!==x.length){m(!0);try{const e=f.filter((e=>x.includes(e._id))),t=await Ek(s,(null===h||void 0===h?void 0:h.title)||F().toLowerCase(),A,w,e);v(t),Gp.success("Content generated successfully")}catch(hf){console.error("Error generating content:",hf),Gp.error("Failed to generate content. Please try again.")}finally{m(!1)}}else Gp.error("Please select at least one data source")},disabled:p,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors flex items-center",children:p?(0,ht.jsxs)(ht.Fragment,{children:[(0,ht.jsx)(ap,{className:"animate-spin mr-2",size:20}),"Generating..."]}):(0,ht.jsxs)(ht.Fragment,{children:[(0,ht.jsx)(Dt,{className:"mr-2",size:20}),"Generate Content"]})}),y&&(0,ht.jsx)("button",{onClick:async()=>{try{m(!0);const e=ut.get("usertoken");if(!y||!y.raw)return void Gp.error("No content to save");const t=y.raw,n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"https://aipbbackend.onrender.com/api";let h=0;if(t.summary&&h++,t.objective&&Object.values(t.objective).forEach((e=>{e.forEach((e=>{h+=e.questions.length}))})),t.subjective&&Object.values(t.subjective).forEach((e=>{e.forEach((e=>{h+=e.questions.length}))})),P({total:h,current:0,status:"Starting to save content..."}),t.summary)try{P((e=>({...e,status:"Saving summary..."})));let r="";"book"===s?r=a?`${n}/assets/${l}/summaries`:`${n}/assets/${o}/summaries`:"chapter"===s?r=a?`${n}/assets/${l}/chapters/${c}/summaries`:`${n}/assets/${o}/chapters/${c}/summaries`:"topic"===s?r=a?`${n}/assets/${l}/chapters/${c}/topics/${d}/summaries`:`${n}/assets/${o}/chapters/${c}/topics/${d}/summaries`:"subtopic"===s&&(r=a?`${n}/assets/${l}/chapters/${c}/topics/${d}/subtopics/${u}/summaries`:`${n}/assets/${o}/chapters/${c}/topics/${d}/subtopics/${u}/summaries`);const i=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({content:t.summary,isWorkbook:a})});if(!i.ok)throw new Error(`Failed to save summary: ${i.statusText}`);const h=await i.json();if(!h.success)throw new Error(h.message||"Failed to save summary");P((e=>({...e,current:e.current+1,status:"Summary saved successfully"})))}catch(hf){console.error("Error saving summary:",hf),Gp.error("Failed to save summary")}if(t.objective)for(const r of["L1","L2","L3"])if(t.objective[r]&&Array.isArray(t.objective[r]))for(const o of t.objective[r])try{P((e=>({...e,status:`Saving objective set ${o.setName} for level ${r}...`})));const t=await fetch(`${n}/objective-assets/${s}/${i}/question-sets`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({name:o.setName,level:r,type:"objective",isWorkbook:a})});if(!t.ok)throw new Error(`Failed to save objective set: ${t.statusText}`);const l=await t.json();if(!l.success)throw new Error(l.message||"Failed to save objective set");if(o.questions&&Array.isArray(o.questions)){const t=o.questions.map((e=>({question:e.question,options:e.options,correctAnswer:e.correctAnswer,difficulty:r}))),s=await fetch(`${n}/objective-assets/question-sets/${l.questionSet._id}/questions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({questions:t})});if(!s.ok)throw new Error(`Failed to save objective questions: ${s.statusText}`);const i=await s.json();if(!i.success)throw new Error(i.message||"Failed to save objective questions");P((e=>({...e,current:e.current+t.length})))}}catch(hf){console.error("Error saving objective questions:",hf),Gp.error(`Failed to save objective questions for level ${r}`)}if(t.subjective)for(const r of["L1","L2","L3"])if(t.subjective[r]&&Array.isArray(t.subjective[r]))for(const o of t.subjective[r])try{P((e=>({...e,status:`Saving subjective set ${o.setName} for level ${r}...`})));const t=await fetch(`${n}/subjective-assets/${s}/${i}/question-sets`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({name:o.setName,level:r,type:"subjective",isWorkbook:a})});if(!t.ok)throw new Error(`Failed to save subjective set: ${t.statusText}`);const l=await t.json();if(!l.success)throw new Error(l.message||"Failed to save subjective set");if(o.questions&&Array.isArray(o.questions)){const t=o.questions.map((e=>({question:e.question,answer:e.answer,keywords:e.keywords||(e.keyPoints?e.keyPoints.join(", "):""),difficulty:r}))),s=await fetch(`${n}/subjective-assets/question-sets/${l.questionSet._id}/questions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({questions:t})});if(!s.ok)throw new Error(`Failed to save subjective questions: ${s.statusText}`);const i=await s.json();if(!i.success)throw new Error(i.message||"Failed to save subjective questions");P((e=>({...e,current:e.current+t.length})))}}catch(hf){console.error("Error saving subjective questions:",hf),Gp.error(`Failed to save subjective questions for level ${r}`)}P((e=>({...e,status:"All content saved successfully!"}))),Gp.success("Assets saved successfully"),r()}catch(hf){console.error("Error saving content:",hf),Gp.error("Failed to save assets")}finally{m(!1),P({total:0,current:0,status:""})}},disabled:p,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors flex items-center",children:p?(0,ht.jsxs)(ht.Fragment,{children:[(0,ht.jsx)(ap,{className:"animate-spin mr-2",size:20}),E.total>0?(0,ht.jsxs)("span",{children:["Saving... (",E.current,"/",E.total,")"]}):"Saving..."]}):(0,ht.jsxs)(ht.Fragment,{children:[(0,ht.jsx)(Vs,{className:"mr-2",size:20}),"Save Content"]})})]}),p&&E.total>0&&(0,ht.jsxs)("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[(0,ht.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,ht.jsx)("span",{className:"text-sm text-gray-600",children:E.status}),(0,ht.jsxs)("span",{className:"text-sm text-gray-600",children:[E.current,"/",E.total]})]}),(0,ht.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,ht.jsx)("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-300",style:{width:E.current/E.total*100+"%"}})})]})]})}):null},Rk=e=>{let{summaries:t,setShowSummaryModal:n}=e;return(0,ht.jsxs)("div",{className:"p-6 bg-white rounded-lg shadow border border-gray-100",children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ht.jsx)("h3",{className:"font-medium text-lg",children:"Summary"}),(0,ht.jsxs)("button",{onClick:()=>n(!0),className:"flex items-center px-3 py-1.5 bg-indigo-600 text-white rounded hover:bg-indigo-700 transition-colors text-sm",children:[(0,ht.jsx)(zs,{size:16,className:"mr-1"}),(0,ht.jsx)("span",{children:"Add Summary"})]})]}),0===t.length?(0,ht.jsx)("p",{className:"text-gray-600",children:"No summary content available yet. Add your first summary!"}):(0,ht.jsx)("div",{className:"space-y-4",children:t.map((e=>(0,ht.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,ht.jsx)("p",{className:"text-gray-800 whitespace-pre-wrap",children:e.content}),(0,ht.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["Added on ",new Date(e.createdAt).toLocaleDateString()]})]},e.id)))})]})},Dk=vt("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Mk=vt("hard-drive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),Ik=vt("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),_k=e=>{let{videos:n,setShowVideoModal:r,onDeleteVideo:s}=e;const[i,a]=(0,t.useState)(null),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)(null),[u,h]=(0,t.useState)(!1),p=e=>{if(!e)return"0:00";return`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`},m=e=>{if(!e)return"0 B";const t=Math.floor(Math.log(e)/Math.log(1024));return`${(e/Math.pow(1024,t)).toFixed(1)} ${["B","KB","MB","GB"][t]}`},f=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),g=e=>"youtube"===e.videoType||e.youtubeVideoId||e.url&&(e.url.includes("youtube.com")||e.url.includes("youtu.be")),x=async e=>{try{const t=ut.get("usertoken");await Ps.post(`https://aipbbackend.onrender.com/api/video-assets/videos/${e}/view`,{},{headers:{Authorization:`Bearer ${t}`}})}catch(hf){console.error("Error updating view count:",hf)}},b=async()=>{if(c){h(!0);try{await s(c._id),l(!1),d(null)}catch(hf){}finally{h(!1)}}},y=e=>{let{video:t,onClose:n}=e;if(!t)return null;const r=g(t);return(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:(0,ht.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-4xl p-6 max-h-[90vh] overflow-y-auto",children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsx)("h2",{className:"text-xl font-bold text-gray-800 mr-3",children:t.title}),r?(0,ht.jsxs)("span",{className:"inline-flex items-center px-2 py-1 bg-red-100 text-red-700 rounded-md text-sm",children:[(0,ht.jsx)(Rs,{size:14,className:"mr-1"}),"YouTube"]}):(0,ht.jsxs)("span",{className:"inline-flex items-center px-2 py-1 bg-blue-100 text-blue-700 rounded-md text-sm",children:[(0,ht.jsx)(_s,{size:14,className:"mr-1"}),"Uploaded"]})]}),(0,ht.jsx)("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\xd7"})]}),(0,ht.jsx)("div",{className:"aspect-video mb-4",children:r?(0,ht.jsx)("iframe",{src:t.embedUrl||`https://www.youtube.com/embed/${t.youtubeVideoId}`,title:t.title,className:"w-full h-full rounded-lg",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,onLoad:()=>x(t._id)}):(0,ht.jsx)("video",{src:t.url,controls:!0,className:"w-full h-full rounded-lg",onPlay:()=>x(t._id),children:"Your browser does not support the video tag."})}),t.description&&(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("h3",{className:"font-medium text-gray-800 mb-2",children:"Description"}),(0,ht.jsx)("p",{className:"text-gray-700 text-sm",children:t.description})]}),(0,ht.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600",children:[t.duration>0&&(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsx)(Dk,{size:16,className:"mr-1"}),(0,ht.jsx)("span",{children:p(t.duration)})]}),t.fileSize>0&&(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsx)(Mk,{size:16,className:"mr-1"}),(0,ht.jsx)("span",{children:m(t.fileSize)})]}),t.viewCount>0&&(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsx)(Bs,{size:16,className:"mr-1"}),(0,ht.jsxs)("span",{children:[t.viewCount," views"]})]}),(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsx)(Us,{size:16,className:"mr-1"}),(0,ht.jsx)("span",{children:f(t.createdAt)})]})]})]})})},v=()=>o?(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ht.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6",children:[(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Delete Video"}),(0,ht.jsxs)("p",{className:"text-gray-700",children:['Are you sure you want to delete "',null===c||void 0===c?void 0:c.title,'"? This action cannot be undone.']})]}),(0,ht.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ht.jsx)("button",{onClick:()=>{l(!1),d(null)},className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors disabled:opacity-50",disabled:u,children:"Cancel"}),(0,ht.jsx)("button",{onClick:b,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:u,children:u?"Deleting...":"Delete"})]})]})}):null;return(0,ht.jsxs)("div",{className:"p-6 bg-white rounded-lg shadow border border-gray-100",children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ht.jsxs)("div",{children:[(0,ht.jsx)("h3",{className:"font-medium text-lg",children:"Videos"}),(0,ht.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[n.length," video",1!==n.length?"s":""," available"]})]}),(0,ht.jsxs)("button",{onClick:()=>r(!0),className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors text-sm font-medium",children:[(0,ht.jsx)(zs,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Add Video"})]})]}),0===n.length?(0,ht.jsxs)("div",{className:"text-center py-12",children:[(0,ht.jsx)("div",{className:"bg-gray-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:(0,ht.jsx)(Ik,{size:32,className:"text-gray-400"})}),(0,ht.jsx)("p",{className:"text-gray-600 mb-2",children:"No videos available yet"}),(0,ht.jsx)("p",{className:"text-sm text-gray-500",children:"Add your first video to get started!"})]}):(0,ht.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((e=>{const t=g(e),n=(e=>e.thumbnailUrl?e.thumbnailUrl:g(e)&&e.youtubeVideoId?`https://img.youtube.com/vi/${e.youtubeVideoId}/maxresdefault.jpg`:null)(e);return(0,ht.jsxs)("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:[(0,ht.jsxs)("div",{className:"aspect-video bg-gradient-to-br from-indigo-100 to-purple-100 relative group",children:[n?(0,ht.jsx)("img",{src:n,alt:e.title,className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):t?null:(0,ht.jsx)("video",{src:e.url,className:"w-full h-full object-cover",muted:!0,preload:"metadata"}),(0,ht.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-100 to-purple-100 flex items-center justify-center",style:{display:n?"none":"flex"},children:t?(0,ht.jsx)(Rs,{size:48,className:"text-red-500"}):(0,ht.jsx)(Ik,{size:48,className:"text-indigo-500"})}),(0,ht.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:(0,ht.jsx)("button",{onClick:()=>{a(e),x(e._id)},className:"bg-white bg-opacity-90 rounded-full p-3 hover:bg-opacity-100 transition-all",children:(0,ht.jsx)(Ik,{size:24,className:"text-indigo-600 ml-1"})})}),(0,ht.jsx)("div",{className:"absolute top-2 left-2",children:t?(0,ht.jsxs)("span",{className:"inline-flex items-center px-2 py-1 bg-red-600 text-white rounded text-xs",children:[(0,ht.jsx)(Rs,{size:12,className:"mr-1"}),"YT"]}):(0,ht.jsxs)("span",{className:"inline-flex items-center px-2 py-1 bg-blue-600 text-white rounded text-xs",children:[(0,ht.jsx)(_s,{size:12,className:"mr-1"}),"UP"]})}),e.duration>0&&(0,ht.jsx)("div",{className:"absolute bottom-2 right-2 bg-black bg-opacity-75 text-white text-xs px-2 py-1 rounded",children:p(e.duration)})]}),(0,ht.jsxs)("div",{className:"p-4",children:[(0,ht.jsx)("h4",{className:"font-medium text-gray-800 mb-2 line-clamp-2 leading-tight",children:e.title}),e.description&&(0,ht.jsx)("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:e.description}),(0,ht.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-3",children:[(0,ht.jsxs)("div",{className:"flex items-center space-x-3",children:[e.viewCount>0&&(0,ht.jsxs)("span",{className:"flex items-center",children:[(0,ht.jsx)(Bs,{size:12,className:"mr-1"}),e.viewCount]}),!t&&e.fileSize>0&&(0,ht.jsxs)("span",{className:"flex items-center",children:[(0,ht.jsx)(Mk,{size:12,className:"mr-1"}),m(e.fileSize)]})]}),(0,ht.jsx)("span",{children:f(e.createdAt)})]}),(0,ht.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ht.jsxs)("button",{onClick:()=>{a(e),x(e._id)},className:"flex items-center px-3 py-1.5 bg-indigo-100 text-indigo-700 rounded-md hover:bg-indigo-200 transition-colors text-sm font-medium",children:[(0,ht.jsx)(Ik,{size:14,className:"mr-1"}),"Watch"]}),(0,ht.jsxs)("button",{onClick:()=>(e=>{d(e),l(!0)})(e),className:"flex items-center px-3 py-1.5 bg-red-100 text-red-700 rounded-md hover:bg-red-200 transition-colors text-sm",children:[(0,ht.jsx)(qs,{size:14,className:"mr-1"}),"Delete"]})]})]})]},e._id)}))}),(0,ht.jsx)(y,{video:i,onClose:()=>a(null)}),(0,ht.jsx)(v,{})]})},Lk=vt("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),Ok=vt("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),zk=e=>{let{pyqs:n,setShowPYQModal:r,onDeletePYQ:s}=e;const[i,a]=(0,t.useState)(null),o=e=>{switch(e){case"easy":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"hard":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return(0,ht.jsxs)("div",{className:"p-6 bg-white rounded-lg shadow border border-gray-100",children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsx)("h3",{className:"font-medium text-lg",children:"Previous Year Questions"}),(0,ht.jsx)("span",{className:"ml-2 bg-indigo-100 text-indigo-800 text-xs font-medium px-2 py-1 rounded-full",children:n.length})]}),(0,ht.jsxs)("button",{onClick:()=>r(!0),className:"flex items-center px-3 py-1.5 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors text-sm",children:[(0,ht.jsx)(zs,{size:16,className:"mr-1"}),(0,ht.jsx)("span",{children:"Add PYQ"})]})]}),0===n.length?(0,ht.jsxs)("div",{className:"text-center py-12",children:[(0,ht.jsx)("div",{className:"bg-gray-50 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:(0,ht.jsx)(Lk,{size:32,className:"text-gray-400"})}),(0,ht.jsx)("p",{className:"text-gray-600 mb-2",children:"No previous year questions available yet"}),(0,ht.jsx)("p",{className:"text-sm text-gray-500",children:"Add your first PYQ to get started!"})]}):(0,ht.jsx)("div",{className:"space-y-6",children:n.map(((e,t)=>(0,ht.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200 hover:shadow-md transition-shadow",children:[(0,ht.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,ht.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,ht.jsxs)("div",{className:"bg-amber-100 text-amber-800 text-xs font-medium px-2 py-1 rounded-md flex items-center",children:[(0,ht.jsx)(Us,{size:12,className:"mr-1"}),e.year]}),e.source&&(0,ht.jsxs)("div",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2 py-1 rounded-md flex items-center",children:[(0,ht.jsx)(Ok,{size:12,className:"mr-1"}),e.source]}),(0,ht.jsxs)("div",{className:`text-xs font-medium px-2 py-1 rounded-md flex items-center ${o(e.difficulty)}`,children:[(0,ht.jsx)(Lk,{size:12,className:"mr-1"}),e.difficulty]})]}),(0,ht.jsx)("div",{className:"flex items-center gap-2",children:(0,ht.jsx)("button",{onClick:()=>(e=>{a(e)})(e),className:"text-red-500 hover:text-red-700 transition-colors p-1 rounded-md hover:bg-red-50",title:"Delete PYQ",children:(0,ht.jsx)(qs,{size:16})})})]}),(0,ht.jsx)("div",{className:"mb-3",children:(0,ht.jsxs)("p",{className:"font-medium text-gray-800 mb-2",children:[(0,ht.jsxs)("span",{className:"text-indigo-600 font-semibold",children:["Q",t+1,"."]})," ",e.question]})}),e.answer&&(0,ht.jsxs)("div",{className:"mb-3",children:[(0,ht.jsxs)("p",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center",children:[(0,ht.jsx)(tp,{size:14,className:"mr-1"}),"Answer:"]}),(0,ht.jsx)("div",{className:"bg-white p-3 rounded-md border border-gray-200 shadow-sm",children:(0,ht.jsx)("p",{className:"text-gray-800 whitespace-pre-wrap",children:e.answer})})]}),(0,ht.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 pt-2 border-t border-gray-200",children:[(0,ht.jsxs)("span",{children:["Added on ",new Date(e.createdAt).toLocaleDateString()]}),e.updatedAt&&e.updatedAt!==e.createdAt&&(0,ht.jsxs)("span",{children:["Updated on ",new Date(e.updatedAt).toLocaleDateString()]})]})]},e._id)))}),i&&(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ht.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6",children:[(0,ht.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ht.jsx)("div",{className:"bg-red-100 p-2 rounded-full mr-3",children:(0,ht.jsx)(qs,{size:20,className:"text-red-600"})}),(0,ht.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Delete PYQ"})]}),(0,ht.jsxs)("div",{className:"mb-6",children:[(0,ht.jsx)("p",{className:"text-gray-600 mb-3",children:"Are you sure you want to delete this Previous Year Question?"}),(0,ht.jsxs)("div",{className:"bg-gray-50 p-3 rounded-md border-l-4 border-red-400",children:[(0,ht.jsxs)("p",{className:"text-sm text-gray-700 font-medium",children:[i.question.substring(0,100),i.question.length>100?"...":""]}),(0,ht.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,ht.jsx)("span",{className:"text-xs bg-amber-100 text-amber-800 px-2 py-1 rounded",children:i.year}),i.source&&(0,ht.jsx)("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:i.source})]})]}),(0,ht.jsx)("p",{className:"text-sm text-red-600 mt-2",children:"This action cannot be undone."})]}),(0,ht.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ht.jsx)("button",{onClick:()=>{a(null)},className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),(0,ht.jsx)("button",{onClick:async()=>{i&&s&&(await s(i._id),a(null))},className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:"Delete PYQ"})]})]})})]})},Bk=vt("file-question",[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]]),Uk=e=>{let{selectedViewSet:t,setSelectedViewSet:n,questionSets:r,activeLevelTab:s,setActiveLevelTab:i,setShowCreateSetModal:a,setCurrentSet:o,setEditingQuestion:l,setShowSubjectiveModal:c,setDeletingQuestion:d,setShowDeleteConfirmation:u,handleViewAllQuestions:h}=e;const p={L1:r.filter((e=>"L1"===e.level)),L2:r.filter((e=>"L2"===e.level)),L3:r.filter((e=>"L3"===e.level))};var m,f;return t?(0,ht.jsxs)("div",{children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ht.jsxs)("div",{children:[(0,ht.jsx)("h3",{className:"font-medium text-lg flex items-center",children:(0,ht.jsxs)("button",{onClick:()=>n(null),className:"mb-3 text-indigo-600 hover:text-indigo-800 flex items-center",children:[(0,ht.jsx)(hm,{size:16,className:"mr-1"}),(0,ht.jsx)("span",{children:"Back to Sets"})]})}),(0,ht.jsx)("h3",{className:"font-medium text-lg flex items-center",children:(0,ht.jsxs)("span",{children:['Questions in "',t.name,'"']})}),(0,ht.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["L1"===t.level?"Beginner Level":"L2"===t.level?"Intermediate Level":"Advanced Level"," ","\u2022 ",(null===(m=t.questions)||void 0===m?void 0:m.length)||0," ",1===((null===(f=t.questions)||void 0===f?void 0:f.length)||0)?"Question":"Questions"]})]}),(0,ht.jsxs)("button",{onClick:()=>{o(t),l(null),c(!0)},className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors",children:[(0,ht.jsx)(zs,{size:18,className:"mr-2"}),(0,ht.jsx)("span",{children:"Add Questions"})]})]}),t.questions&&0!==t.questions.length?(0,ht.jsx)("div",{className:"space-y-4",children:t.questions.map(((e,n)=>(0,ht.jsxs)("div",{className:"rounded-lg border border-gray-200 overflow-hidden hover:shadow-md transition-all duration-200",children:[(0,ht.jsx)("div",{className:"bg-gradient-to-r p-4 "+("L1"===t.level?"from-green-50 to-blue-50":"L2"===t.level?"from-blue-50 to-indigo-50":"from-indigo-50 to-purple-50"),children:(0,ht.jsxs)("div",{className:"flex justify-between items-start",children:[(0,ht.jsxs)("p",{className:"font-medium text-lg "+("L1"===t.level?"text-green-800":"L2"===t.level?"text-blue-800":"text-indigo-800"),children:[n+1,". ",e.question]}),(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsxs)("button",{onClick:()=>{l(e),o(t),c(!0)},className:"text-white hover:text-indigo-100 flex items-center text-sm mr-3 bg-indigo-600 hover:bg-indigo-700 px-2 py-1 rounded",title:"Edit question",children:[(0,ht.jsx)(tp,{size:16,className:"mr-1"}),(0,ht.jsx)("span",{children:"Edit"})]}),(0,ht.jsxs)("button",{onClick:()=>{d(e),u(!0)},className:"text-white hover:text-red-100 flex items-center text-sm bg-red-600 hover:bg-red-700 px-2 py-1 rounded",title:"Delete question",children:[(0,ht.jsx)(qs,{size:16,className:"mr-1"}),(0,ht.jsx)("span",{children:"Delete"})]})]})]})}),(0,ht.jsxs)("div",{className:"bg-white p-4",children:[e.answer&&(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsxs)("div",{className:"flex items-center mb-2",children:[(0,ht.jsx)("div",{className:"h-5 w-5 rounded-full mr-2 flex items-center justify-center "+("L1"===t.level?"bg-green-600":"L2"===t.level?"bg-blue-600":"bg-indigo-600"),children:(0,ht.jsx)("span",{className:"text-white text-xs font-bold",children:"A"})}),(0,ht.jsx)("p",{className:"text-sm font-medium "+("L1"===t.level?"text-green-800":"L2"===t.level?"text-blue-800":"text-indigo-800"),children:"Answer"})]}),(0,ht.jsx)("div",{className:"bg-opacity-50 p-4 rounded-r-md whitespace-pre-wrap text-gray-800 "+("L1"===t.level?"bg-green-50 border-l-4 border-green-500":"L2"===t.level?"bg-blue-50 border-l-4 border-blue-500":"bg-purple-50 border-l-4 border-purple-500"),children:e.answer})]}),e.keywords&&e.keywords.trim()&&(0,ht.jsxs)("div",{className:"mb-2",children:[(0,ht.jsxs)("div",{className:"flex items-center mb-2",children:[(0,ht.jsx)("div",{className:"h-5 w-5 rounded-full mr-2 flex items-center justify-center "+("L1"===t.level?"bg-emerald-600":"L2"===t.level?"bg-cyan-600":"bg-violet-600"),children:(0,ht.jsx)("span",{className:"text-white text-xs font-bold",children:"K"})}),(0,ht.jsx)("p",{className:"text-sm font-medium "+("L1"===t.level?"text-emerald-800":"L2"===t.level?"text-cyan-800":"text-violet-800"),children:"Keywords"})]}),(0,ht.jsx)("div",{className:"flex flex-wrap gap-2",children:e.keywords.split(",").map(((e,n)=>e.trim()&&(0,ht.jsx)("span",{className:"text-white text-xs px-3 py-1.5 rounded-full font-medium "+("L1"===t.level?"bg-gradient-to-r from-green-500 to-emerald-500":"L2"===t.level?"bg-gradient-to-r from-blue-500 to-cyan-500":"bg-gradient-to-r from-indigo-500 to-violet-500"),children:e.trim()},n)))})]}),(0,ht.jsxs)("div",{className:"text-xs text-gray-500 mt-2",children:["Added on ",new Date(e.createdAt).toLocaleDateString()]})]})]},e._id)))}):(0,ht.jsxs)("div",{className:"bg-gray-50 text-center py-12 rounded-md border border-gray-200",children:[(0,ht.jsx)("div",{className:"text-gray-400 mb-4",children:(0,ht.jsx)(Bk,{size:48,className:"mx-auto"})}),(0,ht.jsx)("p",{className:"text-gray-700 font-medium mb-3",children:"No questions in this set yet"}),(0,ht.jsxs)("p",{className:"text-gray-600 mb-6",children:["Start adding questions to build your"," ","L1"===t.level?"beginner":"L2"===t.level?"intermediate":"advanced"," ","question set."]}),(0,ht.jsxs)("button",{onClick:()=>{o(t),l(null),c(!0)},className:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors",children:[(0,ht.jsx)(zs,{size:18,className:"mr-2"}),(0,ht.jsx)("span",{children:"Add First Question"})]})]})]}):(0,ht.jsxs)(ht.Fragment,{children:[(0,ht.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,ht.jsx)("h3",{className:"font-medium text-lg",children:"Subjective Questions"})}),(0,ht.jsx)("div",{className:"mb-6 border-b border-gray-200",children:(0,ht.jsxs)("div",{className:"flex",children:[(0,ht.jsx)("button",{className:"py-3 px-6 font-medium text-sm "+("L1"===s?"text-indigo-600 border-b-2 border-indigo-600":"text-gray-600 hover:text-gray-800"),onClick:()=>i("L1"),children:"L1 - Beginner"}),(0,ht.jsx)("button",{className:"py-3 px-6 font-medium text-sm "+("L2"===s?"text-indigo-600 border-b-2 border-indigo-600":"text-gray-600 hover:text-gray-800"),onClick:()=>i("L2"),children:"L2 - Intermediate"}),(0,ht.jsx)("button",{className:"py-3 px-6 font-medium text-sm "+("L3"===s?"text-indigo-600 border-b-2 border-indigo-600":"text-gray-600 hover:text-gray-800"),onClick:()=>i("L3"),children:"L3 - Advanced"})]})}),(0,ht.jsx)("div",{className:"mb-6",children:(0,ht.jsxs)("button",{onClick:()=>a(!0),className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors",children:[(0,ht.jsx)(zs,{size:18,className:"mr-2"}),(0,ht.jsxs)("span",{children:["Create ","L1"===s?"Beginner":"L2"===s?"Intermediate":"Advanced"," Set"]})]})}),0===p[s].length?(0,ht.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-8 text-center",children:[(0,ht.jsx)("div",{className:"text-gray-400 mb-3",children:(0,ht.jsx)(Bk,{size:48,className:"mx-auto"})}),(0,ht.jsx)("h4",{className:"font-medium text-gray-800 mb-2",children:"No question sets yet"}),(0,ht.jsxs)("p",{className:"text-gray-600 mb-4",children:["Create your first"," ","L1"===s?"beginner":"L2"===s?"intermediate":"advanced"," question set to get started."]}),(0,ht.jsxs)("button",{onClick:()=>a(!0),className:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors",children:[(0,ht.jsx)(zs,{size:18,className:"mr-2"}),(0,ht.jsx)("span",{children:"Create Set"})]})]}):(0,ht.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:p[s].map((e=>{var t,n;return(0,ht.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden cursor-pointer hover:shadow-md transition-all duration-200",onClick:()=>h(e),children:[(0,ht.jsxs)("div",{className:"p-4 "+("L1"===s?"bg-gradient-to-r from-green-50 to-blue-50 border-b border-green-100":"L2"===s?"bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-blue-100":"bg-gradient-to-r from-indigo-50 to-purple-50 border-b border-indigo-100"),children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ht.jsx)("h4",{className:"font-medium text-gray-800",children:e.name}),(0,ht.jsx)("span",{className:"text-xs px-2 py-1 rounded-full "+("L1"===s?"bg-green-100 text-green-800":"L2"===s?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"),children:"L1"===s?"Beginner":"L2"===s?"Intermediate":"Advanced"})]}),e.description&&(0,ht.jsx)("p",{className:"text-gray-600 text-sm mt-2",children:e.description})]}),(0,ht.jsxs)("div",{className:"p-4 bg-white",children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ht.jsxs)("span",{className:"text-sm text-gray-600",children:[(null===(t=e.questions)||void 0===t?void 0:t.length)||0," ",1===((null===(n=e.questions)||void 0===n?void 0:n.length)||0)?"Question":"Questions"]}),(0,ht.jsxs)("span",{className:"text-xs text-gray-500",children:["Created ",new Date(e.createdAt).toLocaleDateString()]})]}),(0,ht.jsx)("div",{className:"flex justify-center mt-3",children:(0,ht.jsxs)("button",{className:"flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors text-sm",onClick:t=>{t.stopPropagation(),h(e)},children:[(0,ht.jsx)(Bk,{size:14,className:"mr-1"}),(0,ht.jsx)("span",{children:"View Questions"})]})})]})]},e._id)}))})]})},qk=e=>{let{selectedObjectiveSet:t,setSelectedObjectiveSet:n,objectiveQuestionSets:r,activeObjectiveLevelTab:s,setActiveObjectiveLevelTab:i,setShowCreateObjectiveSetModal:a,setCurrentObjectiveSet:o,setEditingObjectiveQuestion:l,setShowObjectiveModal:c,setDeletingObjectiveQuestion:d,setShowDeleteConfirmation:u,handleViewAllObjectiveQuestions:h}=e;if(!r)return(0,ht.jsx)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-md",children:(0,ht.jsx)("p",{className:"text-red-600",children:"Error: Question sets data is not available."})});const p={L1:[],L2:[],L3:[]};var m,f;return Array.isArray(r)&&r.forEach((e=>{p[e.level]&&p[e.level].push(e)})),t?(0,ht.jsxs)("div",{children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ht.jsxs)("div",{children:[(0,ht.jsx)("h3",{className:"font-medium text-lg flex items-center",children:(0,ht.jsxs)("button",{onClick:()=>n(null),className:"mb-3 text-indigo-600 hover:text-indigo-800 flex items-center",children:[(0,ht.jsx)(hm,{size:16,className:"mr-1"}),(0,ht.jsx)("span",{children:"Back to Sets"})]})}),(0,ht.jsx)("h3",{className:"font-medium text-lg flex items-center",children:(0,ht.jsxs)("span",{children:['Questions in "',t.name,'"']})}),(0,ht.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["L1"===t.level?"Beginner Level":"L2"===t.level?"Intermediate Level":"Advanced Level"," ","\u2022 ",(null===(m=t.questions)||void 0===m?void 0:m.length)||0," ",1===((null===(f=t.questions)||void 0===f?void 0:f.length)||0)?"Question":"Questions"]})]}),(0,ht.jsxs)("button",{onClick:()=>{o(t),l(null),c(!0)},className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors",children:[(0,ht.jsx)(zs,{size:18,className:"mr-2"}),(0,ht.jsx)("span",{children:"Add Questions"})]})]}),t.questions&&0!==t.questions.length?(0,ht.jsx)("div",{className:"space-y-4",children:t.questions.map(((e,n)=>{var r;return(0,ht.jsxs)("div",{className:"rounded-lg border border-gray-200 overflow-hidden hover:shadow-md transition-all duration-200",children:[(0,ht.jsx)("div",{className:"bg-gradient-to-r p-4 "+("L1"===t.level?"from-green-50 to-blue-50":"L2"===t.level?"from-blue-50 to-indigo-50":"from-indigo-50 to-purple-50"),children:(0,ht.jsxs)("div",{className:"flex justify-between items-start",children:[(0,ht.jsxs)("p",{className:"font-medium text-lg "+("L1"===t.level?"text-green-800":"L2"===t.level?"text-blue-800":"text-indigo-800"),children:[n+1,". ",e.question]}),(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsxs)("button",{onClick:()=>{l(e),o(t),c(!0)},className:"text-white hover:text-indigo-100 flex items-center text-sm mr-3 bg-indigo-600 hover:bg-indigo-700 px-2 py-1 rounded",title:"Edit question",children:[(0,ht.jsx)(tp,{size:16,className:"mr-1"}),(0,ht.jsx)("span",{children:"Edit"})]}),(0,ht.jsxs)("button",{onClick:()=>{d(e),u(!0)},className:"text-white hover:text-red-100 flex items-center text-sm bg-red-600 hover:bg-red-700 px-2 py-1 rounded",title:"Delete question",children:[(0,ht.jsx)(qs,{size:16,className:"mr-1"}),(0,ht.jsx)("span",{children:"Delete"})]})]})]})}),(0,ht.jsxs)("div",{className:"bg-white p-4",children:[(0,ht.jsx)("div",{className:"mb-4 space-y-2",children:null===(r=e.options)||void 0===r?void 0:r.map(((t,n)=>(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsx)("span",{className:"inline-flex items-center justify-center h-6 w-6 rounded-full mr-2 text-xs "+(n===e.correctAnswer?"bg-green-600 text-white":"bg-gray-200 text-gray-700"),children:String.fromCharCode(65+n)}),(0,ht.jsx)("span",{className:""+(n===e.correctAnswer?"font-medium text-green-700":"text-gray-700"),children:t}),n===e.correctAnswer&&(0,ht.jsx)("span",{className:"ml-2 text-green-600",children:(0,ht.jsx)(Vs,{size:16})})]},n)))}),(0,ht.jsxs)("div",{className:"text-xs text-gray-500 mt-2",children:["Added on ",new Date(e.createdAt).toLocaleDateString()]})]})]},e._id||e.id)}))}):(0,ht.jsxs)("div",{className:"bg-gray-50 text-center py-12 rounded-md border border-gray-200",children:[(0,ht.jsx)("div",{className:"text-gray-400 mb-4",children:(0,ht.jsx)(Bk,{size:48,className:"mx-auto"})}),(0,ht.jsx)("p",{className:"text-gray-700 font-medium mb-3",children:"No questions in this set yet"}),(0,ht.jsxs)("p",{className:"text-gray-600 mb-6",children:["Start adding questions to build your"," ","L1"===t.level?"beginner":"L2"===t.level?"intermediate":"advanced"," ","question set."]}),(0,ht.jsxs)("button",{onClick:()=>{o(t),l(null),c(!0)},className:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors",children:[(0,ht.jsx)(zs,{size:18,className:"mr-2"}),(0,ht.jsx)("span",{children:"Add First Question"})]})]})]}):(0,ht.jsxs)(ht.Fragment,{children:[(0,ht.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,ht.jsx)("h3",{className:"font-medium text-lg",children:"Objective Questions"})}),(0,ht.jsx)("div",{className:"mb-6 border-b border-gray-200",children:(0,ht.jsxs)("div",{className:"flex",children:[(0,ht.jsx)("button",{className:"py-3 px-6 font-medium text-sm "+("L1"===s?"text-indigo-600 border-b-2 border-indigo-600":"text-gray-600 hover:text-gray-800"),onClick:()=>i("L1"),children:"L1 - Beginner"}),(0,ht.jsx)("button",{className:"py-3 px-6 font-medium text-sm "+("L2"===s?"text-indigo-600 border-b-2 border-indigo-600":"text-gray-600 hover:text-gray-800"),onClick:()=>i("L2"),children:"L2 - Intermediate"}),(0,ht.jsx)("button",{className:"py-3 px-6 font-medium text-sm "+("L3"===s?"text-indigo-600 border-b-2 border-indigo-600":"text-gray-600 hover:text-gray-800"),onClick:()=>i("L3"),children:"L3 - Advanced"})]})}),(0,ht.jsx)("div",{className:"mb-6",children:(0,ht.jsxs)("button",{onClick:()=>{a(!0)},className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors",children:[(0,ht.jsx)(zs,{size:18,className:"mr-2"}),(0,ht.jsxs)("span",{children:["Create"," ","L1"===s?"Beginner":"L2"===s?"Intermediate":"Advanced"," ","Set"]})]})}),0===p[s].length?(0,ht.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-8 text-center",children:[(0,ht.jsx)("div",{className:"text-gray-400 mb-3",children:(0,ht.jsx)(Bk,{size:48,className:"mx-auto"})}),(0,ht.jsx)("h4",{className:"font-medium text-gray-800 mb-2",children:"No question sets yet"}),(0,ht.jsxs)("p",{className:"text-gray-600 mb-4",children:["Create your first"," ","L1"===s?"beginner":"L2"===s?"intermediate":"advanced"," ","question set to get started."]}),(0,ht.jsxs)("button",{onClick:()=>{a(!0)},className:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors",children:[(0,ht.jsx)(zs,{size:18,className:"mr-2"}),(0,ht.jsx)("span",{children:"Create Set"})]})]}):(0,ht.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:p[s].map((e=>{var t,n;return(0,ht.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden cursor-pointer hover:shadow-md transition-all duration-200",onClick:()=>h(e),children:[(0,ht.jsxs)("div",{className:"p-4 "+("L1"===s?"bg-gradient-to-r from-green-50 to-blue-50 border-b border-green-100":"L2"===s?"bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-blue-100":"bg-gradient-to-r from-indigo-50 to-purple-50 border-b border-indigo-100"),children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ht.jsx)("h4",{className:"font-medium text-gray-800",children:e.name}),(0,ht.jsx)("span",{className:"text-xs px-2 py-1 rounded-full "+("L1"===s?"bg-green-100 text-green-800":"L2"===s?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"),children:"L1"===s?"Beginner":"L2"===s?"Intermediate":"Advanced"})]}),e.description&&(0,ht.jsx)("p",{className:"text-gray-600 text-sm mt-2",children:e.description})]}),(0,ht.jsxs)("div",{className:"p-4 bg-white",children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ht.jsxs)("span",{className:"text-sm text-gray-600",children:[(null===(t=e.questions)||void 0===t?void 0:t.length)||0," ",1===((null===(n=e.questions)||void 0===n?void 0:n.length)||0)?"Question":"Questions"]}),(0,ht.jsxs)("span",{className:"text-xs text-gray-500",children:["Created ",new Date(e.createdAt).toLocaleDateString()]})]}),(0,ht.jsx)("div",{className:"flex justify-center mt-3",children:(0,ht.jsxs)("button",{className:"flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors text-sm",onClick:t=>{t.stopPropagation(),h(e)},children:[(0,ht.jsx)(Bk,{size:14,className:"mr-1"}),(0,ht.jsx)("span",{children:"View Questions"})]})})]})]},e._id||e.id)}))})]})},Vk=()=>{const[e,n]=(0,t.useState)(!0),[r,s]=(0,t.useState)(null),[i,a]=(0,t.useState)(null),[o,l]=(0,t.useState)("summary"),[c,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)(!1),[p,m]=(0,t.useState)(!1),[f,g]=(0,t.useState)(!1),[x,b]=(0,t.useState)(!1),[y,v]=(0,t.useState)(!1),[w,j]=(0,t.useState)(!1),[k,N]=(0,t.useState)(!1),[S,C]=(0,t.useState)("L1"),[A,T]=(0,t.useState)(null),[E,P]=(0,t.useState)(null),[F,R]=(0,t.useState)("L1"),[D,M]=(0,t.useState)(!1),[I,_]=(0,t.useState)({name:"",description:"",level:"L1"}),[L,O]=(0,t.useState)(null),[z,B]=(0,t.useState)({name:"",description:"",level:"L1"}),[U,q]=(0,t.useState)(null),[V,W]=(0,t.useState)(null),[H,G]=(0,t.useState)(!1),[K,X]=(0,t.useState)(null),[Y,Q]=(0,t.useState)(null),[J,Z]=(0,t.useState)({content:""}),[ee,ne]=(0,t.useState)({question:"",options:["","","",""],correctAnswer:0,difficulty:"medium"}),[re,se]=(0,t.useState)({questions:[{question:"",answer:"",keywords:"",difficulty:"medium"}]}),[ie,ae]=(0,t.useState)({title:"",url:"",description:""}),[oe,le]=(0,t.useState)({year:(new Date).getFullYear().toString(),question:"",answer:"",difficulty:"medium",source:""}),[ce,de]=(0,t.useState)([]),[ue,he]=(0,t.useState)([]),[pe,me]=(0,t.useState)([]),[fe,ge]=(0,t.useState)([]),[xe,be]=(0,t.useState)([]),[ye,ve]=(0,t.useState)(null),{bookId:we,workbookId:je,chapterId:ke,topicId:Ne,subtopicId:Se}=te(),Ce=$(),Ae=window.location.pathname.includes("/ai-workbook/");let Te="book",Ee=Ae?je:we;Se?(Te="subtopic",Ee=Se):Ne?(Te="topic",Ee=Ne):ke&&(Te="chapter",Ee=ke),(0,t.useEffect)((()=>{(async()=>{try{const e=ut.get("usertoken");if(!e)return void Ce("/login");const t=`https://aipbbackend.onrender.com/api/video-assets/${Te}/${Ee}/videos?isWorkbook=${Ae}`,n=`https://aipbbackend.onrender.com/api/pyq-assets/${Te}/${Ee}/pyqs?isWorkbook=${Ae}`,r=`https://aipbbackend.onrender.com/api/subjective-assets/${Te}/${Ee}/question-sets?isWorkbook=${Ae}`,s=`https://aipbbackend.onrender.com/api/objective-assets/${Te}/${Ee}/question-sets?isWorkbook=${Ae}`;let i="";"book"===Te?i=Ae?`https://aipbbackend.onrender.com/api/workbooks/${je}`:`https://aipbbackend.onrender.com/api/assets/${we}`:"chapter"===Te?i=Ae?`https://aipbbackend.onrender.com/api/workbooks/${je}/chapters/${ke}`:`https://aipbbackend.onrender.com/api/assets/${we}/chapters/${ke}`:"topic"===Te?i=Ae?`https://aipbbackend.onrender.com/api/workbooks/${je}/chapters/${ke}/topics/${Ne}`:`https://aipbbackend.onrender.com/api/assets/${we}/chapters/${ke}/topics/${Ne}`:"subtopic"===Te&&(i=Ae?`https://aipbbackend.onrender.com/api/workbooks/${je}/chapters/${ke}/topics/${Ne}/subtopics/${Se}`:`https://aipbbackend.onrender.com/api/assets/${we}/chapters/${ke}/topics/${Ne}/subtopics/${Se}`);const[a,o,l,c,d]=await Promise.all([Ps.get(`${i}/summaries`,{headers:{Authorization:`Bearer ${e}`}}),Ps.get(s,{headers:{Authorization:`Bearer ${e}`}}),Ps.get(r,{headers:{Authorization:`Bearer ${e}`}}),Ps.get(t,{headers:{Authorization:`Bearer ${e}`}}),Ps.get(n,{headers:{Authorization:`Bearer ${e}`}})]);de(a.data),he(o.data.questionSets||o.data),me(l.data.questionSets||l.data),ge(c.data.videos||c.data),be(d.data.pyqs||d.data)}catch(r){console.error("Error fetching assets:",r),Gp.error("Failed to load assets")}})()}),[we,je,ke,Ne,Se,Te,Ee,Ae,Ce]),(0,t.useEffect)((()=>{(async()=>{n(!0);try{const e=ut.get("usertoken");if(!e)return s("Authentication required"),void Ce("/login");let t;"book"===Te?t=Ae?`https://aipbbackend.onrender.com/api/assets/${je}`:`https://aipbbackend.onrender.com/api/assets/${we}`:"chapter"===Te?t=Ae?`https://aipbbackend.onrender.com/api/assets/${je}/chapters/${ke}`:`https://aipbbackend.onrender.com/api/assets/${we}/chapters/${ke}`:"topic"===Te?t=Ae?`https://aipbbackend.onrender.com/api/assets/${je}/chapters/${ke}/topics/${Ne}`:`https://aipbbackend.onrender.com/api/assets/${we}/chapters/${ke}/topics/${Ne}`:"subtopic"===Te&&(t=Ae?`https://aipbbackend.onrender.com/api/assets/${je}/chapters/${ke}/topics/${Ne}/subtopics/${Se}`:`https://aipbbackend.onrender.com/api/assets/${we}/chapters/${ke}/topics/${Ne}/subtopics/${Se}`);const n=await fetch(t,{headers:{Authorization:`Bearer ${e}`}});if(!n.ok)throw new Error(`Failed to fetch ${Te} details`);const r=await n.json();if(!r.success)throw new Error(r.message||`Failed to fetch ${Te} details`);"book"===Te?a(r.book||r.workbook):"chapter"===Te?a(r.chapter):"topic"===Te?a(r.topic):"subtopic"===Te&&a(r.subtopic)}catch(r){console.error(`Error fetching ${Te} details:`,r),s(r.message||"Failed to connect to the server")}finally{n(!1)}})()}),[we,je,ke,Ne,Se,Ce,Te,Ae]);const Pe=()=>{"book"===Te?Ce(Ae?`/ai-workbook/${je}`:`/ai-books/${we}`):"chapter"===Te?Ce(Ae?`/ai-workbook/${je}/chapters/${ke}`:`/ai-books/${we}/chapters/${ke}`):"topic"===Te?Ce(Ae?`/ai-workbook/${je}/chapters/${ke}/topics/${Ne}`:`/ai-books/${we}/chapters/${ke}/topics/${Ne}`):"subtopic"===Te&&Ce(Ae?`/ai-workbook/${je}/chapters/${ke}/topics/${Ne}/subtopics/${Se}`:`/ai-books/${we}/chapters/${ke}/topics/${Ne}/subtopics/${Se}`)},Fe=e=>{ve(e)},Re=e=>{P(e)},De=async e=>{try{const t=ut.get("usertoken"),n=`https://aipbbackend.onrender.com/api/video-assets/videos/${e}`;await Ps.delete(n,{headers:{Authorization:`Bearer ${t}`}}),ge((t=>t.filter((t=>t._id!==e)))),Gp.success("Video deleted successfully")}catch(r){console.error("Error deleting video:",r),Gp.error("Failed to delete video")}},Me=async e=>{try{const t=ut.get("usertoken"),n=`https://aipbbackend.onrender.com/api/pyq-assets/pyqs/${e}`;await Ps.delete(n,{headers:{Authorization:`Bearer ${t}`}}),be((t=>t.filter((t=>t._id!==e)))),Gp.success("PYQ deleted successfully")}catch(r){console.error("Error deleting PYQ:",r),Gp.error("Failed to delete PYQ")}};return e?(0,ht.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,ht.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-indigo-600"})}):r?(0,ht.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,ht.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[(0,ht.jsx)("h3",{className:"font-medium text-red-800",children:"Error"}),(0,ht.jsx)("p",{className:"text-red-700",children:r}),(0,ht.jsxs)("button",{onClick:Pe,className:"mt-3 text-red-600 hover:text-red-800 flex items-center",children:[(0,ht.jsx)(hm,{size:16,className:"mr-1"}),(0,ht.jsx)("span",{children:"Go back"})]})]})}):(0,ht.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,ht.jsx)(nm,{position:"top-right",autoClose:3e3}),(0,ht.jsx)("div",{className:"flex items-center mb-4",children:(0,ht.jsxs)("button",{onClick:Pe,className:"flex items-center text-indigo-600 hover:text-indigo-800 transition-colors",children:[(0,ht.jsx)(hm,{size:18,className:"mr-1"}),(0,ht.jsxs)("span",{children:["Back to"," ","book"===Te?"Book":"chapter"===Te?"Chapter":"topic"===Te?"Topic":"Sub-Topic"]})]})}),(0,ht.jsx)("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 p-6 mb-8",children:(0,ht.jsxs)("div",{className:"flex flex-col md:flex-row gap-8",children:["book"===Te&&(0,ht.jsx)("div",{className:"md:w-1/4 lg:w-1/5",children:(0,ht.jsx)("div",{className:"bg-gradient-to-br from-indigo-50 to-blue-100 rounded-lg h-48 flex items-center justify-center overflow-hidden",children:null!==i&&void 0!==i&&i.coverImage&&!c?(0,ht.jsx)("img",{src:(Ie=i.coverImage,(Ie?Ie.startsWith("http://")||Ie.startsWith("https://")?Ie:`https://aipbbackend.onrender.com/${Ie}`:null)||"/placeholder.svg"),alt:i.title,className:"h-full w-full object-cover rounded-lg",onError:()=>{d(!0)}}):(0,ht.jsx)("div",{className:"text-center",children:(0,ht.jsx)(Et,{size:64,className:"mx-auto text-indigo-400"})})})}),(0,ht.jsx)("div",{className:"book"===Te?"md:w-3/4 lg:w-4/5":"w-full",children:(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsxs)("div",{className:"flex flex-col items-start",children:[(0,ht.jsx)("div",{className:"mb-2 px-3 py-1 bg-gradient-to-r from-indigo-100 to-purple-100 text-indigo-800 rounded-md flex items-center",children:"book"===Te?(0,ht.jsxs)(ht.Fragment,{children:[(0,ht.jsx)(Et,{size:18,className:"mr-2"})," Book Assets"]}):"chapter"===Te?(0,ht.jsxs)(ht.Fragment,{children:[(0,ht.jsx)(Dt,{size:18,className:"mr-2"})," Chapter Assets"]}):"topic"===Te?(0,ht.jsxs)(ht.Fragment,{children:[(0,ht.jsx)(Gs,{size:18,className:"mr-2"})," Topic Assets"]}):(0,ht.jsxs)(ht.Fragment,{children:[(0,ht.jsx)(Tt,{size:18,className:"mr-2"})," Sub-Topic Assets"]})}),(0,ht.jsx)("div",{children:(0,ht.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:null===i||void 0===i?void 0:i.title})})]}),(0,ht.jsx)("p",{className:"text-gray-700 mt-2",children:(null===i||void 0===i?void 0:i.description)||"No description available"})]})})]})}),(0,ht.jsxs)("div",{className:"mb-6",children:[(0,ht.jsx)("div",{className:"flex justify-end mb-4",children:(0,ht.jsxs)("button",{className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-lg hover:shadow-md transition-all duration-200 flex items-center",onClick:()=>j(!0),children:[(0,ht.jsx)("span",{className:"mr-2",children:"Generate Assets"}),(0,ht.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,ht.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z",clipRule:"evenodd"})})]})}),(0,ht.jsxs)("div",{className:"flex border-b border-gray-200",children:[(0,ht.jsx)("button",{className:"py-3 px-6 font-medium text-sm "+("summary"===o?"text-indigo-600 border-b-2 border-indigo-600":"text-gray-600 hover:text-gray-800"),onClick:()=>l("summary"),children:"Summary"}),(0,ht.jsx)("button",{className:"py-3 px-6 font-medium text-sm "+("objective"===o?"text-indigo-600 border-b-2 border-indigo-600":"text-gray-600 hover:text-gray-800"),onClick:()=>l("objective"),children:"Objective"}),(0,ht.jsx)("button",{className:"py-3 px-6 font-medium text-sm "+("subjective"===o?"text-indigo-600 border-b-2 border-indigo-600":"text-gray-600 hover:text-gray-800"),onClick:()=>l("subjective"),children:"Subjective"}),(0,ht.jsx)("button",{className:"py-3 px-6 font-medium text-sm "+("videos"===o?"text-indigo-600 border-b-2 border-indigo-600":"text-gray-600 hover:text-gray-800"),onClick:()=>l("videos"),children:"Videos"}),(0,ht.jsx)("button",{className:"py-3 px-6 font-medium text-sm "+("pyqs"===o?"text-indigo-600 border-b-2 border-indigo-600":"text-gray-600 hover:text-gray-800"),onClick:()=>l("pyqs"),children:"PYQ's"})]}),(0,ht.jsx)("div",{className:"mt-6",children:(()=>{switch(o){case"summary":return(0,ht.jsx)(Rk,{summaries:ce,setShowSummaryModal:h});case"videos":return(0,ht.jsx)(_k,{videos:fe,setShowVideoModal:b,onDeleteVideo:De});case"pyqs":return(0,ht.jsx)(zk,{pyqs:xe,setShowPYQModal:v,onDeletePYQ:Me});case"subjective":return(0,ht.jsx)(Uk,{selectedViewSet:ye,setSelectedViewSet:ve,questionSets:pe,activeLevelTab:S,setActiveLevelTab:C,setShowCreateSetModal:N,setCurrentSet:O,setEditingQuestion:q,setShowSubjectiveModal:g,setDeletingQuestion:W,setShowDeleteConfirmation:G,handleViewAllQuestions:Fe});case"objective":return(0,ht.jsx)(qk,{selectedObjectiveSet:E,setSelectedObjectiveSet:P,objectiveQuestionSets:ue,activeObjectiveLevelTab:F,setActiveObjectiveLevelTab:R,setShowCreateObjectiveSetModal:M,setCurrentObjectiveSet:T,setEditingObjectiveQuestion:X,setShowObjectiveModal:m,setDeletingObjectiveQuestion:Q,setShowDeleteConfirmation:G,handleViewAllObjectiveQuestions:Re});default:return null}})()})]}),(0,ht.jsx)(vk,{showSummaryModal:u,setShowSummaryModal:h,summaryData:J,setSummaryData:Z,summaries:ce,setSummaries:de,itemType:Te,isWorkbook:Ae,bookId:we,workbookId:je,chapterId:ke,topicId:Ne,subtopicId:Se}),(0,ht.jsx)(yk,{isOpen:p,onClose:()=>{m(!1),X(null)},onSubmit:async(e,t)=>{if(t)try{const e=ut.get("usertoken"),n=`https://aipbbackend.onrender.com/api/objective-assets/${Te}/${Ee}/question-sets?isWorkbook=${Ae}`,r=await Ps.get(n,{headers:{Authorization:`Bearer ${e}`}});if(he(r.data.questionSets||r.data),E&&E._id===t._id){const e=(r.data.questionSets||r.data).find((e=>e._id===t._id));e&&P(e)}}catch(r){console.error("Error refreshing objective question sets:",r)}else Gp.error("No question set selected")},initialQuestion:K,currentSet:A}),(0,ht.jsx)(xk,{isOpen:f,onClose:()=>{g(!1),q(null)},onSubmit:async(e,t)=>{if(t)try{const e=ut.get("usertoken"),n=`https://aipbbackend.onrender.com/api/subjective-assets/${Te}/${Ee}/question-sets?isWorkbook=${Ae}`,r=await Ps.get(n,{headers:{Authorization:`Bearer ${e}`}});if(me(r.data.questionSets||r.data),ye&&ye._id===t._id){const e=(r.data.questionSets||r.data).find((e=>e._id===t._id));e&&ve(e)}}catch(r){console.error("Error refreshing question sets:",r)}else Gp.error("No question set selected")},initialQuestion:U,currentSet:L}),(0,ht.jsx)(wk,{showVideoModal:x,setShowVideoModal:b,videoData:ie,setVideoData:ae,videos:fe,setVideos:ge,itemType:Te,itemId:Ee,isWorkbook:Ae,bookId:we,workbookId:je,chapterId:ke,topicId:Ne,subtopicId:Se}),(0,ht.jsx)(jk,{showPYQModal:y,setShowPYQModal:v,pyqData:oe,setPYQData:le,pyqs:xe,setPYQs:be,itemType:Te,itemId:Ee,isWorkbook:Ae,bookId:we,workbookId:je,chapterId:ke,topicId:Ne,subtopicId:Se}),(0,ht.jsx)(kk,{showDeleteConfirmation:H,setShowDeleteConfirmation:G,deletingQuestion:V,setDeletingQuestion:W,deletingObjectiveQuestion:Y,setDeletingObjectiveQuestion:Q,handleDeleteQuestion:async()=>{if(V)try{const e=ut.get("usertoken"),t=`https://aipbbackend.onrender.com/api/subjective-assets/questions/${V._id}`;await Ps.delete(t,{headers:{Authorization:`Bearer ${e}`}});const n=`https://aipbbackend.onrender.com/api/subjective-assets/${Te}/${Ee}/question-sets?isWorkbook=${Ae}`,r=await Ps.get(n,{headers:{Authorization:`Bearer ${e}`}});if(me(r.data.questionSets||r.data),ye){const e=(r.data.questionSets||r.data).find((e=>e._id===ye._id));e&&ve(e)}Gp.success("Question deleted successfully")}catch(r){console.error("Error deleting question:",r),Gp.error("Failed to delete question")}finally{W(null),G(!1)}},handleDeleteObjectiveQuestion:async()=>{if(Y)try{const e=ut.get("usertoken"),t=`https://aipbbackend.onrender.com/api/objective-assets/questions/${Y._id}`;await Ps.delete(t,{headers:{Authorization:`Bearer ${e}`}});const n=`https://aipbbackend.onrender.com/api/objective-assets/${Te}/${Ee}/question-sets?isWorkbook=${Ae}`,r=await Ps.get(n,{headers:{Authorization:`Bearer ${e}`}});if(he(r.data.questionSets||r.data),E){const e=(r.data.questionSets||r.data).find((e=>e._id===E._id));e&&P(e)}Gp.success("Objective question deleted successfully")}catch(r){console.error("Error deleting objective question:",r),Gp.error("Failed to delete objective question")}finally{Q(null),G(!1)}}}),(0,ht.jsx)(Nk,{showCreateSetModal:k,setShowCreateSetModal:N,activeLevelTab:S,subjectiveSets:pe,setSubjectiveSets:me,itemType:Te,isWorkbook:Ae,bookId:we,workbookId:je,chapterId:ke,topicId:Ne,subtopicId:Se}),(0,ht.jsx)(Sk,{showCreateObjectiveSetModal:D,setShowCreateObjectiveSetModal:M,activeObjectiveLevelTab:F,objectiveSets:ue,setObjectiveSets:he,itemType:Te,isWorkbook:Ae,bookId:we,workbookId:je,chapterId:ke,topicId:Ne,subtopicId:Se}),(0,ht.jsx)(Fk,{isOpen:w,onClose:()=>j(!1),itemType:Te,itemId:Ee,isWorkbook:Ae,bookId:we,workbookId:je,chapterId:ke,topicId:Ne,subtopicId:Se,item:i})]});var Ie},Wk=vt("file-type",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 13v-1h6v1",key:"1bb014"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"M11 18h2",key:"12mj7e"}]]),Hk=e=>{let{type:n}=e;const[r,s]=(0,t.useState)([]),[i,a]=(0,t.useState)(!0),[o,l]=(0,t.useState)(null),[c,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)(!1),[p,m]=(0,t.useState)("all"),[f,g]=(0,t.useState)([]),[x,b]=(0,t.useState)("file"),y=(0,t.useRef)(""),v=(0,t.useRef)(""),w=(0,t.useRef)(""),j=(0,t.useRef)(null),[k,N]=(0,t.useState)([]),{bookId:S,chapterId:C,topicId:A,subtopicId:T}=te(),E=$(),P=[{id:"all",label:"All",icon:Wk},{id:"image",label:"Images",icon:Fs},{id:"video",label:"Videos",icon:Ft},{id:"pdf",label:"PDFs",icon:Dt},{id:"url",label:"URLs",icon:Ds},{id:"website",label:"Websites",icon:Ms},{id:"youtube",label:"YouTube",icon:Rs},{id:"text",label:"Text",icon:Dt}],F=()=>"book"===n&&S?`https://aipbbackend.onrender.com/api/datastores/book/${S}`:"chapter"===n&&S&&C?`https://aipbbackend.onrender.com/api/datastores/chapter/${C}`:"topic"===n&&S&&C&&A?`https://aipbbackend.onrender.com/api/datastores/topic/${A}`:"subtopic"===n&&S&&C&&A&&T?`https://aipbbackend.onrender.com/api/datastores/subtopic/${T}`:null,R=async()=>{a(!0);const e=F();if(!e)return l("Invalid parameters"),void a(!1);try{const t=ut.get("usertoken");if(!t)return l("Authentication required"),void E("/login");const n=await fetch(e,{headers:{Authorization:`Bearer ${t}`}}),r=await n.json();r.success?(s(r.items||[]),g(r.items||[])):l(r.message||"Failed to fetch items")}catch(o){console.error("Error fetching items:",o),l("Failed to connect to the server")}finally{a(!1)}};(0,t.useEffect)((()=>{R()}),[S,C,A,T]),(0,t.useEffect)((()=>{if("all"===p)return void g(r);let e;switch(p){case"image":e=r.filter((e=>{var t;return null===(t=e.fileType)||void 0===t?void 0:t.startsWith("image/")}));break;case"video":e=r.filter((e=>{var t;return null===(t=e.fileType)||void 0===t?void 0:t.startsWith("video/")}));break;case"pdf":e=r.filter((e=>"application/pdf"===e.fileType));break;case"url":e=r.filter((e=>"url"===e.itemType));break;case"website":e=r.filter((e=>"website"===e.itemType));break;case"youtube":e=r.filter((e=>"youtube"===e.itemType));break;case"text":e=r.filter((e=>"text"===e.itemType));break;default:e=r}g(e)}),[p,r]);const D=e=>{const t=Array.from(e.target.files);N(t),t.length>0&&!y.current.value&&(y.current.value=t[0].name)},M=async e=>{e.preventDefault();const t=y.current.value,n=v.current.value,r=w.current.value;if("file"!==x||0!==k.length)if("file"===x||r)if(t){d(!0);try{const e=ut.get("usertoken");if(!e)return void Gp.error("Authentication required");const s=F();if(!s)return void Gp.error("Invalid parameters");let i=[];if("file"===x){const e=k.map((async e=>{const r=new FormData;r.append("file",e),r.append("upload_preset","post_blog");const s=await fetch("https://api.cloudinary.com/v1_1/dsbuzlxpw/upload",{method:"POST",body:r}),i=await s.json();return{name:t||e.name,description:n,url:i.secure_url,fileType:e.type,itemType:I(e)}}));i=await Promise.all(e)}else i=[{name:t,description:n,url:r,fileType:"url/link",itemType:x}];const a=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({items:i})}),o=await a.json();o.success?(Gp.success("Item(s) added successfully!"),R(),y.current.value="",v.current.value="",w.current.value="",N([]),b("file"),h(!1),j.current&&(j.current.value="")):Gp.error(o.message||"Failed to save items")}catch(o){console.error("Error uploading items:",o),Gp.error("An error occurred while uploading")}finally{d(!1)}}else Gp.error("Title is required");else Gp.error("URL is required");else Gp.error("Please select at least one file")},I=e=>{const t=e.type;return t.startsWith("image/")?"image":t.startsWith("video/")?"video":"application/pdf"===t?"pdf":"file"},_=e=>{var t,n;return null!==(t=e.fileType)&&void 0!==t&&t.startsWith("image/")?(0,ht.jsx)(Fs,{size:32,className:"text-blue-500"}):null!==(n=e.fileType)&&void 0!==n&&n.startsWith("video/")?(0,ht.jsx)(Ft,{size:32,className:"text-purple-500"}):"application/pdf"===e.fileType?(0,ht.jsx)(Dt,{size:32,className:"text-red-500"}):"url"===e.itemType?(0,ht.jsx)(Ds,{size:32,className:"text-green-500"}):"website"===e.itemType?(0,ht.jsx)(Ms,{size:32,className:"text-indigo-500"}):"youtube"===e.itemType?(0,ht.jsx)(Rs,{size:32,className:"text-red-600"}):"text"===e.itemType?(0,ht.jsx)(Dt,{size:32,className:"text-gray-600"}):(0,ht.jsx)(Dt,{size:32,className:"text-gray-400"})},L=()=>{E("book"===n?`/ai-books/${S}`:"chapter"===n?`/ai-books/${S}/chapters/${C}`:"topic"===n?`/ai-books/${S}/chapters/${C}/topics/${A}`:"subtopic"===n?`/ai-books/${S}/chapters/${C}/topics/${A}/subtopics/${T}`:"/ai-books")},O=()=>(0,ht.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:(0,ht.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl",children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,ht.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Add New Item"}),(0,ht.jsx)("button",{onClick:()=>h(!1),className:"text-gray-500 hover:text-gray-800",children:"\xd7"})]}),(0,ht.jsxs)("form",{onSubmit:M,children:[(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Item Type"}),(0,ht.jsxs)("div",{className:"grid grid-cols-4 gap-2",children:[(0,ht.jsxs)("button",{type:"button",onClick:()=>b("file"),className:"p-3 border rounded-md flex flex-col items-center "+("file"===x?"border-indigo-500 bg-indigo-50":"border-gray-200"),children:[(0,ht.jsx)(_s,{size:24,className:"mb-1"}),(0,ht.jsx)("span",{children:"File"})]}),(0,ht.jsxs)("button",{type:"button",onClick:()=>b("url"),className:"p-3 border rounded-md flex flex-col items-center "+("url"===x?"border-indigo-500 bg-indigo-50":"border-gray-200"),children:[(0,ht.jsx)(Ds,{size:24,className:"mb-1"}),(0,ht.jsx)("span",{children:"URL"})]}),(0,ht.jsxs)("button",{type:"button",onClick:()=>b("youtube"),className:"p-3 border rounded-md flex flex-col items-center "+("youtube"===x?"border-indigo-500 bg-indigo-50":"border-gray-200"),children:[(0,ht.jsx)(Rs,{size:24,className:"mb-1"}),(0,ht.jsx)("span",{children:"YouTube"})]}),(0,ht.jsxs)("button",{type:"button",onClick:()=>b("website"),className:"p-3 border rounded-md flex flex-col items-center "+("website"===x?"border-indigo-500 bg-indigo-50":"border-gray-200"),children:[(0,ht.jsx)(Ms,{size:24,className:"mb-1"}),(0,ht.jsx)("span",{children:"Website"})]}),(0,ht.jsxs)("button",{type:"button",onClick:()=>b("text"),className:"p-3 border rounded-md flex flex-col items-center "+("text"===x?"border-indigo-500 bg-indigo-50":"border-gray-200"),children:[(0,ht.jsx)(Dt,{size:24,className:"mb-1"}),(0,ht.jsx)("span",{children:"Text"})]})]})]}),(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Title*"}),(0,ht.jsx)("input",{type:"text",className:"w-full p-3 border border-gray-300 rounded-md",ref:y,placeholder:"Enter title",required:!0})]}),(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Description"}),(0,ht.jsx)("textarea",{className:"w-full p-3 border border-gray-300 rounded-md",ref:v,placeholder:"Enter description",rows:"3"})]}),"file"===x?(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"File Upload*"}),(0,ht.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-md p-6 text-center",children:[(0,ht.jsx)("input",{type:"file",id:"fileUpload",className:"hidden",ref:j,multiple:!0,onChange:D}),(0,ht.jsxs)("label",{htmlFor:"fileUpload",className:"cursor-pointer",children:[(0,ht.jsx)(_s,{size:36,className:"mx-auto text-gray-400 mb-2"}),(0,ht.jsx)("p",{className:"text-gray-600",children:"Click to browse or drag and drop files here"})]}),k.length>0&&(0,ht.jsxs)("div",{className:"mt-3 text-sm text-gray-600",children:[k.length," file(s) selected"]})]})]}):(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"youtube"===x?"YouTube URL*":"website"===x?"Website URL*":"text"===x?"Text Content*":"URL*"}),"text"===x?(0,ht.jsx)("textarea",{className:"w-full p-3 border border-gray-300 rounded-md",ref:w,placeholder:"Enter your text content here",rows:"5",required:!0}):(0,ht.jsx)("input",{type:"text",className:"w-full p-3 border border-gray-300 rounded-md",ref:w,placeholder:`Enter ${x} URL`,required:!0})]}),(0,ht.jsxs)("div",{className:"flex justify-end mt-6",children:[(0,ht.jsx)("button",{type:"button",onClick:()=>h(!1),className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-md mr-2 hover:bg-gray-200",children:"Cancel"}),(0,ht.jsx)("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 flex items-center",disabled:c,children:c?(0,ht.jsxs)(ht.Fragment,{children:[(0,ht.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-white mr-2"}),(0,ht.jsx)("span",{children:"Uploading..."})]}):(0,ht.jsxs)(ht.Fragment,{children:[(0,ht.jsx)(_s,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Upload"})]})})]})]})]})});return i?(0,ht.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,ht.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-indigo-600"})}):o?(0,ht.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,ht.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start",children:[(0,ht.jsx)(gp,{className:"text-red-500 mr-3 flex-shrink-0 mt-0.5",size:20}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("h3",{className:"font-medium text-red-800",children:"Error"}),(0,ht.jsx)("p",{className:"text-red-700",children:o}),(0,ht.jsxs)("button",{onClick:L,className:"mt-3 text-red-600 hover:text-red-800 flex items-center",children:[(0,ht.jsx)(hm,{size:16,className:"mr-1"}),(0,ht.jsx)("span",{children:"Go back"})]})]})]})}):(0,ht.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,ht.jsx)(nm,{position:"top-right",autoClose:3e3}),u&&(0,ht.jsx)(O,{}),(0,ht.jsx)("div",{className:"flex items-center mb-4",children:(0,ht.jsxs)("button",{onClick:L,className:"flex items-center text-indigo-600 hover:text-indigo-800 transition-colors",children:[(0,ht.jsx)(hm,{size:18,className:"mr-1"}),(0,ht.jsxs)("span",{children:["Back to ","book"===n?"Book":"chapter"===n?"Chapter":"topic"===n?"Topic":"Sub-Topic"]})]})}),(0,ht.jsxs)("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 p-6 mb-8",children:[(0,ht.jsxs)("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:["book"===n?"Book":"chapter"===n?"Chapter":"topic"===n?"Topic":"Sub-Topic"," Data Store"]}),(0,ht.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between mb-8",children:[(0,ht.jsxs)("p",{className:"text-gray-600",children:["Upload and manage files related to this ","book"===n?"book":"chapter"===n?"chapter":"topic"===n?"topic":"sub-topic","."]}),(0,ht.jsxs)("button",{onClick:()=>h(!0),className:"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 transition-colors flex items-center",children:[(0,ht.jsx)(_s,{size:18,className:"mr-2"}),(0,ht.jsx)("span",{children:"Add New Item"})]})]}),(0,ht.jsx)("div",{className:"mb-6 overflow-x-auto",children:(0,ht.jsx)("div",{className:"flex space-x-2 pb-2",children:P.map((e=>(0,ht.jsxs)("button",{onClick:()=>m(e.id),className:"flex items-center px-3 py-2 rounded-md text-sm whitespace-nowrap "+(p===e.id?"bg-indigo-100 text-indigo-700 font-medium":"bg-gray-50 text-gray-700 hover:bg-gray-100"),children:[(0,ht.jsx)(e.icon,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:e.label})]},e.id)))})}),0===f.length?(0,ht.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-lg border border-gray-200",children:[(0,ht.jsx)(Dt,{size:48,className:"mx-auto text-gray-400 mb-3"}),(0,ht.jsx)("h3",{className:"text-lg font-medium text-gray-700",children:"No items found"}),(0,ht.jsx)("p",{className:"text-gray-500 mt-1",children:"all"!==p?`No ${p} items available. Try a different filter or add new items.`:"Upload files to get started"})]}):(0,ht.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map((e=>{var t,n;return(0,ht.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden flex flex-col",children:[(0,ht.jsx)("div",{className:"p-4 border-b border-gray-100",children:(0,ht.jsxs)("div",{className:"flex justify-between items-start",children:[(0,ht.jsxs)("div",{className:"flex-1 pr-2",children:[(0,ht.jsx)("h3",{className:"font-medium text-gray-800 mb-1 line-clamp-1",children:e.name}),e.description&&(0,ht.jsx)("p",{className:"text-sm text-gray-500 line-clamp-2",children:e.description})]}),(0,ht.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this item?"))try{const t=ut.get("usertoken");if(!t)return void Gp.error("Authentication required");const n=`${F()}/${e}`,i=await fetch(n,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}}),a=await i.json();a.success?(Gp.success("Item deleted successfully!"),s(r.filter((t=>t._id!==e)))):Gp.error(a.message||"Failed to delete item")}catch(o){console.error("Error deleting item:",o),Gp.error("An error occurred while deleting the item")}})(e._id),className:"text-red-500 hover:text-red-700 ml-2 flex-shrink-0",children:(0,ht.jsx)(qs,{size:18})})]})}),(0,ht.jsx)("div",{className:"flex-1 p-4 flex items-center justify-center bg-gray-50",children:null!==(t=e.fileType)&&void 0!==t&&t.startsWith("image/")?(0,ht.jsx)("div",{className:"h-36 w-full overflow-hidden",children:(0,ht.jsx)("img",{src:e.url,alt:e.name,className:"w-full h-full object-cover"})}):"youtube"===e.itemType?(0,ht.jsx)("div",{className:"relative w-full pt-[56.25%]",children:(0,ht.jsx)("iframe",{className:"absolute top-0 left-0 w-full h-full",src:e.url.replace("watch?v=","embed/"),title:e.name,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):(0,ht.jsxs)("div",{className:"flex flex-col items-center justify-center py-4",children:[_(e),(0,ht.jsx)("span",{className:"text-sm text-gray-500 mt-2",children:e.itemType||(null===(n=e.fileType)||void 0===n?void 0:n.split("/")[1])||"File"})]})}),(0,ht.jsx)("div",{className:"p-3 bg-gray-50 border-t border-gray-100 mt-auto",children:(0,ht.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:text-indigo-800 text-sm font-medium flex items-center justify-center",children:(0,ht.jsx)("span",{children:"text"===e.itemType?"View Text":"Open"})})})]},e._id)}))})]})]})},Gk=e=>{let{item:t}=e;return(0,ht.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:(0,ht.jsxs)("div",{className:"flex items-start",children:[(0,ht.jsx)("div",{className:"p-2 bg-gray-100 rounded-full mr-4",children:(()=>{switch(t.type){case"pdf":return(0,ht.jsx)(Is,{className:"text-red-500",size:20});case"image":return(0,ht.jsx)(Fs,{className:"text-blue-500",size:20});case"video":case"youtube":return(0,ht.jsx)(Rs,{className:"text-red-500",size:20});default:return(0,ht.jsx)(Ds,{className:"text-indigo-500",size:20})}})()}),(0,ht.jsxs)("div",{className:"flex-1",children:[(0,ht.jsx)("h3",{className:"font-medium text-gray-800",children:t.title}),(0,ht.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:t.description||"No description"}),(0,ht.jsx)("div",{className:"mt-2",children:(0,ht.jsx)("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-indigo-600 hover:text-indigo-800",children:"View Resource"})})]})]})})},Kk=()=>{const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)(!0),[i,a]=(0,t.useState)(null),{type:o,id:l}=te(),c=$();(0,t.useEffect)((()=>{(async()=>{s(!0);try{const e=ut.get("usertoken");if(!e)return a("Authentication required"),void c("/login");let t="";t="book"===o?`https://aipbbackend.onrender.com/api/datastores/book/${l}/items`:"chapter"===o?`https://aipbbackend.onrender.com/api/datastores/chapter/${l}/items`:"topic"===o?`https://aipbbackend.onrender.com/api/datastores/topic/${l}/items`:`https://aipbbackend.onrender.com/api/datastores/book/${l}/items`;const r=await fetch(t,{headers:{Authorization:`Bearer ${e}`}}),s=await r.json();s.success?n(s.items):a(s.message||"Failed to fetch items")}catch(i){console.error("Error fetching datastore items:",i),a("Failed to connect to the server")}finally{s(!1)}})()}),[o,l,c]);const d=()=>{if("book"===o)c(`/ai-books/${l}`);else if("chapter"===o){const e=window.location.pathname.split("/")[3];c(`/ai-books/${e}/chapters/${l}`)}else if("topic"===o){const[e,t]=window.location.pathname.split("/").slice(3,5);c(`/ai-books/${e}/chapters/${t}/topics/${l}`)}};return r?(0,ht.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,ht.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-indigo-600"})}):i?(0,ht.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,ht.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start",children:[(0,ht.jsx)(gp,{className:"text-red-500 mr-3 flex-shrink-0 mt-0.5",size:20}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("h3",{className:"font-medium text-red-800",children:"Error"}),(0,ht.jsx)("p",{className:"text-red-700",children:i}),(0,ht.jsxs)("button",{onClick:d,className:"mt-3 text-red-600 hover:text-red-800 flex items-center",children:[(0,ht.jsx)(hm,{size:16,className:"mr-1"}),(0,ht.jsx)("span",{children:"Go back"})]})]})]})}):(0,ht.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,ht.jsx)(nm,{position:"top-right",autoClose:3e3}),(0,ht.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ht.jsxs)("button",{onClick:d,className:"flex items-center text-indigo-600 hover:text-indigo-800 transition-colors",children:[(0,ht.jsx)(hm,{size:18,className:"mr-1"}),(0,ht.jsx)("span",{children:"Go back"})]}),(0,ht.jsxs)("button",{onClick:()=>c("/datastores"),className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors",children:[(0,ht.jsx)(zs,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Add New Item"})]})]}),(0,ht.jsxs)("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:["book"===o&&"Book","chapter"===o&&"Chapter","topic"===o&&"Topic"," Datastore Items"]}),0===e.length?(0,ht.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-8 text-center",children:[(0,ht.jsx)(Mt,{size:64,className:"mx-auto text-gray-400 mb-4"}),(0,ht.jsx)("h3",{className:"text-xl font-medium text-gray-800 mb-2",children:"No items found"}),(0,ht.jsxs)("p",{className:"text-gray-600 mb-6",children:["Add items to this ",o," datastore to see them here"]}),(0,ht.jsxs)("button",{onClick:()=>c("/datastores"),className:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors",children:[(0,ht.jsx)(zs,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Add Item"})]})]}):(0,ht.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map((e=>(0,ht.jsx)(Gk,{item:e},e._id)))})]})},Xk=()=>{const[e,n]=(0,t.useState)({name:"Loading..."}),[r,s]=(0,t.useState)([]),[i,a]=(0,t.useState)([]),[o,l]=(0,t.useState)(!0);return(0,t.useEffect)((()=>{const e=ut.get("user");if(e){const t=JSON.parse(e);n(t)}(async()=>{try{setTimeout((()=>{s([{id:1,type:"book",title:"Introduction to Machine Learning",date:"2 hours ago",progress:35},{id:2,type:"test",title:"Algebra Quiz 2",date:"1 day ago",score:85},{id:3,type:"chat",title:"Chat with Math Tutor",date:"3 days ago",messages:12}]),a([{id:1,title:"Advanced Physics",image:"https://via.placeholder.com/150",category:"Science"},{id:2,title:"World History",image:"https://via.placeholder.com/150",category:"History"},{id:3,title:"Calculus Made Easy",image:"https://via.placeholder.com/150",category:"Mathematics"},{id:4,title:"English Literature",image:"https://via.placeholder.com/150",category:"Literature"}]),l(!1)}),1e3)}catch(hf){console.error("Error fetching data:",hf),l(!1)}})()}),[]),o?(0,ht.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,ht.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600"})}):(0,ht.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,ht.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:[(0,ht.jsxs)("h1",{className:"text-2xl font-bold text-gray-800",children:["Welcome back, ",e.name||"Student","!"]}),(0,ht.jsx)("p",{className:"text-gray-600 mt-2",children:"Continue your learning journey with personalized content and resources."})]}),(0,ht.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,ht.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[(0,ht.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ht.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Recent Activity"}),(0,ht.jsx)(rt,{to:"/my-library",className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View All"})]}),(0,ht.jsx)("div",{className:"space-y-4",children:r.map((e=>(0,ht.jsxs)("div",{className:"flex items-center p-3 hover:bg-gray-50 rounded-lg transition-colors",children:[(0,ht.jsxs)("div",{className:"rounded-full w-10 h-10 flex items-center justify-center bg-blue-100 text-blue-600",children:["book"===e.type&&(0,ht.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,ht.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),"test"===e.type&&(0,ht.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,ht.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),"chat"===e.type&&(0,ht.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,ht.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})]}),(0,ht.jsxs)("div",{className:"ml-4 flex-grow",children:[(0,ht.jsx)("div",{className:"font-medium",children:e.title}),(0,ht.jsx)("div",{className:"text-sm text-gray-500",children:e.date})]}),(0,ht.jsxs)("div",{children:[e.progress&&(0,ht.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,ht.jsxs)("span",{className:"font-medium",children:[e.progress,"%"]})," complete"]}),e.score&&(0,ht.jsxs)("div",{className:"text-sm text-gray-600",children:["Score: ",(0,ht.jsxs)("span",{className:"font-medium",children:[e.score,"%"]})]}),e.messages&&(0,ht.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,ht.jsx)("span",{className:"font-medium",children:e.messages})," messages"]})]})]},e.id)))})]}),(0,ht.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ht.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Recommended Books"}),(0,ht.jsx)(rt,{to:"/ai-books",className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Browse Library"})]}),(0,ht.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:i.map((e=>(0,ht.jsxs)("div",{className:"rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[(0,ht.jsx)("img",{src:"/api/placeholder/150/200",alt:e.title,className:"w-full h-40 object-cover"}),(0,ht.jsxs)("div",{className:"p-3",children:[(0,ht.jsx)("h3",{className:"font-medium text-gray-800 truncate",children:e.title}),(0,ht.jsx)("p",{className:"text-sm text-gray-500",children:e.category})]})]},e.id)))})]})]}),(0,ht.jsxs)("div",{className:"space-y-8",children:[(0,ht.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,ht.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Quick Access"}),(0,ht.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ht.jsxs)(rt,{to:"/ai-books",className:"flex flex-col items-center p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:[(0,ht.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,ht.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),(0,ht.jsx)("span",{className:"mt-2 text-sm font-medium",children:"AI Books"})]}),(0,ht.jsxs)(rt,{to:"/tests",className:"flex flex-col items-center p-4 bg-green-50 rounded-lg hover:bg-green-100 transition-colors",children:[(0,ht.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,ht.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),(0,ht.jsx)("span",{className:"mt-2 text-sm font-medium",children:"Tests"})]}),(0,ht.jsxs)(rt,{to:"/ai",className:"flex flex-col items-center p-4 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors",children:[(0,ht.jsx)("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,ht.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),(0,ht.jsx)("span",{className:"mt-2 text-sm font-medium",children:"AI Chat"})]}),(0,ht.jsxs)(rt,{to:"/lectures",className:"flex flex-col items-center p-4 bg-yellow-50 rounded-lg hover:bg-yellow-100 transition-colors",children:[(0,ht.jsx)("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,ht.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),(0,ht.jsx)("span",{className:"mt-2 text-sm font-medium",children:"Lectures"})]})]})]}),(0,ht.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,ht.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Learning Progress"}),(0,ht.jsxs)("div",{className:"space-y-4",children:[(0,ht.jsxs)("div",{children:[(0,ht.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,ht.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Physics"}),(0,ht.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"45%"})]}),(0,ht.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,ht.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"45%"}})})]}),(0,ht.jsxs)("div",{children:[(0,ht.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,ht.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Mathematics"}),(0,ht.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"70%"})]}),(0,ht.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,ht.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"70%"}})})]}),(0,ht.jsxs)("div",{children:[(0,ht.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,ht.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Chemistry"}),(0,ht.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"30%"})]}),(0,ht.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,ht.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"30%"}})})]}),(0,ht.jsxs)("div",{children:[(0,ht.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,ht.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Literature"}),(0,ht.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"85%"})]}),(0,ht.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,ht.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"85%"}})})]})]})]})]})]})]})},Yk=vt("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Qk=vt("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),Jk=()=>{const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)(""),[i,a]=(0,t.useState)(!1),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)(""),[u,h]=(0,t.useState)(""),[p,m]=(0,t.useState)(!1),f=(0,t.useRef)(null),g=(0,t.useRef)(null),{id:x}=te(),b=$(),y=Q(),v=new URLSearchParams(y.search),w=v.get("type"),j=v.get("title"),k=v.get("chapterId"),N=v.get("topicId"),S=v.get("subtopicId");(0,t.useEffect)((()=>{if(w&&j){h(w),d(j);const e={id:Date.now(),sender:"bot",text:C(w,j),timestamp:(new Date).toISOString()};n([e])}}),[w,j]),(0,t.useEffect)((()=>{A()}),[e]);const C=(e,t)=>{switch(e){case"book":return`Hello! How can I help you with the book "${t}"?`;case"chapter":return`Hello! How can I help you with the chapter "${t}"?`;case"topic":return`Hello! How can I help you with the topic "${t}"?`;case"subtopic":return`Hello! How can I help you with the sub-topic "${t}"?`;default:return"Hello! How can I help you today?"}},A=()=>{var e;null===(e=f.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},T=async e=>{if(e.preventDefault(),!r.trim())return;const t={id:Date.now(),sender:"user",text:r,timestamp:(new Date).toISOString()};n((e=>[...e,t])),s(""),l(!0);try{if(!ut.get("usertoken"))return Gp.error("Authentication required"),void b("/login");a(!0),setTimeout((()=>{const e=E(r,w,c),t={id:Date.now()+1,sender:"bot",text:e,timestamp:(new Date).toISOString()};n((e=>[...e,t])),l(!1),a(!1)}),1e3)}catch(hf){console.error("Error sending message:",hf),Gp.error("An error occurred while sending your message"),l(!1)}finally{var i;a(!1),null===(i=g.current)||void 0===i||i.focus()}},E=(e,t,n)=>{const r=e.toLowerCase();return"book"===t?r.includes("summary")||r.includes("about")?`"${n}" is a comprehensive guide covering various topics. The book is structured into chapters, each focusing on specific concepts. You can explore individual chapters for more detailed information.`:r.includes("chapter")||r.includes("content")?"This book contains multiple chapters on different topics. You can navigate to specific chapters from the book detail page to learn more about each topic.":`I'm here to help you with information about "${n}". You can ask about specific chapters, topics, or any questions related to the content.`:"chapter"===t?r.includes("summary")||r.includes("about")?`The chapter "${n}" covers key concepts related to this specific topic. It contains multiple subtopics and explanations to help you understand the material better.`:r.includes("topic")||r.includes("concept")?"This chapter discusses several important topics. You can view detailed information about each topic by navigating to them from the chapter detail page.":`I'm here to help you with information about the chapter "${n}". Feel free to ask specific questions about the topics covered in this chapter.`:"topic"===t?r.includes("summary")||r.includes("about")?`The topic "${n}" explores important concepts and provides detailed explanations. It may contain multiple sub-topics that break down complex ideas into manageable sections.`:r.includes("subtopic")||r.includes("detail")?"This topic contains various sub-topics that provide in-depth information. You can navigate to individual sub-topics from the topic detail page.":r.includes("example")||r.includes("illustration")?`The topic "${n}" includes practical examples to help illustrate key concepts. These examples demonstrate how to apply theoretical knowledge in real-world scenarios.`:`I'm here to help you understand the topic "${n}". Feel free to ask about specific concepts, examples, or any other aspects of this topic you'd like to explore.`:"subtopic"===t?r.includes("summary")||r.includes("about")?`The sub-topic "${n}" provides detailed information about a specific aspect of the parent topic. It contains focused content that elaborates on key concepts.`:r.includes("example")||r.includes("illustration")?`The sub-topic "${n}" includes specific examples that help clarify the concepts being discussed. These examples are designed to make the content more accessible and practical.`:r.includes("relation")||r.includes("parent")||r.includes("topic")?`This sub-topic is part of a larger topic structure. It focuses specifically on "${n}" while the parent topic provides a broader context for this information.`:r.includes("detail")||r.includes("depth")?`The sub-topic "${n}" goes into greater depth on specific aspects of the parent topic. It provides more detailed explanations and examples to enhance understanding.`:`I'm here to help you understand the sub-topic "${n}". Feel free to ask specific questions about the concepts, examples, or any other aspects of this sub-topic you'd like to explore.`:`I'm here to help you with information about "${n}". Please let me know what specific information you're looking for.`};return(0,ht.jsxs)("div",{className:"flex flex-col h-screen bg-gray-50",children:[(0,ht.jsx)(nm,{position:"top-right",autoClose:3e3}),(0,ht.jsx)("div",{className:"bg-white border-b border-gray-200 p-4",children:(0,ht.jsxs)("div",{className:"flex items-center justify-between container mx-auto",children:[(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsx)("button",{onClick:()=>{b("book"===w?`/ai-books/${x}`:"chapter"===w?`/ai-books/${x}/chapters/${k}`:"topic"===w?`/ai-books/${x}/chapters/${k}/topics/${N}`:"subtopic"===w?`/ai-books/${x}/chapters/${k}/topics/${N}/subtopics/${S}`:"/ai-books")},className:"flex items-center text-gray-600 hover:text-gray-900 mr-4",children:(0,ht.jsx)(hm,{size:20})}),(0,ht.jsx)("h1",{className:"text-xl font-semibold text-gray-800",children:(()=>{switch(u){case"book":return`Chat with book: ${c}`;case"chapter":return`Chat with chapter: ${c}`;case"topic":return`Chat with topic: ${c}`;case"subtopic":return`Chat with sub-topic: ${c}`;default:return"Chat"}})()})]}),(0,ht.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ht.jsx)("button",{onClick:()=>m(!p),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full",title:"Information",children:(0,ht.jsx)(Yk,{size:20})}),(0,ht.jsx)("button",{onClick:()=>{const e={id:Date.now(),sender:"bot",text:C(u,c),timestamp:(new Date).toISOString()};n([e])},className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full",title:"Clear chat",children:(0,ht.jsx)(qs,{size:20})})]})]})}),p&&(0,ht.jsx)("div",{className:"bg-blue-50 border-b border-blue-200 p-4",children:(0,ht.jsx)("div",{className:"container mx-auto",children:(0,ht.jsxs)("div",{className:"flex items-start",children:[(0,ht.jsx)(Yk,{size:20,className:"text-blue-500 mr-2 mt-1 flex-shrink-0"}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("h3",{className:"font-medium text-blue-800",children:"About this chat"}),(0,ht.jsx)("p",{className:"text-blue-700 text-sm",children:(()=>{switch(u){case"book":return`This AI assistant can help you understand and navigate the book "${c}". You can ask questions about chapters, topics, and content.`;case"chapter":return`This AI assistant can help you understand the chapter "${c}". You can ask questions about specific topics and concepts covered.`;case"topic":return`This AI assistant can help you understand the topic "${c}". You can ask questions about concepts, examples, and related sub-topics.`;case"subtopic":return`This AI assistant can help you understand the sub-topic "${c}". You can ask questions about specific details, examples, and how it relates to the parent topic.`;default:return"This AI assistant can help answer your questions about AI books."}})()})]})]})})}),(0,ht.jsx)("div",{className:"flex-grow overflow-y-auto p-4 container mx-auto",children:(0,ht.jsxs)("div",{className:"max-w-3xl mx-auto",children:[e.map((e=>{return(0,ht.jsx)("div",{className:"flex mb-4 "+("user"===e.sender?"justify-end":"justify-start"),children:(0,ht.jsxs)("div",{className:"flex max-w-[80%] "+("user"===e.sender?"flex-row-reverse items-end":"items-start"),children:[(0,ht.jsx)("div",{className:"flex-shrink-0 h-8 w-8 rounded-full flex items-center justify-center mr-2 "+("user"===e.sender?"bg-indigo-100 ml-2":"bg-green-100"),children:"user"===e.sender?(0,ht.jsx)(Nt,{size:16,className:"text-indigo-600"}):(0,ht.jsx)(At,{size:16,className:"text-green-600"})}),(0,ht.jsxs)("div",{className:"relative group rounded-lg py-2 px-4 "+("user"===e.sender?"bg-indigo-600 text-white":"bg-white border border-gray-200 text-gray-800"),children:[(0,ht.jsx)("p",{className:"whitespace-pre-wrap",children:e.text}),(0,ht.jsx)("div",{className:"text-xs mt-1 opacity-70",children:(t=e.timestamp,new Date(t).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))}),(0,ht.jsx)("button",{onClick:()=>{return t=e.text,void navigator.clipboard.writeText(t).then((()=>Gp.success("Copied to clipboard"))).catch((()=>Gp.error("Failed to copy text")));var t},className:"absolute top-2 right-2 p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity "+("user"===e.sender?"hover:bg-indigo-700 text-indigo-100":"hover:bg-gray-100 text-gray-500"),title:"Copy to clipboard",children:(0,ht.jsx)(sp,{size:14})})]})]})},e.id);var t})),o&&(0,ht.jsx)("div",{className:"flex mb-4 justify-start",children:(0,ht.jsxs)("div",{className:"flex items-start",children:[(0,ht.jsx)("div",{className:"flex-shrink-0 h-8 w-8 rounded-full flex items-center justify-center mr-2 bg-green-100",children:(0,ht.jsx)(At,{size:16,className:"text-green-600"})}),(0,ht.jsx)("div",{className:"bg-white border border-gray-200 text-gray-800 rounded-lg py-2 px-4",children:(0,ht.jsxs)("div",{className:"flex space-x-1",children:[(0,ht.jsx)("div",{className:"h-2 w-2 bg-gray-400 rounded-full animate-bounce"}),(0,ht.jsx)("div",{className:"h-2 w-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),(0,ht.jsx)("div",{className:"h-2 w-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]})})]})}),(0,ht.jsx)("div",{ref:f})]})}),(0,ht.jsx)("div",{className:"border-t border-gray-200 bg-white p-4",children:(0,ht.jsx)("div",{className:"container mx-auto",children:(0,ht.jsx)("div",{className:"max-w-3xl mx-auto",children:(0,ht.jsxs)("form",{onSubmit:T,className:"flex items-end",children:[(0,ht.jsxs)("div",{className:"flex-grow",children:[(0,ht.jsx)("textarea",{ref:g,value:r,onChange:e=>s(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),T(e))},placeholder:"Type your message...",className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none",rows:"2",disabled:i}),(0,ht.jsx)("p",{className:"text-xs text-gray-500 mt-1 ml-1",children:"Press Enter to send, Shift+Enter for new line"})]}),(0,ht.jsx)("button",{type:"submit",disabled:i||!r.trim(),className:"ml-2 px-4 py-2 rounded-lg flex items-center justify-center "+(i||!r.trim()?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700"),children:i?(0,ht.jsx)("div",{className:"animate-spin h-5 w-5 border-2 border-white border-t-transparent rounded-full"}):(0,ht.jsx)(Qk,{size:18})})]})})})})]})},Zk=vt("music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),$k=vt("archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),eN=()=>{const[e,n]=(0,t.useState)(null),[r,s]=(0,t.useState)(!0),[i,a]=(0,t.useState)(null),{bookId:o}=te(),l=$();(0,t.useEffect)((()=>{o&&(async()=>{s(!0);try{const e=await fetch(`https://aipbbackend.onrender.com/api/qrcode/book-data/${o}`),t=await e.json();t.success?n(t):a(t.message||"Failed to fetch book data")}catch(i){console.error("Error fetching book data:",i),a("Failed to connect to the server")}finally{s(!1)}})()}),[o,l]);const c=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:`https://aipbbackend.onrender.com/${e}`:null,d=e=>{if(!e)return(0,ht.jsx)(Is,{className:"text-gray-600"});const t=e.toLowerCase();return t.includes("image/")?(0,ht.jsx)(Fs,{className:"text-green-600"}):t.includes("audio/")||t.includes("music")?(0,ht.jsx)(Zk,{className:"text-purple-600"}):t.includes("video/")?(0,ht.jsx)(Ft,{className:"text-red-600"}):t.includes("pdf")?(0,ht.jsx)(Dt,{className:"text-red-700"}):t.includes("spreadsheet")||t.includes("excel")||t.includes("csv")?(0,ht.jsx)(Dt,{className:"text-green-700"}):t.includes("zip")||t.includes("rar")||t.includes("tar")||t.includes("gzip")?(0,ht.jsx)($k,{className:"text-yellow-600"}):t.includes("text/")||t.includes("document")?(0,ht.jsx)(Dt,{className:"text-blue-600"}):(0,ht.jsx)(Is,{className:"text-gray-600"})},u=e=>{if(!e)return"bg-gray-100";const t=e.toLowerCase();return t.includes("image/")?"bg-green-100":t.includes("audio/")||t.includes("music")?"bg-purple-100":t.includes("video/")?"bg-red-100":t.includes("pdf")?"bg-red-50":t.includes("spreadsheet")||t.includes("excel")||t.includes("csv")?"bg-green-50":t.includes("zip")||t.includes("rar")||t.includes("tar")||t.includes("gzip")?"bg-yellow-50":t.includes("text/")||t.includes("document")?"bg-blue-50":"bg-gray-100"},h=()=>{l("/ai-books")};return r?(0,ht.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,ht.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-indigo-600"})}):i?(0,ht.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,ht.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start",children:[(0,ht.jsx)(gp,{className:"text-red-500 mr-3 flex-shrink-0 mt-0.5",size:20}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("h3",{className:"font-medium text-red-800",children:"Error"}),(0,ht.jsx)("p",{className:"text-red-700",children:i}),(0,ht.jsxs)("button",{onClick:h,className:"mt-3 text-red-600 hover:text-red-800 flex items-center",children:[(0,ht.jsx)(hm,{size:16,className:"mr-1"}),(0,ht.jsx)("span",{children:"Go back"})]})]})]})}):e?(0,ht.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,ht.jsx)("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 p-6 mb-8",children:(0,ht.jsxs)("div",{className:"flex flex-col md:flex-row gap-8",children:[(0,ht.jsx)("div",{className:"md:w-1/4 lg:w-1/5",children:(0,ht.jsx)("div",{className:"bg-gradient-to-br from-indigo-50 to-blue-100 rounded-lg h-48 flex items-center justify-center overflow-hidden",children:e.book.coverImage?(0,ht.jsx)("img",{src:c(e.book.coverImage),alt:e.book.title,className:"h-full w-full object-cover rounded-lg",onError:e=>{e.target.style.display="none",e.target.parentNode.innerHTML='<div class="text-center"><svg class="mx-auto text-indigo-400" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"></path></svg></div>'}}):(0,ht.jsx)("div",{className:"text-center",children:(0,ht.jsx)(Et,{size:64,className:"mx-auto text-indigo-400"})})})}),(0,ht.jsxs)("div",{className:"md:w-3/4 lg:w-4/5",children:[(0,ht.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:e.book.title}),(0,ht.jsx)("p",{className:"text-gray-700 mb-6",children:e.book.description||"No description available"}),(0,ht.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,ht.jsxs)("button",{onClick:()=>l(`/ai-books/${o}`),className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors shadow-sm",children:[(0,ht.jsx)(Et,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"View Full Book"})]}),(0,ht.jsxs)("button",{onClick:()=>l(`/ai-books/${o}/datastore`),className:"flex items-center px-4 py-2 bg-gray-800 text-white rounded-md hover:bg-gray-900 transition-colors shadow-sm",children:[(0,ht.jsx)(Mt,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Book Datastore"})]})]})]})]})}),(0,ht.jsxs)("div",{className:"mb-8",children:[(0,ht.jsxs)("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:["Chapters (",e.chapters.length,")"]}),0===e.chapters.length?(0,ht.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 text-center",children:(0,ht.jsx)("p",{className:"text-gray-600",children:"No chapters available for this book"})}):(0,ht.jsx)("div",{className:"space-y-4",children:e.chapters.sort(((e,t)=>(e.order||0)-(t.order||0))).map((e=>(0,ht.jsxs)("div",{className:"bg-white p-5 rounded-lg shadow-sm border border-gray-100 flex items-center",children:[(0,ht.jsx)("div",{className:"p-3 bg-indigo-100 rounded-full mr-4 flex-shrink-0",children:(0,ht.jsx)(Dt,{size:20,className:"text-indigo-600"})}),(0,ht.jsxs)("div",{className:"flex-grow",children:[(0,ht.jsx)("h3",{className:"font-medium text-gray-800",children:e.title}),(0,ht.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description?e.description.length>100?e.description.substring(0,100)+"...":e.description:"No description"})]}),(0,ht.jsx)("button",{onClick:()=>l(`/ai-books/${o}/chapters/${e._id}`),className:"flex items-center text-indigo-600 hover:text-indigo-800 transition-colors",children:(0,ht.jsx)(Os,{size:18})})]},e._id)))})]}),(0,ht.jsxs)("div",{children:[(0,ht.jsxs)("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:["Datastore Items (",e.datastoreItems.length,")"]}),0===e.datastoreItems.length?(0,ht.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 text-center",children:(0,ht.jsx)("p",{className:"text-gray-600",children:"No datastore items available for this book"})}):(0,ht.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.datastoreItems.map((e=>{const t=e.fileType&&e.fileType.toLowerCase().includes("image/");return(0,ht.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow",children:[t&&e.url&&(0,ht.jsx)("div",{className:"h-40 overflow-hidden bg-gray-100",children:(0,ht.jsx)("img",{src:c(e.url),alt:e.name,className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none",e.target.parentNode.innerHTML='<div class="flex items-center justify-center h-full"><svg class="text-gray-400" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline></svg></div>'}})}),(0,ht.jsxs)("div",{className:"p-4",children:[(0,ht.jsxs)("div",{className:"flex items-center mb-2",children:[(0,ht.jsx)("div",{className:`p-2 rounded-full mr-3 flex-shrink-0 ${u(e.fileType)}`,children:d(e.fileType)}),(0,ht.jsxs)("div",{className:"flex-grow overflow-hidden",children:[(0,ht.jsx)("h3",{className:"font-medium text-gray-800 truncate",children:e.name}),(0,ht.jsx)("p",{className:"text-xs text-gray-500",children:(n=e.fileType,n?n.replace("application/","").replace("image/","").replace("audio/","").replace("video/","").replace("text/","").toUpperCase():"Unknown type")})]})]}),(0,ht.jsxs)("a",{href:c(e.url),target:"_blank",rel:"noopener noreferrer",className:"text-xs text-indigo-600 hover:text-indigo-800 flex items-center mt-2",children:[(0,ht.jsx)(Os,{size:12,className:"mr-1"}),(0,ht.jsx)("span",{children:"View File"})]})]})]},e._id);var n}))})]})]}):(0,ht.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,ht.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex items-start",children:[(0,ht.jsx)(gp,{className:"text-yellow-500 mr-3 flex-shrink-0 mt-0.5",size:20}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("h3",{className:"font-medium text-yellow-800",children:"Not Found"}),(0,ht.jsx)("p",{className:"text-yellow-700",children:"Book data could not be found"}),(0,ht.jsxs)("button",{onClick:h,className:"mt-3 text-yellow-600 hover:text-yellow-800 flex items-center",children:[(0,ht.jsx)(hm,{size:16,className:"mr-1"}),(0,ht.jsx)("span",{children:"Go back"})]})]})]})})},tN=()=>{var e,n,r,s,i,a;const[o,l]=(0,t.useState)(null),[c,d]=(0,t.useState)(!0),[u,h]=(0,t.useState)(null),{bookId:p,chapterId:m}=te(),f=$();(0,t.useEffect)((()=>{p&&m&&(async()=>{d(!0);try{const e=await fetch(`https://aipbbackend.onrender.com/api/qrcode/book-data/${p}/chapters/${m}`),t=await e.json();t.success?l(t):h(t.message||"Failed to fetch chapter data")}catch(u){console.error("Error fetching chapter data:",u),h("Failed to connect to the server")}finally{d(!1)}})()}),[p,m,f]);const g=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:`https://aipbbackend.onrender.com/${e}`:null,x=e=>{if(!e)return(0,ht.jsx)(Is,{className:"text-gray-600"});const t=e.toLowerCase();return t.includes("image/")?(0,ht.jsx)(Fs,{className:"text-green-600"}):t.includes("audio/")||t.includes("music")?(0,ht.jsx)(Zk,{className:"text-purple-600"}):t.includes("video/")?(0,ht.jsx)(Ft,{className:"text-red-600"}):t.includes("pdf")?(0,ht.jsx)(Dt,{className:"text-red-700"}):t.includes("spreadsheet")||t.includes("excel")||t.includes("csv")?(0,ht.jsx)(Dt,{className:"text-green-700"}):t.includes("zip")||t.includes("rar")||t.includes("tar")||t.includes("gzip")?(0,ht.jsx)($k,{className:"text-yellow-600"}):t.includes("text/")||t.includes("document")?(0,ht.jsx)(Dt,{className:"text-blue-600"}):(0,ht.jsx)(Is,{className:"text-gray-600"})},b=e=>{if(!e)return"bg-gray-100";const t=e.toLowerCase();return t.includes("image/")?"bg-green-100":t.includes("audio/")||t.includes("music")?"bg-purple-100":t.includes("video/")?"bg-red-100":t.includes("pdf")?"bg-red-50":t.includes("spreadsheet")||t.includes("excel")||t.includes("csv")?"bg-green-50":t.includes("zip")||t.includes("rar")||t.includes("tar")||t.includes("gzip")?"bg-yellow-50":t.includes("text/")||t.includes("document")?"bg-blue-50":"bg-gray-100"},y=()=>{f(`/book-viewer/${p}`)};return c?(0,ht.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,ht.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-emerald-600"})}):u?(0,ht.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,ht.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start",children:[(0,ht.jsx)(gp,{className:"text-red-500 mr-3 flex-shrink-0 mt-0.5",size:20}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("h3",{className:"font-medium text-red-800",children:"Error"}),(0,ht.jsx)("p",{className:"text-red-700",children:u}),(0,ht.jsxs)("button",{onClick:y,className:"mt-3 text-red-600 hover:text-red-800 flex items-center",children:[(0,ht.jsx)(hm,{size:16,className:"mr-1"}),(0,ht.jsx)("span",{children:"Back to Book"})]})]})]})}):o?(0,ht.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,ht.jsx)("div",{className:"flex items-center mb-4",children:(0,ht.jsxs)("button",{onClick:y,className:"flex items-center text-emerald-600 hover:text-emerald-800 transition-colors",children:[(0,ht.jsx)(hm,{size:18,className:"mr-1"}),(0,ht.jsx)("span",{children:"Back to Book"})]})}),(0,ht.jsx)("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 p-6 mb-8",children:(0,ht.jsxs)("div",{className:"flex flex-col md:flex-row gap-8",children:[(0,ht.jsx)("div",{className:"md:w-1/4 lg:w-1/5",children:(0,ht.jsx)("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-100 rounded-lg h-48 flex items-center justify-center overflow-hidden",children:null!==(e=o.book)&&void 0!==e&&e.coverImage?(0,ht.jsx)("img",{src:g(o.book.coverImage),alt:o.book.title,className:"h-full w-full object-cover rounded-lg",onError:e=>{e.target.style.display="none",e.target.parentNode.innerHTML='<div class="text-center"><svg class="mx-auto text-emerald-400" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"></path></svg></div>'}}):(0,ht.jsx)("div",{className:"text-center",children:(0,ht.jsx)(Et,{size:64,className:"mx-auto text-emerald-400"})})})}),(0,ht.jsxs)("div",{className:"md:w-3/4 lg:w-4/5",children:[(0,ht.jsx)("div",{className:"mb-2",children:(0,ht.jsxs)("span",{className:"text-sm text-gray-500",children:['From "',(null===(n=o.book)||void 0===n?void 0:n.title)||"Unknown Book",'"']})}),(0,ht.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:null===(r=o.chapter)||void 0===r?void 0:r.title}),(0,ht.jsx)("p",{className:"text-gray-700 mb-6",children:(null===(s=o.chapter)||void 0===s?void 0:s.description)||"No description available"}),(0,ht.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,ht.jsxs)("button",{onClick:()=>f(`/ai-books/${p}/chapters/${m}`),className:"flex items-center px-4 py-2 bg-emerald-600 text-white rounded-md hover:bg-emerald-700 transition-colors shadow-sm",children:[(0,ht.jsx)(Dt,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"View Full Chapter"})]}),(0,ht.jsxs)("button",{onClick:()=>f(`/ai-books/${p}/chapters/${m}/datastore`),className:"flex items-center px-4 py-2 bg-gray-800 text-white rounded-md hover:bg-gray-900 transition-colors shadow-sm",children:[(0,ht.jsx)(Mt,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Chapter Datastore"})]}),(0,ht.jsxs)("button",{onClick:()=>f(`/book-viewer/${p}`),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors shadow-sm",children:[(0,ht.jsx)(Et,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"View Book"})]})]})]})]})}),(0,ht.jsxs)("div",{className:"mb-8",children:[(0,ht.jsxs)("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:["Topics (",(null===(i=o.topics)||void 0===i?void 0:i.length)||0,")"]}),o.topics&&0!==o.topics.length?(0,ht.jsx)("div",{className:"space-y-4",children:o.topics.sort(((e,t)=>(e.order||0)-(t.order||0))).map((e=>(0,ht.jsxs)("div",{className:"bg-white p-5 rounded-lg shadow-sm border border-gray-100",children:[(0,ht.jsxs)("div",{className:"flex items-center mb-3",children:[(0,ht.jsx)("div",{className:"p-2 bg-emerald-100 rounded-full mr-3 flex-shrink-0",children:(0,ht.jsx)(Dt,{size:18,className:"text-emerald-600"})}),(0,ht.jsx)("h3",{className:"font-medium text-gray-800",children:e.title})]}),e.description&&(0,ht.jsx)("p",{className:"text-sm text-gray-600 mb-3 pl-10",children:e.description}),e.content&&(0,ht.jsxs)("div",{className:"mt-4 bg-gray-50 p-4 rounded-md",children:[(0,ht.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"Content"}),(0,ht.jsx)("div",{className:"text-sm text-gray-800",children:e.content})]}),(0,ht.jsx)("div",{className:"mt-3 pl-10",children:(0,ht.jsxs)("button",{onClick:()=>f(`/ai-books/${p}/chapters/${m}/topics/${e._id}`),className:"text-sm text-emerald-600 hover:text-emerald-800 flex items-center",children:[(0,ht.jsx)(Os,{size:14,className:"mr-1"}),(0,ht.jsx)("span",{children:"View Full Topic"})]})})]},e._id)))}):(0,ht.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 text-center",children:(0,ht.jsx)("p",{className:"text-gray-600",children:"No topics available for this chapter"})})]}),(0,ht.jsxs)("div",{children:[(0,ht.jsxs)("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:["Datastore Items (",(null===(a=o.datastoreItems)||void 0===a?void 0:a.length)||0,")"]}),o.datastoreItems&&0!==o.datastoreItems.length?(0,ht.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.datastoreItems.map((e=>{const t=e.fileType&&e.fileType.toLowerCase().includes("image/");return(0,ht.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow",children:[t&&e.url&&(0,ht.jsx)("div",{className:"h-40 overflow-hidden bg-gray-100",children:(0,ht.jsx)("img",{src:g(e.url),alt:e.name,className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none",e.target.parentNode.innerHTML='<div class="flex items-center justify-center h-full"><svg class="text-gray-400" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline></svg></div>'}})}),(0,ht.jsxs)("div",{className:"p-4",children:[(0,ht.jsxs)("div",{className:"flex items-center mb-2",children:[(0,ht.jsx)("div",{className:`p-2 rounded-full mr-3 flex-shrink-0 ${b(e.fileType)}`,children:x(e.fileType)}),(0,ht.jsxs)("div",{className:"flex-grow overflow-hidden",children:[(0,ht.jsx)("h3",{className:"font-medium text-gray-800 truncate",children:e.name}),(0,ht.jsx)("p",{className:"text-xs text-gray-500",children:(n=e.fileType,n?n.replace("application/","").replace("image/","").replace("audio/","").replace("video/","").replace("text/","").toUpperCase():"Unknown type")})]})]}),(0,ht.jsxs)("a",{href:g(e.url),target:"_blank",rel:"noopener noreferrer",className:"text-xs text-emerald-600 hover:text-emerald-800 flex items-center mt-2",children:[(0,ht.jsx)(Os,{size:12,className:"mr-1"}),(0,ht.jsx)("span",{children:"View File"})]})]})]},e._id);var n}))}):(0,ht.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 text-center",children:(0,ht.jsx)("p",{className:"text-gray-600",children:"No datastore items available for this chapter"})})]})]}):(0,ht.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,ht.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex items-start",children:[(0,ht.jsx)(gp,{className:"text-yellow-500 mr-3 flex-shrink-0 mt-0.5",size:20}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("h3",{className:"font-medium text-yellow-800",children:"Not Found"}),(0,ht.jsx)("p",{className:"text-yellow-700",children:"Chapter data could not be found"}),(0,ht.jsxs)("button",{onClick:y,className:"mt-3 text-yellow-600 hover:text-yellow-800 flex items-center",children:[(0,ht.jsx)(hm,{size:16,className:"mr-1"}),(0,ht.jsx)("span",{children:"Back to Book"})]})]})]})})},nN=()=>{var e,n,r,s,i,a,o,l;const[c,d]=(0,t.useState)(null),[u,h]=(0,t.useState)(!0),[p,m]=(0,t.useState)(null),{bookId:f,chapterId:g,topicId:x}=te(),b=$();(0,t.useEffect)((()=>{f&&g&&x&&(async()=>{h(!0);try{const e=await fetch(`https://aipbbackend.onrender.com/api/qrcode/book-data/${f}/chapters/${g}/topics/${x}`),t=await e.json();t.success?d(t):m(t.message||"Failed to fetch topic data")}catch(p){console.error("Error fetching topic data:",p),m("Failed to connect to the server")}finally{h(!1)}})()}),[f,g,x,b]);const y=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:`https://aipbbackend.onrender.com/${e}`:null,v=e=>{if(!e)return(0,ht.jsx)(Is,{className:"text-gray-600"});const t=e.toLowerCase();return t.includes("image/")?(0,ht.jsx)(Fs,{className:"text-green-600"}):t.includes("audio/")||t.includes("music")?(0,ht.jsx)(Zk,{className:"text-purple-600"}):t.includes("video/")?(0,ht.jsx)(Ft,{className:"text-red-600"}):t.includes("pdf")?(0,ht.jsx)(Dt,{className:"text-red-700"}):t.includes("spreadsheet")||t.includes("excel")||t.includes("csv")?(0,ht.jsx)(Dt,{className:"text-green-700"}):t.includes("zip")||t.includes("rar")||t.includes("tar")||t.includes("gzip")?(0,ht.jsx)($k,{className:"text-yellow-600"}):t.includes("text/")||t.includes("document")?(0,ht.jsx)(Dt,{className:"text-blue-600"}):(0,ht.jsx)(Is,{className:"text-gray-600"})},w=e=>{if(!e)return"bg-gray-100";const t=e.toLowerCase();return t.includes("image/")?"bg-green-100":t.includes("audio/")||t.includes("music")?"bg-purple-100":t.includes("video/")?"bg-red-100":t.includes("pdf")?"bg-red-50":t.includes("spreadsheet")||t.includes("excel")||t.includes("csv")?"bg-green-50":t.includes("zip")||t.includes("rar")||t.includes("tar")||t.includes("gzip")?"bg-yellow-50":t.includes("text/")||t.includes("document")?"bg-blue-50":"bg-gray-100"},j=()=>{b(`/book-viewer/${f}/chapters/${g}`)};return u?(0,ht.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,ht.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-emerald-600"})}):p?(0,ht.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,ht.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start",children:[(0,ht.jsx)(gp,{className:"text-red-500 mr-3 flex-shrink-0 mt-0.5",size:20}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("h3",{className:"font-medium text-red-800",children:"Error"}),(0,ht.jsx)("p",{className:"text-red-700",children:p}),(0,ht.jsxs)("button",{onClick:j,className:"mt-3 text-red-600 hover:text-red-800 flex items-center",children:[(0,ht.jsx)(hm,{size:16,className:"mr-1"}),(0,ht.jsx)("span",{children:"Back to Chapter"})]})]})]})}):c?(0,ht.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,ht.jsx)("div",{className:"flex items-center mb-4",children:(0,ht.jsxs)("button",{onClick:j,className:"flex items-center text-emerald-600 hover:text-emerald-800 transition-colors",children:[(0,ht.jsx)(hm,{size:18,className:"mr-1"}),(0,ht.jsx)("span",{children:"Back to Chapter"})]})}),(0,ht.jsx)("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 p-6 mb-8",children:(0,ht.jsxs)("div",{className:"flex flex-col md:flex-row gap-8",children:[(0,ht.jsx)("div",{className:"md:w-1/4 lg:w-1/5",children:(0,ht.jsx)("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-100 rounded-lg h-48 flex items-center justify-center overflow-hidden",children:null!==(e=c.book)&&void 0!==e&&e.coverImage?(0,ht.jsx)("img",{src:y(c.book.coverImage),alt:c.book.title,className:"h-full w-full object-cover rounded-lg",onError:e=>{e.target.style.display="none",e.target.parentNode.innerHTML='<div class="text-center"><svg class="mx-auto text-emerald-400" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"></path></svg></div>'}}):(0,ht.jsx)("div",{className:"text-center",children:(0,ht.jsx)(Et,{size:64,className:"mx-auto text-emerald-400"})})})}),(0,ht.jsxs)("div",{className:"md:w-3/4 lg:w-4/5",children:[(0,ht.jsx)("div",{className:"mb-2",children:(0,ht.jsxs)("span",{className:"text-sm text-gray-500",children:['From "',(null===(n=c.chapter)||void 0===n?void 0:n.title)||"Unknown Chapter",'" in "',(null===(r=c.book)||void 0===r?void 0:r.title)||"Unknown Book",'"']})}),(0,ht.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:null===(s=c.topic)||void 0===s?void 0:s.title}),(0,ht.jsx)("p",{className:"text-gray-700 mb-6",children:(null===(i=c.topic)||void 0===i?void 0:i.description)||"No description available"}),(0,ht.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,ht.jsxs)("button",{onClick:()=>b(`/ai-books/${f}/chapters/${g}/topics/${x}`),className:"flex items-center px-4 py-2 bg-emerald-600 text-white rounded-md hover:bg-emerald-700 transition-colors shadow-sm",children:[(0,ht.jsx)(Dt,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"View Full Topic"})]}),(0,ht.jsxs)("button",{onClick:()=>b(`/ai-books/${f}/chapters/${g}/topics/${x}/datastore`),className:"flex items-center px-4 py-2 bg-gray-800 text-white rounded-md hover:bg-gray-900 transition-colors shadow-sm",children:[(0,ht.jsx)(Mt,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Topic Datastore"})]}),(0,ht.jsxs)("button",{onClick:()=>b(`/book-viewer/${f}/chapters/${g}`),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors shadow-sm",children:[(0,ht.jsx)(Et,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"View Chapter"})]})]})]})]})}),(null===(a=c.topic)||void 0===a?void 0:a.content)&&(0,ht.jsxs)("div",{className:"mb-8",children:[(0,ht.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Content"}),(0,ht.jsx)("div",{className:"bg-white p-6 rounded-lg shadow border border-gray-100",children:(0,ht.jsx)("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:c.topic.content}})})]}),(0,ht.jsxs)("div",{className:"mb-8",children:[(0,ht.jsxs)("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:["Sub-Topics (",(null===(o=c.subtopics)||void 0===o?void 0:o.length)||0,")"]}),c.subtopics&&0!==c.subtopics.length?(0,ht.jsx)("div",{className:"space-y-4",children:c.subtopics.sort(((e,t)=>(e.order||0)-(t.order||0))).map((e=>(0,ht.jsxs)("div",{className:"bg-white p-5 rounded-lg shadow-sm border border-gray-100",children:[(0,ht.jsxs)("div",{className:"flex items-center mb-3",children:[(0,ht.jsx)("div",{className:"p-2 bg-blue-100 rounded-full mr-3 flex-shrink-0",children:(0,ht.jsx)(Dt,{size:18,className:"text-blue-600"})}),(0,ht.jsx)("h3",{className:"font-medium text-gray-800",children:e.title})]}),e.description&&(0,ht.jsx)("p",{className:"text-sm text-gray-600 mb-3 pl-10",children:e.description}),e.content&&(0,ht.jsxs)("div",{className:"mt-4 bg-gray-50 p-4 rounded-md",children:[(0,ht.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"Content Preview"}),(0,ht.jsx)("div",{className:"text-sm text-gray-800 line-clamp-3",children:e.content.replace(/<[^>]*>/g,"")})]}),(0,ht.jsx)("div",{className:"mt-3 pl-10",children:(0,ht.jsxs)("button",{onClick:()=>b(`/ai-books/${f}/chapters/${g}/topics/${x}/subtopics/${e._id}`),className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:[(0,ht.jsx)(Os,{size:14,className:"mr-1"}),(0,ht.jsx)("span",{children:"View Full Sub-Topic"})]})})]},e._id)))}):(0,ht.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 text-center",children:(0,ht.jsx)("p",{className:"text-gray-600",children:"No sub-topics available for this topic"})})]}),(0,ht.jsxs)("div",{children:[(0,ht.jsxs)("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:["Datastore Items (",(null===(l=c.datastoreItems)||void 0===l?void 0:l.length)||0,")"]}),c.datastoreItems&&0!==c.datastoreItems.length?(0,ht.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.datastoreItems.map((e=>{const t=e.fileType&&e.fileType.toLowerCase().includes("image/");return(0,ht.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow",children:[t&&e.url&&(0,ht.jsx)("div",{className:"h-40 overflow-hidden bg-gray-100",children:(0,ht.jsx)("img",{src:y(e.url),alt:e.name,className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none",e.target.parentNode.innerHTML='<div class="flex items-center justify-center h-full"><svg class="text-gray-400" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline></svg></div>'}})}),(0,ht.jsxs)("div",{className:"p-4",children:[(0,ht.jsxs)("div",{className:"flex items-center mb-2",children:[(0,ht.jsx)("div",{className:`p-2 rounded-full mr-3 flex-shrink-0 ${w(e.fileType)}`,children:v(e.fileType)}),(0,ht.jsxs)("div",{className:"flex-grow overflow-hidden",children:[(0,ht.jsx)("h3",{className:"font-medium text-gray-800 truncate",children:e.name}),(0,ht.jsx)("p",{className:"text-xs text-gray-500",children:(n=e.fileType,n?n.replace("application/","").replace("image/","").replace("audio/","").replace("video/","").replace("text/","").toUpperCase():"Unknown type")})]})]}),(0,ht.jsxs)("a",{href:y(e.url),target:"_blank",rel:"noopener noreferrer",className:"text-xs text-emerald-600 hover:text-emerald-800 flex items-center mt-2",children:[(0,ht.jsx)(Os,{size:12,className:"mr-1"}),(0,ht.jsx)("span",{children:"View File"})]})]})]},e._id);var n}))}):(0,ht.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 text-center",children:(0,ht.jsx)("p",{className:"text-gray-600",children:"No datastore items available for this topic"})})]})]}):(0,ht.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,ht.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex items-start",children:[(0,ht.jsx)(gp,{className:"text-yellow-500 mr-3 flex-shrink-0 mt-0.5",size:20}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("h3",{className:"font-medium text-yellow-800",children:"Not Found"}),(0,ht.jsx)("p",{className:"text-yellow-700",children:"Topic data could not be found"}),(0,ht.jsxs)("button",{onClick:j,className:"mt-3 text-yellow-600 hover:text-yellow-800 flex items-center",children:[(0,ht.jsx)(hm,{size:16,className:"mr-1"}),(0,ht.jsx)("span",{children:"Back to Chapter"})]})]})]})})},rN=()=>{var e,n,r,s,i,a,o;const[l,c]=(0,t.useState)(null),[d,u]=(0,t.useState)(!0),[h,p]=(0,t.useState)(null),{bookId:m,chapterId:f,topicId:g,subtopicId:x}=te(),b=$();(0,t.useEffect)((()=>{m&&f&&g&&x&&(async()=>{u(!0);try{const e=await fetch(`https://aipbbackend.onrender.com/api/qrcode/book-data/${m}/chapters/${f}/topics/${g}/subtopics/${x}`),t=await e.json();t.success?c(t):p(t.message||"Failed to fetch subtopic data")}catch(h){console.error("Error fetching subtopic data:",h),p("Failed to connect to the server")}finally{u(!1)}})()}),[m,f,g,x,b]);const y=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:`https://aipbbackend.onrender.com/${e}`:null,v=e=>{if(!e)return(0,ht.jsx)(Is,{className:"text-gray-600"});const t=e.toLowerCase();return t.includes("image/")?(0,ht.jsx)(Fs,{className:"text-green-600"}):t.includes("audio/")||t.includes("music")?(0,ht.jsx)(Zk,{className:"text-purple-600"}):t.includes("video/")?(0,ht.jsx)(Ft,{className:"text-red-600"}):t.includes("pdf")?(0,ht.jsx)(Dt,{className:"text-red-700"}):t.includes("spreadsheet")||t.includes("excel")||t.includes("csv")?(0,ht.jsx)(Dt,{className:"text-green-700"}):t.includes("zip")||t.includes("rar")||t.includes("tar")||t.includes("gzip")?(0,ht.jsx)($k,{className:"text-yellow-600"}):t.includes("text/")||t.includes("document")?(0,ht.jsx)(Dt,{className:"text-blue-600"}):(0,ht.jsx)(Is,{className:"text-gray-600"})},w=e=>{if(!e)return"bg-gray-100";const t=e.toLowerCase();return t.includes("image/")?"bg-green-100":t.includes("audio/")||t.includes("music")?"bg-purple-100":t.includes("video/")?"bg-red-100":t.includes("pdf")?"bg-red-50":t.includes("spreadsheet")||t.includes("excel")||t.includes("csv")?"bg-green-50":t.includes("zip")||t.includes("rar")||t.includes("tar")||t.includes("gzip")?"bg-yellow-50":t.includes("text/")||t.includes("document")?"bg-blue-50":"bg-gray-100"},j=()=>{b(`/book-viewer/${m}/chapters/${f}/topics/${g}`)};return d?(0,ht.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,ht.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-emerald-600"})}):h?(0,ht.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,ht.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start",children:[(0,ht.jsx)(gp,{className:"text-red-500 mr-3 flex-shrink-0 mt-0.5",size:20}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("h3",{className:"font-medium text-red-800",children:"Error"}),(0,ht.jsx)("p",{className:"text-red-700",children:h}),(0,ht.jsxs)("button",{onClick:j,className:"mt-3 text-red-600 hover:text-red-800 flex items-center",children:[(0,ht.jsx)(hm,{size:16,className:"mr-1"}),(0,ht.jsx)("span",{children:"Back to Topic"})]})]})]})}):l?(0,ht.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,ht.jsx)("div",{className:"flex items-center mb-4",children:(0,ht.jsxs)("button",{onClick:j,className:"flex items-center text-emerald-600 hover:text-emerald-800 transition-colors",children:[(0,ht.jsx)(hm,{size:18,className:"mr-1"}),(0,ht.jsx)("span",{children:"Back to Topic"})]})}),(0,ht.jsx)("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 p-6 mb-8",children:(0,ht.jsxs)("div",{className:"flex flex-col md:flex-row gap-8",children:[(0,ht.jsx)("div",{className:"md:w-1/4 lg:w-1/5",children:(0,ht.jsx)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-lg h-48 flex items-center justify-center overflow-hidden",children:null!==(e=l.book)&&void 0!==e&&e.coverImage?(0,ht.jsx)("img",{src:y(l.book.coverImage),alt:l.book.title,className:"h-full w-full object-cover rounded-lg",onError:e=>{e.target.style.display="none",e.target.parentNode.innerHTML='<div class="text-center"><svg class="mx-auto text-blue-400" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"></path></svg></div>'}}):(0,ht.jsx)("div",{className:"text-center",children:(0,ht.jsx)(Et,{size:64,className:"mx-auto text-blue-400"})})})}),(0,ht.jsxs)("div",{className:"md:w-3/4 lg:w-4/5",children:[(0,ht.jsx)("div",{className:"mb-2",children:(0,ht.jsxs)("span",{className:"text-sm text-gray-500",children:['From "',(null===(n=l.topic)||void 0===n?void 0:n.title)||"Unknown Topic",'" in "',(null===(r=l.chapter)||void 0===r?void 0:r.title)||"Unknown Chapter",'"']})}),(0,ht.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:null===(s=l.subtopic)||void 0===s?void 0:s.title}),(0,ht.jsx)("p",{className:"text-gray-700 mb-6",children:(null===(i=l.subtopic)||void 0===i?void 0:i.description)||"No description available"}),(0,ht.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,ht.jsxs)("button",{onClick:()=>b(`/ai-books/${m}/chapters/${f}/topics/${g}/subtopics/${x}`),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors shadow-sm",children:[(0,ht.jsx)(Dt,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"View Full Sub-Topic"})]}),(0,ht.jsxs)("button",{onClick:()=>b(`/ai-books/${m}/chapters/${f}/topics/${g}/subtopics/${x}/datastore`),className:"flex items-center px-4 py-2 bg-gray-800 text-white rounded-md hover:bg-gray-900 transition-colors shadow-sm",children:[(0,ht.jsx)(Mt,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Sub-Topic Datastore"})]}),(0,ht.jsxs)("button",{onClick:()=>b(`/book-viewer/${m}/chapters/${f}/topics/${g}`),className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors shadow-sm",children:[(0,ht.jsx)(Dt,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"View Topic"})]})]})]})]})}),(null===(a=l.subtopic)||void 0===a?void 0:a.content)&&(0,ht.jsxs)("div",{className:"mb-8",children:[(0,ht.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"Content"}),(0,ht.jsx)("div",{className:"bg-white p-6 rounded-lg shadow border border-gray-100",children:(0,ht.jsx)("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:l.subtopic.content}})})]}),(0,ht.jsxs)("div",{children:[(0,ht.jsxs)("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:["Datastore Items (",(null===(o=l.datastoreItems)||void 0===o?void 0:o.length)||0,")"]}),l.datastoreItems&&0!==l.datastoreItems.length?(0,ht.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.datastoreItems.map((e=>{const t=e.fileType&&e.fileType.toLowerCase().includes("image/");return(0,ht.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow",children:[t&&e.url&&(0,ht.jsx)("div",{className:"h-40 overflow-hidden bg-gray-100",children:(0,ht.jsx)("img",{src:y(e.url),alt:e.name,className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none",e.target.parentNode.innerHTML='<div class="flex items-center justify-center h-full"><svg class="text-gray-400" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline></svg></div>'}})}),(0,ht.jsxs)("div",{className:"p-4",children:[(0,ht.jsxs)("div",{className:"flex items-center mb-2",children:[(0,ht.jsx)("div",{className:`p-2 rounded-full mr-3 flex-shrink-0 ${w(e.fileType)}`,children:v(e.fileType)}),(0,ht.jsxs)("div",{className:"flex-grow overflow-hidden",children:[(0,ht.jsx)("h3",{className:"font-medium text-gray-800 truncate",children:e.name}),(0,ht.jsx)("p",{className:"text-xs text-gray-500",children:(n=e.fileType,n?n.replace("application/","").replace("image/","").replace("audio/","").replace("video/","").replace("text/","").toUpperCase():"Unknown type")})]})]}),(0,ht.jsxs)("a",{href:y(e.url),target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-800 flex items-center mt-2",children:[(0,ht.jsx)(Os,{size:12,className:"mr-1"}),(0,ht.jsx)("span",{children:"View File"})]})]})]},e._id);var n}))}):(0,ht.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 text-center",children:(0,ht.jsx)("p",{className:"text-gray-600",children:"No datastore items available for this sub-topic"})})]})]}):(0,ht.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,ht.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex items-start",children:[(0,ht.jsx)(gp,{className:"text-yellow-500 mr-3 flex-shrink-0 mt-0.5",size:20}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("h3",{className:"font-medium text-yellow-800",children:"Not Found"}),(0,ht.jsx)("p",{className:"text-yellow-700",children:"Sub-topic data could not be found"}),(0,ht.jsxs)("button",{onClick:j,className:"mt-3 text-yellow-600 hover:text-yellow-800 flex items-center",children:[(0,ht.jsx)(hm,{size:16,className:"mr-1"}),(0,ht.jsx)("span",{children:"Back to Topic"})]})]})]})})},sN=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n={"Content-Type":"application/json",...t.headers},r=await fetch(`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"https://aipbbackend.onrender.com"}/api${e}`,{...t,headers:n});if(!r.ok){const e=await r.json().catch((()=>({message:"Request failed"})));throw new Error(e.message||`HTTP ${r.status}`)}return r.json()},iN=e=>{let{item:t,itemType:n,imageError:r,setImageError:s}=e;return(0,ht.jsx)("div",{className:"mb-4 md:mb-6",children:(0,ht.jsxs)("div",{className:"book"===n?"md:flex md:items-start":"",children:[(0,ht.jsx)("div",{className:"book"===n?"md:w-1/4 lg:w-1/5 mb-4 md:mb-0 md:mr-6":"hidden",children:"book"===n&&(null===t||void 0===t?void 0:t.coverImage)&&!r&&(0,ht.jsx)("img",{src:(i=t.coverImage,(i?i.startsWith("http")?i:`${{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"https://aipbbackend.onrender.com"}/${i}`:"")||"/placeholder.svg"),alt:null===t||void 0===t?void 0:t.title,className:"w-full rounded-lg shadow-md border-4 border-white",onError:()=>s(!0)})}),(0,ht.jsx)("div",{className:"book"===n?"md:w-3/4 lg:w-4/5":"w-full",children:(0,ht.jsxs)("div",{className:"mb-4",children:[(0,ht.jsxs)("div",{className:"flex flex-col items-start",children:[(0,ht.jsx)("div",{className:"mb-2 px-4 py-2 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-full flex items-center shadow-md",children:"book"===n?(0,ht.jsxs)(ht.Fragment,{children:[(0,ht.jsx)(Et,{size:18,className:"mr-2"})," Book Assets"]}):"chapter"===n?(0,ht.jsxs)(ht.Fragment,{children:[(0,ht.jsx)(Dt,{size:18,className:"mr-2"})," Chapter Assets"]}):"topic"===n?(0,ht.jsxs)(ht.Fragment,{children:[(0,ht.jsx)(Gs,{size:18,className:"mr-2"})," Topic Assets"]}):(0,ht.jsxs)(ht.Fragment,{children:[(0,ht.jsx)(Tt,{size:18,className:"mr-2"})," Sub-Topic Assets"]})}),(0,ht.jsx)("div",{children:(0,ht.jsx)("h1",{className:"text-xl md:text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-700 to-indigo-700",children:null===t||void 0===t?void 0:t.title})})]}),(0,ht.jsx)("p",{className:"text-sm md:text-base text-gray-700 mt-2 bg-white bg-opacity-70 p-3 rounded-lg shadow-sm",children:(null===t||void 0===t?void 0:t.description)||"No description available"})]})})]})});var i},aN=e=>{let{activeTab:t,setActiveTab:n}=e;return(0,ht.jsxs)("div",{className:"flex overflow-x-auto pb-2 border-b border-purple-200 bg-white rounded-t-xl shadow-md p-1",children:[(0,ht.jsx)("button",{className:"py-2 px-4 md:py-3 md:px-6 font-medium text-xs md:text-sm whitespace-nowrap rounded-lg transition-all duration-200 "+("summary"===t?"bg-gradient-to-r from-purple-600 to-indigo-600 text-white shadow-md transform scale-105":"text-gray-600 hover:text-purple-800 hover:bg-purple-50"),onClick:()=>n("summary"),children:"Summary"}),(0,ht.jsx)("button",{className:"py-2 px-4 md:py-3 md:px-6 font-medium text-xs md:text-sm whitespace-nowrap rounded-lg transition-all duration-200 "+("objective"===t?"bg-gradient-to-r from-purple-600 to-indigo-600 text-white shadow-md transform scale-105":"text-gray-600 hover:text-purple-800 hover:bg-purple-50"),onClick:()=>n("objective"),children:"Objective"}),(0,ht.jsx)("button",{className:"py-2 px-4 md:py-3 md:px-6 font-medium text-xs md:text-sm whitespace-nowrap rounded-lg transition-all duration-200 "+("subjective"===t?"bg-gradient-to-r from-purple-600 to-indigo-600 text-white shadow-md transform scale-105":"text-gray-600 hover:text-purple-800 hover:bg-purple-50"),onClick:()=>n("subjective"),children:"Subjective"}),(0,ht.jsx)("button",{className:"py-2 px-4 md:py-3 md:px-6 font-medium text-xs md:text-sm whitespace-nowrap rounded-lg transition-all duration-200 "+("videos"===t?"bg-gradient-to-r from-purple-600 to-indigo-600 text-white shadow-md transform scale-105":"text-gray-600 hover:text-purple-800 hover:bg-purple-50"),onClick:()=>n("videos"),children:"Videos"}),(0,ht.jsx)("button",{className:"py-2 px-4 md:py-3 md:px-6 font-medium text-xs md:text-sm whitespace-nowrap rounded-lg transition-all duration-200 "+("pyqs"===t?"bg-gradient-to-r from-purple-600 to-indigo-600 text-white shadow-md transform scale-105":"text-gray-600 hover:text-purple-800 hover:bg-purple-50"),onClick:()=>n("pyqs"),children:"PYQ's"})]})},oN=e=>{let{summaries:t}=e;return(0,ht.jsx)("div",{className:"p-4 md:p-6 bg-white rounded-lg shadow-lg border border-purple-100 animate-fadeIn",children:0===t.length?(0,ht.jsx)("p",{className:"text-gray-600 text-center py-8 bg-purple-50 rounded-lg border border-purple-100",children:"No summary content available yet."}):(0,ht.jsx)("div",{className:"space-y-4",children:t.map((e=>(0,ht.jsxs)("div",{className:"p-5 bg-gradient-to-br from-purple-50 to-indigo-50 rounded-xl border border-purple-100 shadow-sm hover:shadow-md transition-all duration-300",children:[(0,ht.jsx)("p",{className:"text-gray-800 whitespace-pre-wrap",children:e.content}),(0,ht.jsxs)("p",{className:"text-xs text-purple-600 mt-3 font-medium",children:["Added on ",new Date(e.createdAt).toLocaleDateString()]})]},e._id)))})})},lN=e=>{var n,r,s,i,a,o;let{objectiveQuestionSets:l,activeObjectiveLevelTab:c,setActiveObjectiveLevelTab:d,selectedObjectiveSet:u,setSelectedObjectiveSet:h}=e;const[p,m]=(0,t.useState)(!1);console.log("ObjectiveTab - objectiveQuestionSets:",l),console.log("ObjectiveTab - activeObjectiveLevelTab:",c),console.log("ObjectiveTab - current level sets:",l[c]),console.log("ObjectiveTab - selectedObjectiveSet:",u),u&&(console.log("ObjectiveTab - selectedObjectiveSet.questions:",u.questions),console.log("ObjectiveTab - selectedObjectiveSet keys:",Object.keys(u)),console.log("ObjectiveTab - selectedObjectiveSet structure:",JSON.stringify(u,null,2)));const f=async e=>{try{if(m(!0),e.questions&&Array.isArray(e.questions)&&e.questions.length>0){const t=e.questions[0];if("object"===typeof t&&t.question)return h(e),void m(!1)}let r;console.log("Fetching questions for set:",e._id);let s=[];try{r=await sN(`/objective-assets/question-sets/${e._id}/questions`),s=r.questions||r||[],console.log("Questions from question-sets endpoint:",s)}catch(hf){console.log("Question-sets endpoint failed, trying alternative:",hf);try{r=await sN(`/objective-assets/questions?questionSet=${e._id}`),s=r.questions||r||[],console.log("Questions from questions endpoint:",s)}catch(t){console.log("Alternative endpoint also failed:",t);try{r=await sN("/objective-assets/questions");s=(r.questions||r||[]).filter((t=>t.questionSet===e._id||t.questionSet&&t.questionSet._id===e._id)),console.log("Questions from filtered all questions:",s)}catch(n){throw console.error("All endpoints failed:",n),n}}}const i={...e,questions:s};console.log("Final questions array:",s),console.log("Updated set:",i),h(i)}catch(hf){console.error("Error fetching questions:",hf),Gp.error("Failed to load questions for this set"),h({...e,questions:[]})}finally{m(!1)}},g=async(e,t)=>{try{const n=await(async(e,t)=>{try{return await sN(`/objective-assets/questions/${e}/answer`,{method:"POST",body:JSON.stringify({selectedAnswer:t})})}catch(n){return console.error("Error recording answer:",n),null}})(e,t);n?Gp.success(n.isCorrect?"Correct answer!":"Incorrect answer",{position:"top-center",autoClose:2e3}):Gp.error("Failed to record answer")}catch(n){console.error("Error submitting answer:",n),Gp.error("Failed to record answer")}},x=l&&l[c]?l[c]:[];return(0,ht.jsx)("div",{className:"p-4 md:p-6 bg-white rounded-lg shadow border border-gray-100",children:u?(0,ht.jsxs)("div",{children:[(0,ht.jsx)("div",{className:"flex flex-wrap justify-between items-center mb-4 md:mb-6",children:(0,ht.jsxs)("div",{children:[(0,ht.jsx)("h3",{className:"font-medium text-md md:text-lg flex items-center",children:(0,ht.jsxs)("button",{onClick:()=>h(null),className:"mb-2 md:mb-3 text-indigo-600 hover:text-indigo-800 flex items-center",children:[(0,ht.jsx)(hm,{size:16,className:"mr-1"}),(0,ht.jsx)("span",{children:"Back to Sets"})]})}),(0,ht.jsx)("h3",{className:"font-medium text-md md:text-lg",children:(0,ht.jsxs)("span",{children:['Questions in "',u.name,'"']})}),(0,ht.jsxs)("p",{className:"text-xs md:text-sm text-gray-600 mt-1",children:["L1"===u.level?"Beginner Level":"L2"===u.level?"Intermediate Level":"Advanced Level","\u2022 ",(null===(n=u.questions)||void 0===n?void 0:n.length)||0," ",1===((null===(r=u.questions)||void 0===r?void 0:r.length)||0)?"Question":"Questions",u.totalQuestions&&u.totalQuestions!==((null===(s=u.questions)||void 0===s?void 0:s.length)||0)&&(0,ht.jsxs)("span",{className:"text-gray-500",children:[" (Total: ",u.totalQuestions,")"]})]})]})}),p?(0,ht.jsxs)("div",{className:"bg-gray-50 text-center py-8 md:py-12 rounded-md border border-gray-200",children:[(0,ht.jsx)("div",{className:"text-gray-400 mb-3 md:mb-4",children:(0,ht.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto"})}),(0,ht.jsx)("p",{className:"text-gray-700 font-medium mb-2 md:mb-3",children:"Loading questions..."}),(0,ht.jsx)("p",{className:"text-gray-500 text-sm",children:"Please wait while we fetch the questions for this set."})]}):u.questions&&0!==u.questions.length?(0,ht.jsx)("div",{className:"space-y-4",children:u.questions.map(((e,t)=>{const n="object"===typeof e?e:null;return n&&n.question?(0,ht.jsxs)("div",{className:"rounded-lg border border-gray-200 overflow-hidden",children:[(0,ht.jsx)("div",{className:"bg-gradient-to-r p-3 md:p-4 "+("L1"===u.level?"from-green-50 to-blue-50":"L2"===u.level?"from-blue-50 to-indigo-50":"from-indigo-50 to-purple-50"),children:(0,ht.jsx)("div",{children:(0,ht.jsxs)("p",{className:"font-medium text-md md:text-lg "+("L1"===u.level?"text-green-800":"L2"===u.level?"text-blue-800":"text-indigo-800"),children:[t+1,". ",n.question]})})}),(0,ht.jsxs)("div",{className:"bg-white p-3 md:p-4",children:[(0,ht.jsx)("div",{className:"mb-3 space-y-2",children:n.options&&Array.isArray(n.options)?n.options.map(((e,t)=>(0,ht.jsxs)("div",{className:"flex items-center cursor-pointer hover:bg-gray-50 p-2 rounded transition-colors",onClick:()=>g(n._id,t),children:[(0,ht.jsx)("span",{className:"inline-flex items-center justify-center h-6 w-6 rounded-full mr-2 "+(t===n.correctAnswer?"bg-green-600 text-white":"bg-gray-200 text-gray-700"),children:String.fromCharCode(65+t)}),(0,ht.jsx)("span",{className:""+(t===n.correctAnswer?"font-medium text-green-700":"text-gray-700"),children:e})]},t))):(0,ht.jsx)("p",{className:"text-red-500 text-sm",children:"No options available for this question"})}),(0,ht.jsxs)("div",{className:"text-xs text-gray-500 mt-2",children:["Added on ",n.createdAt?new Date(n.createdAt).toLocaleDateString():"Unknown date"]})]})]},n._id||t):(0,ht.jsx)("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:(0,ht.jsxs)("p",{className:"text-red-600",children:["Question data not available (ID: ",e,")"]})},t)}))}):(0,ht.jsxs)("div",{className:"bg-gray-50 text-center py-8 md:py-12 rounded-md border border-gray-200",children:[(0,ht.jsx)("div",{className:"text-gray-400 mb-3 md:mb-4",children:(0,ht.jsx)(Bk,{size:36,className:"mx-auto"})}),(0,ht.jsx)("p",{className:"text-gray-700 font-medium mb-2 md:mb-3",children:"No questions in this set"}),(0,ht.jsx)("p",{className:"text-gray-500 text-sm",children:u.totalQuestions>0?"Questions could not be loaded. Please try again later.":"This set appears to be empty."}),u.totalQuestions>0&&(0,ht.jsx)("button",{onClick:()=>f(u),className:"mt-3 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors",children:"Retry Loading Questions"})]})]}):(0,ht.jsxs)(ht.Fragment,{children:[(0,ht.jsx)("div",{className:"flex justify-between items-center mb-4 md:mb-6",children:(0,ht.jsx)("h3",{className:"font-medium text-md md:text-lg",children:"Objective Questions"})}),(0,ht.jsx)("div",{className:"mb-4 md:mb-6 border-b border-purple-200",children:(0,ht.jsxs)("div",{className:"flex flex-wrap",children:[(0,ht.jsxs)("button",{className:"py-2 px-3 md:py-3 md:px-6 font-medium text-xs md:text-sm rounded-t-lg "+("L1"===c?"bg-gradient-to-r from-green-500 to-teal-500 text-white":"text-gray-600 hover:text-purple-800 hover:bg-purple-50"),onClick:()=>d("L1"),children:["L1 - Beginner (",(null===l||void 0===l||null===(i=l.L1)||void 0===i?void 0:i.length)||0,")"]}),(0,ht.jsxs)("button",{className:"py-2 px-3 md:py-3 md:px-6 font-medium text-xs md:text-sm rounded-t-lg "+("L2"===c?"bg-gradient-to-r from-blue-500 to-indigo-500 text-white":"text-gray-600 hover:text-purple-800 hover:bg-purple-50"),onClick:()=>d("L2"),children:["L2 - Intermediate (",(null===l||void 0===l||null===(a=l.L2)||void 0===a?void 0:a.length)||0,")"]}),(0,ht.jsxs)("button",{className:"py-2 px-3 md:py-3 md:px-6 font-medium text-xs md:text-sm rounded-t-lg "+("L3"===c?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"text-gray-600 hover:text-purple-800 hover:bg-purple-50"),onClick:()=>d("L3"),children:["L3 - Advanced (",(null===l||void 0===l||null===(o=l.L3)||void 0===o?void 0:o.length)||0,")"]})]})}),(0,ht.jsx)("div",{children:0===x.length?(0,ht.jsxs)("div",{className:"bg-purple-50 text-center py-8 md:py-12 rounded-xl border border-purple-100 shadow-inner",children:[(0,ht.jsx)("div",{className:"text-purple-400 mb-3 md:mb-4",children:(0,ht.jsx)(Bk,{size:48,className:"mx-auto"})}),(0,ht.jsx)("p",{className:"text-purple-700 font-medium mb-2 md:mb-3",children:"No question sets available"}),(0,ht.jsxs)("p",{className:"text-purple-600 text-sm",children:["No ","L1"===c?"beginner":"L2"===c?"intermediate":"advanced"," level question sets found."]})]}):(0,ht.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:x.map((e=>{var t,n;return(0,ht.jsxs)("div",{className:"border border-purple-200 rounded-xl p-5 bg-white hover:shadow-lg transition-all duration-300 cursor-pointer transform hover:-translate-y-1",onClick:()=>f(e),children:[(0,ht.jsx)("h4",{className:"font-medium text-md md:text-lg mb-2 text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-indigo-600",children:e.name}),(0,ht.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:e.description||"No description available"}),(0,ht.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ht.jsxs)("span",{className:"text-xs font-medium px-3 py-1 bg-gradient-to-r from-purple-100 to-indigo-100 text-purple-800 rounded-full shadow-sm",children:[(null===(t=e.questions)||void 0===t?void 0:t.length)||e.totalQuestions||0," ",1===((null===(n=e.questions)||void 0===n?void 0:n.length)||e.totalQuestions||0)?"Question":"Questions"]}),(0,ht.jsx)("button",{onClick:t=>{t.stopPropagation(),f(e)},className:"text-xs md:text-sm text-white bg-gradient-to-r from-purple-500 to-indigo-500 px-3 py-1 rounded-full hover:shadow-md transition-all duration-200",disabled:p,children:p?"Loading...":"View Questions"})]}),(0,ht.jsxs)("div",{className:"mt-2 text-xs text-gray-500",children:["Level: ","L1"===e.level?"Beginner":"L2"===e.level?"Intermediate":"Advanced"]})]},e._id)}))})})]})})},cN=e=>{var t,n;let{subjectiveQuestionSets:r,activeLevelTab:s,setActiveLevelTab:i,selectedSubjectiveSet:a,setSelectedViewSet:o}=e;return(0,ht.jsx)("div",{className:"p-4 md:p-6 bg-white rounded-lg shadow border border-gray-100",children:a?(0,ht.jsxs)("div",{children:[(0,ht.jsx)("div",{className:"flex flex-wrap justify-between items-center mb-4 md:mb-6",children:(0,ht.jsxs)("div",{children:[(0,ht.jsx)("h3",{className:"font-medium text-md md:text-lg flex items-center",children:(0,ht.jsxs)("button",{onClick:()=>o(null),className:"mb-2 md:mb-3 text-indigo-600 hover:text-indigo-800 flex items-center",children:[(0,ht.jsx)(hm,{size:16,className:"mr-1"}),(0,ht.jsx)("span",{children:"Back to Sets"})]})}),(0,ht.jsx)("h3",{className:"font-medium text-md md:text-lg",children:(0,ht.jsxs)("span",{children:['Questions in "',a.name,'"']})}),(0,ht.jsxs)("p",{className:"text-xs md:text-sm text-gray-600 mt-1",children:["L1"===a.level?"Beginner Level":"L2"===a.level?"Intermediate Level":"Advanced Level","\u2022 ",(null===(t=a.questions)||void 0===t?void 0:t.length)||0," ",1===((null===(n=a.questions)||void 0===n?void 0:n.length)||0)?"Question":"Questions"]})]})}),a.questions&&0!==a.questions.length?(0,ht.jsx)("div",{className:"space-y-4",children:a.questions.map(((e,t)=>(0,ht.jsxs)("div",{className:"rounded-lg border border-gray-200 overflow-hidden",children:[(0,ht.jsx)("div",{className:"bg-gradient-to-r p-3 md:p-4 "+("L1"===a.level?"from-green-50 to-blue-50":"L2"===a.level?"from-blue-50 to-indigo-50":"from-indigo-50 to-purple-50"),children:(0,ht.jsx)("div",{children:(0,ht.jsxs)("p",{className:"font-medium text-md md:text-lg "+("L1"===a.level?"text-green-800":"L2"===a.level?"text-blue-800":"text-indigo-800"),children:[t+1,". ",e.question]})})}),(0,ht.jsxs)("div",{className:"bg-white p-3 md:p-4",children:[(0,ht.jsxs)("div",{children:[(0,ht.jsxs)("div",{className:"mb-3",children:[(0,ht.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Answer:"}),(0,ht.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:e.answer})]}),e.keywords&&(0,ht.jsxs)("div",{className:"mb-3",children:[(0,ht.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Keywords:"}),(0,ht.jsx)("div",{className:"flex flex-wrap gap-1",children:e.keywords.split(",").map(((e,t)=>(0,ht.jsx)("span",{className:"bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded",children:e.trim()},t)))})]})]}),(0,ht.jsxs)("div",{className:"text-xs text-gray-500 mt-2",children:["Added on ",new Date(e.createdAt).toLocaleDateString()]})]})]},e._id)))}):(0,ht.jsxs)("div",{className:"bg-gray-50 text-center py-8 md:py-12 rounded-md border border-gray-200",children:[(0,ht.jsx)("div",{className:"text-gray-400 mb-3 md:mb-4",children:(0,ht.jsx)(Bk,{size:36,className:"mx-auto"})}),(0,ht.jsx)("p",{className:"text-gray-700 font-medium mb-2 md:mb-3",children:"No questions in this set"})]})]}):(0,ht.jsxs)(ht.Fragment,{children:[(0,ht.jsx)("div",{className:"flex justify-between items-center mb-4 md:mb-6",children:(0,ht.jsx)("h3",{className:"font-medium text-md md:text-lg",children:"Subjective Questions"})}),(0,ht.jsx)("div",{className:"mb-4 md:mb-6 border-b border-purple-200",children:(0,ht.jsxs)("div",{className:"flex flex-wrap",children:[(0,ht.jsx)("button",{className:"py-2 px-3 md:py-3 md:px-6 font-medium text-xs md:text-sm rounded-t-lg "+("L1"===s?"bg-gradient-to-r from-green-500 to-teal-500 text-white":"text-gray-600 hover:text-purple-800 hover:bg-purple-50"),onClick:()=>i("L1"),children:"L1 - Beginner"}),(0,ht.jsx)("button",{className:"py-2 px-3 md:py-3 md:px-6 font-medium text-xs md:text-sm rounded-t-lg "+("L2"===s?"bg-gradient-to-r from-blue-500 to-indigo-500 text-white":"text-gray-600 hover:text-purple-800 hover:bg-purple-50"),onClick:()=>i("L2"),children:"L2 - Intermediate"}),(0,ht.jsx)("button",{className:"py-2 px-3 md:py-3 md:px-6 font-medium text-xs md:text-sm rounded-t-lg "+("L3"===s?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"text-gray-600 hover:text-purple-800 hover:bg-purple-50"),onClick:()=>i("L3"),children:"L3 - Advanced"})]})}),(0,ht.jsx)("div",{children:0===r[s].length?(0,ht.jsxs)("div",{className:"bg-purple-50 text-center py-8 md:py-12 rounded-xl border border-purple-100 shadow-inner",children:[(0,ht.jsx)("div",{className:"text-purple-400 mb-3 md:mb-4",children:(0,ht.jsx)(Bk,{size:48,className:"mx-auto"})}),(0,ht.jsx)("p",{className:"text-purple-700 font-medium mb-2 md:mb-3",children:"No question sets available"})]}):(0,ht.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r[s].map((e=>{var t,n;return(0,ht.jsxs)("div",{className:"border border-purple-200 rounded-xl p-5 bg-white hover:shadow-lg transition-all duration-300 cursor-pointer transform hover:-translate-y-1",onClick:()=>o(e),children:[(0,ht.jsx)("h4",{className:"font-medium text-md md:text-lg mb-2 text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-indigo-600",children:e.name}),(0,ht.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:e.description||"No description available"}),(0,ht.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ht.jsxs)("span",{className:"text-xs font-medium px-3 py-1 bg-gradient-to-r from-purple-100 to-indigo-100 text-purple-800 rounded-full shadow-sm",children:[(null===(t=e.questions)||void 0===t?void 0:t.length)||0," ",1===(null===(n=e.questions)||void 0===n?void 0:n.length)?"Question":"Questions"]}),(0,ht.jsx)("button",{onClick:t=>{t.stopPropagation(),o(e)},className:"text-xs md:text-sm text-white bg-gradient-to-r from-purple-500 to-indigo-500 px-3 py-1 rounded-full hover:shadow-md transition-all duration-200",children:"View Questions"})]})]},e._id)}))})})]})})},dN=e=>{let{videos:n}=e;const[r,s]=(0,t.useState)(null),i=e=>{if(e.embedUrl)return e.embedUrl;if("youtube"===e.videoType||e.url.includes("youtube.com")||e.url.includes("youtu.be")){const t=e.youtubeVideoId||(e=>{const t=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);return t&&11===t[2].length?t[2]:null})(e.url);if(t)return`https://www.youtube.com/embed/${t}?autoplay=1`}return e.url},a=e=>{s(e._id),(async e=>{try{await sN(`/video-assets/videos/${e}/view`,{method:"POST"})}catch(t){console.error("Error recording video view:",t)}})(e._id)};return(0,ht.jsxs)("div",{className:"p-4 md:p-6 bg-white rounded-lg shadow-lg border border-purple-100",children:[(0,ht.jsx)("div",{className:"flex justify-between items-center mb-4 md:mb-6",children:(0,ht.jsx)("h3",{className:"font-medium text-md md:text-lg text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-indigo-600",children:"Videos"})}),0===n.length?(0,ht.jsxs)("div",{className:"bg-purple-50 text-center py-8 md:py-12 rounded-xl border border-purple-100 shadow-inner",children:[(0,ht.jsx)("div",{className:"text-purple-400 mb-3 md:mb-4",children:(0,ht.jsx)(Ft,{size:48,className:"mx-auto"})}),(0,ht.jsx)("p",{className:"text-purple-700 font-medium mb-2 md:mb-3",children:"No videos available yet"})]}):(0,ht.jsx)("div",{className:"space-y-6",children:n.map((e=>{const t=(e=>"youtube"===e.videoType||e.url.includes("youtube.com")||e.url.includes("youtu.be")||e.youtubeVideoId)(e),n=(e=>{if(e.thumbnailUrl)return e.thumbnailUrl;if("youtube"===e.videoType||e.url.includes("youtube.com")||e.url.includes("youtu.be")){const t=e.youtubeVideoId||(e=>{const t=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);return t&&11===t[2].length?t[2]:null})(e.url);if(t)return`https://img.youtube.com/vi/${t}/maxresdefault.jpg`}return null})(e),s=r===e._id;return(0,ht.jsxs)("div",{className:"border border-purple-200 rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300",children:[(0,ht.jsx)("div",{className:"aspect-w-16 aspect-h-9 bg-gray-50 relative",children:s?(0,ht.jsx)("iframe",{src:i(e),title:e.title,className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):(0,ht.jsxs)("div",{className:"relative w-full h-full cursor-pointer group",onClick:()=>a(e),children:[t&&n?(0,ht.jsxs)(ht.Fragment,{children:[(0,ht.jsx)("img",{src:n,alt:e.title,className:"w-full h-full object-cover",onError:e=>{e.target.src.includes("maxresdefault")&&(e.target.src=e.target.src.replace("maxresdefault","hqdefault"))}}),(0,ht.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-20 group-hover:bg-opacity-40 transition-all duration-300",children:(0,ht.jsx)("div",{className:"bg-red-600 hover:bg-red-700 rounded-full p-4 transform group-hover:scale-110 transition-all duration-300 shadow-lg",children:(0,ht.jsx)(Ik,{size:32,className:"text-white ml-1",fill:"currentColor"})})}),(0,ht.jsx)("div",{className:"absolute top-3 right-3 bg-red-600 text-white px-2 py-1 rounded text-xs font-medium",children:"YouTube"})]}):(0,ht.jsxs)("div",{className:"w-full h-full bg-gradient-to-br from-purple-100 to-indigo-100 flex items-center justify-center",children:[(0,ht.jsxs)("div",{className:"text-center",children:[(0,ht.jsx)(Ft,{size:48,className:"text-purple-400 mx-auto mb-2"}),(0,ht.jsx)("p",{className:"text-purple-600 font-medium",children:"Click to play"})]}),(0,ht.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-20 group-hover:bg-opacity-40 transition-all duration-300",children:(0,ht.jsx)("div",{className:"bg-purple-600 hover:bg-purple-700 rounded-full p-4 transform group-hover:scale-110 transition-all duration-300 shadow-lg",children:(0,ht.jsx)(Ik,{size:32,className:"text-white ml-1",fill:"currentColor"})})})]}),e.duration&&e.duration>0&&(0,ht.jsxs)("div",{className:"absolute bottom-3 right-3 bg-black bg-opacity-70 text-white px-2 py-1 rounded text-xs",children:[Math.floor(e.duration/60),":",(e.duration%60).toString().padStart(2,"0")]})]})}),(0,ht.jsxs)("div",{className:"p-5 bg-gradient-to-br from-purple-50 to-indigo-50",children:[(0,ht.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,ht.jsx)("h4",{className:"font-medium text-lg text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-indigo-600 flex-1 mr-2",children:e.title}),t&&(0,ht.jsx)("div",{className:"flex-shrink-0",children:(0,ht.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[(0,ht.jsx)(Ft,{size:12,className:"mr-1"}),"YouTube"]})})]}),e.description&&(0,ht.jsx)("p",{className:"text-gray-600 mb-3 text-sm leading-relaxed",children:e.description}),(0,ht.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,ht.jsxs)("p",{className:"text-purple-600 font-medium",children:["Added on ",new Date(e.createdAt).toLocaleDateString()]}),e.viewCount>0&&(0,ht.jsxs)("p",{className:"text-gray-500",children:[e.viewCount," view",1!==e.viewCount?"s":""]})]}),e.tags&&e.tags.length>0&&(0,ht.jsxs)("div",{className:"flex flex-wrap gap-1 mt-3",children:[e.tags.slice(0,3).map(((e,t)=>(0,ht.jsx)("span",{className:"inline-block bg-purple-100 text-purple-700 px-2 py-1 rounded-full text-xs",children:e},t))),e.tags.length>3&&(0,ht.jsxs)("span",{className:"text-purple-600 text-xs",children:["+",e.tags.length-3," more"]})]})]})]},e._id)}))})]})},uN=e=>{let{pyqs:t}=e;return(0,ht.jsxs)("div",{className:"p-4 md:p-6 bg-white rounded-lg shadow border border-gray-100",children:[(0,ht.jsx)("div",{className:"flex justify-between items-center mb-4 md:mb-6",children:(0,ht.jsx)("h3",{className:"font-medium text-md md:text-lg",children:"Previous Year Questions"})}),0===t.length?(0,ht.jsxs)("div",{className:"bg-gray-50 text-center py-8 md:py-12 rounded-md border border-gray-200",children:[(0,ht.jsx)("div",{className:"text-gray-400 mb-3 md:mb-4",children:(0,ht.jsx)(Lk,{size:36,className:"mx-auto"})}),(0,ht.jsx)("p",{className:"text-gray-700 font-medium mb-2 md:mb-3",children:"No previous year questions available yet"})]}):(0,ht.jsx)("div",{className:"space-y-4",children:t.map((e=>(0,ht.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[(0,ht.jsx)("div",{className:"bg-gray-50 p-3 md:p-4",children:(0,ht.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ht.jsx)("h4",{className:"font-medium text-md md:text-lg text-indigo-700",children:e.source?`${e.source} - ${e.year}`:e.year}),e.difficulty&&(0,ht.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("easy"===e.difficulty?"bg-green-100 text-green-800":"medium"===e.difficulty?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:e.difficulty.charAt(0).toUpperCase()+e.difficulty.slice(1)})]})}),(0,ht.jsxs)("div",{className:"p-3 md:p-4",children:[(0,ht.jsxs)("div",{className:"mb-3",children:[(0,ht.jsx)("h5",{className:"font-medium text-sm md:text-md mb-1",children:"Question:"}),(0,ht.jsx)("p",{className:"text-gray-800",children:e.question})]}),e.answer&&(0,ht.jsxs)("div",{className:"mb-3",children:[(0,ht.jsx)("h5",{className:"font-medium text-sm md:text-md mb-1",children:"Answer:"}),(0,ht.jsx)("p",{className:"text-gray-800",children:e.answer})]}),(0,ht.jsxs)("p",{className:"text-xs text-gray-500",children:["Added on ",new Date(e.createdAt).toLocaleDateString()]})]})]},e._id)))})]})},hN=e=>{let{activeTab:t,summaries:n,videos:r,pyqs:s,objectiveQuestionSets:i,subjectiveQuestionSets:a,activeObjectiveLevelTab:o,setActiveObjectiveLevelTab:l,activeLevelTab:c,setActiveLevelTab:d,selectedObjectiveSet:u,setSelectedObjectiveSet:h,selectedSubjectiveSet:p,setSelectedViewSet:m,itemType:f,getCurrentItemId:g,isWorkbook:x}=e;switch(t){case"summary":return(0,ht.jsx)(oN,{summaries:n});case"objective":return(0,ht.jsx)(lN,{objectiveQuestionSets:i,activeObjectiveLevelTab:o,setActiveObjectiveLevelTab:l,selectedObjectiveSet:u,setSelectedObjectiveSet:h});case"subjective":return(0,ht.jsx)(cN,{subjectiveQuestionSets:a,activeLevelTab:c,setActiveLevelTab:d,selectedSubjectiveSet:p,setSelectedViewSet:m});case"videos":return(0,ht.jsx)(dN,{videos:r});case"pyqs":return(0,ht.jsx)(uN,{pyqs:s});default:return null}},pN=e=>{let{chatOpen:n,setChatOpen:r}=e;const[s,i]=(0,t.useState)(!1),[a,o]=(0,t.useState)([{id:1,text:"Hello! How can I help you with these learning materials?",sender:"bot"}]),[l,c]=(0,t.useState)(""),[d,u]=(0,t.useState)(!1),[h,p]=(0,t.useState)(0),m=()=>{if(!l.trim())return;const e={id:Date.now(),text:l,sender:"user"};o([...a,e]),c(""),setTimeout((()=>{const e={id:Date.now()+1,text:"I'm a demo bot. In the future, this will be connected to a real API for interactive assistance.",sender:"bot"};o((t=>[...t,e]))}),1e3)};return(0,ht.jsxs)(ht.Fragment,{children:[(0,ht.jsx)("button",{onClick:()=>r(!0),className:"fixed bottom-6 right-6 h-16 w-16 rounded-full bg-gradient-to-r from-pink-500 to-purple-600 text-white shadow-lg flex items-center justify-center transition-all hover:shadow-xl hover:transform hover:scale-110 "+(n?"hidden":""),children:(0,ht.jsx)(_t,{size:28})}),n&&(0,ht.jsxs)("div",{className:`fixed ${s?"top-0 bottom-0":"bottom-0 h-1/2"} right-0 left-0 bg-white shadow-lg transition-all duration-300 z-50 flex flex-col`,style:{borderTopLeftRadius:"1rem",borderTopRightRadius:"1rem"},onTouchStart:e=>{u(!0),p(e.touches[0].clientY)},onTouchMove:e=>{if(!d)return;const t=e.touches[0].clientY,n=h-t;n>100&&!s?(i(!0),u(!1)):n<-100&&s&&(i(!1),u(!1))},onTouchEnd:()=>{u(!1)},children:[(0,ht.jsxs)("div",{className:"px-4 py-3 bg-gradient-to-r from-pink-500 to-purple-600 text-white flex justify-between items-center",style:{borderTopLeftRadius:"1rem",borderTopRightRadius:"1rem"},children:[(0,ht.jsx)("div",{className:"flex items-center",children:(0,ht.jsx)("span",{className:"font-medium text-lg",children:"Learning Assistant"})}),(0,ht.jsx)("div",{className:"flex items-center",children:(0,ht.jsx)("button",{onClick:()=>r(!1),className:"ml-2 p-1 rounded-full hover:bg-pink-400 transition",children:(0,ht.jsx)(Ls,{size:20})})})]}),(0,ht.jsx)("div",{className:"flex justify-center py-1 bg-indigo-50",children:(0,ht.jsx)("div",{className:"w-16 h-1 bg-gray-300 rounded"})}),(0,ht.jsx)("div",{className:"flex-1 overflow-auto p-4 space-y-4 bg-gradient-to-b from-purple-50 to-indigo-50",children:a.map((e=>(0,ht.jsx)("div",{className:"flex "+("user"===e.sender?"justify-end":"justify-start"),children:(0,ht.jsx)("div",{className:"rounded-2xl px-4 py-3 max-w-[75%] shadow-sm "+("user"===e.sender?"bg-gradient-to-r from-purple-500 to-indigo-600 text-white":"bg-white text-gray-800 border border-purple-100"),children:e.text})},e.id)))}),(0,ht.jsx)("div",{className:"p-4 border-t border-purple-200 bg-white",children:(0,ht.jsxs)("div",{className:"flex space-x-2",children:[(0,ht.jsx)("input",{type:"text",value:l,onChange:e=>c(e.target.value),onKeyPress:e=>"Enter"===e.key&&m(),placeholder:"Type your message...",className:"flex-1 border border-purple-300 rounded-full px-4 py-3 focus:outline-none focus:ring-2 focus:ring-purple-500 shadow-sm"}),(0,ht.jsx)("button",{onClick:m,className:"bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-full p-3 hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all duration-200 hover:transform hover:scale-105",children:(0,ht.jsx)(Qk,{className:"h-5 w-5"})})]})})]})]})},mN=()=>(0,ht.jsxs)("div",{className:"flex flex-col justify-center items-center h-screen bg-gradient-to-b from-purple-50 to-indigo-50",children:[(0,ht.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-purple-600 mb-4"}),(0,ht.jsx)("p",{className:"text-purple-700 font-medium",children:"Loading amazing content..."})]}),fN=e=>{let{error:t,handleBackClick:n}=e;return(0,ht.jsx)("div",{className:"container mx-auto px-4 py-8 bg-gradient-to-b from-purple-50 to-indigo-50 min-h-screen",children:(0,ht.jsxs)("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-6 shadow-lg",children:[(0,ht.jsx)("h3",{className:"font-medium text-red-800 text-lg mb-2",children:"Oops! Something went wrong"}),(0,ht.jsx)("p",{className:"text-red-700",children:t}),(0,ht.jsx)("button",{onClick:n,className:"mt-4 px-4 py-2 bg-gradient-to-r from-red-500 to-pink-500 text-white rounded-full hover:shadow-lg transition-all duration-200",children:"Go Back"})]})})},gN=()=>{const[e,n]=(0,t.useState)(!0),[r,s]=(0,t.useState)(null),[i,a]=(0,t.useState)(null),[o,l]=(0,t.useState)("summary"),[c,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)(!1),[p,m]=(0,t.useState)([]),[f,g]=(0,t.useState)([]),[x,b]=(0,t.useState)([]),[y,v]=(0,t.useState)({L1:[],L2:[],L3:[]}),[w,j]=(0,t.useState)({L1:[],L2:[],L3:[]}),[k,N]=(0,t.useState)("L1"),[S,C]=(0,t.useState)("L1"),[A,T]=(0,t.useState)(null),[E,P]=(0,t.useState)(null),{bookId:F,workbookId:R,chapterId:D,topicId:M,subtopicId:I}=te(),_=$(),L=Q().pathname.includes("/workbooks/")||Boolean(R),O=L?R:F,z=I?"subtopic":M?"topic":D?"chapter":"book";(0,t.useEffect)((()=>{B()}),[F,R,D,M,I]);const B=async()=>{n(!0),s(null);try{if(!O)throw new Error("No valid book or workbook ID provided");let e="";if("book"===z)e=`/qrcode/book-data/${O}`;else if("chapter"===z&&D)e=`/qrcode/book-data/${O}/chapters/${D}`;else if("topic"===z&&D&&M)e=`/qrcode/book-data/${O}/chapters/${D}/topics/${M}`;else{if(!("subtopic"===z&&D&&M&&I))throw new Error("Invalid URL parameters");e=`/qrcode/book-data/${O}/chapters/${D}/topics/${M}/subtopics/${I}`}const t=await sN(e);"book"===z?a(t.book):"chapter"===z?a(t.chapter):"topic"===z?a(t.topic):"subtopic"===z&&a(t.subtopic),m(t.summaries||[]),g(t.videos||[]),b(t.pyqs||[]);const r=t.objectiveQuestionSets||{L1:[],L2:[],L3:[]},s=t.subjectiveQuestionSets||{L1:[],L2:[],L3:[]};v(r),j(s),n(!1)}catch(e){console.error("Error fetching item details:",e),s(`Error: ${e.message}`),n(!1)}},U=()=>{_(-1)};return e?(0,ht.jsx)(mN,{}):r?(0,ht.jsx)(fN,{error:r,handleBackClick:U}):(0,ht.jsxs)("div",{className:"container mx-auto px-3 md:px-4 py-4 md:py-8 max-w-5xl bg-gradient-to-b from-purple-50 to-indigo-50 min-h-screen",children:[(0,ht.jsx)(nm,{position:"top-right"}),(0,ht.jsx)(iN,{item:i,itemType:z,imageError:c,setImageError:d}),(0,ht.jsxs)("div",{className:"mb-4 md:mb-6",children:[(0,ht.jsx)(aN,{activeTab:o,setActiveTab:l}),(0,ht.jsx)("div",{className:"mt-4 md:mt-6",children:(0,ht.jsx)(hN,{activeTab:o,summaries:p,videos:f,pyqs:x,objectiveQuestionSets:y,subjectiveQuestionSets:w,activeObjectiveLevelTab:k,setActiveObjectiveLevelTab:N,activeLevelTab:S,setActiveLevelTab:C,selectedObjectiveSet:A,setSelectedObjectiveSet:T,selectedSubjectiveSet:E,setSelectedViewSet:P,itemType:z,getCurrentItemId:()=>"subtopic"===z?I:"topic"===z?M:"chapter"===z?D:O,isWorkbook:L})})]}),(0,ht.jsx)(pN,{chatOpen:u,setChatOpen:h})]})},xN=e=>{let{topicId:n,onSetSelect:r}=e;const[s,i]=(0,t.useState)([]),[a,o]=(0,t.useState)(!1),[l,c]=(0,t.useState)(""),[d,u]=(0,t.useState)(null);(0,t.useEffect)((()=>{const e=localStorage.getItem(`aiswb_sets_${n}`);e&&i(JSON.parse(e))}),[n]);const h=e=>{localStorage.setItem(`aiswb_sets_${n}`,JSON.stringify(e)),i(e)};return(0,ht.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ht.jsx)("h2",{className:"text-2xl font-semibold text-gray-800",children:"AISWB Sets"}),(0,ht.jsxs)("button",{onClick:()=>{u(null),c(""),o(!0)},className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[(0,ht.jsx)(zs,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Add New Set"})]})]}),0===s.length?(0,ht.jsx)("div",{className:"text-center py-8",children:(0,ht.jsx)("p",{className:"text-gray-600",children:"No sets created yet"})}):(0,ht.jsx)("div",{className:"space-y-4",children:s.map((e=>(0,ht.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,ht.jsxs)("div",{className:"flex-grow cursor-pointer",onClick:()=>r(e),children:[(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsx)("h3",{className:"text-lg font-medium text-gray-800",children:e.name}),(0,ht.jsx)(jt,{size:20,className:"ml-2 text-gray-500"})]}),(0,ht.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[e.questions.length," questions"]})]}),(0,ht.jsxs)("div",{className:"flex space-x-2",children:[(0,ht.jsx)("button",{onClick:()=>(e=>{const t=s.find((t=>t.id===e));t&&(u(t),c(t.name),o(!0))})(e.id),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-full transition-colors",children:(0,ht.jsx)(Ck,{size:18})}),(0,ht.jsx)("button",{onClick:()=>(e=>{if(window.confirm("Are you sure you want to delete this set? All questions in this set will be deleted.")){const t=s.filter((t=>t.id!==e));h(t),Gp.success("Set deleted successfully")}})(e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-full transition-colors",children:(0,ht.jsx)(qs,{size:18})})]})]},e.id)))}),a&&(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,ht.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,ht.jsx)("h3",{className:"text-xl font-semibold mb-4",children:d?"Edit Set":"Add New Set"}),(0,ht.jsx)("input",{type:"text",value:l,onChange:e=>c(e.target.value),placeholder:"Enter set name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 mb-4"}),(0,ht.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ht.jsx)("button",{onClick:()=>{o(!1),c(""),u(null)},className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),(0,ht.jsx)("button",{onClick:d?()=>{if(!l.trim())return void Gp.error("Please enter a set name");const e=s.map((e=>e.id===d.id?{...e,name:l.trim()}:e));h(e),c(""),o(!1),u(null),Gp.success("Set updated successfully")}:()=>{if(!l.trim())return void Gp.error("Please enter a set name");const e={id:Date.now().toString(),name:l.trim(),questions:[]},t=[...s,e];h(t),c(""),o(!1),Gp.success("Set created successfully")},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:d?"Update":"Create"})]})]})})]})};function bN(e){return $t({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 224h192V32H0v192zM64 96h64v64H64V96zm192-64v192h192V32H256zm128 128h-64V96h64v64zM0 480h192V288H0v192zm64-128h64v64H64v-64zm352-64h32v128h-96v-32h-32v96h-64V288h96v32h64v-32zm0 160h32v32h-32v-32zm-64 0h32v32h-32v-32z"},child:[]}]})(e)}const yN=e=>{let{topicId:n,selectedSet:r,onBack:s}=e;const[i,a]=(0,t.useState)([]),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)(null),[u,h]=(0,t.useState)(!1),[p,m]=(0,t.useState)(null),[f,g]=(0,t.useState)(!1),[x,b]=(0,t.useState)(null),[y,v]=(0,t.useState)(!1),[w,j]=(0,t.useState)(null),k=$();(0,t.useEffect)((()=>{r&&a(r.questions||[])}),[r]);const N=e=>{const t=JSON.parse(localStorage.getItem(`aiswb_sets_${n}`)||"[]").map((t=>t.id===r.id?{...t,questions:e}:t));localStorage.setItem(`aiswb_sets_${n}`,JSON.stringify(t)),a(e)},S=async e=>{v(!0),j(null);try{const t=ut.get("usertoken");if(!t)return void j("Authentication required");const n=await fetch(`https://aipbbackend.onrender.com/api/qrcode/aiswb/questions/${e.id}`,{headers:{Authorization:`Bearer ${t}`}}),r=await n.json();r.success?b(r):j(r.message||"Failed to generate QR code")}catch(w){console.error("Error fetching QR code:",w),j("Failed to connect to the server")}finally{v(!1)}};return(0,ht.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ht.jsxs)("div",{children:[(0,ht.jsxs)("button",{onClick:s,className:"text-gray-600 hover:text-gray-800 mb-2 flex items-center",children:[(0,ht.jsx)(jt,{size:20,className:"transform rotate-180 mr-1"}),"Back to Sets"]}),(0,ht.jsx)("h2",{className:"text-2xl font-semibold text-gray-800",children:null===r||void 0===r?void 0:r.name})]}),(0,ht.jsxs)("button",{onClick:()=>{m(null),l(!0)},className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[(0,ht.jsx)(zs,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Add Question"})]})]}),0===i.length?(0,ht.jsx)("div",{className:"text-center py-8",children:(0,ht.jsx)("p",{className:"text-gray-600",children:"No questions in this set yet"})}):(0,ht.jsx)("div",{className:"space-y-4",children:i.map((e=>(0,ht.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,ht.jsxs)("div",{className:"flex-grow",children:[(0,ht.jsx)("h3",{className:"text-lg font-medium text-gray-800",children:e.question}),(0,ht.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Difficulty: ",e.metadata.difficultyLevel," | Word Limit: ",e.metadata.wordLimit," | Marks: ",e.metadata.maximumMarks]})]}),(0,ht.jsxs)("div",{className:"flex space-x-2",children:[(0,ht.jsx)("button",{onClick:()=>(e=>{d(e),h(!0)})(e),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-full transition-colors",title:"View Question",children:(0,ht.jsx)(Bs,{size:18})}),(0,ht.jsx)("button",{onClick:()=>(e=>{m(e),l(!0)})(e),className:"p-2 text-green-600 hover:bg-green-50 rounded-full transition-colors",title:"Edit Question",children:(0,ht.jsx)(Ck,{size:18})}),(0,ht.jsx)("button",{onClick:()=>(e=>{if(window.confirm("Are you sure you want to delete this question?")){const t=i.filter((t=>t.id!==e));N(t),Gp.success("Question deleted successfully")}})(e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-full transition-colors",title:"Delete Question",children:(0,ht.jsx)(qs,{size:18})}),(0,ht.jsx)("button",{onClick:()=>(async e=>{d(e),g(!0),await S(e)})(e),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-full transition-colors",title:"View QR Code",children:(0,ht.jsx)(bN,{size:18})}),(0,ht.jsx)("button",{onClick:()=>(e=>{k(`/assessment-dashboard/${n}/${r.id}/${e.id}`)})(e),className:"p-2 text-purple-600 hover:bg-purple-50 rounded-full transition-colors",title:"View Submissions",children:(0,ht.jsx)(Dt,{size:18})})]})]},e.id)))}),o&&(0,ht.jsx)(ik,{isOpen:o,onClose:()=>{l(!1),m(null)},onAddQuestion:e=>{const t=[...i,{...e,id:Date.now().toString()}];N(t),Gp.success("Question added successfully")},onEditQuestion:e=>{const t=i.map((t=>t.id===e.id?e:t));N(t),Gp.success("Question updated successfully"),m(null)},editingQuestion:p}),u&&c&&(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,ht.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ht.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:"Question Details"}),(0,ht.jsx)("button",{onClick:()=>h(!1),className:"text-gray-500 hover:text-gray-700",children:(0,ht.jsx)(Ls,{size:24})})]}),(0,ht.jsxs)("div",{className:"space-y-6",children:[(0,ht.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100",children:[(0,ht.jsx)("h4",{className:"text-lg font-semibold text-blue-800 mb-2",children:"Question"}),(0,ht.jsx)("p",{className:"text-gray-800",children:c.question})]}),(0,ht.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-100",children:[(0,ht.jsx)("h4",{className:"text-lg font-semibold text-purple-800 mb-3",children:"Question Metadata"}),(0,ht.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ht.jsxs)("div",{children:[(0,ht.jsx)("p",{className:"text-sm font-medium text-purple-700",children:"Difficulty Level"}),(0,ht.jsx)("p",{className:"text-gray-800",children:c.metadata.difficultyLevel})]}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("p",{className:"text-sm font-medium text-purple-700",children:"Word Limit"}),(0,ht.jsx)("p",{className:"text-gray-800",children:c.metadata.wordLimit})]}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("p",{className:"text-sm font-medium text-purple-700",children:"Estimated Time"}),(0,ht.jsxs)("p",{className:"text-gray-800",children:[c.metadata.estimatedTime," minutes"]})]}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("p",{className:"text-sm font-medium text-purple-700",children:"Maximum Marks"}),(0,ht.jsx)("p",{className:"text-gray-800",children:c.metadata.maximumMarks})]}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("p",{className:"text-sm font-medium text-purple-700",children:"Language Mode"}),(0,ht.jsx)("p",{className:"text-gray-800",children:"english"===c.languageMode?"English":"hindi"===c.languageMode?"Hindi":"Both (English & Hindi)"})]}),(0,ht.jsxs)("div",{className:"col-span-2",children:[(0,ht.jsx)("p",{className:"text-sm font-medium text-purple-700",children:"Keywords"}),(0,ht.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:(Array.isArray(c.metadata.keywords)?c.metadata.keywords:c.metadata.keywords.split(",")).map(((e,t)=>(0,ht.jsx)("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 rounded-full text-sm",children:e.trim()},t)))})]})]})]}),(0,ht.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg border border-green-100",children:[(0,ht.jsx)("h4",{className:"text-lg font-semibold text-green-800 mb-3",children:"Quality Parameters"}),(0,ht.jsxs)("div",{className:"space-y-2",children:[(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsx)("span",{className:"w-3 h-3 rounded-full mr-2 "+(c.metadata.qualityParameters.intro?"bg-green-500":"bg-gray-300")}),(0,ht.jsx)("span",{className:"text-gray-800",children:"Introduction"})]}),(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsx)("span",{className:"w-3 h-3 rounded-full mr-2 "+(c.metadata.qualityParameters.body.enabled?"bg-green-500":"bg-gray-300")}),(0,ht.jsx)("span",{className:"text-gray-800",children:"Body"}),c.metadata.qualityParameters.body.enabled&&(0,ht.jsxs)("div",{className:"ml-6 space-y-1",children:[(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsx)("span",{className:"w-2 h-2 rounded-full mr-2 "+(c.metadata.qualityParameters.body.features?"bg-green-500":"bg-gray-300")}),(0,ht.jsx)("span",{className:"text-gray-800",children:"Features"})]}),(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsx)("span",{className:"w-2 h-2 rounded-full mr-2 "+(c.metadata.qualityParameters.body.examples?"bg-green-500":"bg-gray-300")}),(0,ht.jsx)("span",{className:"text-gray-800",children:"Examples"})]}),(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsx)("span",{className:"w-2 h-2 rounded-full mr-2 "+(c.metadata.qualityParameters.body.facts?"bg-green-500":"bg-gray-300")}),(0,ht.jsx)("span",{className:"text-gray-800",children:"Facts"})]}),(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsx)("span",{className:"w-2 h-2 rounded-full mr-2 "+(c.metadata.qualityParameters.body.diagram?"bg-green-500":"bg-gray-300")}),(0,ht.jsx)("span",{className:"text-gray-800",children:"Diagram"})]})]})]}),(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsx)("span",{className:"w-3 h-3 rounded-full mr-2 "+(c.metadata.qualityParameters.conclusion?"bg-green-500":"bg-gray-300")}),(0,ht.jsx)("span",{className:"text-gray-800",children:"Conclusion"})]})]})]}),(0,ht.jsxs)("div",{className:"bg-indigo-50 p-4 rounded-lg border border-indigo-100",children:[(0,ht.jsx)("h4",{className:"text-lg font-semibold text-indigo-800 mb-2",children:"Detailed Answer"}),(0,ht.jsx)("div",{className:"prose max-w-none bg-white p-4 rounded-lg",dangerouslySetInnerHTML:{__html:c.detailedAnswer.includes("<")?c.detailedAnswer:c.detailedAnswer.replace(/\n/g,"<br/>")}})]}),(0,ht.jsxs)("div",{className:"bg-teal-50 p-4 rounded-lg border border-teal-100",children:[(0,ht.jsx)("h4",{className:"text-lg font-semibold text-teal-800 mb-2",children:"Modal Answer"}),(0,ht.jsx)("div",{className:"prose max-w-none bg-white p-4 rounded-lg",dangerouslySetInnerHTML:{__html:c.modalAnswer.includes("<")?c.modalAnswer:c.modalAnswer.replace(/\n/g,"<br/>")}})]})]})]})}),f&&c&&(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,ht.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,ht.jsx)("h3",{className:"text-lg font-medium",children:"Question QR Code"}),(0,ht.jsx)("button",{onClick:()=>{g(!1),b(null)},className:"text-gray-500 hover:text-gray-700",children:(0,ht.jsx)(Ls,{size:20})})]}),(0,ht.jsxs)("div",{className:"flex flex-col items-center",children:[y?(0,ht.jsx)("div",{className:"bg-gray-100 rounded-lg h-64 w-64 flex items-center justify-center",children:(0,ht.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-indigo-600"})}):w?(0,ht.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 w-full",children:[(0,ht.jsx)("p",{className:"text-red-600 text-center",children:w}),(0,ht.jsx)("button",{onClick:()=>S(c),className:"mt-3 text-indigo-600 hover:text-indigo-800 mx-auto block",children:"Try Again"})]}):null!==x&&void 0!==x&&x.qrCodeDataURL?(0,ht.jsx)("div",{className:"border border-gray-200 p-4 rounded-lg shadow-sm",children:(0,ht.jsx)("img",{src:x.qrCodeDataURL,alt:"Question QR Code",className:"h-64 w-64 object-contain"})}):null,(0,ht.jsxs)("button",{onClick:()=>{if(null===x||void 0===x||!x.qrCodeDataURL)return;const e=document.createElement("a");e.href=x.qrCodeDataURL,e.download=`question-${c.id}-qrcode.png`,document.body.appendChild(e),e.click(),document.body.removeChild(e),Gp.success("QR code downloaded successfully!")},disabled:!(null!==x&&void 0!==x&&x.qrCodeDataURL)||y,className:"mt-4 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors flex items-center disabled:bg-indigo-300",children:[(0,ht.jsx)(_j,{size:16,className:"mr-2"}),"Download QR Code"]})]})]})})]})},vN=e=>{let{topicId:n}=e;const[r,s]=(0,t.useState)(null);return(0,ht.jsx)("div",{className:"container mx-auto px-4 py-8",children:r?(0,ht.jsx)(yN,{topicId:n,selectedSet:r,onBack:()=>{s(null)}}):(0,ht.jsx)(xN,{topicId:n,onSetSelect:e=>{s(e)}})})},wN=()=>{const{bookId:e,workbookId:t,chapterId:n,topicId:r}=te(),s=$(),i=window.location.pathname.includes("/ai-workbook/");return(0,ht.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,ht.jsx)("div",{className:"flex items-center mb-4",children:(0,ht.jsxs)("button",{onClick:()=>{s(i?`/ai-workbook/${t}/chapters/${n}/topics/${r}`:`/ai-books/${e}/chapters/${n}/topics/${r}`)},className:"flex items-center text-indigo-600 hover:text-indigo-800 transition-colors",children:[(0,ht.jsx)(hm,{size:18,className:"mr-1"}),(0,ht.jsx)("span",{children:"Back to Topic"})]})}),(0,ht.jsxs)("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 p-6",children:[(0,ht.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,ht.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"AISWB Management"})}),(0,ht.jsx)(vN,{topicId:r})]})]})},jN=vt("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),kN=vt("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),NN=e=>{let{isOpen:n,onClose:r,onEvaluationComplete:s,submission:i,question:a}=e;const[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)(0),u=e=>{const t=e.split("\n"),n={accuracy:0,strengths:[],weaknesses:[],suggestions:[],marks:0,feedback:""};let r="";return t.forEach((e=>{if(e=e.trim())if(e.startsWith("ACCURACY:"))n.accuracy=parseInt(e.replace("ACCURACY:","").trim());else if("STRENGTHS:"===e)r="strengths";else if("WEAKNESSES:"===e)r="weaknesses";else if("SUGGESTIONS:"===e)r="suggestions";else if(e.startsWith("MARKS:"))n.marks=parseInt(e.replace("MARKS:","").trim());else if(e.startsWith("FEEDBACK:"))n.feedback=e.replace("FEEDBACK:","").trim();else if(e.startsWith("- ")){const t=e.substring(2).trim();"strengths"===r?n.strengths.push(t):"weaknesses"===r?n.weaknesses.push(t):"suggestions"===r&&n.suggestions.push(t)}})),n};return n?(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,ht.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,ht.jsxs)("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[(0,ht.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Evaluate Answer"}),(0,ht.jsx)("button",{onClick:r,className:"text-gray-500 hover:text-gray-700 transition-colors",disabled:o,children:(0,ht.jsx)(Ls,{size:24})})]}),(0,ht.jsxs)("div",{className:"p-6",children:[(0,ht.jsxs)("div",{className:"mb-6",children:[(0,ht.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Question"}),(0,ht.jsx)("p",{className:"text-gray-700",children:a.question})]}),(0,ht.jsxs)("div",{className:"mb-6",children:[(0,ht.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Student's Answer Images"}),(0,ht.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:i.answerImages.map(((e,t)=>(0,ht.jsx)("div",{className:"relative aspect-[4/3] bg-gray-100 rounded-lg overflow-hidden cursor-pointer hover:opacity-90 transition-opacity",children:(0,ht.jsx)("img",{src:e,alt:`Answer image ${t+1}`,className:"w-full h-full object-cover"})},t)))})]}),o?(0,ht.jsxs)("div",{className:"text-center py-8",children:[(0,ht.jsx)(ap,{className:"w-8 h-8 animate-spin text-indigo-600 mx-auto mb-4"}),(0,ht.jsx)("p",{className:"text-gray-700 mb-2",children:"Evaluating answer..."}),(0,ht.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:(0,ht.jsx)("div",{className:"bg-indigo-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${c}%`}})}),(0,ht.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:[c,"% complete"]})]}):(0,ht.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,ht.jsx)("button",{onClick:r,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"}),(0,ht.jsxs)("button",{onClick:async()=>{l(!0),d(0);try{const e=setInterval((()=>{d((t=>t>=90?(clearInterval(e),t):t+10))}),500),t=(()=>{let e="Evaluate the following answer for the given question:\n\n";return e+=`Question: ${a.question}\n\n`,e+=`Answer Images: ${i.answerImages.join(", ")}\n\n`,e+="Please provide a detailed evaluation including:\n",e+="1. Accuracy assessment (percentage)\n",e+="2. Key strengths of the answer\n",e+="3. Areas for improvement\n",e+="4. Specific suggestions for better answers\n",e+=`5. Recommended marks out of ${a.metadata.maximumMarks}\n\n`,e+="Format your response as follows:\n",e+="ACCURACY: [percentage]\n",e+="STRENGTHS:\n- [strength 1]\n- [strength 2]\n...\n",e+="WEAKNESSES:\n- [weakness 1]\n- [weakness 2]\n...\n",e+="SUGGESTIONS:\n- [suggestion 1]\n- [suggestion 2]\n...\n",e+="MARKS: [number]\n",e+="FEEDBACK: [detailed feedback]\n",e})(),n=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=AIzaSyCCWtRX--NYoiootIlwWgg28s7n2VCfzDo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:t}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:2048}})});if(!n.ok)throw new Error("Failed to evaluate answer");const r=(await n.json()).candidates[0].content.parts[0].text,o=u(r);clearInterval(e),d(100),s(o)}catch(hf){console.error("Error evaluating answer:",hf),Gp.error("Failed to evaluate answer. Please try again.")}finally{l(!1)}},className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors flex items-center",children:[(0,ht.jsx)(rk,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Start Evaluation"})]})]})]})]})}):null},SN=()=>{const{topicId:e,setId:n,questionId:r}=te(),[s,i]=(0,t.useState)("submitted"),[a,o]=(0,t.useState)(null),[l,c]=(0,t.useState)([]),[d,u]=(0,t.useState)(!0),[h,p]=(0,t.useState)(null),[m,f]=(0,t.useState)(!1),[g,x]=(0,t.useState)(null),[b,y]=(0,t.useState)(null),v=$();(0,t.useEffect)((()=>{(()=>{try{const t=JSON.parse(localStorage.getItem(`aiswb_sets_${e}`)||"[]").find((e=>e.id===n));if(!t)return void p("Set not found");const s=t.questions.find((e=>e.id===r));if(!s)return void p("Question not found");o(s);const i=[{id:"1",studentName:"John Doe",submittedAt:new Date(Date.now()-864e5).toISOString(),status:"submitted",answerImages:["https://example.com/answer1.jpg","https://example.com/answer2.jpg"],marks:null,feedback:null,geminiAnalysis:null},{id:"2",studentName:"Jane Smith",submittedAt:new Date(Date.now()-1728e5).toISOString(),status:"submitted",answerImages:["https://example.com/answer3.jpg"],marks:null,feedback:null,geminiAnalysis:null},{id:"3",studentName:"Alex Johnson",submittedAt:new Date(Date.now()-2592e5).toISOString(),status:"evaluated",answerImages:["https://example.com/answer4.jpg","https://example.com/answer5.jpg"],marks:8,feedback:"Good attempt with clear diagrams",geminiAnalysis:{accuracy:85,strengths:["Clear diagrams","Good understanding of concepts"],weaknesses:["Could improve explanation"],suggestions:["Add more examples","Explain steps in detail"]}}];c(i)}catch(h){console.error("Error fetching question details:",h),p("Failed to load question details")}finally{u(!1)}})()}),[e,n,r]);const w=()=>{v(-1)},j=e=>{i(e)},k=()=>{y(null)},N=l.filter((e=>e.status===s));return d?(0,ht.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,ht.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-indigo-600"})}):h?(0,ht.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,ht.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[(0,ht.jsx)("h3",{className:"text-red-800 font-medium",children:"Error"}),(0,ht.jsx)("p",{className:"text-red-700",children:h}),(0,ht.jsxs)("button",{onClick:w,className:"mt-4 text-indigo-600 hover:text-indigo-800 flex items-center",children:[(0,ht.jsx)(hm,{size:16,className:"mr-1"}),(0,ht.jsx)("span",{children:"Go back"})]})]})}):(0,ht.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,ht.jsx)(nm,{position:"top-right",autoClose:3e3}),(0,ht.jsx)("div",{className:"flex items-center mb-4",children:(0,ht.jsxs)("button",{onClick:w,className:"flex items-center text-indigo-600 hover:text-indigo-800 transition-colors",children:[(0,ht.jsx)(hm,{size:18,className:"mr-1"}),(0,ht.jsx)("span",{children:"Back to Questions"})]})}),(0,ht.jsxs)("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 p-6 mb-8",children:[(0,ht.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Assessment Dashboard"}),(0,ht.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[(0,ht.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Question"}),(0,ht.jsx)("p",{className:"text-gray-800",children:null===a||void 0===a?void 0:a.question}),(0,ht.jsxs)("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ht.jsxs)("div",{className:"bg-white p-3 rounded-lg border border-gray-200",children:[(0,ht.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Difficulty"}),(0,ht.jsx)("p",{className:"text-gray-800 capitalize",children:null===a||void 0===a?void 0:a.metadata.difficultyLevel})]}),(0,ht.jsxs)("div",{className:"bg-white p-3 rounded-lg border border-gray-200",children:[(0,ht.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Word Limit"}),(0,ht.jsxs)("p",{className:"text-gray-800",children:[null===a||void 0===a?void 0:a.metadata.wordLimit," words"]})]}),(0,ht.jsxs)("div",{className:"bg-white p-3 rounded-lg border border-gray-200",children:[(0,ht.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Maximum Marks"}),(0,ht.jsxs)("p",{className:"text-gray-800",children:[null===a||void 0===a?void 0:a.metadata.maximumMarks," marks"]})]})]})]}),(0,ht.jsx)("div",{className:"mb-6",children:(0,ht.jsx)("div",{className:"border-b border-gray-200",children:(0,ht.jsxs)("nav",{className:"flex -mb-px",children:[(0,ht.jsx)("button",{onClick:()=>j("submitted"),className:"py-4 px-6 text-sm font-medium "+("submitted"===s?"border-b-2 border-indigo-500 text-indigo-600":"text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsx)(Dk,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Submitted"})]})}),(0,ht.jsx)("button",{onClick:()=>j("evaluated"),className:"py-4 px-6 text-sm font-medium "+("evaluated"===s?"border-b-2 border-green-500 text-green-600":"text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsx)(jN,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Evaluated"})]})}),(0,ht.jsx)("button",{onClick:()=>j("review"),className:"py-4 px-6 text-sm font-medium "+("review"===s?"border-b-2 border-yellow-500 text-yellow-600":"text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsx)(gp,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Review"})]})}),(0,ht.jsx)("button",{onClick:()=>j("rejected"),className:"py-4 px-6 text-sm font-medium "+("rejected"===s?"border-b-2 border-red-500 text-red-600":"text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:(0,ht.jsxs)("div",{className:"flex items-center",children:[(0,ht.jsx)(kN,{size:16,className:"mr-2"}),(0,ht.jsx)("span",{children:"Rejected"})]})})]})})}),(0,ht.jsx)("div",{children:0===N.length?(0,ht.jsx)("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:(0,ht.jsxs)("p",{className:"text-gray-500",children:["No ",s," submissions found"]})}):(0,ht.jsx)("div",{className:"space-y-4",children:N.map((e=>{return(0,ht.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,ht.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,ht.jsxs)("div",{children:[(0,ht.jsx)("h3",{className:"font-medium text-gray-800",children:e.studentName}),(0,ht.jsxs)("p",{className:"text-sm text-gray-500",children:["Submitted: ",(t=e.submittedAt,new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))]})]}),(0,ht.jsxs)("div",{className:"flex items-center space-x-2",children:["submitted"===s&&(0,ht.jsxs)(ht.Fragment,{children:[(0,ht.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:"Pending Evaluation"}),(0,ht.jsxs)("button",{onClick:()=>(e=>{x(e),f(!0)})(e),className:"px-3 py-1 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors text-sm flex items-center",children:[(0,ht.jsx)(rk,{size:14,className:"mr-1"}),(0,ht.jsx)("span",{children:"Evaluate"})]})]}),"evaluated"===s&&(0,ht.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium",children:"Evaluated"}),"review"===s&&(0,ht.jsx)("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-medium",children:"Under Review"}),"rejected"===s&&(0,ht.jsx)("span",{className:"px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs font-medium",children:"Rejected"})]})]}),(0,ht.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:[(0,ht.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Student Answer Images"}),(0,ht.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:e.answerImages.map(((e,t)=>(0,ht.jsxs)("div",{className:"relative aspect-[4/3] bg-gray-100 rounded-lg overflow-hidden cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>(e=>{y(e)})(e),children:[(0,ht.jsx)("img",{src:e,alt:`Answer image ${t+1}`,className:"w-full h-full object-cover"}),(0,ht.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 hover:bg-opacity-10 transition-opacity flex items-center justify-center",children:(0,ht.jsx)(Fs,{className:"w-6 h-6 text-white opacity-0 hover:opacity-100 transition-opacity"})})]},t)))})]}),e.geminiAnalysis&&(0,ht.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg mb-4",children:[(0,ht.jsx)("h4",{className:"text-sm font-medium text-purple-700 mb-2",children:"Gemini Analysis"}),(0,ht.jsxs)("div",{className:"space-y-3",children:[(0,ht.jsxs)("div",{children:[(0,ht.jsx)("span",{className:"text-sm font-medium text-purple-700",children:"Accuracy:"}),(0,ht.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mt-1",children:(0,ht.jsx)("div",{className:"bg-purple-600 h-2.5 rounded-full",style:{width:`${e.geminiAnalysis.accuracy}%`}})}),(0,ht.jsxs)("span",{className:"text-sm text-purple-700",children:[e.geminiAnalysis.accuracy,"%"]})]}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("span",{className:"text-sm font-medium text-purple-700",children:"Strengths:"}),(0,ht.jsx)("ul",{className:"list-disc list-inside text-sm text-purple-800 mt-1",children:e.geminiAnalysis.strengths.map(((e,t)=>(0,ht.jsx)("li",{children:e},t)))})]}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("span",{className:"text-sm font-medium text-purple-700",children:"Areas for Improvement:"}),(0,ht.jsx)("ul",{className:"list-disc list-inside text-sm text-purple-800 mt-1",children:e.geminiAnalysis.weaknesses.map(((e,t)=>(0,ht.jsx)("li",{children:e},t)))})]}),(0,ht.jsxs)("div",{children:[(0,ht.jsx)("span",{className:"text-sm font-medium text-purple-700",children:"Suggestions:"}),(0,ht.jsx)("ul",{className:"list-disc list-inside text-sm text-purple-800 mt-1",children:e.geminiAnalysis.suggestions.map(((e,t)=>(0,ht.jsx)("li",{children:e},t)))})]})]})]}),"evaluated"===s&&(0,ht.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ht.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,ht.jsx)("h4",{className:"text-sm font-medium text-green-700 mb-2",children:"Marks Awarded"}),(0,ht.jsxs)("p",{className:"text-green-800 font-medium",children:[e.marks," / ",a.metadata.maximumMarks]})]}),(0,ht.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,ht.jsx)("h4",{className:"text-sm font-medium text-blue-700 mb-2",children:"Feedback"}),(0,ht.jsx)("p",{className:"text-blue-800",children:e.feedback||"No feedback provided"})]})]})]},e.id);var t}))})})]}),b&&(0,ht.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:k,children:(0,ht.jsxs)("div",{className:"relative max-w-4xl w-full max-h-[90vh] bg-white rounded-lg overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,ht.jsx)("button",{onClick:k,className:"absolute top-4 right-4 text-white bg-black bg-opacity-50 rounded-full p-2 hover:bg-opacity-75 transition-opacity z-10",children:(0,ht.jsx)(Ls,{size:24})}),(0,ht.jsx)("img",{src:b,alt:"Full size answer",className:"w-full h-full object-contain"})]})}),m&&g&&(0,ht.jsx)(NN,{isOpen:m,onClose:()=>f(!1),onEvaluationComplete:e=>{c((t=>t.map((t=>t.id===g.id?{...t,status:"evaluated",marks:e.marks,feedback:e.feedback,geminiAnalysis:{accuracy:e.accuracy,strengths:e.strengths,weaknesses:e.weaknesses,suggestions:e.suggestions}}:t)))),f(!1),Gp.success("Evaluation completed successfully!")},submission:g,question:a})]})},CN=()=>{const[e,n]=(0,t.useState)(!1),[r,s]=(0,t.useState)(null),[i,a]=(0,t.useState)(!0),o=$();(0,t.useEffect)((()=>{(async()=>{const e=ut.get("usertoken"),t=ut.get("user");if(e)try{if(t){const e=JSON.parse(t);n(!0),s(e.role)}const r=await fetch("https://aipbbackend.onrender.com/api/auth/validate",{headers:{Authorization:`Bearer ${e}`}}),i=await r.json();if(!i.success)throw new Error("Invalid token");n(!0),s(i.role),ut.set("user",JSON.stringify({role:i.role,name:i.name||(t?JSON.parse(t).name:"")}),{expires:7})}catch(hf){console.error("Error validating token:",hf),l()}else n(!1),s(null);a(!1)})()}),[]);const l=()=>{ut.remove("usertoken",{path:"/"}),ut.remove("user",{path:"/"}),n(!1),s(null),a(!1)},c=e=>{n(!0),s(e),console.log(`Auth success: role=${e}`)};return i?(0,ht.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,ht.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600"})}):(0,ht.jsx)("div",{className:"app-container",children:(0,ht.jsxs)(ve,{children:[(0,ht.jsx)(be,{path:"/book-viewer/:bookId",element:(0,ht.jsx)(eN,{})}),(0,ht.jsx)(be,{path:"/book-viewer/:bookId/chapters/:chapterId",element:(0,ht.jsx)(tN,{})}),(0,ht.jsx)(be,{path:"/book-viewer/:bookId/chapters/:chapterId/topics/:topicId",element:(0,ht.jsx)(nN,{})}),(0,ht.jsx)(be,{path:"/book-viewer/:bookId/chapters/:chapterId/topics/:topicId/subtopics/:subtopicId",element:(0,ht.jsx)(rN,{})}),(0,ht.jsx)(be,{path:"/mobile-asset-view/:bookId",element:(0,ht.jsx)(gN,{})}),(0,ht.jsx)(be,{path:"/mobile-asset-view/:bookId/chapters/:chapterId",element:(0,ht.jsx)(gN,{})}),(0,ht.jsx)(be,{path:"/mobile-asset-view/:bookId/chapters/:chapterId/topics/:topicId",element:(0,ht.jsx)(gN,{})}),(0,ht.jsx)(be,{path:"/mobile-asset-view/:bookId/chapters/:chapterId/topics/:topicId/subtopics/:subtopicId",element:(0,ht.jsx)(gN,{})}),(0,ht.jsx)(be,{path:"/mobile-asset-view/workbooks/:workbookId",element:(0,ht.jsx)(gN,{})}),(0,ht.jsx)(be,{path:"/mobile-asset-view/workbooks/:workbookId/chapters/:chapterId",element:(0,ht.jsx)(gN,{})}),(0,ht.jsx)(be,{path:"/mobile-asset-view/workbooks/:workbookId/chapters/:chapterId/topics/:topicId",element:(0,ht.jsx)(gN,{})}),(0,ht.jsx)(be,{path:"/mobile-asset-view/workbooks/:workbookId/chapters/:chapterId/topics/:topicId/subtopics/:subtopicId",element:(0,ht.jsx)(gN,{})}),(0,ht.jsx)(be,{path:"/",element:e?(0,ht.jsx)(ge,{to:"/dashboard",replace:!0}):(0,ht.jsx)(dp,{})}),(0,ht.jsx)(be,{path:"/auth",element:e?(0,ht.jsx)(ge,{to:"/dashboard",replace:!0}):(0,ht.jsx)(pp,{onAuthSuccess:c})}),(0,ht.jsx)(be,{path:"/role-selection",element:e||ut.get("usertoken")?(0,ht.jsx)(mp,{onAuthSuccess:c}):(0,ht.jsx)(ge,{to:"/auth",replace:!0})}),e?(0,ht.jsxs)(be,{element:(0,ht.jsx)(Vt,{onLogout:()=>{l(),o("/auth")},userRole:r}),children:[(0,ht.jsx)(be,{path:"/dashboard",element:"client"===r?(0,ht.jsx)(fp,{}):(0,ht.jsx)(Xk,{})}),"client"===r&&(0,ht.jsxs)(ht.Fragment,{children:[(0,ht.jsx)(be,{path:"/ai-books",element:(0,ht.jsx)(am,{})}),(0,ht.jsx)(be,{path:"/ai-books/:bookId",element:(0,ht.jsx)(Wj,{})}),(0,ht.jsx)(be,{path:"/ai-books/:bookId/chapters/:chapterId",element:(0,ht.jsx)(tk,{})}),(0,ht.jsx)(be,{path:"/ai-books/:bookId/chapters/:chapterId/topics/:topicId",element:(0,ht.jsx)(uk,{})}),(0,ht.jsx)(be,{path:"/ai-books/:bookId/chapters/:chapterId/topics/:topicId/subtopics/:subtopicId",element:(0,ht.jsx)(fk,{})}),(0,ht.jsx)(be,{path:"/ai-books/:bookId/chapters/:chapterId/topics/:topicId/aiswb",element:(0,ht.jsx)(wN,{})}),(0,ht.jsx)(be,{path:"/assessment-dashboard/:topicId/:setId/:questionId",element:(0,ht.jsx)(SN,{})}),(0,ht.jsx)(be,{path:"/ai-workbook",element:(0,ht.jsx)(dm,{})}),(0,ht.jsx)(be,{path:"/ai-workbook/:workbookId",element:(0,ht.jsx)(Yj,{})}),(0,ht.jsx)(be,{path:"/ai-workbook/:workbookId/chapters/:chapterId",element:(0,ht.jsx)(tk,{})}),(0,ht.jsx)(be,{path:"/ai-workbook/:workbookId/chapters/:chapterId/topics/:topicId",element:(0,ht.jsx)(uk,{})}),(0,ht.jsx)(be,{path:"/ai-workbook/:workbookId/chapters/:chapterId/topics/:topicId/subtopics/:subtopicId",element:(0,ht.jsx)(fk,{})}),(0,ht.jsx)(be,{path:"/ai-workbook/:workbookId/chapters/:chapterId/topics/:topicId/aiswb",element:(0,ht.jsx)(wN,{})}),(0,ht.jsx)(be,{path:"/ai-workbook/:workbookId/datastore",element:(0,ht.jsx)(Hk,{type:"workbook"})}),(0,ht.jsx)(be,{path:"/ai-workbook/:workbookId/chapters/:chapterId/datastore",element:(0,ht.jsx)(Hk,{type:"workbook-chapter"})}),(0,ht.jsx)(be,{path:"/ai-workbook/:workbookId/chapters/:chapterId/topics/:topicId/datastore",element:(0,ht.jsx)(Hk,{type:"workbook-topic"})}),(0,ht.jsx)(be,{path:"/ai-workbook/:workbookId/chapters/:chapterId/topics/:topicId/subtopics/:subtopicId/datastore",element:(0,ht.jsx)(Hk,{type:"workbook-subtopic"})}),(0,ht.jsx)(be,{path:"/datastore",element:(0,ht.jsx)(Qh,{})}),(0,ht.jsx)(be,{path:"/datastores",element:(0,ht.jsx)(Hk,{})}),(0,ht.jsx)(be,{path:"/datastores/book/:id/items",element:(0,ht.jsx)(Kk,{})}),(0,ht.jsx)(be,{path:"/ai-books/:bookId/datastore",element:(0,ht.jsx)(Hk,{type:"book"})}),(0,ht.jsx)(be,{path:"/ai-books/:bookId/chapters/:chapterId/datastore",element:(0,ht.jsx)(Hk,{type:"chapter"})}),(0,ht.jsx)(be,{path:"/ai-books/:bookId/chapters/:chapterId/topics/:topicId/datastore",element:(0,ht.jsx)(Hk,{type:"topic"})}),(0,ht.jsx)(be,{path:"/ai-books/:bookId/chapters/:chapterId/topics/:topicId/subtopics/:subtopicId/datastore",element:(0,ht.jsx)(Hk,{type:"subtopic"})}),(0,ht.jsx)(be,{path:"/ai-books/:bookId/assets",element:(0,ht.jsx)(Vk,{})}),(0,ht.jsx)(be,{path:"/ai-books/:bookId/chapters/:chapterId/assets",element:(0,ht.jsx)(Vk,{})}),(0,ht.jsx)(be,{path:"/ai-books/:bookId/chapters/:chapterId/topics/:topicId/assets",element:(0,ht.jsx)(Vk,{})}),(0,ht.jsx)(be,{path:"/ai-books/:bookId/chapters/:chapterId/topics/:topicId/subtopics/:subtopicId/assets",element:(0,ht.jsx)(Vk,{})}),(0,ht.jsx)(be,{path:"/ai-workbook/:workbookId/assets",element:(0,ht.jsx)(Vk,{})}),(0,ht.jsx)(be,{path:"/ai-workbook/:workbookId/chapters/:chapterId/assets",element:(0,ht.jsx)(Vk,{})}),(0,ht.jsx)(be,{path:"/ai-workbook/:workbookId/chapters/:chapterId/topics/:topicId/assets",element:(0,ht.jsx)(Vk,{})}),(0,ht.jsx)(be,{path:"/ai-workbook/:workbookId/chapters/:chapterId/topics/:topicId/subtopics/:subtopicId/assets",element:(0,ht.jsx)(Vk,{})}),(0,ht.jsx)(be,{path:"/chat/:id",element:(0,ht.jsx)(Jk,{})})]}),"user"===r&&(0,ht.jsx)(ht.Fragment,{children:(0,ht.jsx)(be,{path:"/home",element:(0,ht.jsx)(Xk,{})})})]}):(0,ht.jsx)(be,{path:"*",element:(0,ht.jsx)(ge,{to:"/auth",replace:!0})})]})})},AN=()=>((0,t.useEffect)((()=>{const e=ut.get("usertoken"),t=ut.get("admintoken");console.log("User/Client token:",e),console.log("Admin token:",t)})),(0,ht.jsx)(tt,{children:(0,ht.jsxs)(ve,{children:[(0,ht.jsx)(be,{path:"/*",element:(0,ht.jsx)(CN,{})}),(0,ht.jsx)(be,{path:"/admin/*",element:(0,ht.jsx)(cp,{})}),(0,ht.jsx)(be,{path:"*",element:(0,ht.jsx)(ge,{to:"/",replace:!0})})]})})),TN=e=>{e&&e instanceof Function&&__webpack_require__.e(453).then(__webpack_require__.bind(__webpack_require__,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:s,getLCP:i,getTTFB:a}=t;n(e),r(e),s(e),i(e),a(e)}))};n.createRoot(document.getElementById("root")).render((0,ht.jsx)(t.StrictMode,{children:(0,ht.jsx)(AN,{})})),TN()})()})();
//# sourceMappingURL=main.002cffc3.js.map